<!DOCTYPE html>
<html lang="nb" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Hugo 0.30.2">
    <meta name="description" content="Dokumentasjon for samtykkeløsningen i Altinn">
    <title>
      Samtykke :: Altinn dokumentasjon
    </title>
    <link rel="shortcut icon" href="/docs/images/favicon.png" type="image/x-icon">
    <link href="/docs/css/nucleus.css" rel="stylesheet">
    <link href="/docs/css/font-awesome.min.css" rel="stylesheet">
    <link href="/docs/css/hybrid.css" rel="stylesheet">
    <link href="/docs/css/featherlight.min.css" rel="stylesheet">
    <link href="/docs/css/horsey.css" rel="stylesheet">
    <link href="/docs/css/theme.css" rel="stylesheet">
    <link rel="stylesheet" href="/docs/css/bootstrap.min.css">
    <script src="/docs/js/jquery-2.x.min.js"></script>
    <style>
      :root #header + #content > #left > #rlblock_left {
        display:none !important;
      }
    </style>
    <link href="/docs/css/altinn.css" rel="stylesheet">
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-114303148-1"></script>
    <script>
    var host = window.location.hostname;
    if(host != "localhost")
    {
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-114303148-1', { 'anonymize_ip': true });
    }
    </script>
  </head>
  <body class="" data-url="/docs/guides/samtykke/">
    <nav id="sidebar" class="">
      <div class="highlightable">
        <div id="header-wrapper">
          <div id="header">
            <p>
              <a href="/docs" title="Altinn docs"><img src="/docs/images/a-logo-white.svg" alt="Altinn"> docs</a>
            </p>
          </div>

          <div class="searchbox">
            <label for="search-by"><i class="fa fa-search"></i></label> <input data-search-input="" id="search-by" type="text" placeholder="Søk..."> <span data-search-clear=""><i class="fa fa-close"></i></span>
          </div>
          <script src="/docs/js/lunr.min.js"></script> 
          <script src="/docs/js/horsey.js"></script> 
          <script>

          var baseurl = "https:\/\/altinn.github.io\/docs\/";
          </script> 
          <script src="/docs/js/search.js"></script>
        </div>

        <ul class="topics">
          <li data-nav-id="/docs/guides/" class="dd-item parent">
            <a href="/docs/guides/"><span>Guider</span> <i class="fa fa-angle-down fa-lg category-icon"></i></a>
            <ul>
            </ul>
          </li>

          <li data-nav-id="/docs/helt/" class="dd-item">
            <a href="/docs/helt/"><span>Helhetlig tilgangsstyring, HELT</span> <i class="fa fa-angle-right fa-lg category-icon"></i></a>
            <ul>
              <li data-nav-id="/docs/helt/goals/" class="dd-item">
                <a href="/docs/helt/goals/"><span>Målsettinger og gevinster</span></a>
              </li>

              <li data-nav-id="/docs/helt/authorisation/" class="dd-item">
                <a href="/docs/helt/authorisation/"><span>Autorisasjon</span></a>
              </li>

              <li data-nav-id="/docs/helt/project-plan/" class="dd-item">
                <a href="/docs/helt/project-plan/"><span>Overordnet prosjektplan og -status</span></a>
              </li>

              <li data-nav-id="/docs/helt/proposals/" class="dd-item">
                <a href="/docs/helt/proposals/"><span>Satsningsforslag</span></a>
              </li>
            </ul>
          </li>

          <li data-nav-id="/docs/altinncore/" class="dd-item">
            <a href="/docs/altinncore/"><span>Tjenester 3.0</span> <i class="fa fa-angle-right fa-lg category-icon"></i></a>
            <ul>
              <li data-nav-id="/docs/altinncore/goals/" class="dd-item">
                <a href="/docs/altinncore/goals/"><span>Målsettinger</span></a>
              </li>

              <li data-nav-id="/docs/altinncore/status/" class="dd-item">
                <a href="/docs/altinncore/status/"><span>Status</span></a>
              </li>

              <li data-nav-id="/docs/altinncore/satsingsforslag/" class="dd-item">
                <a href="/docs/altinncore/satsingsforslag/"><span>Satsingsforslag 2018</span></a>
              </li>

              <li data-nav-id="/docs/altinncore/architecture/" class="dd-item">
                <a href="/docs/altinncore/architecture/"><span>Arkitektur</span></a>
              </li>

              <li data-nav-id="/docs/altinncore/faq/" class="dd-item">
                <a href="/docs/altinncore/faq/"><span>FAQ</span></a>
              </li>

              <li data-nav-id="/docs/altinncore/slide/" class="dd-item">
                <a href="/docs/altinncore/slide/"><span>Slide</span></a>
              </li>
            </ul>
          </li>

          <li data-nav-id="/docs/releases/" class="dd-item">
            <a href="/docs/releases/"><span>Endringslogg</span> <i class="fa fa-angle-right fa-lg category-icon"></i></a>
            <ul>
              <li data-nav-id="/docs/releases/2019/" class="dd-item">
                <a href="/docs/releases/2019/"><span>2019</span> <i class="fa fa-angle-right fa-lg category-icon"></i></a>
                <ul>
                  <li data-nav-id="/docs/releases/2019/19-1/" class="dd-item">
                    <a href="/docs/releases/2019/19-1/"><span>19.1</span></a>
                  </li>
                </ul>
              </li>

              <li data-nav-id="/docs/releases/2018/" class="dd-item">
                <a href="/docs/releases/2018/"><span>2018</span> <i class="fa fa-angle-right fa-lg category-icon"></i></a>
                <ul>
                  <li data-nav-id="/docs/releases/2018/18-12/" class="dd-item">
                    <a href="/docs/releases/2018/18-12/"><span>18.12</span></a>
                  </li>

                  <li data-nav-id="/docs/releases/2018/18-11/" class="dd-item">
                    <a href="/docs/releases/2018/18-11/"><span>18.11</span></a>
                  </li>

                  <li data-nav-id="/docs/releases/2018/18-10/" class="dd-item">
                    <a href="/docs/releases/2018/18-10/"><span>18.10</span></a>
                  </li>

                  <li data-nav-id="/docs/releases/2018/18-9/" class="dd-item">
                    <a href="/docs/releases/2018/18-9/"><span>18.9</span></a>
                  </li>

                  <li data-nav-id="/docs/releases/2018/18-8/" class="dd-item">
                    <a href="/docs/releases/2018/18-8/"><span>18.8</span></a>
                  </li>

                  <li data-nav-id="/docs/releases/2018/18-7/" class="dd-item">
                    <a href="/docs/releases/2018/18-7/"><span>18.7</span></a>
                  </li>

                  <li data-nav-id="/docs/releases/2018/18-6/" class="dd-item">
                    <a href="/docs/releases/2018/18-6/"><span>18.6</span></a>
                  </li>

                  <li data-nav-id="/docs/releases/2018/18-5/" class="dd-item">
                    <a href="/docs/releases/2018/18-5/"><span>18.5</span></a>
                  </li>

                  <li data-nav-id="/docs/releases/2018/18-4/" class="dd-item">
                    <a href="/docs/releases/2018/18-4/"><span>18.4</span></a>
                  </li>

                  <li data-nav-id="/docs/releases/2018/18-3/" class="dd-item">
                    <a href="/docs/releases/2018/18-3/"><span>18.3</span></a>
                  </li>

                  <li data-nav-id="/docs/releases/2018/18-2/" class="dd-item">
                    <a href="/docs/releases/2018/18-2/"><span>18.2</span></a>
                  </li>

                  <li data-nav-id="/docs/releases/2018/18-1/" class="dd-item">
                    <a href="/docs/releases/2018/18-1/"><span>18.1</span></a>
                  </li>
                </ul>
              </li>

              <li data-nav-id="/docs/releases/2017/" class="dd-item">
                <a href="/docs/releases/2017/"><span>2017</span> <i class="fa fa-angle-right fa-lg category-icon"></i></a>
                <ul>
                  <li data-nav-id="/docs/releases/2017/17-3/" class="dd-item">
                    <a href="/docs/releases/2017/17-3/"><span>17.3</span></a>
                  </li>

                  <li data-nav-id="/docs/releases/2017/17-2/" class="dd-item">
                    <a href="/docs/releases/2017/17-2/"><span>17.2</span></a>
                  </li>

                  <li data-nav-id="/docs/releases/2017/17-1-1/" class="dd-item">
                    <a href="/docs/releases/2017/17-1-1/"><span>17.1.1</span></a>
                  </li>

                  <li data-nav-id="/docs/releases/2017/etablering/" class="dd-item">
                    <a href="/docs/releases/2017/etablering/"><span>Etablering</span></a>
                  </li>

                  <li data-nav-id="/docs/releases/2017/17-1/" class="dd-item">
                    <a href="/docs/releases/2017/17-1/"><span>17.1</span></a>
                  </li>
                </ul>
              </li>

              <li data-nav-id="/docs/releases/2016/" class="dd-item">
                <a href="/docs/releases/2016/"><span>2016</span> <i class="fa fa-angle-right fa-lg category-icon"></i></a>
                <ul>
                  <li data-nav-id="/docs/releases/2016/16-1/" class="dd-item">
                    <a href="/docs/releases/2016/16-1/"><span>16.1</span></a>
                  </li>
                </ul>
              </li>

              <li data-nav-id="/docs/releases/2015/" class="dd-item">
                <a href="/docs/releases/2015/"><span>2015</span> <i class="fa fa-angle-right fa-lg category-icon"></i></a>
                <ul>
                  <li data-nav-id="/docs/releases/2015/15-3/" class="dd-item">
                    <a href="/docs/releases/2015/15-3/"><span>15.3</span></a>
                  </li>

                  <li data-nav-id="/docs/releases/2015/15-2/" class="dd-item">
                    <a href="/docs/releases/2015/15-2/"><span>15.2</span></a>
                  </li>

                  <li data-nav-id="/docs/releases/2015/15-1/" class="dd-item">
                    <a href="/docs/releases/2015/15-1/"><span>15.1</span></a>
                  </li>
                </ul>
              </li>
            </ul>
          </li>

          <li data-nav-id="/docs/roadmap/" class="dd-item">
            <a href="/docs/roadmap/"><span>Roadmap</span></a>
          </li>

          <li>
            <h3>
              Lenker
            </h3>
            <a href="https://altinn.github.io/DesignSystem"><i class='fa fa-fw fa-star'></i> Designsystem</a>
          </li>

          <li>
            <a href="https://altinnett.brreg.no/"><i class='fa fa-fw fa-info-circle'></i> Altinnett</a>
          </li>

          <li>
            <a href="/docs/credits"><i class='fa fa-fw fa-bullhorn'></i> Kred</a>
          </li>

          <li>
            <a href="https://github.com/altinn/docs"><i class='fa fa-fw fa-github'></i> GitHub</a>
          </li>
        </ul>
      </div>
    </nav>

    <section id="body">
      <div id="overlay">
      </div>

      <div class="padding highlightable">
        <div id="top-bar">
          <div id="top-github-link">
            <a class="github-link" href="https://github.com/altinn/docs/blob/master/content/guides/samtykke/_index.md" target="blank"><i class="fa fa-code-fork"></i> Endre</a>
          </div>

          <div id="breadcrumbs" itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
            <span id="sidebar-toggle-span"><a href="#" id="sidebar-toggle" data-sidebar-toggle=""><i class="fa fa-bars"></i></a></span> <span id="toc-menu"><i class="fa fa-list-alt"></i></span> <span class="links"><a href='/docs/'>Altinn docs</a> / <a href='/docs/guides/'>Guider</a> / Samtykke</span>
          </div>

          <div class="progress">
            <div class="wrapper">
              <nav id="TableOfContents">
                <ul>
                  <li>
                    <ul>
                      <li>
                        <a href="#om-samtykkel%C3%B8sningen">Om samtykkeløsningen</a>
                      </li>

                      <li>
                        <a href="#m%C3%A5lgruppe">Målgruppe</a>
                      </li>

                      <li>
                        <a href="#bruk-av-self-contained-oauth-2-0-token">Bruk av “Self-contained OAuth 2.0 token”</a>
                        <ul>
                          <li>
                            <a href="#steg-i-prosessen">Steg i prosessen</a>
                          </li>
                        </ul>
                      </li>

                      <li>
                        <a href="#detaljerte-guider">Detaljerte guider</a>
                      </li>
                    </ul>
                  </li>
                </ul>
              </nav>
            </div>
          </div>
        </div>

        <div id="body-inner">
          <h1>
            Samtykke
          </h1>

          <p>
            Samtykkeløsningen i Altinn gjør det mulig at <a href="sluttbruker">sluttbruker</a> kan samtykke til at data om dem kan deles mellom en <a href="datakilde">datakilde</a> (tjenesteeier) og en <a href="datakonsument">datakonsument</a> (den som trenger data). Samtykke betyr i denne sammenhengen at brukeren gir en tredjepart midlertidig innsynsrett på et spesifikt datasett om brukeren som ligger lagret i tjenesteeiers database.
          </p>

          <p>
            Bruker vil kunne se hva de samtykker til å dele, hvem de deler data med, hvor lenge, og innenfor hvilken kontekst dataene skal brukes.
          </p>

          <h2 id="om-samtykkeløsningen">
            Om samtykkeløsningen
          </h2>

          <p>
            Gjennom samtykkeløsningen i Altinn kan brukeren gi samtykke til at en tredjepart, en datakonsument, får midlertidig innsynsrett på et spesifikt sett med opplysninger om brukeren. Dette kan for eksempel være <a href="http://www.skatteetaten.no/no/Om-skatteetaten/Presse/Nyhetsrommet/Pressemeldinger/pressemeldinger-2017/enklere-a-soke-boliglan/">ligningsdata fra Skatteetaten</a>. Med brukerens samtykke vil datakonsumenten bli tildelt en tidsbegrenset lese-rettighet for en eller flere definerte ressurser representert ved tjenester i Altinn.
          </p>

          <div style="position: relative; padding-bottom: 56.25%; padding-top: 30px; height: 0; overflow: hidden;">
            <iframe src="//player.vimeo.com/video/230421728" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen></iframe>
          </div>

          <p>
            Samtykkeløsningen er etablert slik at datakilde (tjenesteier) har stor fleksibiltet i hvordan data skal tilbys til datakonsument. Data kan gå via Altinn eller utenom Altinn slik at data kan tilbys via forskjellige formater og grensesnitt. Felles for flytene er at sluttbruker blir presentert samtykkesiden i Altinn hvor sluttbruker kan velge å samtykke til tilgangen.
          </p>

          <p>
            Her beskrives bruk av samtykkeløsningen med dataflyt direkte mellom datakilde og datakonsument med bruk av self-contained <a href="https://oauth.net/2/">OAuth 2.0</a> token utstedt av Altinn. Tokenet, som blir signert med Altinns sertifikat, inneholder all informasjon knyttet til de delegerte rettighetene og benyttes av datakonsument mot datakilde slik at datakilde kan verifisere at innholdet er pålitelig.
          </p>

          <h2 id="målgruppe">
            Målgruppe
          </h2>

          <p>
            Målgruppen for denne dokumentasjonen er datakilder og datakonsumenter som skal ta i bruk samtykkeløsningen hvor selve dataflyten skal gå direkte mellom partene og hvor Altinn benyttes til tilgangskontroll.
          </p>

          <h2 id="bruk-av-self-contained-oauth-2-0-token">
            Bruk av “Self-contained OAuth 2.0 token”
          </h2>

          <p>
            Self-contained OAuth-token betyr at tokenet i seg selv inneholder all informasjon om rettigheten(e) som er blitt delegertfra sluttbruker til datakonsumenten.
          </p>

          <p>
            Figuren under viser prosessen med bruk av self-contained OAuth token i et lånesøknads case hvor en bank er datakonsumenten og Skatteetaten er datakilden:
          </p>

          <figure>
            <img src="prosess.png">
            <figcaption>
              <h4>
                Prosess
              </h4>
            </figcaption>
          </figure>

          <h3 id="steg-i-prosessen">
            Steg i prosessen
          </h3>

          <ol>
            <li>Lånesøker går inn på bankens nettside for å søke om lån.
            </li>

            <li>Lånesøker bekrefter i søknadsprosessen at han ønsker å gi banken samtykke til å innhente ligningsopplysninger og <a href="datakonsument/be-om-samtykke/">blir sendt til Altinn</a> for å gi samtykke.
            </li>

            <li>Lånesøker <a href="sluttbruker/innlogging/">logger inn</a> i Altinn og <a href="sluttbruker/samtykkesiden">gir samtykke</a>. Altinn registrerer samtykket og delegerer rettighet.
            </li>

            <li>Rettighetsdelegering er utført og <a href="datakonsument/be-om-samtykke/#autorisasjonskode">det sendes en autorisasjonskode tilbake</a>.
            </li>

            <li>Lånesøker sendes tilbake til siden som er angitt av banken i redirect-Url. I Url sendes autorisasjonskoden samt en status som forteller om samtykke ble gitt.
            </li>

            <li>Autorisasjonskoden benyttes av banken mot Altinn for å <a href="datakonsument/hente-token/">få tak i Altinn-signert self-contained OAuth token</a>.
            </li>

            <li>Altinn sender <a href="datakilde/bruk-av-token/#bruk-av-self-contained-oauth-token">signert token</a> til banken.
            </li>

            <li>Banken <a href="datakonsument/hente-token/#hente-data-fra-datakilden-ved-hjelp-av-altinn-signert-token">benytter signert token</a> mot datakilden (f.eks. Skatteetaten).
            </li>

            <li>
              <a href="datakilde/bruk-av-token/#verifisere-jwt-token-signatur">Tokenet verifiseres</a> av Skatteetaten for å sjekke at innhold stemmer med ønsket utført operasjon og data returneres til banken.
            </li>
          </ol>

          <h2 id="detaljerte-guider">
            Detaljerte guider
          </h2>

          <ul class="children children-li">
            <li>
              <a href="/docs/guides/samtykke/sluttbruker/">For sluttbruker</a>
            </li>

            <p>
              Hvordan samtykke oppleves for sluttbruker
            </p>

            <li>
              <a href="/docs/guides/samtykke/datakilde/">For datakilde</a>
            </li>

            <p>
              Utføres av datakilde/tjenesteeier
            </p>

            <li>
              <a href="/docs/guides/samtykke/datakonsument/">For datakonsument</a>
            </li>

            <p>
              Utføres av datakonsument
            </p>

            <li>
              <a href="/docs/guides/samtykke/begrepsliste/">Begrepsliste</a>
            </li>

            <p>
              Begrepsliste samtykke
            </p>
          </ul>

          <footer class="footline">
          </footer>
        </div>
      </div>

      <div id="navigation">
        <a class="nav nav-prev" href="/docs/guides/tul/vedlegg/regelmotor/xsd/" title="Regelmotor.xsd"><i class="fa fa-chevron-left"></i></a> <a class="nav nav-next" href="/docs/guides/samtykke/sluttbruker/" title="For sluttbruker" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
      </div>
    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      </div>
    </div>
    <script src="/docs/js/clipboard.min.js"></script> 
    <script src="/docs/js/featherlight.min.js"></script> 
    <script src="/docs/js/html5shiv-printshiv.min.js"></script> 
    <script src="/docs/js/highlight.pack.js"></script> 
    <script>
    hljs.initHighlightingOnLoad();
    </script> 
    <script src="/docs/js/modernizr.custom.71422.js"></script> 
    <script src="/docs/js/learn.js"></script> 
    <script src="/docs/js/hugo-learn.js"></script>
    <link href="/docs/mermaid/mermaid.css" type="text/css" rel="stylesheet">
    <script src="/docs/mermaid/mermaid.js"></script> 
    <script>
    mermaid.initialize({startOnLoad:true});
    </script>
  </body>
</html>
