[
{
	"uri": "https://altinn.github.io/docs/api/sluttbruker-api/registrering/",
	"title": "Registrering",
	"tags": [],
	"description": "Hvordan registrere din applikasjon.",
	"content": " Registrer din applikasjon hos Altinn For at vi skal kunne stoppe misbruk og feilbruk må du registrere deg for å kunne bruke Altinn API-et.\nFør du skal bruke APIet må du ta stilling til hvilke ressurser i APIet du skal benytte og på hvilken måte (Read=lesetilgang, Write=skrivetilgang). API-nøkkelen du blir tildelt vil kun være gyldig for de ressursene du har bedt om tilgang til.\n Read på Message gir tilgang til å hente meldinger og skjema. Write gir tilgang til å sende inn skjema, samt slette meldinger og skjema. Read på Profile gir tilgang til å hente brukerens Navn, adresse og kontaktinformasjon, samt kontaktinformasjon for virksomheter brukeren kan representere Read på Organizations gir tilgang til å hente ut virksomhetene pålogget bruker kan representere. Read på Reportee gir tilgang til å hente ut alle avgivere (privatpersoner og virksomheter) pålogget bruker kan representere. Read på Lookup gir tilgang til å aksessere eksponerte innsynstjenester i REST API. Read/Write på Authorization gir tilgang til å se på eller endre delegerte roller og rettigheter på vegne av innlogget bruker eller virksomheter som brukere kan representere.  Send følgende to skjemaer ferdig utfylt i en e-post til api@altinn.no\n Bestillingsskjema Egenerklæringsskjema  Når vi har registrert informasjonen vil vi sende en API-nøkkel som du må benytte i din applikasjon.\n"
},
{
	"uri": "https://altinn.github.io/docs/api/tjenesteeier-api/registrering/",
	"title": "Registrering",
	"tags": [],
	"description": "Hvordan registrere din applikasjon.",
	"content": " Registrere dere som bruker av Altinns REST-api for tjenesteeiere Registrering gir tilgang aller ressurser under tjenesteier API. Kun Read (GET) operasjoner er tilgjengelig inntil videre.\nSend følgende skjema ferdig utfylt i en e-post til api@altinn.no\n Bestillingsskjema Egenerklæringsskjema  Når vi har registrert informasjonen vil vi sende en API-nøkkel som du må benytte i din applikasjon.\n"
},
{
	"uri": "https://altinn.github.io/docs/api/generelt/release-notes/",
	"title": "API release notes",
	"tags": [],
	"description": "Historikk om de ulike endringene som har blitt innført.",
	"content": " Versjon 17.1 (februar 2017) Versjon 15.1 (13.02.2015) Følgende funksjonalitet er nå tilgjengelig:\n Støtte for separat signering av innsendingstjenester. Støtte for innsynstjenester. Autorisasjonskontroll per API ressurs. Mulig å hente meldinger/sende inn for andre personer brukeren har rettigheter til. Filtrering på slettede enheter og underenheter. Støtte for sletting av meldinger og skjema.  Versjon 14.2 (14.06.2014) Følgende overordnet funksjonalitet er nå tilgjengelig:\n1. Metadata ressurs blir tilgjengelig i Altinn REST API Metadata ressursen vil gi oversikt over alle tjenestene i Altinn, med tilhørende metadata om tjenestene. Eksempler er tjenestetype, er innsending over REST api tillatt, lenke til XSD osv. Ressursen krever ikke autentisering eller bruk av API nøkkel, og kan dermed knyttes inn i andre nettsider/løsninger.\nMessage ressurser av typen ‘FormTask’ er også utvidet med lenke direkte til metadata informasjon om den aktuelle tjenesten.\n2. Profildata utvides med kontaktinformasjon brukt til varsel Kontaktinformasjon registrert på brukere under \u0026ldquo;Min Profil\u0026rdquo; inkluderes nå i Profil ressursen.\n3. Kontaktinformasjon for Virksomheter er tilgjengelig i REST API Det er nå mulig å lese kontaktinformasjon registrert på virksomheter brukeren har rettigheter på via REST API.\n4. POST av message til arbeidslisten i Altinn (mellomlagring) Dette gjør det mulig opprette innsendinger via REST API som ikke sendes inn til tjenesteeier. Ressursene kan så oppdateres i portalen, eller oppdateres via REST API (se punkt 5).\nFor å opprette ett nytt skjema under utfylling gjøres POST med url parameter complete=false slik: https://www.altinn.no/api/my/messages?complete=false\nFor å opprette ett nytt skjema til signering gjøres POST med url parameter sign=false slik: https://www.altinn.no/api/my/messages?sign=false\n5. PUT operasjoner blir tilgjengelig på mellomlagrede skjema Det blir mulig å oppdatere følgende på message-ressurser:\n Samlet skjemasett og vedlegg Arbeidsflyt (Utfylling, Innsending, Signering, Arkivering)  PUT operasjoner utføres direkte på den aktuelle message og må inneholde alle skjema og vedlegg i hvert kall, da tidligere lagret data vil overskrives ved ny PUT operasjon.\nVersjon 14.1 (24.02.2014) Følgende overordnet funksjonalitet er nå tilgjengelig:\n1. Gjøre POST operasjoner på Message elementet i Altinn API Man kan nå sende inn skjema med vedlegg. Gjelder for skjema som tjenesteeier (etat) selv har bestemt at kan sendes inn via REST API. Skjemadata blir validert ihht valideringsreglene pr skjema og arkivert.\n2. Laste ned XML payload for skjema (Skjemadata) Man kan nå laste ned (lese) XML-representasjon av Skjemadata. Skjemadata er representert i XML og vil være en egen ressurs som er lenket fra Form-ressursen.\n3. Autentisering nivå 1 (Altinn autentisering med Altinn brukernavn og passord) Man kan nå også autentiserer seg på sikkerhetsnivå 1 (som ikke støttes av ID-porten) ved å benytte Altinns egen autentisering. Som registrerte Altinn bruker vil man kunne angi eget brukernavn og passord (Gjøres i Altinn portalen www.altinn.no). Autentisering gjøres i en POST operasjon som logger inn brukeren.\n4. Lese egne profildata (Privatperson) Hente ut informasjon fra min brukerprofil i Altinn, gir oversikt over hvem som er logget inn (Navn,Adresse, Personnr, \u0026hellip;).\n5. Lenker til Altinns portalvisning av gjeldende ressurs Nye lenker ressurser som kan åpnes i nettleser:\n Alle elementer av typen message har en PortalView lenke. Ved å følge lenken får brukeren opp Altinns presentasjon av elementet i portalen. I portalen vil ressursen vises i den status den befinner seg i (Utfylling, Signering, Arkivert). Lenke til Altinns portal-visning av my/messages/.   Versjon 13.3 (25.11.2013) Dette er Trinn 1 i leveranse av et Altinn API basert på REST-prinsipper. Følgende overordnet funksjonalitet er nå tilgjengelig:\n1. Autentisering via ID-porten Dette er en SAML basert autentisering der innlogget bruker vil være føderert mot alle offentlige tjenester som benytter ID-porten. Føderte offentlige portaler og Applikasjoner utviklet av tredjepart kan dermed benytte ID-porten for tilgang til Altinn via Altinn API.\n2. GET operasjoner gir lesetilgang til følgende ressurser  Hent alle mine organisasjoner Hent alle mine/min-organisasjons meldinger (støtte for OData-filtrering, f.eks. meldingstittel, avsender, dato, etc\u0026hellip; ) Hent detaljer om enkeltmelding Hent utskriftsversjon av enkeltmelding Hent vedlegg til enkeltmelding  "
},
{
	"uri": "https://altinn.github.io/docs/api/sluttbruker-api/autentisering/",
	"title": "Autentisering",
	"tags": [],
	"description": "For å få tilgang til Altinn API-et må brukeren først autentisere seg. Altinn API støtter tre ulike autentiseringsmetoder.",
	"content": "For å få tilgang til Altinn API-et må brukeren først autentisere seg. Altinn API støtter tre ulike autentiseringsmetoder.\n\rBrukernavn og passord\r\rAltinns REST-API støtter autentisering med bruk av brukernavn og passord registrert i Altinn.\n\rID-porten\r\rDersom brukeren ikke er autentisert vil API-et redirecte applikasjonen din til ID-portens påloggingsside med responsivt design. I en app vil brukeren kunne velge mellom å autentisere seg ved bruk av av MinID eller BankID. Når brukeren er autentisert i ID-porten vil brukeren bli redirected tilbake til opprinnelig URL. Dette vil fungere for alle klienter som støtter cookies og HTTP-redirect.\n\rVirksomhetssertifikat\r\rDersom brukeren skal representere en virksomhet som har et virksomhetssertifikat, kan dette benyttes sammen med en virksomhetsbruker opprettet på Altinn.no til å autentisere seg mot Altinns REST-api.\n\r"
},
{
	"uri": "https://altinn.github.io/docs/api/tjenesteeier-api/autorisasjon/",
	"title": "Autorisasjon",
	"tags": [],
	"description": "Spørringer mot Altinns autorisasjonskomponent",
	"content": "\r\r"
},
{
	"uri": "https://altinn.github.io/docs/api/sluttbruker-api/autorisering/",
	"title": "Autorisering",
	"tags": [],
	"description": "For å få tilgang til Altinn API-et må brukeren være autorisert.",
	"content": "\r\rRolledefinisjoner\r\rAPI\u0026#39;er relatert til rolledefinisjoner.\n\rRoller og rettigheter\r\rAPI\u0026#39;er relatert til roller og rettigheter.\n\r"
},
{
	"uri": "https://altinn.github.io/docs/api/sluttbruker-api/autentisering/brukernavn-og-passord/",
	"title": "Brukernavn og passord",
	"tags": [],
	"description": "Altinns REST-API støtter autentisering med bruk av brukernavn og passord registrert i Altinn.",
	"content": " Altinn API støtter autentisering med kun brukernavn(eller personnummer) og passord registrert på brukerens profil i Altinn. Registrering av brukernavn og passord gjøres i Altinn portalen under Profil, roller og rettigheter -\u0026gt; Avanserte innstillinger (her).\nAutentisering med brukernavn og passord gir tilgang til å hente meldinger og sende inn skjema som krever sikkerhetsnivå 1.\n1. Utfør autentisering Send følgende POST-forespørsel mot APIet:\nPOST https://www.altinn.no/api/authentication/authenticatewithpassword HTTP/1.1 Content-Type: application/hal+json ApiKey: myKey { \u0026quot;UserName\u0026quot;: \u0026quot;MyUsername\u0026quot;, \u0026quot;UserPassword\u0026quot;: \u0026quot;MyPassword\u0026quot; }  Respons fra API\nVed korrekt autentisering vil du få STATUS 200 OK som respons fra Altinn REST API\n2. Hente ut påloggings-token Etter vellykket pålogging oppretter Altinn et sett med tokens i form av HTTP cookies i Set-Cookie header.\nNår Altinn har opprettet disse token burde din applikasjon hente de ut\nHer er eksempler på hvordan du kan hente ut token i HTTP cookie på de vanligste plattformene:\n Android: CookieManager#getCookie(URL) kan brukes til å hente ut cookien satt av Altinn. Detaljert eksempelkode på denne tekikken kan du finne her. iOS: Din applikasjon kan hente ut cookies satt av Altinn ved å bruke NSHTTPCookieStorage. Dette blir ofte kalt \u0026ldquo;cookie jar.\u0026rdquo;  NSHTTPCookie *cookie; NSHTTPCookieStorage *cookieJar = [NSHTTPCookieStorage sharedHTTPCookieStorage]; for (cookie in [cookieJar cookies]) { NSLog(@\u0026quot;%@\u0026quot;, cookie); }  Detaljert eksempelkode på denne teknikken for iOS finner du her.\n3. Videreføre påloggings-token i kall til Altinn API Tokenet .ASPXAUTH legges i HTTP header som \u0026ldquo;Cookie\u0026rdquo; i videre på kall til Altinn API:\nCookie: .ASPXAUTH=2AF7F203...  API nøkkelen må også legges ved i HTTP header slik:\nApiKey: myKey  API nøkkel får du etter registrering av din applikasjon.\n"
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/dialog/",
	"title": "Digital dialog",
	"tags": [],
	"description": "Gir en oversikt over de tjenestenetypene som Altinn tilbyr samt annen funksjonalitet som understøtter digital dialog.",
	"content": "Gir en oversikt over de tjenestenetypene som Altinn tilbyr samt annen funksjonalitet som understøtter digital dialog. Brukerne kan nå tjenestene via Altinn portalen og/eller Mobile apps. Det er også mulig å kommunisere med Altinn via et fagsystem.\n\rBetaling\r\rI enkelte offentlige tjenester inngår betaling som en del av saksbehandlingen. Altinn har støtte for betaling med tre av de største betalingsleverandørene på det norske markedet.\n\rFormidling av data\r\rFormidlingstjenesten er en maskin-til-maskin formidling av store datamengder mellom ulike offentlige og private virksomheter.\n\rInnsending\r\rEr en tjeneste der bruker fyller ut, signerer og sender inn et skjema\n\rInnsyn\r\rEr en tjeneste som benyttes for å gi bruker innsyn i data som er registrert i tjenesteeier sitt system, for eksempel saksbehandlingsløsninger eller elektroniske arkiv.\n\rLenketjeneste\r\rEn lenketjeneste utfører autorisasjon i Altinn før brukeren sendes til et annet nettsted der selve tjenesten kjører.\n\rMelding\r\rEr en tjeneste som lar tjenesteeier sende informasjon i form av en melding som brukerne kan lese i Altinn-portalen eller laste ned til sitt datasystem.\n\rSamhandling\r\rEr en sammensetning av flere enkeltstående tjenester til en helhetlig prosess mellom en eller flere sluttbrukere og en eller flere offentlige virksomheter.\n\rSamtykke\r\rGjennom samtykkeløsningen i Altinn kan personer/organisasjoner gi samtykke til at en tredjepart (offentlige og private virksomheter) får midlertidig innsynsrett på et spesifikt sett med opplysninger om dem som tidligere er innhentet.\n\rVarsling\r\rEr en tjeneste som kan benyttes til å varsle brukere på e-post og/eller sms når en melding eller et skjema er gjort tilgjengelig i meldingsboksen i Altinn.\n\r"
},
{
	"uri": "https://altinn.github.io/docs/api/generelt/",
	"title": "Generelt",
	"tags": [],
	"description": "Generelt om Altinns REST-apier",
	"content": " Generell oppbygning av API-et Altinn API benytter REST arkitekturstil, og baserer seg på en semantisk definisjon av innholdet. Strukturen i responsen fra API-et kan endre seg, men betydningen av elementene er den samme.\nDette blir som når man navigerer seg inn på en vanlig nettside. Da kan en klient navigere seg inn i API-et ved å følge lenker med en definert betydning. Det er ikke sikkert at URL-en man var på sist fortsatt eksisterer, men det vil være mulig å bla eller søke seg tilbake til det samme innholdet fra forsiden.\nFordelen med dette er at Altinn har mulighet til å bygge ut og omstrukturere innholdet i API-et uten at dette hindrer en klient fra å finne frem til innholdet den brukte fra før.\nAPI-et baserer seg på de mekanismene som allerede finnes i HTTP-standarden og meldingshoder som brukes av vanlige nettlesere og webservere i dag. Altinn API støtter følgende formater\n application/HAL+json application/HAL+xml application/xml application/json  Navigasjon og semantikk Navigasjonen foregår ved at man navigerer til https://www.altinn.no/api/my/messages/ og navigerer seg via lenkene som finnes der. Det er mulig å bla seg innover i hierarkiet av meldinger, eller gå rett til en enkelt melding.\nAPI-et gir informasjonen som meldinger på formatene XML eller JSON. Siden XML og JSON mangler semantiske elementer, bruker meldingene i tillegg standarden HAL. HAL-formatet angir en ressurs med innhold og lenker. I tillegg kan hver ressurs inneholde andre ressurser med sine lenker og innhold. Lenkene angir en semantisk relasjon mellom ressursen man er på og ressursen det lenkes til.\nForeløpig er følgende relasjoner definert, og flere relasjoner kan komme etter hvert som API-et bygges ut.\n   Lenke Ressurs Beskrivelse     self Message/Organization/Form URI til representasjon av den enkelte ressursen.   print Message URI til utskriftsversjonen av et arkivert skjema eller et skjema under utfylling. Er kun gyldig for message elementer av typen FormTask. For print relasjoner er \u0026ldquo;mime-type\u0026rdquo; i de fleste tilfeller \u0026ldquo;application/pdf\u0026rdquo; men vil i noen tilfeller også være \u0026ldquo;application/text-html\u0026rdquo;.   attachment Message URI og navn på vedlegg knyttet til message.   form Message URI til skjema knyttet til meldingen av type FormTask.   portalview Message URI til portal-visning av det aktuelle Message-objektet.   formdata Form URI til skjemadata i XML-format.   messages Organization URI til liste over meldinger for den aktuelle organisasjonen.    OData OData kan brukes til filtrering, paging og sortering i lister av elementer av alle typer. Listene er begrenset i kode til å maksimalt inneholde 50 elementer. Det er mulig å utføre paging ved å sende med Odata parameteren skip (for eksempel $skip=50).\nDet er også mulig å filtrere listene som returneres basert på hvilke informasjonselementer de inneholder. For eksempel vil følgende parametere på message elementet $filter=ServiceOwner eq 'Skatteetaten' kun returnere meldinger fra Skatteetaten.\nSe http://www.asp.net/web-api/overview/odata-support-in-aspnet-web-api/ for ytterligere informasjon om OData støtte i Altinn API.\n"
},
{
	"uri": "https://altinn.github.io/docs/guides/tjenesteeier-impl/",
	"title": "Guide for tjenesteeier",
	"tags": [],
	"description": "Beskrivelse av de tjenester Altinn tilbyr alle tjenesteeiere og hvordan deres systemer kan integrere seg mot disse.",
	"content": " 1 Innledning Dette dokumentet beskriver de tjenester Altinn tilbyr alle tjenesteeiere og hvordan deres systemer kan integrere seg mot disse. Det er lagt vekt på å beskrive både det funksjonelle aspektet i forhold til hva integrasjonene tilbyr rent funksjonelt, og en teknisk detaljering av grensesnittene som tilbys av Altinn.\nEventuelle tjenester/grensesnitt som er spesifikke for en tjenesteeier er ikke med her.\n1.1 Hva er Altinn Altinn er myndighetenes løsning for innrapportering og dialog med næringslivet. Alle tjenester fra det offentlige til næringslivet skal gjøres tilgjengelige her. Målet er at næringslivet bare skal behøve å forholde seg til én nettportal for all rapportering og kommunikasjon med forvaltningen, og at Altinn skal bli et samhandlingsnav for offentlig norsk e-forvaltning. Videre skal Altinn som et transaksjonsnav sørge for håndtering av sluttbrukertjenester som innsendings-, meldings-, samhandlings-, formidlings- og innsynstjenester.\n1.2 Valg av grensesnitt Flere av tjenestene tilbys med både web service– og batch-grensesnitt. Som en tommelfingerregel kan man si at skal man overføre færre enn 100 elementer (alternativt mindre enn 30 MB) kan man benytte web service grensesnitt, men for store datamengder bør batch-grensesnitt benyttes. Tommelfingerregelen er scenarioavhengig og ingen absoluttgrense. AltinnII plattformen er bygget på siste versjon av Microsoft software og teknologi, og er ikke en begrensning for transport av data. For overføring av store datamengder er det vel så viktig at eksterne systemer er optimalt konfigurert iht. ønsket grensesnitt.\n1.3 Lesehenvisning Dette dokumentet bør leses i sammen med dokumentene \u0026ldquo;Funksjonell spesifikasjon – Sluttbrukerløsningen\u0026rdquo;, som gir en funksjonell beskrivelse av sluttbrukerløsningen, og \u0026ldquo;Implementasjonsguide for integrasjon mot Altinn\u0026rdquo;, som er den overordnede guiden for alle som skal integrere seg mot Altinn. I tillegg refereres leser til Tjenestekatalogen (Service Inventory) som en kontinuerlig oppdatert liste over tilgjengelige tjenester, med tilhørende funksjonell og tekniske informasjon, samt tjenestens WSDL tilgjengelig på endepunktet for den tekniske spesifikasjonen. Tjenestekatalogen vil gi en komplett liste over hvilke tjenester som er tilgjengelig for tjenesteeiere gjennom egen visning av listen (Tjenesteeier tjenester): https://altinn.brreg.no/sites/program/altinn%20II/Lists/Tjenestekatalog/Tjenesteeier%20tjenester.aspx\n1.4 Like operasjoner med forskjellige protokoller og endepunkter Alle operasjonene er tilgjengelig på to protokoller (bindings). Operasjoner som benytter SOAP 1.1 er kjennetegnet med navnendelsen –Basic. Operasjoner som benytter SOAP 1.2 er kjennetegnet med navnendelsen –WS. Operasjoner som benytter SOAP 1.2 og sertifikat er kjennetegnet med navnendelsen –EC. Sertifikatet er knyttet til avgiver, slik at flere brukere kan benytte samme sertifikat. Utfyllende beskrivelse kommer senere i dokumentet. For tjenesteeiere blir EC grensesnitt autentisert ved bruk av et sertifikat og agency system brukernavn og passord. AEC grensesnitt benytter SOAP 1.2 og sertifikat, men krever ikke bruk av agency systemer, med brukernavn og passord. I stedet hentes Organisasjonsnummer direkte fra sertifikatet som brukes til autentisering, som så valideres opp mot registrerte tjenesteeiere.\n1.5 Versjonering av operasjoner Flere av operasjonene i dette dokumentet vil kunne eksistere i flere versjoner. Dette for å være tilbakekompatibel med eventuelt eksisterende klienter. Når en endring blir gjort for en gitt operasjon opprettes det en ny operasjon med tilsvarende navn som ender med et versjonsnummer, for eksempel V2. Dette gjør at gamle klienter vil kunne fortsette å benytte gammel metode og WSDL, mens nye klienter kan (og oppfordres til) benytte nyeste metode og WSDL.\nMerk at ikke alle grensesnitt nødvendigvis vil benytte denne endelsen. Dette gjelder i de tilfeller hvor operasjonen ikke tidligere er tilgjengeliggjort og dermed ikke har noen forgjenger, for eksempel gjelder dette for mange av EC grensesnittene.\nDette dokumentet vil dokumentere den nyeste versjonen av operasjonene. For dokumentasjon av tidligere versjoner henvises det til tidligere dokumentversjoner.\n2 Definisjoner 3 Refererte dokumenter og linker 4 Registrering For å kunne sende og/eller motta data til/fra Altinn må tjenesteeier registrere sitt system og motta passord som skal benyttes ved overføring(ene). Registrering gjøres ved at tjenesteeier bestiller tilgang via skjema som finnes på Brønnøysundregistrenes eksternnett (https://altinn.brreg.no/sites/dokument2/Bestillingsskjema/Bestilling%20-%20Ny%20tjenesteeier%20i%20SBL.doc). Driftsleverandør registrerer systemet basert på registrert skjema, og passord kommuniseres tilbake til tjenesteeier. System og passord brukes da som henholdsvis systemUserName og systemPassword i kall mot Altinn.\n5 Autentisering og autorisering Når tjenesteeier via egne systemer benytter tjenester mot Altinn blir det registrerte systemet autentisert og autorisert før det kan utføre operasjoner mot Altinn. Tjenesteeiers system må være registrert i Altinn og passord mottatt før tjenestene kan benyttes.\nVed bruk av batch grensesnitt blir tjenesteeier autentisert gjennom FTP/SFTP protokollen på vanlig vis. Eller Altinn autentiserer seg ved henting på FTP/SFTP.\n6 Varselsmaler Altinn har mulighet til å sende ut predefinerte varsler til sluttbrukerne når tjenesteeier sender meldinger (8.2.1), legger inn prefill (8.1.1), og ved sending av frittstående varsel (8.8). Disse varslene må være definert i Altinn før de kan benyttes av tjenesteeier.\nVarsel sendes basert på informasjon om konkret angitte adresser, mobiltelefonnummer og/eller e-post adresse, som sendes Altinn, eller ved å oppgi enten fødselsnummer eller organisasjonsnummer. I de to siste tilfellene vil Altinn slå opp i informasjon lagret i Altinn for å sende varsel: for fødselsnummer i brukerens kontaktinformasjon i det private samtykket, for organisasjonsnummer i organisasjonens profilside. Profilsiden til en organisasjon vil inneholde både kontaktinformasjonen som er angitt i Enhetsregisteret i tillegg til informasjon lagt inn av organisasjonen selv.\nFor å opprette en ny varslingsmal må tjenesteeier bestille dette ved å benytte skjema som finnes på Brønnøysundregistrenes eksternnett . Her kan det velges hvilke språk (norsk, nynorsk og engelsk) og varslingsmetoder (e-post og SMS) varslesmalen skal støtte. Når varselsmalen skal benyttes i web services eller batch vil kombinasjonen av navn på varslingsmalen (NotificationType), varslingsmetode (TransportType) og språk angi hvilken tekst som sendes ut. Varselsmalen kan også opprettes med såkalte tokens/substitusjonsvariabler angitt ved {0}, {1} osv. som lar tjenesteeier sende inn egendefinerte tekststrenger. Disse angis i rekkefølge ved å benytte parameteren TokenValue.\nSMS varsler kan ikke inneholder mer enn 140 tegn. Et SMS varsel kuttes automatisk på 140 tegn dersom tjenesteeier forsøker å sende et varsel på mer enn 140 tegn.\n6.1 Varselsmakroer Det er en del varslings-makroer tilgjengelig for bruk i Notification løsninger for tjenesteeier. En makro er en kort tekst som byttes ut med data fra Altinns Register. Register data blir hentet ut basert på ReporteeNumber eller ReporteeElementId koblet til en Notification.\nMakroer legges inn som en del av NotificationTemplate, men kan også leveres i en text-token. Makroer er case-sensitive.\n   Makro Beskrivelse     $reporteeFirstName$ Fornavn til Reportee   $reporteeMiddleName$ Mellomnavn til Reportee   $reporteeLastName$ Etternavn til Reportee   $reporteeName$ Fullt navn til Reportee.   $reporteeNumber$ Gir organisasjonsnummer for en organisasjon, gir en tom streng ikke noe for en person.   $reporteeBirthMonth$ $reporteeBirthDay$ $reporteeBirthYear$ $reporteeBirthDay(dd/mm/yy)$ $reporteeBirthDay(yyyy-mm-dd)$ $reporteeBirthDay(yy/dd/mm)$ $reporteeBirthDay(dd.mm)$ Forskjellige utgaver av en persons fødselsdag. Dersom man bruker $reporteeBirthDay(#)$, så vil fødsels-dato avgis på formatet som er avgitt av #, med en kombinasjon av yyyy, yy, mm og dd. Så om man gir $reporteeBirthDay(yyyy-mm-dd)$ vil man for eksempel få ut 1977-11-23.   $reporteePostalCode$ $reporteePostalArea$ $reporteePostalAddress1$ $reporteePostalAddress2$ $reporteePostalAddress3$ Post-addresse data til Reportee.   $reporteeEmail$ $reporteeMobileNumber$ Telefonnavn eller Email til Reportee.   $servicename$ Tjenestenavn på ReporteeElement som er koblet til en Notification. Brukes i Prefill/Correspondence sammenheng.    7 Tjenesteutvikling og samspill med integrasjon Tjenester for innsendinger, meldinger, formidling, innsyn og samhandling etableres i tjenesteutviklingsløsningen (TUL), og benyttes i sluttbrukerløsningen (SBL), dvs. Altinn portalen og integrerte systemer (sluttbrukersystemer og systemer hos tjenesteeiere). Samspillet mellom en tjeneste i TUL og integrasjonspunkter er etablert gjennom å benytte:\n   Begrep i TUL Begrep i AltinnII Begrep i AltinnI Beskrivelse     Tjenestekode ServiceCode (noen steder også angitt som ExternalServiceCode N/A Angir tjenestekode for Altinn tjenesten, for eksempel \u0026ldquo;MT0001\u0026rdquo; (innsendingstjeneste). Alfanumerisk verdi. Oppstår i TUL. Kombinasjonen av Tjenestekode og Tjenesteutgavekode er unik i Altinn.   Tjenesteutgavekode ServiceEdition (noen steder også angitt som ServiceEditionCode eller ExternalServiceEditionCode N/A Angir utgaven på tjenestekoden, for eksempel 12311 (for tjenestekode \u0026ldquo;MT0001\u0026rdquo;). Tallverd. Oppstår i TUL. Kombinasjonen av Tjenestekode og Tjenesteutgavekode er unik i Altinn.   N/A DataFormatId Skjemanummer Angir id som metadatakilde har satt på dataenheten (skjema), for eksempel \u0026ldquo;268\u0026rdquo;. Alfanumerisk verdi. Benyttes i  elementet som omkranser faktiske skjemadata (xml). Metadatakilde kan for eksempel være Oppgaveregisteret (OR). Kombinasjonen av DataFormatId og DataFormatVersion er unik.   N/A DataFormatVersion Spesifikasjonsnummer Angir versjon som metadatakilde har satt på dataenheten (skjema), for eksempel 6370. Tallverdi. Benyttes i  elementet som omkranser faktiske skjemadata (xml). Metadatakilde kan for eksempel være Oppgaveregisteret (OR). Kombinasjonen av DataFormatId og DataFormatVersion er unik.   Metode for oversending ShipmentDefinition N/A Angir forsendelsesoppsett, dvs. unik alfanumerisk id som peker til informasjon om hva slags data som sendes/mottas, og hvordan det skal pakkes/settes sammen før utsending. Oppstår ved etablering av grensesnitt mellom Altinn og system som vil integrere seg med Altinn.   N/A ReporteeElementID N/A Angir den unike identifikatoren for en spesifikk tjeneste (innsendings-, meldings-, innsyns-, eller samhandlingstjeneste)   N/A CaseID N/A Angir den unike identifikatoren for en spesifikk samhandlingstjeneste, benyttes blant annet til å knytte andre tjenester opp mot samhandlingstjenesten.    8 Funksjonelle scenario Altinn tilbyr flere tjenester innenfor flere funksjonelle områder for tjenesteeiere. Dette kapittelet beskriver hvilken funksjonalitet som finnes med referanser til hvilke grensesnitt som benyttes. Oversikt over den enkelte tjeneste, tjenesteoperasjon og parametere til disse er beskrevet i Tjenestekatalog og tjenestenes WSDL, samt i et eget avsnitt; kap 9 Grensesnitt – web servicesGrensesnittWebServices. Tilsvarende er det et eget avsnitt for batch beskrivelser; kap 10 Grensesnitt – batch til Altinn_Innsendingstjenester.\nDe funksjonelle områder som finnes er: - Innsendingstjenester - Meldingstjenester - Formidlingstjenester - Kvitteringer - Innsynstjenester - Lenketjeneste - Samhandlingstjenester - Frittstående varsel - Autorisasjon - Uthenting fra tiltrodd tredjepart logg - Sluttbrukers meldingsboks (ikke tilgjengelig p.t.) - Tjenesteeierstyrt rettighetsregister\n8.1 Innsendingstjenester Innsendingstjenester utvikles i tjenesteutviklingsløsningen (TUL) i Altinn, og er en definert innsending av spesifikke skjema/skjemasett med eller uten vedlegg. Fylles ut i Altinn portalen eller i integrert sluttbrukersystem, signeres og sendes inn. Påbegynte og innsendte innsendingstjenester kan oppbevares i sluttbrukers meldingsboks i Altinn.\nSvardata sendes tjenesteeier. Tjenesteeier kan også legge skjemaet klart i den enkeltes brukers arbeidsliste og varsle om frister og lignende.\nFor tjenesteeiere omhandler \u0026ldquo;Innsendingstjenester\u0026rdquo; følgende: - innsending av prefilldata - innsending av abonnementsdata - mottak av ferdig utfylte innsendinger fra Altinn - uthenting av innsendte data fra tjenesteeiers eget arkiv - uthenting av kvittering for status på innsending\n8.1.1 Innsending av prefilldata Tjenesteeier kan sende inn prefilldata for en tjeneste i Altinn, og dataene benyttes ved preutfylling. Preutfylling innebærer at en gitt tjeneste (skjema/skjemasett) ved aktivisering i Altinn blir forhåndsutfylt med data mottatt fra tjenesteeiere og nasjonale registre. Prefilldata kan sendes i sanntid eller satsvis (batch).\nDet finnes fem typer data ifbm. preutfylling: 1. Sende inn preutfylte skjemasett - Tjenesteeier kan sende inn ett eller flere preutfylte skjemasett for en gitt tjeneste versjon, eller rapporteringsplikt for lagring i database. - Benyttes når en avgiver eller abonnementsrutine aktiviserer tilknyttet tjeneste i portalen. - Skjemasettet kan inneholde identifiserende felter, for å kunne ha forskjellige preutfylte skjemasett ved rapportering flere ganger i året. Se eget punkt nedenfor om Identifiserende felter for mer info. - Kan sendes i sanntid eller satsvis. Ved overføring i sanntid overføres en liste av preutfylte skjemasett asynkront, og kvittering returneres. - Kvittering for info om status på asynkron innsending kan hentes ut vha. web service kall, se avsnitt Receipt (9.3). Referanse angitt ved innsending benyttes som nøkkel. 2. Identifiserende felter - Verdier som legges på et preutfylt skjemasett, for å gjøre skjemasettet unikt - Verdiene kan være \u0026ldquo;hva som helst\u0026rdquo;, men typisk noe som kan knyttes til det preutfylte skjemasettet, f.eks. \u0026ldquo;rapport X\u0026rdquo;, \u0026ldquo;periode Y\u0026rdquo; (2 verdier). - Preutfylte skjemasett uten identifiserende felter benyttes ved aktivisering av tjenester i Altinn portal, og/eller sammen med abonnement. - Preutfylte skjemasett med identifiserende felter benyttes kun sammen med abonnement. 3. Direkte aktivisering av ett preutfylt skjemasett - Tjenesteeier kan sende inn ett preutfylt skjemasett som øyeblikkelig blir tilgjengeliggjort i avgivers arbeidsliste i portalen - Med eller uten varsel etter tilgjengeliggjøring i arbeidslisten. - Det preutfylte skjemasettet kan lagres til database for senere bruk, som beskrevet i punkt 1. - Kan kun sendes i sanntid, synkront. - Man vil kunne angi om det instansiert og preutfylt skjema skal knyttes til en samhandlingstjeneste ved å angi referansen i den valgfrie parameteren caseId i operasjonen. 4. Sende inn feltbasert preutfyllingsdata - Tjenesteeier kan sende inn feltnavn og feltverdi for felter som benyttes i skjemaer. - Ingen direkte knytning til tjeneste eller skjema, dvs. feltet kan finnes på flere tjenester for samme avgiver. - Benyttes når avgiver aktiviserer tjeneste som inneholder feltet i portalen. - Kan kun sendes inn satsvis. - Kvittering for status på batch-innsending kan hentes ut vha. web service kall, se avsnitt Receipt (9.3). Referanse angitt i xml ved innsending benyttes som nøkkel. 5. Preutfyllingsdata fra nasjonale registre - Data fra nasjonale registre som f.eks. Folkeregistre og Enhetsregisteret sendes inn til Altinn. - Register data knyttes til felter når tjeneste opprettes i Tjenesteutviklingsløsningen (TUL). - Benyttes når avgiver aktiviserer tjeneste som inneholder feltet\n Figur 1 - Skjermbildet viser RF-1047 i portalen. Feltene i den røde firkanten har automatisk blitt preutfylt av tjenesteeier.   Da det er flere kilder for preutfyllingsdata blir preutfyllingsdataene benyttet i følgende rekkefølge for å hindre uønskede overskrivelser: 1. Preutfylt skjemasett Hentes fra Altinn databasen dersom det finnes for gitt tjeneste og avgiver. 2. Feltbasert preutfylling. Felter som finnes for gitt avgiver og aktivisert skjema hentes fra Altinn databasen. Overskriver evt. Preutfylt skjemasett. 3. Preutfyllingsdata fra nasjonale registre. Data fra nasjonale registre er feltbasert og overskriver alle andre preutfyllingsdata typer.\nFor satsvis overføring kan data hentes fra tjenesteeiers system, eller tjenesteeier kan levere data på et definert Altinn område.\nTjenesten må være opprettet i TUL og eksportert til SBL, for at preutfyllingsdata for den gitte tjenesten skal kunne mottas.\nFor flere detaljer rundt kontrakten for SubmitPrefilledFormTasks og SubmitAndInstantiatePrefilledFormTask vennligst se henholdsvis kapittel 9.6.2 og 9.6.1, Tjenestekatalog og WSDL.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet: | Tjeneste | Operasjon | Type| |\u0026mdash;\u0026mdash;\u0026ndash;|\u0026mdash;\u0026mdash;\u0026ndash;|\u0026mdash;\u0026mdash;\u0026ndash;| |Prefill| SubmitPrefilledFormTasks|Basic/WS/EC| |Prefill|SubmitAndInstantiatePrefilledFormTask|Basic/WS/EC| |Receipt|GetReceipt|Basic/WS/EC|\nBatch grensesnitt som inngår i beskrevet funksjonalitet:\n   Batch Operasjon Type     Preutfylling XML FTP/SFTP    8.1.2 Innsending av abonnementsdata Tjenesteeiere kan opprette abonnement på innsendingstjenester som aktiverer og tilgjengeliggjør innsendingstjenesten i den gitte avgivers arbeidsliste. Kan sendes i sanntid eller satsvis (batch).\nVed overføring i sanntid overføres en liste med abonnement, dvs. ett eller flere asynkron overføringer.\nFor satsvis overføring kan data hentes fra tjenesteeiers system, eller tjenesteeier kan levere data på et definert Altinnområde.\nTjenesten må være opprettet i TUL og eksportert til SBL, for at et abonnement for den gitte tjenesten skal kunne mottas.\nMan kan opprettet følgende abonnementstyper: • Engangsaktivering • For en gitt periode/periodisk rapporteringsplikt • I et gitt intervall • På gitte tidspunkter med gitte frister\nEt abonnement kan være tilknyttet identifiserende felter for å kunne koble et abonnement til et bestemt preutfylt skjemasett for den gitte avgiver. Det preutfylte skjemasettet med de samme identifiserende feltene må finnes i Altinn databasen før abonnementet aktiviseres. Se eget punkt om Identifiserende felter for mer info.\nMottatte abonnementsdata lagres til databasen.\nVed innsending av abonnementsdata vil man kunne angi om skjema skal knyttes til en samhandlingstjeneste ved å angi referansen i den valgfrie parameteren CaseId i SubmitSubscription.\nKvittering for info om status på innsending kan hentes ut vha. web service kall, se avsnitt Receipt (9.3). Referanse angitt ved innsending via web service/batch grensesnitt (xml) benyttes som nøkkel.\nEn rutinejobb i Altinn vil med jevne mellom gå igjennom abonnementsdatabasen for å finne abonnement/innsendingstjenester som er klare for instansiering, dvs. den vil aktivisere alle abonnement hvor startdato er mindre enn, eller lik, dagens dato. Startdato er satt av tjenesteeier, og neste aktiviseringsdato kalkuleres automatisk av rutinejobben i Altinn ut fra gitte parametre satt av tjenesteeier. Se parameter detaljer i avsnittet SubmitSubscription (web service) (9.7.1) eller Abonnement (batch) (10.3).\nFor flere detaljer rundt kontrakten for SubmitSubscription vennligst se kapittel 9.7.1, Tjenestekatalog og WSDL.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     Subscription Basic/SubmitSubscription/EC Basic/WS/EC   Receipt GetReceipt Basic/WS/EC    Batch grensesnitt som inngår i beskrevet funksjonalitet:\n   Batch Overføringsformat Protokoll     Abonnement XML FTP/SFTP    8.1.3 Motta data for innsendinger Arkiverte innsendinger i Altinn tilgjengeliggjøres til tjenesteeier for henting/overføring. Kan enten sendes i sanntid per innsending, satsvis (batch), eller ved å bruke DownloadQueue.\n For sanntid, dvs. ved bruk av web service, må tjenesteeier etablere dedikert web service angitt av Altinn på egen plattform, og motta innsendinger automatisk etter hvert som de arkiveres. Se eget avsnitt: 9.15 Online overføring til Tjenesteeier.\n For satsvis overføring kan data leveres til en tjenesteeiers mottakssystem dersom det er etablert, eller tjenesteeier kan hente data på et definert Altinn område.\n Tjenesteeier kan velge å bruke DownloadQueue web service, som lar tjenesteeiere hente meta-data fra en kø, som så kan brukes til å hente individuelle arkiverte innsendinger.\n  Tilgjengeliggjøres i standard Altinn format eller transformeres til tjenesteeiers eget mottaksformat.\nKvittering først opprettet ved innsending fra tjenesteeier oppdateres med informasjon om utsending, dvs. livsløpet til innsendingstjenesten dokumenteres. Kvittering kan hentes ut vha. web service kall, se avsnitt Receipt (9.3). Referanse angitt ved innsending benyttes som nøkkel.\nInnsendinger for tjenesteutgaver knyttet til DownloadQueue (konfigureres under utgaveparametere i TUL) vil legge til metadata for innsendinger i DownloadQueue. Tjenesteeier kan hente en liste med disse metadata ved å bruke et web service kall, se kapittel for DownloadQueue (9.16) Metadata kan så benyttes til å hente individuelle arkiverte innsendinger med vedlegg. I tillegg er det en tjenesteoperasjon som gir tilgang å hente ned en PDF versjon av et skjemasett. Denne vil støtte PDFA standarden.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet for overføring i sanntid:\n   Tjeneste Operasjon Type      Basic/ReceiveOnlineBatchExternalAttachment Basic   Receipt GetReceipt Basic/WS/EC    Batch grensesnitt som inngår i beskrevet funksjonalitet:\n   Batch Overføringsformat Protokoll     Innsendingstjenester XML FTP/SFTP    Tjenester og tjenesteoperasjoner som inngår i DownloadQueue:\n   Tjeneste Operasjon Type     DownloadQueue GetDownloadQueueItems Basic/WS/EC   DownloadQueue PurgeItem Basic/WS/EC   DownloadQueue GetArchivedFormtaskDQ Basic/WS/EC   DownloadQueue GetFormSetPdf Basic/WS/EC    8.1.4 Status på sending av innsendte element For arkiverte elementer som blir sendt til tjenesteeier i sanntid eller satsvis beskrevet i 8.1.3 kan tjenesteeier hente status på elementer ved bruk av ArchiveShipmentStatus tjenesten. Ved å bruke ArchiveShipmentStatus webtjenesten kan tjenesteeier hente en enkel oversikt over overførsels-status på individuelle elementer eller for lister av elementer sortert på tjeneste.\nTjenester og tjenesteoperasjoner som inngår i ArchiveShipmentStatus:\n   Tjeneste Operasjon Type     ServiceOwnerArchive GetArchiveShipmentStatus Basic/WS/EC    8.1.5 Dekryptering av sensitive felter data i innsendingstjenesten Altinn støtter funksjonalitet for innsending av sensitive tjenester med sensitive felter. Slike skjema kan sendes inn via portalen eller sluttbrukersystemer. For å kunne lese de sensitive feltene tjenester må tjenesteeier benytte sine egne sertifikater for å dekryptere feltene.\nKrypteringen skjer ved at innsender benytter en symmetrisk nøkkel på 128 bit i en AES algoritme for å kryptere det sensitive feltene i skjemaet. Sluttbrukersystemer må selv generere denne nøkkelen og kryptere det sensitive felteneskjemaet, mens dette vil bli håndtere for bruker i portalen.\nFor at bruker senere skal kunne dekryptere feltene fra skjemaet sendes den symmetriske nøkkelen med forsendelsen, men denne er da kryptert ved et selvvalgt brukerpassord på minst 8 tegn. Bruker kan da hente ut data, dekryptere symmetrisk nøkkel ved hjelp av sitt selvvalgte passord, og bruke denne til å dekryptere den sensitive dataen.\nFor at tjenesteeier skal kunne dekryptere feltene må de også ha krypteringsnøkkelen. Den symmetriske nøkkelen må derfor også krypteres med tjenesteeierens offentlige sertifikat ved hjelp av algoritmen RSA, og lagt ved innsendingen. Når tjenesteeier da mottar sensitiv data vil de først bruke sin private nøkkel til å dekryptere krypteringsnøkkelen, deretter bruke denne nøkkelen til å dekryptere de sensitive feltenedata.\nInnsendinger med av sensitive felt tjenester og vedlegg overføres til etat via batch eller via online oppslag til tjenesteeiers arkiv på samme måte som andre innsendinger for tjenester uten sensitiv informasjon.\n8.1.5.1 Tekniske detaljer Den symmetriske nøkkelen som er brukt til å kryptere de sensitive feltene i et skjema som skal dekrypteres hos tjenesteeier gjøres tilgjengelig i skjema ved hjelp av XML-Enc standarden (http://www.w3.org/TR/xmlenc-core/). Den krypterte symmetriske nøkkelen ligger pakket sammen med en referanse til sertifikatet som er brukt på følgende form.\n\u0026lt;my:txtFN\u0026gt; \u0026lt;EncryptedData Type=\u0026quot;http://www.w3.org/2001/04/xmlenc#Content\u0026quot; xmlns=\u0026quot;http://www.w3.org/2001/04/xmlenc#\u0026quot;\u0026gt; \u0026lt;EncryptionMethod Algorithm=\u0026quot;http://www.w3.org/2001/04/xmlenc#aes128-cbc\u0026quot; /\u0026gt; \u0026lt;ds:KeyInfo xmlns:ds=\u0026quot;http://www.w3.org/2000/09/xmldsig#\u0026quot;\u0026gt; \u0026lt;EncryptedKey xmlns=\u0026quot;http://www.w3.org/2001/04/xmlenc#\u0026quot;\u0026gt; \u0026lt;EncryptionMethod Algorithm=\u0026quot;http://www.w3.org/2001/04/xmlenc#rsa-1_5\u0026quot; /\u0026gt; \u0026lt;CipherData\u0026gt; \u0026lt;CipherValue\u0026gt;Ahgw/pNo9fcfUtOr8aTceVkFlCsC58HY0VrQUJW1B/AxMOzYsyKhWRorUViQENqSJabEiwfin4zO2qzRuELwGXBFZ4jtkwlJpnAd+6NuCZ/P0ZsxJG5A8XnALmVCBpIcOPaPUa3Q211Bnu3eCHaMmgw9/itX3g3FPZItkwNEfGg=\u0026lt;/CipherValue\u0026gt; \u0026lt;/CipherData\u0026gt; \u0026lt;/EncryptedKey\u0026gt; \u0026lt;ds:KeyName\u0026gt;CD13AEC20C0564C2B5499630BE478654D3ADD64A\u0026lt;/ds:KeyName\u0026gt; \u0026lt;/ds:KeyInfo\u0026gt; \u0026lt;CipherData\u0026gt; \u0026lt;CipherValue\u0026gt;TJ+KuQDc2ccduVlCIaM9sw==\u0026lt;/CipherValue\u0026gt; \u0026lt;/CipherData\u0026gt; \u0026lt;/EncryptedData\u0026gt; \u0026lt;/my:txtFN\u0026gt;  I dette eksempelet er my:txtFN feltet i skjema som inneholder sensitive data. I slike felt vil man finne et EncryptedData element som inneholder følgende 3 viktige elementer 1. Symmetrisk nøkkel kryptert med sertifikat. (EncryptedData/KeyInfo/EncryptedKey/Cipherdata) 2. Referanse til sertifikat brukt for å kryptere symmetrisk nøkkel. Dette er en thumbprint av sertifikat for tjenesteier. Den brukes internt hos tjenesteeier til å gjøre oppslag i keystore for å få tak i privat nøkkel og dermed kunne dekryptere den symmetriske nøkkelen. (EncryptedData/KeyInfo/KeyName) 3. Skjemadata kryptert med symmetrisk nøkkel. (EncryptedData/CipherData/CipherValue)\nSkjemadata er kryptert ved hjelp av den symmetriske AES algorithmen med en blocksize på 128 bit, ciphermode CBC (Cipher-block chaining, http://en.wikipedia.org/wiki/Block_cipher_modes_of_operation ) og padding er PKCS7.\nDen symmetriske nøkkelen er kryptert med RSA algoritmen, ECB mode og PKCS1 padding.\nFor tjenester som har krypterte vedlegg og krypterte skjemaer benyttes nøkkelinformasjonen som ligger i GetArchivedFormTaskBasicV2Result eller i data fra fil\n\u0026lt;SOEncryptedSymmetricdKey\u0026gt; \u0026lt;EncryptedKey\u0026gt;u7CPRJ/ZtOoFPU4tkSqBDLW6e0V1Mr92C0oTC7bWztYuCvgl0+R2DUW/8iSSaH3+Wl1vnWTRSnuEDiKBVenfEjQ5j89WHvbA0QO1cMzIpYl53EDBt1tvoVHaJYq+4KJIo2DGNYNHyb2iFIgn39BYo4KpNLW1Yk2k8MegCgnajMnSICSuYuy5sGuBkvytottC0h2KKR7PAZtuuzJ4PRnby2AAMNmSB8VusNctDen/d8nF1Sh1DRcP9pArBvsxEH2A7SwiKS+dRC/J2QK7iM1I6Tphkalsyjmgn03LkJMm/8X9ufp+fN6n8Czg+BsZ1+rw2DD7vgTDGMyn+41gqZW1qg==\u0026lt;/EncryptedKey\u0026gt; \u0026lt;CertificateThumbprint\u0026gt;5D15D6E888632370E0223B779C4E0F0D9D45DED0\u0026lt;/CertificateThumbprint\u0026gt; \u0026lt;/SOEncryptedSymmetricdKey\u0026gt;  Se kapittel 14 for kodeeksempler.\nFormDataXml er kryptert ved hjelp av den symmetriske AES algorithmen med en blocksize på 128 bit, ciphermode CBC (Cipher-block chaining, http://en.wikipedia.org/wiki/Block_cipher_modes_of_operation ) og padding er ISO10126.\n###8.2 Meldingstjenester Tjenesteeiere kan sende informasjon i form av meldinger til brukere av Altinn, og meldingene støtter HTML og vedlegg. Brukere kan varsles med e-post eller SMS om at informasjon er gjort tilgjengelig, for innsyn eller behandling. Tjenesteeiere får informasjon om hvilke utsendte meldinger som er åpnet, og kan eventuelt kreve at brukeren bekrefter mottaket innen en fastsatt frist. Tjenesteeier kan enkelt sjekke status for innsendte meldinger på en meldingstjeneste ved å benytte eget web service kall med et sett av søkeparametere.\nMeldingene kan oppbevares i sluttbrukers meldingsboks i Altinn i en fastsatt periode, eventuelt slettes av brukeren. Bruker kan også arkivere meldingene til sitt arkiv. Om meldingen krever bekreftelse må dette gjøres før meldingen eventuelt kan arkiveres.\nMeldinger kan også eventuelt sendes til \u0026ldquo;Digital postkasse til innbygger\u0026rdquo; hvis brukeren har registrert en slik postkasse i Kontakt- og reservasjonsregisteret. (Dette gjelder kun personer, ikke organisasjoner.) Digitale brev kan opprettes istedenfor eller i tillegg til en melding i Altinn.\nI sammenheng med opprettelse av digitale brev er det også mulig å bestille varsel fra DPI løsningen. DPI varsel vil bli sendt ut av postkasse leverandøren. Meldingsvarsel og DPI varsel er helt separate og bestilles hver for seg. For varsel fra DPI følger grensesnittet til Altinn i stor grad definisjonene til difi.\n http://begrep.difi.no/SikkerDigitalPost/1.2.0/begrep/Varsler 8.2.1 Sende inn meldingstjenester Tjenesteeiere kan sende en melding til en gitt person eller bedrift som tilgjengeliggjøres for lesing/henting via Altinn. Kan enten sendes i sanntid per innsending, eller satsvis (batch).  Melding kan være: • Ren tekst. • HTML basert (formatert visning i nettleser). • XML basert med referanse til tilhørende visningsskjema. (Skjema må defineres på tjenesten i TUL.) • PDF. Dette gjelder kun sikker digital post. (Altinn vil selv behandle det som vedlegg.) • Kombinasjon av alle over.\nAnnet: • Brukere kan reservere seg mot å motta digital korrespondence gjennom kanaler som Altinn og digital postkasse. Tjenesteeiere kan velge å respektere eller ignorere slike reservasjoner. Se IsReservable. • Inneholde binære vedlegg (for nedlasting), valgfri parameter DestinationType vil kunne begrense om vedleggene er tilgjengelig i portal eller sluttbrukersystem, eller begge. Om ikke sendt inn blir den satt til standard verdi ShowToAll. Ved videresending til \u0026ldquo;Digital postkasse til innbygger\u0026rdquo; er det obligatorisk med minst ett vedlegg. Dette vil da benyttes som hoveddokument i det som sendes til brukerens digitale postkasse. • Varsles til en eller flere brukere på forskjellige kommunikasjonskanaler: - SMS - E-post • Tilknyttet en eksisterende samhandlingstjeneste ved å benytte valgfri caseID parameter. Om meldingstjenesten ikke tilhører den angitte samhandlingstjenesten eller denne ikke eksisterer vil operasjonen avbrytes. • Mulig å videresende meldingen til en e-post adresse om angitt i valgfri parameter AllowForwarding. Er denne satt til true vil bruker kunne sende meldingen videre som en e-post fra portalen. Om ikke satt settes den til standardverdi som er True. • En melding kan kobles til innsending ved å oppgi ArchiveReference. Dette vil da oppfattes som et svar på en innsending. • Det er også mulig å gi instrukser for hvordan en bruker kan svare på en melding. - I form av en enkel link brukeren kan åpne. - I from av et skjema som bruker må sende inn. - I from av en kopi av eksisterende innsending. Brukeren korrigerer og sender inn.\nDigital postkasse til innbygger: Løsningen for «Digital postkasse til innbygger» har ikke støtte for all funksjonalitet som finnes i Altinn. Funksjoner som ikke blir brukt hvis det ikke opprettes noen melding i Altinn: • Opprettelse av kobling mellom melding og en innsending. (Tjenesteeier svar på innsending) • Svar på melding. (Sluttbruker svar på melding fra tjenesteeier.) • Knyttning mot samhandlingstjenester. • Varsel for h.h.v melding og digitalt brev styres med ulike innstillinger.\nVed overføring i sanntid sendes en og en melding av gangen. Synkron overføring.\nFor satsvis overføring kan data hentes fra tjenesteeiers system, eller tjenesteeier kan levere data på et definert Altinn område.\nTjenesten må være opprettet i TUL og eksportert til SBL, for at meldingene skal vises for sluttbrukerne/sluttbrukersystemer.\nKvittering for info om status på innsending kan hentes ut vha. web service kall, se avsnitt Receipt (9.3). Referanse angitt ved innsending via web service/batch grensesnitt (xml) benyttes som nøkkel.\nFor flere detaljer rundt kontrakten for InsertCorrespondenceV2 vennligst se kapittel 9.4.1, Tjenestekatalog og WSDL.\nDet tilbys støtte for gammelt AltUt format for eksisterende tjenesteeiere i Altinn.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     Correspondence InsertCorrespondenceV2 Basic/WS/EC   AltUt SubmitAltutMessagePw Basic   Receipt GetReceiptV2 Basic/WS/EC    Batch grensesnitt som inngår i beskrevet funksjonalitet:\n   Batch Overføringsformat Protokoll     Correspondence format XML FTP/SFTP   AltUt Format XML FTP/SFTP    8.2.2 Motta meldingsbekreftelse En meldingstjeneste kan defineres med at tjenesteeier ønsker: • Åpne bekreftelse • Lese bekreftelse\nMeldingsbekreftelser tilgjengeliggjøres for overføring / henting: • Tilgjengeliggjøres i \u0026ldquo;sanntid\u0026rdquo; per innsending • Samles opp og tilgjengeliggjøres på gitte intervall eller spesifikt tidspunkt (batch)\nData kan leveres til en tjenesteeiers mottakssystem dersom det er etablert, eller tjenesteeier kan hente data på et definert Altinn område.\nTilgjengeliggjøres i standard Altinn format eller transformeres til tjenesteeiers eget mottaksformat.\nKvittering først opprettet ved innsending fra tjenesteeier oppdateres med informasjon om utsending, dvs. livsløpet til meldingstjenesten dokumenteres. Kvittering kan hentes ut vha. web service kall, se avsnitt Receipt (9.3). Referanse angitt ved innsending benyttes som nøkkel.\nTilbyr støtte for gammelt AltUt format for eksisterende tjenesteeiere i Altinn.\nBatch grensesnitt som inngår i beskrevet funksjonalitet:\n   Batch Overføringsformat Protokoll     CorrespondenceConfirmations XML FTP/SFTP   AltUtConfirmationBatch XML FTP/SFTP    Det tilbys også egen funksjonalitet for rapportering av en samlet meldingstjeneste hvor tjenesteeier vil motta informasjon om status for alle brukere etter et gitt antall dager definert for tjenesten i TUL. Status for hver bruker her vil kunne være ikke lest, lest, og bekreftet. Data leveres til tjenesteeiers mottakssystem dersom det er etablert.\n   Batch Overføringsformat Protokoll     CorrespondenceUsageData XML FTP/SFTP    8.2.3 Sjekke status på meldingstjenester Tjenesteeier kan enkelt sjekke status på meldinger de har sendt inn på en tjeneste ved å benytte egen web service for dette. Resultatsettet fra tjenesten vil være avhengig av søkeparameterne som tjenesteeier sender inn. Tjenestekode (ServiceCode) og tjenesteutgavekode (ServiceEditionCode) er pålagte parametere i spørringen, mens det videre kan filtreres ved å sende inn SendersReference, avgiver (Reportee), til og fra dato (CreatedAfterDate og CreatedBeforeDate), konkrete meldingsstatuser (CurrentStatus), samt hvorvidt det har blitt sendt varsel (NorificationSent).\nFor hver enkelt melding som passer til søkekriteriene tjenesteeier angir vil man få returnert følgende informasjon: - ID for meldingen - Når meldingen ble opprettet - Avgiver meldingen tilhører - Avsenders referanse (satt av tjenesteeier) - Liste over statusendringer med tidspunkt - Liste med varsler knyttet til meldingen, inkludert mottaker, tidspunkt for når varselet er sendt (om sendt) og varselskanal.\nStatussjekk operasjonen kan også returnere status på det som er blitt forsøkt videresendt til Digital postkasse til innbygger. Statusinformasjon for post som er videresendt inneholder: - ID for sikkert brev slik det er registrert i Altinn - Unik ID for brevet slik det fremkommer i sikker digital post systemet. - Når brevet ble opprettet - Når status for brevet ble sist endret - Avgiver brevet tilhører - Avsenders referanse - List med alle statusene brevet har hatt.\nI tillegg til denne informasjonen returneres også tjenestekode og tjenesteversjonskode tilbake, samt en parameteren som angir om en grense for antall returmeldinger er nådd (LimitReached). Er grensen nådd må tjenesteeier spisse søket sitt, f.eks. ved å begrense tidsrommet, for å få hentet ut status for alle meldingene.\nFor flere detaljer rundt kontrakten for GetCorrespondenceStatusDetails vennligst se kapittel 9.4.5.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     Correspondence GetCorrespondenceStatusDetails Basic/WS/EC    8.3 Lenketjeneste Formålet med en lenketjeneste er å overføre en bruker i Altinn til en annen nettside og er derfor alltid assosiert med en URL. Lenketjenester blir ikke instansiert i Altinn og er derfor ikke å finne i min meldingsboks i Altinn. For å kunne identifisere hvilken avgiver brukeren valgte å starte tjenesten med, sendes det med en nøkkel som den eksterne tjenesteportalen kan benytte for å spørre Altinn om informasjon om valgt avgiver. Det er også mulig å etterspørre informasjon om hvilke avgivere en bruker kan representere ved å benytte web service metoden GetReportees.\nLenketjenester defineres i TUL som de andre tjenestetypene slik at man kan sette autentiseringsnivå og autorisasjonsregler for start av tjenesten. Ekstern portal må verifisere at bruker faktisk skal ha tilgang til tjenestene portalen tilbyr, ved å benytte seg av Altinns XACML grensesnitt for ekstern autorisasjon.\nFor flere detaljer rundt kontrakten for GetReporteeByTempKey og GetReportees vennligst se henholdsvis kapittel 9.8.4 og 9.8.3. For mer informasjon om ekstern autorisasjon se kapittel 8.9.2 og 9.9.1.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     AuthorizationAdministration GetReporteeByTempKey WS/EC   AuthorizationAdministration GetReportees WS/EC   AuthorizationDecisionPointExternal AuthorizeAccessExternal WS    8.4 Formidlingstjenester Formidlingstjenester handler om å transportere data fra en eller flere avgivere til en eller flere mottakere, hvor Altinn fungerer som mellommann som sørger for transport og infrastruktur. Altinn er sådan en passiv part i prosessen, og både avsender og mottaker må benytte grensesnitt tilgjengeliggjort av Altinn.\nInnholdet i en formidlingstjeneste er data som er bestemt mellom aktørene som inngår i en formidlingstjeneste, og er ikke kjent av Altinn.\nFormidlingstjenesten overføres fra avsender til mottaker, og tjenesteeiere benytter derfor ikke egne grensesnitt kun for tjenesteeiere for formidlingstjenesten, men benytter i stedet de samme grensesnitt som er tilgjengelig for alle brukere av Altinn. Se derfor Implementasjonsguide for sluttbrukersystemer for mer informasjon om hvordan disse grensesnittene skal benyttes.\nTransport av data i en formidlingstjeneste kan gå via web service og SFTP kanal, både for opp- og nedlasting. Ved bruk av web service vil det være en funksjonell begrensning i størrelsen på filer som kan lastes opp og ned, satt til 1GB, mens grensen for SFTP-kanalen vil ligge på i underkant av 2GB.\nData som skal overføres over SFTP kanalen pakkes i en ZIP-fil med to forhåndsdefinerte Altinn XML filer for å definere metadata (manifest.xml) og mottakere (recipients.xml). Ved bruk av web service sendes først metadata og mottaker liste, før selve dataen overføres i en egen operasjon. Utover dette kan ZIP-filen i prinsippet inneholde hva som helst av data som må overføres til en eller flere aktører. Utover viruskontroll gjør ikke Altinn noen form for validering eller prosessering av denne dataen som forsendes, men sørger for at oppgitt metadata og mottakerinformasjon er korrekt og validerer, samt holder orden på kvitteringer og sporingsinformasjon om forsendelsen.\nFormidlingstjenester er tenkt brukt primært for formidlinger: - B2B (Business-to-Business), B2G (Business-to-Government), G2B (Government-to-Business), eller G2G(Government-To-Government)\nNår en avsender laster opp en formidlingstjeneste vil Altinn verifisere metadata og mottakere. Når dette er gjort vil forsendelsen gjøres tilgjengelig for mottakere for nedlasting. Samtidig vil Altinn opprette en kvitteringshierarki med en hovedkvittering tilhørende avsender, samt en underkvittering per mottaker. Hver underkvittering vil inneholde status på nedlastingen for denne mottakeren. Alle kvitteringer vil være knyttet til referanse satt av avsender. Avsender og mottaker kan også utveksle ytterligere statustekst på disse kvitteringene gjennom web service. På denne måten kan avsender følge opp status for hver enkelt mottaker.\nTiden en formidlingstjeneste vil være tilgjengelig for nedlasting i Altinn vil kunne variere fra tjeneste til tjeneste og styres av tjenesteeier. Dette betyr at filene etter en viss tidsperiode vil bli slettet selv om filene ikke er lastet ned av en eller flere av mottakerne.\nFormidlingstjenesten kan av tjenesteeier også settes opp til å benytte seg av et tjenesteeierstyrt rettighetsregister. Dette registeret kan begrense hvem som har tilgang til opp- og nedlasting av spesifikke tjenester, og styres av tjenesteeier. Se kapittel 8.12 for mer informasjon om dette registeret og hvordan dette styres. For formidlingstjenesten er det tjenesteeierstyrte rettighetsregisteret definert med følgende grunnleggende regler: - For å kunne laste opp en formidlingstjeneste må avsender inneha «write»-rettigheten for formidlingstjenesten. - For å kunne laste ned en formidlingstjeneste må mottaker inneha «read»-rettigheten for formidlingstjenesten. I enkelte brukstilfeller er det i tillegg ønskelig at mottaker også skal kunne sende informasjon tilbake til avsender. For å unngå at alle mottaker da også får «write»-rettigheten, og på den måten kan sende til andre mottakere, benyttes feltet «condition» (betingelse) i det tjenesteeierstyrte rettighetsregisteret. For å støtte brukstilfellet har man derfor også følgende regler: - En mottaker som kun skal kunne sende tilbake til en avsender av tjenesten må ha rettigheten «write», men da med «condition» satt til verdien «recipient». Denne betingelsen benyttes så i Altinn til å validere mottakerlisten, og kun brukere som har rettigheten «read» med «condition» satt til «sender» vil være godkjente mottakere. Dette er vist med Org D i figuren under som kun kan sende til Org A. - Merk her at avsender med rettigheten «write» uten «condition» kan sende til en mottaker med rettighet «read» med «condition» satt til «sender». Dette er vist med Org B i figuren under som kan sende til samtlige andre mottakere.\nVed bruk av tjenestene som tilbys av tjenesteeierstyrt rettighetsregister (9.17) kan det bemerkes at parameteren «Party» ikke benyttes for formidlingstjenesten.\n Figur 2 - Viser de ulike mulighetene for formidlingstjenesten som er gyldige og hvilke rettigheter og betingelser som trengs.   Se også Vedlegg C: Flytdiagram for formidlingstjeneste for overordnet flyt ved bruk av formidlingstjeneste mellom avsender og mottaker.\n8.5 Innsynstjenester Når en tjenesteeier ønsker å tilgjengeliggjøre et register for oppslag for brukere, men uten å ha tilgjengelig presentasjon for dette så kan det realiseres ved hjelp av en innsynstjeneste i Altinn. Konseptuelt kan man se en innsynstjeneste som en kombinasjon av en innsendingstjeneste og en meldingstjeneste der hvor det ikke foregår noen behandling av den innsendte informasjonen.\nEn innsynstjeneste bygger på en Web Service eksponert fra tjenesteeierens side og kan benyttes av både portalbrukere og sluttbrukersystemer via Altinn som et mellomledd.\nInnsynstjenester kan i TUL settes opp slik at tjenesteeier kan motta informasjon om brukere som har aktivert en innsynstjeneste. For dette kreves det at et forsendelsesoppsett settes opp i Altinn mot tjenesteeieren (ShipmentDefinition). Denne vil angi metode og overordnet mal (ShipmentOutboundTemplate) forsendelsen skal sendes på. Hver forsendelse består av den definerte malen, samt en eller flere forsendelses-deler som hver representerer en åpnet innsynstjeneste. En forsendelses-del følger et gitt format:\nInnsynstjeneste forsendelses-del (LookupServiceUseConfirmation)\n\u0026lt;LookupServiceUseConfirmation\u0026gt; \u0026lt;ServiceCode\u0026gt; \u0026lt;!--Angir innsynstjenestens tjeneste kode--\u0026gt; \u0026lt;/ServiceCode\u0026gt; \u0026lt;ServiceEdition\u0026gt; \u0026lt;!--Angir innsynstjenestens tjeneste versjon kode--\u0026gt; \u0026lt;/ServiceEdition\u0026gt; \u0026lt;ReporteeNumber\u0026gt; \u0026lt;!--Angir aktuell avgiver som aktiverer innsynstjenesten, fødselsnummer eller organisasjonsnummer--\u0026gt; \u0026lt;/ReporteeNumber\u0026gt; \u0026lt;ReadDateTime\u0026gt; \u0026lt;!--Angir dato og tid når innsynstjenesten ble aktivert--\u0026gt; \u0026lt;/ReadDateTime\u0026gt; \u0026lt;/LookupServiceUseConfirmation\u0026gt;  For mer informasjon om hvordan en innsendingstjeneste tilgjengeliggjøres i portal og for sluttbrukersystemer, se TR435 Brukerdokumentasjon for tjenesteutvikling.\n8.6 Samhandlingstjenester En samhandlingstjeneste er ikke som andre tjenestetyper i Altinn da oppgaven til denne er å sette sammen flere andre tjenestetyper til én logisk prosess for brukeren. Dette er uavhengig av om de underliggende tjenestetypene er rettet mot én eller flere tjenesteeiere.\nEt eksempel på en samhandlingstjeneste kan være Skattedialog. Her kan man ha flere underliggende innsendingstjenester, meldingstjenester og innsynstjenester ovenfor Skatteetaten som knyttes sammen til én logisk forretningsprosess. Et annet eksempel vil kunne være Navnedialog. En samhandlingstjeneste som kan knytte sammen innsendingstjenester og meldingstjenester mot flere tjenesteeiere.\nSamhandlingstjenester kan være definert av sluttbrukere (brukerdefinert samhandlingstjeneste – en samleside) eller av tjenesteeiere (tjenesteeierdefinert samhandlingstjeneste – en e-dialog). Den brukerdefinerte samhandlingstjenesten er predefinert i TUL av en tjenesteutvikler. Denne kan instansieres og til en viss grad tilpasses av sluttbruker i SBL. Tjenesteeiere definerer i sin helhet egne samhandlingstjenester ved hjelp av TUL. Disse blir deretter migrert til SBL i likhet med andre tjenestetyper. I integrasjonssammenheng er det de tjenesteeierdefinert samhandlingstjenestene som er interessante.\nEn instans av en samhandlingstjeneste har en unik Case ID tilknyttet – en saks id. Når det da refereres til en instans av en samhandlingstjeneste, beskrives det ved bruk av Case ID.\nFølgende illustrerer mulighetsrommet for Samhandlingstjenester og en typisk kronologisk rekkefølge:\nTUL: 1. Definisjon av Altinn-tjenester med tjenestetype “Samhandlingstjeneste\u0026rdquo;.\n Definisjon av tjenestesammensetning. Tjenester som kan velges til å inngå i en samhandlingstjeneste må være av typen innsynstjeneste, meldingstjeneste eller innsendingstjeneste.\n Definisjon av gjenbruk av data mellom deltakende tjenester i samhandlingstjenesten. Produsent og konsument av data settes opp. Merk at kun innsendingstjenester kan settes opp som konsument.\n Definisjon av en tilstandsmaskin som identifiserer forretningsprosessen som et logisk sett av tilstander sammen med tilhørende presentasjon i form av dialogsider (se punkt 5).\n Definisjon av hendelser som kan medføre en tilstandsovergang for samhandlingstjenesten. Betingelser kan knyttes til hendelsene slik at de må oppfylles før en tilstandsovergang kan skje. Hendelsene er typisk knyttet til stadier for de underliggende tjenestene som inngår i samhandlingstjenesten. Hendelser deles inn i forhåndsdefinerte og skreddersydde hendelser. De forhåndsdefinerte hendelse trigges automatisk i Altinn og består av følgende:\n     Hendelses Navn Tjenestetype Portal Sluttbrukersystem Etatssystem     Instantiated Innsendingstjeneste, Innsynstjeneste :white_check_mark: :white_check_mark:    Instantiated Innsendingstjeneste, Meldingstjeneste   :white_check_mark:   Submitted Innsendingstjeneste :white_check_mark: :white_check_mark:    Archived Alle :white_check_mark: :white_check_mark:    Opened Meldingstjeneste, Innsynstjeneste :white_check_mark: :white_check_mark:    Confirmed Meldingstjeneste :white_check_mark: :white_check_mark:     Tabellen viser de forhåndsdefinerte hendelsene, hvilken tjenestetype de er relatert til, samt om de trigges fra portal, sluttbrukersystem eller etatssystem. For eksempel kan etatssystem instansiere innsendingstjenester eller meldingstjenester, og dermed kun trigge hendelsen Instantiated for disse. Skreddersydde hendelser er hendelser definert av etat. Navn på disse hendelsene må defineres inn i tilstandsmaskinen (se punkt 3). Etaten kan kalle web service med hendelsen, både de forhåndsdefinerte og de skreddersydde, for å trigge en tilstandsovergang (se 8.6.1.6).\n Opplasting av grafikkfiler til bruk i forhåndsdefinert dialogkomponent\n Definisjon av dialogsider for samhandlingstjenesten basert på et sett av 6 forhåndsdefinerte maler og 10 forhåndsdefinerte dialogkomponenter.\n Definisjon av merknadsmaler for samhandlingstjenesten. Etaten kan ved bruk av et eksternt grensesnitt (se 8.6.1.5) sette predefinert merknad på samhandlingstjenesten eller tilhørende underliggende tjenester.\n Oversettelse til flere språk (engelsk, bokmål og nynorsk) for språkstøttet tekst i samhandlingstjenesten.\n Migrering av samhandlingstjeneste til SBL. Alle underliggende tjenesteutgaver som inngår i samhandlingstjenesten må være migrert før selve samhandlingstjenesten kan migreres.\n  For mer informasjon om oppsett av en samhandlingstjeneste i TUL, vennligst se Brukerveiledning for TUL.\nSBL:\n Opprettelse av en sak (instansiering av en spesifikk utgave og versjon av samhandlingstjenesten definert i TUL og migrert til SBL)\n Presentasjon av en sak til sluttbrukeren i et arbeidsområde i SBL, modellert for å gi støtte i prosessen relatert til samhandlingstjenesten med enkel tilgang til de underliggende tjenestene.\n Muliggjøre for sluttbruker og sluttbrukersystemer å interagere med de underliggende tjenestene gjennom henholdsvis dialogsidene for samhandlingstjenesten eller ved hjelp av de eksterne grensesnittene.\n Starte en tjeneste fra tjenestekatalogen som inngår som underliggende tjeneste til en samhandlingstjeneste, og deretter bli presentert med valget om man i stedet skal starte en ny eller åpne en eksisterende samhandlingstjeneste.\n Forårsake tilstandsoverganger som følge av de definerte hendelsene for tilstandsmaskinen.\n Muliggjøre at tjenesteeierssystemer kan sende merknader til saken og underliggende forekomster av tjenesteutgavene som inngår i sakens samhandlingstjeneste.\n Muliggjøre at tjenesteeierssystemer kan sende hendelser til den bestemte saken, eller til alle saker for en bestemt utgave og versjon av samhandlingstjenesten, gjennom eksternt grensesnitt.\n  Merk at en arkivert samhandlingstjeneste ikke vil være tilgjengelig i tjenesteeiers arkiv, kun i brukers arkiv.\n8.6.1 Tjenester i forhold til bruk av samhandlingstjenester Nedenfor beskrives funksjonalitet for samhandlingstjenester som kan benyttes av tjenesteeiere.\n8.6.1.1 Instansier en samhandlingstjeneste I de tilfellene en tjenesteeier ønsker å instansiere en samhandlingstjeneste (typisk knyttet til abonnementsinstanseriering) så kan en velge å instansiere en samhandlingstjeneste for en bruker/kunde.\n   Tjeneste Operasjon Type     CaseAgencySystem InstantiateCollaborationAgencySystem Basic/WS/EC    Samtlige parametere i operasjonen unntatt visibleDateTime og dueDate må sendes inn for å få opprette en sak. visibleDateTime kan benyttes for å sette når samhandlingstjenesten vil være synlig for brukeren frem i tid, om denne ikke angis vil tjenesten være synlig umiddelbart.\nFunksjonelt vil InstantiateCollaborationAgencySystem returnere en referanse til instansen som ble opprettet, caseID. Denne caseID må benyttes av tjenesteeieren på andre tjenester som ønsker å kommunisere med den opprettede instansen. Skulle en time-out oppstå vil ikke samhandlingstjenesten instansieres siden tjenesten er transaksjonshåndtert.\nFor flere detaljer rundt kontrakten vennligst se kapittel 9.10.1, Tjenestekatalog og WSDL.\n8.6.1.2 Hente ut kjørende instanser av samhandlingstjenester Hvis en tjenesteeier har valgt å ikke lagre case ID fra et tidligere grensesnitt (mottatt innsendingstjeneste eller instansiert samhandlingstjeneste) og mottar oppgaver på papir, så kan den utføre oppslag mot Altinn for å finne eventuelle saker (samhandlingstjenesteinstanser). Andre tilfeller der dette kan være aktuelt er hvis en annen tjenesteeier, eller brukeren selv, har instansiert samhandlingstjenesten.\n   Tjeneste Operasjon Type     CaseAgencySystem GetCaseListAgencySystem Basic/WS/EC    GetCaseListAgencySystem kan brukes til to formål: 1. Hente ut caseID, tilstand og merknad for kjørende instanser av samhandlingstjenester for bestemt fødselsnummer/organisasjonsnummer (reporteeNumber), tjeneste (externalServiceCode) og tjenesteutgave (externalServiceEditionCode).\n Hente ut caseID, tilstand og merknad for kjørende instanser av bestemt type samhandlingstjeneste basert på tjeneste (externalServiceCode) og tjenesteutgave (externalServiceEditionCode).\n Hente ut tilstand og merknad for bestemt sak basert på fødselsnummer/organisasjonsnummer (reporteeNumber) og CaseID (caseID) For punkt 1 og 2 må parametrene externalServiceCode og externalServiceEditionCode angis, mens parameter caseID må benyttes for punkt 3. Om parameter languageID ikke angis, eller forespurt språk ikke støttes vil språkavhengige returverdier returneres på tjenestens satte standardspråk. Alle andre parametere er obligatoriske og må angis.\n  Operasjonen returnerer informasjon om samhandlingstjenestens unike identifikator, CaseID, navnet på tjenesten, CaseName, og eventuelt om det er satt noen merknader på samhandlingstjenesten ved å returnere den unike identifikatoren, NoticeTemplateID. I tillegg returneres det informasjon om samhandlingstjenestens tilstand i form av visningsvennlig navn basert på språkparameter, CurrentStateFriendlyName, unik identifikator for tilstanden, CurrentStateID, og tilstandens navn, CurrentStateName. Alle disse er definert for tjenesten i TUL.\nCaseID vil kunne benyttes i andre operasjoner mot Altinn, enten alene som for eksempel ved å instansiere en innsendingstjeneste som skal knyttes til samhandlingstjenesten via operasjonen SubmitAndInstantiatePrefilledFormTask (se 8.1.1 og 9.6.1), eller sammen med informasjon om tilstand til å registrere en hendelse for samhandlingstjenesten via operasjonen NotifyEventAgencySystem (se 8.6.1.6 og 9.10.3).\nVennligst observer at hvis en bruker har instansiert flere forekomster av samme samhandlingstjeneste så vil ikke bare én forekomst returneres og derfor må tjenesteeieren basert på tilstand og merknad kunne identifisere den riktige instansen. Rent teknisk kan også tjenesteeiere ha opprettet flere instanser av samme tjenesteutgave om ønskelig. For flere detaljer rundt kontrakten vennligst se kapittel 9.10.2, Tjenestekatalog og WSDL.\n8.6.1.3 Knytte innsendingstjeneste til sak En tjenesteeier kan forhåndsinstansiere en innsendingstjeneste for en bruker og samtidig knyttet denne til en løpende sak. Dette gjøres ved å sende med den valgfrie parameteren Case ID i operasjonskallet for operasjonen SubmitAndInstantiatePrefilledFormTask. For mer informasjon se Innsendingstjenester (8.1) og operasjonen SubmitAndInstantiatePrefilledFormTask (9.6.1).\n8.6.1.4 Knytte meldingstjeneste til sak En tjenesteeier kan velge å knytte en meldingsatjeneste til en løpende sak. Dette gjøres ved at den valgfrie parameteren Case ID benyttes i operasjonskallet for meldingstjenesten. For mer informasjon se Meldingstjenester (8.2) og operasjonen InsertCorrespondenceV2 (9.4.1).\n8.6.1.5 Sett merknad på sak eller underliggende tjeneste Ved å sette merknader på tjenester, kan tjenesteeier formidle informasjon til sluttbruker om samhandlingstjenester. Tjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     CaseAgencySystem SetNoticeAgencySystem Basic/WS/EC    Obligatorisk parameter reporteeElementID angir hvilken sak (Case ID), eller tilordnet tjeneste (innsendingstjeneste, meldingstjeneste, innsynstjeneste (kun arkivert)) merknaden skal settes på. Settes merknad på en tilordnet tjeneste som er arkivert (innsendingstjeneste, meldingstjeneste eller innsynstjeneste) må identifikatoren prefikses med AR. Identifikatoren for samhandlingstjenesten kan ha blitt mottatt fra InstantiateCollaborationAgencySystem, en arkivert innsendingstjeneste, eller den kan hentes ved bruk av GetCaseListAgencySystem.\nAlle maler (templates) for merknader må forhåndsdefineres av tjenesteeier på samhandlingstjenesten i tjenesteutviklingsløsningen og refereres til i kallet sammen med key-value par for variabler til merknaden. Mal defineres gjennom obligatorisk parameter NoticeTemplateID. Angis det feil mal eller nøkkel for samhandlingstjenesten vil feilmelding returneres. For flere detaljer rundt kontrakten vennligst se kapittel 9.10.4, Tjenestekatalog og WSDL.\n8.6.1.6 Sende hendelse til sak Tjenesteeier kan påvirke tilstanden for en samhandlingstjeneste ved å registrere en ny hendelse (Event). Et eksempel hvor dette er nyttig er dersom tjenesteeier har mottatt informasjon via en annen kanal enn Altinn (f.eks. ved papirbasert innrapportering), og derfor ønsker å flytte samhandlingstjenesten til neste tilstand.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     CaseAgencySystem NotifyEventAgencySystem Basic/WS/EC    Denne operasjonen tar en entitet av typen StateMachineEventNotificationBE som input. Denne inneholder som de fleste andre for samhandlingstjenester CaseID parameteren som da unikt identifiserer en samhandlingsinstans hendelsen gjelder. Alternativt kan tjenesteeier velge å heller spesifisere tjeneste og tjenesteutgave, via parametrene ExternalServiceCode og ExternalServiceEditionCode. I det tilfellet vil hendelsen internt i Altinn bli kommunisert til alle kjørende instanser for kombinasjonen av nevnte tjeneste og tjenesteutgave. Til sammenligning vil hendelser som skjer innad i Altinn-løsningen kun kommuniseres til den saken som trigget hendelsen.\nI de tilfellene saken er opprettet av bruker selv eller av annen tjenesteeier vil man kunne hente saks id for bestemt samhandlingstjeneste (tjeneste og tjenesteutgave) vha GetCaseListAgencySystem som beskrevet i 8.6.1.2, eller eventuelt fra en allerede innsendt innsendingstjeneste knyttet til saken.\nEvent er obligatorisk parameter for operasjonen som angir hendelsen, mens ReporteeElementID er valgfri og benyttes kun i loggsammenheng i Altinn for å knytte hendelsen opp mot et subelement (dette kan for eksempel være en identifikator for en arkivert innsendingstjeneste tilknyttet samhandlingstjenesten). Hendelsen som skal sendes bør sees i sammenheng med tilstandsmaskinen for den aktuelle samhandlingstjenesten, og de hendelser som er definert der. Merk at en hendelse ikke nødvendigvis vil trigge en tilstandsendring; følgende vil være avgjørende:\n Er hendelsen aktuell for samhandlingstjenestens nåværende tilstand?\n og, finnes betingelser knyttet til hendelsen som ikke er oppfylt?\n  Om 1. eller 2. blir evaluert til false vil det ikke skje en tilstandsendring. Tilstander, hendelser og eventuelle betingelser er alle definert i TUL for samhandlingstjenesten.\nOperasjonen returnerer en liste av StateMachineNotificationResultBE. En liste returneres om hendelsen blir sendt til flere samhandlingsinstanser basert på parametrene ExternalServiceCode og ExternalServiceEditionCode. Om hendelsen kun sendes til en samhandlingstinstans vil kun en entitet returneres. StateMachineNotificationResultBE angir identifikator for samhandlingstjenesten resultatet gjelder for (CaseID), hvorvidt det skjedde en tilstandsendring (IsStateChanged) og dens navn (CurrentStateName). I tillegg angis evt betingelse (ConditionName) og evalueringen av betingelsen (ConditionEvaluationResult). Om det skulle oppstå en feilsituasjon i tilstandsmaskinen vil parameteren HasException være angit som true. Feilinformasjon og feilkode vil da ligge i henholdsvis ExceptionDetail og ErrorCode.\nFor flere detaljer rundt kontrakten vennligst se kapittel 9.10.2, Tjenestekatalog og WSDL.\n8.6.2 Eksempler på bruk av tjenestegrensesnitt for samhandlingstjenester De påfølgende avsnittene viser eksempler på bruka av samhandlingstjenester.\n8.6.2.1 Brukerinstansiert samhandlingstjeneste med én etat Dette eksempelet viser en enkel samhandlingstjeneste som er definert i TUL og som blir instansiert av brukeren.\nTilstandsmaskinen består av to tilstander og det er definert gjenbruk av data mellom en meldingstjeneste og siste innsendingstjeneste. Selve kopieringen av data foregår idet innsendingstjenesten instansieres.\n Figur 3 - Brukerinstansiert samhandlingstjeneste med gjenbruk av data   8.6.2.2 Etatsinstansiert samhandlingstjeneste med én etat. Dette scenarioet beskriver en samhandlingstjeneste som Skattedialogen hvor etat tar initiativ og instansierer første innsendingstjeneste for brukeren.\n Figur 4 - Etatsinstanisert samhandlingstjeneste   I forhold til forrige eksempel så er eneste forskjellen de to første kallene. Deretter fungerer systemdialogen på samme måte. I tillegg bør det nevnes at gjenbruk av data ikke kan benyttes når etaten instansierer innsendingstjeneste. Dette må i stedet løses på etatens side før innsendingstjeneste instansieres.\n8.6.2.3 Brukerinstansiert samhandlingstjeneste med to etater med kanaluavhengighet I dette eksempelet så vil en bruker velge å sende inn på papir mens selve samhandlingstjenesten er blitt startet i Altinn.\n Figur 5 - Brukerinstansiert samhandlingstjeneste med to etater med kanaluavhengighet   I dette eksempelet starter samhandlingstjenesten som i første scenario, men deretter velger en bruker å sende inn på papir. Etat 2 vil da bruke oppslagstjenesten knyttet til samhandlingstjenesten og deretter finne riktig samhandlingstjeneste. Deretter vil tilstandsmaskinen bli \u0026ldquo;oppdatert\u0026rdquo; med at oppgave er innsendt og fortsette som før.\n8.7 Kvitteringer For alle forsendelser inn og ut av Altinn skapes eller oppdateres en kvittering. Kvitteringer bidrar til at tjenesteeier kan får større innsikt i livsløpet fra f.eks. opprettelse av innsending til mottak av arkivert innsendingstjeneste. Kvitteringene skaper også bedre sporbarhet i Altinn løsningen.\nFor formidlingstjenester vil det lages en hovedkvittering for den som laster opp en fil og en underkvittering for hver mottaker av filen. Hovedkvittering med underkvittering kan på den måten brukes til å danne et komplett bilde av opplasting og nedlastinger.Dette kan også benyttes som en enkel kommunikasjonskanal ved at deltakere på forsendelsen kan oppdatere kvitteringen de har fått tildelt med en ny tekst og status.\nFor samhandlingstjenester vil det ikke bli generert kvitteringer da disse ikke arkiveres til tjenesteeiers arkiv. Frittstående varsel vil heller ikke generere kvitteringer. For innsynstjenester vil tjenesteeier kunne motta kvittering for bruk av tjenesten og arkivering av tjenesten. Tjenesteutvikler vil kunne velge om det skal sendes kvittering i disse to tilfellene.\nFor å muliggjøre dette kreves det at tjenesteeier markerer sine forsendelser inn til Altinn med referanser som lagres på kvitteringen. Samme referanse benyttes ved oppslag/kvittering.\nEksempler\na) Ved satsvis innsending av abonnementsdata benyttes xml elementet ServiceOwner/Subscription/ExternalShipmentReference for angivelse av referanse.\nb) Ved sanntid overføring av abonnementsdata benyttes parameteren externalBatchId i web service metoden SubmitSubscription for angivelse av referanse.\nSe xsd referanse for aktuell dataoverføring i kapittelet om Grensesnitt – batch til Altinn, for detaljer om plassering av referanse ved satsvis overføring. For overføring i sanntid henvises det til den aktuelle web service i kapittelet om Grensesnitt – web services.\nMulige kvitteringsoperasjoner: - Hente kvitteringer for innsendte data - Kvittere for mottak av data - Hente lister med kvitteringer\nKvitteringsinformasjon kan kun hentes i sanntid. For å søke opp kvitteringer brukes GetReceiptList. Har mann SendersReference evt ExternalShipmentReference vil dette spisse søket. De fleste referanser vil fungere i søkefunksjonaliteten.\nFor flere detaljer rundt kontrakten for GetReceipt, GetReceiptList og SaveReceipt vennligst se henholdsvis kapittel 9.3.1, 9.3.2 og 9.3.3, Tjenestekatalog og WSDL.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     Receipt GetReceipt Basic/WS/EC   Receipt GetReceiptList Basic/WS/EC   Receipt UpdateReceipt Basic/WS/EC    8.8 Frittstående varsel Tjenesteeier kan velge å sende frittstående varsler til personbrukere og enheter i Altinn. Dette er varsler som kan sendes til fødselsnummer eller organisasjonsnummer uten at varselet trenger å være tilknyttet en meldingstjeneste, prefill, eller utsendelse av PIN.\n   Tjeneste Operasjon Type     NotificationAgencyExternal SendStandaloneNotification Basic/WS/EC   NotificationAgencyExternal SendStandaloneNotificationV2 Basic/WS/EC   NotificationAgencyExternal SendStandaloneNotificationV3 Basic/WS/EC    Operasjonen SendStandaloneNotification benyttes for å sende de frittstående varslene. Denne operasjonen kan sende et konfigurerbart antall varsler til forskjellige brukere. For å gjøre dette benyttes parameteren standaloneNotifications som kan inneholde flere StandaloneNotification (en per varsel). For hvert varsel må følgende angis:\n ReporteeNumber angir fødselsnummer eller organisasjonsnummer varselet skal sendes til, den kan brukes til å slå opp mottakeradresse for varselet i brukerens kontaktprofil (privat samtykke) i tilfelle fødselsnummer, eller angitte kontaktpersoner på enhetsprofilen i tilfelle organisasjonsnummer.\n Service med parameterene ServiceCode og ServiceEdition fungerer som et filter på ReporteeNumber for organisasjonsnummer. Dersom disse er angitt vil varsel opprettes for de kontaktpersoner på enhetsprofilen som har satt opp at de vil motta varsel for den angitte tjenesten eller har satt opp at de vil motta alle varsler for organisasjonen, dersom de er autorisert mede lesetilgang for tjenesten for organisasjonen.\n ReceiverEndPoints benyttes til å angi en eller flere måter varselet skal sendes på (TransportType), SMS eller Email. Eventuelt kan også ReceiverAddress benyttes til å definere hvor det skal sendes, typisk da e-post adresse eller mobiltelefonnummer. Om ikke denne angis vil Altinn benytte ReporteeNumber og se etter kontaktinformasjon i brukerens eller enhetens profil.\n LanguageID og NotificationType vil sammen definere hvilken mal som skal benyttes for varselet. Denne må være forhåndsdefinert i databasen.\n TextTokens med parameteren TokenValue kan benyttes hvis valgt mal har substitusjoner definert. Substitusjoner blir gjort basert på rekkefølgen TokenValue blir angitt i forespørselen. Substitusjonene som varselsmalen har må begynne på 0 og fortsette oppover. Parameteren TokenNum har for tiden ingen funksjon og kan utelates.\n  FromAddress strengen angir fra adresse når transport type er e-post (må være på gyldig e-post format). Denne er valgfri, og hvis ikke angitt vil det for e-post varsler bli brukt en standard Altinn e-post adresse. ShipmentDateTime parameteren kan benyttes hvis varselet ønskes sendt på et senere tidspunkt, hvis ikke angis vil varselet sendes umiddelbart.\nSendStandaloneNotification tjenesten fantes i to tidligere versjon i tillegg til nyeste versjon (Versjon 3), hvorav: Versjon 1; Operasjonen returnerer ingen verdi, kun feilmeldinger. Versjon 2; Operasjonen returnerer en streng med mottakere som var reservert mot varsel, med enten en «varsel feilet» eller «varsel feilet delvis» melding. Varsel vil ses på som feilet dersom alle mottakkere var reservert og delvis feilet dersom noen, men ikke alle, mottakkere var reservert mot varsel. Versjon 3; Operasjonen returnerer et resultat-objekt SendStandAloneNotificationResult som inneholder samme return melding som fra Versjon 2, og en liste med resultater for de varsler som ble levert. I disse resultatene er følgende angitt: - NotificationType inneholder NotificationType fra det originale varselet som ble levert. Brukes til å identifisere hvilket levert varsel resultatet tilhører.\n ReporteeNumber inneholder ReporteeNumber fra det originale varselet som ble levert. Brukes til å identifisere hvilket levert varsel resultatet tilhører.\n EndPoints er en liste med mottakere som mottok varsel. Hvert mottakker objekt inneholder følgende verdier:\n Name er navn på mottaker der dette er tilgjengelig. ReceiverAddress er addressen varselet vil leveres til. TransportType er hva slags transport varsel levers på. RetrieveFromProfile beskriver om mottakker ble hentet fra en organisasjon eller brukers profil.   For flere detaljer rundt kontrakten vennligst se kapittel 9.11.1, Tjenestekatalog og WSDL.\n8.9 Autorisasjonsfunksjonalitet for tjenesteeiere Altinn 2 versjon 2 tilbyr at eksterne løsninger kan benytte Altinn som autorisasjons komponent. Dette betyr at eksterne system kan definere eksterne ressurser og regler tilknyttet disse. Deretter kan eksterne systemer verifisere at bruker har tilgang til ressurs. Tjenestene kan aksesseres fra tjenesteeierssystem fra gyldig ip-adresse.\nVerifiseringstjenesten kan også benyttes til å autentisere en brukers tilgang til tjenesteeiers tjenester. Denne typen verifisering benytter de autorisasjonsregler som er definert på tjenesten i TUL.\n8.9.1 Importere eksterne regler Tjenesteeiere har mulighet til å importere eksterne ressurser og regler som senere kan benyttes eksternt til å avgjøre tilgang ved hjelp av tilgangsmekanismenen i Altinn.\n   Tjeneste Operasjon Type     AdministrationExternal ImportAuthorizationPolicy WS    ImportAuthorizationPolicy er operasjonen som tjenesteeiers system kan benytte for å importere de eksterne policyene. Operasjonen tar en XML streng som input parameter. Denne XML strengen må følge det standardiserte formatet XACML For flere detaljer rundt kontrakten vennligst se kapittel 9.8.1, Tjenestekatalog og WSDL.\n8.9.2 Ekstern autorisasjon Tjenesteeierne har etter å ha importert eksterne regler muligheten for å gjøre kall mot Altinn for å benytte Altinns autorisasjonskomponent for autorisasjonsavgjørelser. Altinn vil motta forespørsel og ta en avgjørelse basert på de eksterne reglene og ressursene som er lagt inn. Regler som er satt i TUL på en tjeneste er også tilgjengelig for tilsvarende verifisering for å sjekke en brukers tilgang til tjenesten.\nAuthorizationDecisionPointExternal er tjenesten i Altinn II som har ansvaret for alle avgjørelser rundt autorisasjon basert på regler og roller i Altinns autorisasjonskomponent. Operasjonen AuthorizeAccessExternal tar imot en forespørsel på XACML format.\n   Tjeneste Operasjon Type     AuthorizationDecisionPointExternal AuthorizeAccessExternal WS    For flere detaljer rundt kontrakten vennligst se kapittel 9.9.1, Tjenestekatalog og WSDL.\n8.9.3 Hente roller GetRoles er tjenesten i Altinn II som tjenesteeiere kan bruke til å hente ut roller etter angitte søkekriterier i søkeobjektet.\n   Tjeneste Operasjon Type     AdministrationExternal GetRoles WS    For flere detaljer rundt kontrakten vennligst se kapittel 9.8.2, Tjenestekatalog og WSDL.\n8.10 Uthenting av tiltrodd tredjeparts logg Tjenesteeiere vil ha muligheten til å hente ut logg over alle hendelser for innsendte innsendingstjenester.\n   Tjeneste Operasjon Type     TTPArchiveAgencyExternalBasic GetAuditTrailBasic Basic    Operasjonen GetAuditTrailBasic benytter enten parameteren ReporteeNumber eller Username for å identifisere for hvilken bruker eller organisasjon det skal hentes ut for. Reportee parameteren kan da enten være et fødselsnummer eller et organisasjonsnummer, avhengig av hva man ønsker. Parameter Username brukes når man vil angi hente basert på brukervalgt brukernavn.\nVidere må parametrene FromDate og ToDate benyttes for å begrense søket – begge er obligatoriske. For å snevre søket ytterligere kan eventuelt parametrene ExternalServiceCode og ExternalServiceEditionCode benyttes.\nOperasjonen vil returnere en eller flere elementer (TTPElementBE) som angir den interne ReporteeElementID’en, resultat av integritetssjekk (IntegrirtyCheck), samt et XML element (TTPData) som vil inneholde log dataen som er registrert for den aktuelle innsendingen.\nFor flere detaljer rundt kontrakten vennligst se kapittel 9.12.1, Tjenestekatalog og WSDL.\n8.11 Sluttbrukers meldingsboks En sluttbruker som logger inn i Altinn, vil kunne se en liste med sine tjenesteelementer på siden Min meldingsboks. Det er mange muligheter for å filtrere innholdet i listen, og hvert element kan åpnes på en separat side.\nEn tjenesteeier har mulighet til å presentere innholdet i sluttbrukers meldingsboks i sin egen portal/selvbetjeningsløsning. Forutsetningen er at sluttbrukeren er autentisert og føderert fra IDPorten. Uthenting av sluttbrukers meldingsboks fra Altinn kan være aktuelt for tjenesteeiere som ønsker å tilby et \u0026ldquo;min side\u0026rdquo;-konsept i sin egen løsning, uten å synliggjøre at tjenestene er implementert i Altinn.\n8.11.1 Presenter innhold i sluttbrukers meldingsboks – Altinn API For detaljer om hvordan innhold i sluttbrukers meldingsboks i Altinn kan presenteres i tjenesteeieres egen selvbetjeningsløsning/portal henvises det til detaljert informasjon om Altinn API som finnes på Altinnett:https://altinnett.brreg.no/Altinn-API\n8.12 Tjenesteeierstyrt rettighetsregister Tjenesteeierstyrt rettighetsregister er innført som en ytterligere mulighet for tjenesteeiere å spesifisere hvem som skal ha tilgang til ulike tjenester i Altinn. Registeret vil kunne benyttes på toppen av eksisterende rolle- og rettighetsfunksjonalitet. Registeret benyttes foreløpig kun for formidlingstjenester.\nBruk av registeret vil introdusere en ekstra sjekk på hvorvidt en konkret bruker har mottatt nødvendige rettigheter av tjenesteeieren til å benytte seg av en spesifikk tjeneste. Informasjon som legges inn i registeret er nøkkelinformasjon om brukeren, tjenestekoder, og rettighet. Konkret funksjonalitet og effekt av operasjoner i registeret vil være avhengig av tjenestetype.\nRegisteret i Altinn tilbyr 3 operasjoner for å hente ut, legge til og slette regler. GetRights operasjonen vil returnere hvilke regler som ligger i registeret, AddRights og DeleteRights er operasjoner for å henholdsvis legge til nye og slette eksisterende regler. Begge de to sistnevnte operasjonen vil returnere en liste med reglene som kom inn sammen med en status for resultatet av endringen for hver regel. Operasjonen er beskrevet i mer detalj i kapittel 9.17.1, 9.17.2 og 9.17.3.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     RegisterSSRAgencyExternal GetRights Basic/WS/EC   RegisterSSRAgencyExternal AddRights Basic/WS/EC   RegisterSSRAgencyExternal DeleteRights Basic/WS/EC    8.13 BatchLogging Tjenesteeiere som har levert inn data filer-til behandling har mulighet til å sjekke status og historikk ved å bruke BatchLogging tjenesten i Intermediary.\n   Tjeneste Operasjon Type     BatchLoggingAgencyExternal GetStatusOverview Basic/WS/EC   BatchLoggingAgencyExternal GetDetailedStatus Basic/WS/EC   BatchLoggingAgencyExternal GetDataItem Basic/WS/EC    Status henting er delt opp i 3 nivåer.\nGetStatusOverview henter ut en liste med alle DataBatcher (en levert fil er en DataBatch) som er behandlet basert på søke-kriteria som Tjenesteeier leverer. Denne listen inneholder metadata for filen, og antall feil som er opplevd under behandling av filen.\nGetDetailedStatus henter ut tre lister. Listen med DataBatcher som er blitt behandlet, en liste med de DataItems (Xml objektene som filen består av) som har opplevd feil under behandling og en liste med Issues som er opplevd under behandling. Et Issue refererer til DataItem og DataBatch med en Id verdier, som kan brukes til å referere mellom listene. DataItem listen vil ikke inneholde rå Xml-data.\nGetDataItem henter ut et enkelt DataItem basert på Id. DataItem inneholder metadata og rå Xml-data.\n9 Grensesnitt – web services Her følger et uttrekk over hvilke web services som tilbys i Altinn. Tjenestene er beskrevet uavhengig av hvilken autentiseringsmetode den enkelte tjenesteeier ønsker å benytte. Se avsnitt om Autentisering og autorisering, for informasjon om metodenavn.\nFor ytterligere informasjon for web services henvises leser også til Tjenestekatalogen og de enkelte tekniske spesifikasjoner tilgjengelig som WSDL’er fra respektive endepunkt.\nSe Vedlegg A: Feilkoder i Altinn for en liste over mulige feilkoder i Altinn.\n9.1 ArchiveCommon Tjenesten ArchiveCommon inneholder operasjoner for uthenting av arkivdata fra tjenesteeiers arkiv.\nPåfølgende kapittel beskriver tjenesteoperasjonen for denne arkivtjenesten.\n9.1.1 GetServiceOwnerArchiveReporteeElementsV2 Denne operasjonen benyttes for å hente ut data for en gitt avgiver (privatperson eller foretak) fra en tjenesteeiers arkiv. Data kan være skjemasett arkivert i nåværende eller tidligere versjoner av Altinn, eller meldinger sendt fra tjenesteeier til avgiver. Merk at siden samhandlingstjenester og innsynstjenester ikke arkiveres til tjenesteeiers arkiv vil de ikke kunne hentes ut på denne måten. Kun elementer som innlogget bruker har tilgang til returneres, typisk ikke elementer for tjenester tilknyttet andre tjenesteeiere.\nDet er for eksempel nødvendig å kunne ha direkte tilgang til disse dataene i tilfeller hvor tjenesteeier ønsker å veilede en avgiver i sanntid basert på avgivers arkiverte data.\nTjenesteeier får rutinemessig tilsendt alle arkiverte elementer for alle avgivere via batch-grensesnittet Innsendingstjenester.\nOperasjonen er versjonert, gjeldende versjon er V2.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     SearchServiceOwnerArchive Objektet av typen ExternalSOASearchBE, som inneholder søkeparametre for uthenting av elementer fra tjenesteeiers arkiv.   languageID Språk id: 1033 Engelsk 1044 Bokmål 2068 Nynorsk. Språk angitt på arkivert element benyttes uavhengig av hva som settes.       Returverdi Beskrivelse     ServiceOwnerArchiveReporteeElementList Liste med objektet av typen ServiceOwnerArchiveReporteeElementBEV2, som inneholder elementer fra tjenesteeiers arkiv som tilfredsstiller angitte søkeparametre.    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten. ExternalSOASearchBE\n   Property Beskrivelse     SSNOrOrgNumber Fødselsnummer eller organisasjonsnummer   ReferenceId Unik referanse id   Subject Hvilket emne søket gjelder   DateFrom Fra dato i arkivet   DateTo Til dato i arkivet   CaseID Identifikator for samhandlingstjeneste elementet skal tilhøre   UserName Søk basert på brukernavn    ServiceOwnerArchiveReporteeElementBEV2\n   Property Beskrivelse     Subject Emne for elementet   IsSubjectMessageTitle Angir om tittel er satt av MessageTitle   LastChangedDate Dato for siste endring   DatReporteeId Intern id   SSNOrOrganizationNumber Fødselsnummer eller organisasjonsnummer tilknyttet arkivert element   ReporteeName Navn på avgiver som eier arkivert element   ReporteeElementId Intern id   Altinn1ArchiveUnitId Intern id fra AltinnI arkivet. Kan være tomt   Altinn1AMReference AM referansen fra AltinnI arkivet. Kan være tomt   Altinn1FormCode Skjemanummer fra AltinnI arkivet. Kan være tomt   EndUserSystemId Id for sluttbrukersystem. Kan være tomt   SendComplete Hvorvidt forsendelsen er komplett eller ikke for elementet. Kan være tomt   ElementType Element type: Archive, Active, Correspondence, ArchiveCorrespondence, LookUp, Collaboration   IsAltinn1 Flagg som indikerer om elementet eksisterer i AltinnI   IsCorrespondenceConfirmationRequired Hvorvidt meldingsbekreftelse er påkrevd eller ikke   ArchiveReference Referansen fra Altinn arkivet.   SystemTypeName Typenavn på sluttbrukersystem. Kan være tomt   ExpiryDate Angir eventuelt når elementet er planlagt slettet    9.2 ServiceOwnerArchive Tjenesten ServiceOwnerArchive inneholder operasjoner for uthenting av elementer fra tjenesteeiers arkiv (ikke tilgang til arkiverte elementer fra tidligere versjoner av Altinn).\nPåfølgende kapitler beskriver operasjonen for denne tjenesten.\n9.2.1 GetArchivedFormTaskV2 Denne operasjonen benyttes for å hente ut alle skjemaer og vedlegg som tilhører et gitt skjemasett. Operasjonen er versjonert, gjeldende versjon er V2.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     reporteeElementId Unik identifikator for skjemasettet som skal hentes. Identifikatoren er obligatorisk input til tjenesten   languageID Språk kode: 1033 Engelsk, 1044 Bokmål, 2068 Nynorsk       Returverdi Beskrivelse     ArchivedFormTask Objektet av typen ArchivedFormTaskBEV2 som skjemasettet som tilfredsstilte det gitte søkekriteriet.    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\nArchivedFormTaskBEV2\n   Property Beskrivelse     reporteeElementId Unik identifikator for skjemasettet.   LastChanged Tidspunkt for når det sist ble gjort endringer på skjemasettet   ReporteeID Intern id.   ArchivedDateTime Tidspunkt for når skjemasettet ble arkivert   ServiceOwner Unik identifikator for tjenesteeier for skjemasettet   InvoiceInformation Eventuell betalingsinformasjon som er vedlagt skjemasettet   ArchivedFormList Liste med ArchivedFormBE-objekter (nærmere beskrevet nedenfor), som inneholder alle skjemaene i skjemasettet   ExternalServiceCode Tjenestekode   ExternalServiceEditionCode Tjenesteutgavekode   ssnOrgNumber Fødselsnummer eller organisasjonsnummer tilhørende skjemasettet   PasswordEncryptedSymmetricKey Passordkryptert symmetrisk nøkkel for å dekryptere eventuell sensitive felter   SOEncryptedSymmetricdKey Samme symmetriske nøkkel som over, men kryptert med tjenesteeiers sertifikat. Tjenesteeier kan da bruke privat nøkkel til å dekryptere denne nøkkelen   ArchiveTaskList Liste med arkiv-objekter av typen ArchiveTaskBEV2    ArchivedFormBE\n   Property Beskrivelse     FormID Intern id   FormName Navn på skjema   FormDataXML Innhold i skjema. Må legges i en CDATA blokk   ParentReference Referanse til hovedskjema. Denne referansen er kun satt dersom gjeldende skjema er et underskjema   FormPresentationFieldValue Presentasjonsfelt for skjemaet, dersom dette finnes.   PaymentInformationE2B Betalingsinformasjon på E2B-format   PaymentInformationHTML Betalingsinformasjon på XML-format   DataFormatId Id til skjema fra metadata kilde   DataFormatVersion Betalingsinformasjon vedlagt skjema   FormPaymentInfo Skjemabeskrivelse    ArchivedAttachmentBEV2\n   Property Beskrivelse     AttachmentID Intern Id   AttachmentFunctionType Angir hvilken funksjonstype vedlegget utgjør: Invoice, Unspecified   AttachmentName Navn på vedlegg   MimeTypeName Angir MIME-typen for vedlegget: application_none, application_pdf, application_msword, application_vnd_ms_excel, application_vns_oasis_opendocument_text, application_vnd_oasis_opendocument_presentation, application_vnd_oasis_opendocument_spreadsheet, application_rtf, application_vnd_ms_powerpoint, application_postscript, application_zip, text_plain, text_html, text_xml, text_rtf, text_richtext, binary_octet_stream, not_Applicable   CreatedByUserID Intern Altinn identifikator på bruker som har lagt til vedlegget   CreatedDateTime Dato for når vedlegget ble opprettet   IsAddedAfterFormFillin Angir om vedlegget ble lagt til i løpet av signeringen (etter utfylling)   IsEncrypted Angir om vedlegget er kryptert    ArchivedFormTaskSigningStepBEV2\n   Property Beskrivelse     SignatureID Intern Id   SignedByUser Intern id bruker som har signert skjemasettet   SignedByUserSSN Fødselsnummer til bruker som har signert   SignedByUserName Navn på bruker som har signert skjemasettet.   CreatedDateTime Dato og tidspunkt for når skjemasettet ble signert   Signature Signaturen, binært format   SignatureText Signeringsteksten   RequiresGroupSigning Angir om signatur gjelder for alle elementer i skjemasettet   AuthenticationLevelID Intern id for autentiseringsnivået for bruker når signering ble gjort   AuthenticationMethod Autentiseringsnivået for bruker når signering ble gjort   CertificateIssuedByName Navnet sertifikatet er utstedt til   CertificateIssuedForName Navnet signaturen er utstedt til   CertificateValidFrom Tidspunkt (dato og klokkeslett) for når sertifikatet er gyldig   CertificateValidTo Tidspunkt (dato og klokkeslett) for når sertifikatet blir ugyldig   SignedAttachmentList Liste over signerte vedlegg.   SignedFromList Liste over signerte skjemaer   IsSigningAllRequired Angir om signering er utført for alle elementer i skjemasett: YES – signering på alle skjema, NO – valgfri signering på skjema, SET_PER_FORM – valg for signering satt på skjema nivå   ProcessStepID Den unike identifikatoren for steget signaturen gjelder for    ArchiveTaskBEV2\n   Property Beskrivelse     EndUserSystemID Sluttbrukersystem identifikator   LastChanged Angir dato for sist endring   NumberOfSignaturesAdded Antall signaturer som er lagt til   ProcessStepID_FK Intern ID for prosessteg   SentComplete Angir om element ble sent som komplett fra sluttbrukersystem   TaskID Identifikator for elementet, samme som ReporteeElementID   UserDefinedNumberOfSignaturesRequired Antall signaturer krevd for et evt brukerstyrt signeringssteg   WorkflowReference Intern ID forarbeidsflyt    9.2.2 GetArchiveShipmentStatusV2 Denne operasjonen benyttes for å hente ut status på oversending fra Altinn til Tjenesteeier for et arkivert skjema. Man kan hente ut status ved å bruke enten ArchiveReference eller ServiceReference. Disse kan ikke brukes samtidig. Operasjonen er versjonert, gjeldende versjon er V2. Tabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     ArchiveReference (string) Tar inn en ArkivReferanse for et arkivert element. Når dette elementet er brukt skal ikke ServiceReference brukes.   ServiceReference (objekt) Inneholder en liste med ArchiveShipmentStatusExternalV2 objekter. Hvert objekt representerer et elementen som ble funnet av tjenesten, og har en egen liste over statuser registrert på elementet.    ServiceReference   ServiceCode Unik identifikator. Dette er en mandatory parameter når man bruker ServiceReference til å hente ut status data.   ServiceEditionCode Unik identifikator. Dette er en mandatory parameter når man bruker ServiceReference til å hente ut status data. Unik identifikator. Dette er en mandatory parameter når man bruker ServiceReference til å hente ut status data.   DateFrom Definerer dato og tidspunkt tjenesten skal hente ut status data fra.   DateTo Definerer dato og tidspunkt tjenesten skal hente ut status data til    ArchiveShipmentStatusExternalBEV2List   LimitReached Når dette flagget er satt ble det funnet flere arkiverte elementer enn det som det er returnert statuser for   ArchiveShipmentStatusList Liste over de returnerte arkiv elementene som en liste av ArchiveShipmentStatusExternalV2-entiteter    ArchiveShipmentStatusExternalV2   ArchiveReference Unik arkiv referanse   TimeOfArchiving Tidspunkt for arkivering   ServiceCode Tjenestekode   ServiceEditionCode Tjeneste utgave kode   ShipmentStatusLog Liste over arkiv elementets status endringer som en liste av ShipmentStatusLogEntry-entiteter.    ShipmentStatusLogEntry   ShipmentDescription En beskrivelse av Shipment relatert til statusen, som inneholder navnet på ShipmentDefinition og TransportSekvensNummeret for shipmentet til tjenesteeier. Disse blir adskilt med et pipe-tegn   ShipmentStatus En beskrivelse av Shipment relatert til statusen, som inneholder navnet på ShipmentDefinition og TransportSekvensNummeret for shipmentet til tjenesteeier. Disse blir adskilt med et pipe-tegn ShipmentStatus ShipmentStatus for arkiv elementet. Kan være: NotSet - Elementet er ikke gjort klar til oversendelse. NotSent – Elementet er ikke sendt til tjenesteeier. Sent – Element er sent til tjenesteeier. Error – Overførsel til tjenesteeier feilet. Correlated – Correspondence er opprettet som er knyttet til denne ArkivReferansen   ShipmentStatusDateTime Dato og klokkeslett for når statusen ble satt på arkiv elementet    9.2.3 GetAttachmentDataStreamed Denne operasjonen benyttes for å hente ut data for ett gitt vedlegg in den tilfelle vedlegg er større en 30MB. GetArchivedFormTaskV2 må kalles for å få detailene om den binær filen returnerte av denne metoden.\nTabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     AttachmentID Unik identifikator for et vedlegg   Returverdi Beskrivelse   Attachment Stream som inneholder et binært vedlegg    9.3 Receipt Tjenesten Receipt inneholder operasjoner for å oppdatere og hente kvitteringer i Altinn.\nPåfølgende kapitler beskriver tjenesteoperasjonene for denne tjenesten.\n9.3.1 GetReceiptV2 Denne operasjonen henter en kvittering basert på enten unik identifikator for kvitteringen eller en referanse for kvitteringen. Kvitteringen kan være knyttet til et skjemasett innsendt via Altinn fra sluttbruker eller sluttbrukersystem, data sendt fra tjenesteeier til Altinn (meldinger, PIN-koder, abonnement eller prefilldata) eller data sendt fra Altinn til tjenesteeier.\nNavnet på operasjonen kan variere noe fra grensesnitt til grensesnitt. Operasjonen heter for eksempel GetReceiptBasicV2 på basic (SOAP 1.1) grensesnittet. En eldre versjon av operasjonen med navn GetReceipt finnes fortsatt, men kan i fremtiden bli fjernet.\nSe aliasoversikt (9.19) for informasjon om endepunkter.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     ReceiptSearch Objekt av typen ReceiptSearch som inneholder nødvendige søkeparametre for å hente ut en kvittering   Returverdi Beskrivelse   Receipt Objekt av typen Receipt som inneholder alle data for en kvittering som tilfredsstilte det gitte søkekriteriet    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse      ReceiptSearch   ReceiptId Unik identifikator en kvittering i Altinn   References Liste med referansen som skal brukes i søket. I praksis er det kun en referanse som benyttes i søket. Følgende referansetyper kan benyttes i søk: ArchiveReference, OutboundShipmentReference, BatchReference, EndUserSystemReference, ExternalShipmentReference, SendersReference    Receipt   ReceiptId Unik identifikator kvitteringen i Altinn.   ReceiptText Tekst i kvitteringen   ReceiptHistory Når en kvittering oppdateres så vil den gamle kvitteringsteksten flyttes og legges til øverst i denne historikken   LastChanged Dato og tidspunkt for når kvitteringen sist ble endret (yyyy-MM-ddThh:mm:ss)   ReceiptType Angir hva kvittering gjelder. Mulige verdier: NotSet – Brukes når type er ukjent, FormTask – Skjemasett innsending, Correspondence – Innlesning av meldinger, PINCODE – bestilling av PIN-koder, Subscription – Innelsning av abonnementer, Outbound – Forsendelse sendt fra Altinn, PreFill – Innlesning av prefill, RegisterDLS – DLS registerdata, RegisterDSF – DSF registerdata, RegisterER – ER registerdata, RegisterDSFProperty, RegisterDSFStreet, RegisterDSFCountry, RegisterDSFUser, LookUp – Innsynstjeneste, RegisterDSFStreetAdd, RegisterDSFPropertyAdd, BrokerService – Overføring av fil på en Formidlingstjeneste   ReceiptTemplate Angir malen (XML) som skal benyttes for kvittering. (IKKE I BRUK)   ReceiptStatus Status for forsendelse som kvitteringen gjelder: NotSet – Status er ukjent, OK, UnExpectedError, ValidationFailed, Rejected   ParentReceiptId Dersom denne kvitteringen er en av flere kvitteringer i et hierarki vil ParentReceiptId vise til ReceiptId for hovedkvitteringen i hierarkiet   References Liste med referanser   SubReceipts Liste med tilhørende kvitteringer. Dersom denne kvitteringen er en hovedkvittering med barn. Et hierarki kan ha kun 2 nivåer. (En kvittering som selv er et barn skal ikke ha barn.)    Reference   ReferenceType Angir type referanse: ExternalShipmentReference - Referansen viser til en referanse satt av sluttbrukersystem for en forsendelse. EndUserSystemReference - Referanse satt av avsender for del av en forsendelse. For eksempel vedlegg. Brukes sjeldent da referanser fra sluttbruker ofte lagres som SendersReference. SendersReference - Referanse satt av avsender for del av en forsendelse. ParentReference - Referansen viser til et hovedskjema. WorkFlowReference - Arbeidsflytreferanse. BatchReference - Referanse til en forsendelse mottatt i eller sendt fra Altinn. OutboundShipmentReference - Referanse til en forsendelse sendt fra Altinn. ReceiversReference - Mottakers referanse hvis kvitteringen blir oppdatert av mottaker av en forsendelse. OwnerPartyReference - Organisasjonsnummer eller personnummer til eier av kvitteringen, typisk den som har sendt inn en forsendelse. Settes av Altinn og kan ikke endres. PartyReference - Organisasjonsnummer eller personnummer til en part som får rettigheter til å hente og oppdatere kvitteringen. Altinn legger automatisk til mottaker av en forsendelse som en part på kvitteringen. ArchiveReference - Arkivreferanse.   Feilkode Beskrivelse   30008 Ingen kvittering funnet for angitt kvitterings ID eller referanse    9.3.2 GetReceiptListV2 Denne operasjonen kan kalles for å hente ut alle kvitteringer av en gitt kvitteringstype. I tillegg kan søket begrenses ved hjelp av en til og fra dato. Dette vil gi en liste med kvitteringer som ble sist endret i tidsrommet. Kvitteringstyper er obligatorisk, mens datoer er valgfritt.\nNavnet på operasjonen kan variere noe fra grensesnitt til grensesnitt. Operasjonen heter for eksempel GetReceiptListBasicV2 på basic (SOAP 1.1) grensesnittet. En eldre versjon av operasjonen med navn GetReceiptList finnes fortsatt, men kan i fremtiden bli fjernet.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     receiptTypeName Angir hva kvittering gjelder. Mulige verdier: FormTask –Skjemasett innsending. Correspondence – Innlesning av meldinger. PINCODE – Bestilling av PIN-koder. Subscription – Innelsning av abonnementer. Outbound – Forsendelse sendt fra Altinn. PreFill – Innlesning av prefill. RegisterDLS – DLS registerdata. RegisterDSF – DSF registerdata, RegisterER – ER registerdata, RegisterDSFProperty, RegisterDSFStreet, RegisterDSFCountry, RegisterDSFUser, LookUp – Innsynstjeneste, RegisterDSFStreetAdd, RegisterDSFPropertyAdd BrokerService – Overføring av fil på en Formidlingstjeneste   dateFrom Finner kvitteringer endret etter angitt dato   dateTo Finner kvitteringer endret før angitt dato   Returverdi Beskrivelse   ReceiptList Liste med kvitteringer av typen Receipt. (Vil være en tom liste hvis ingen kvitteringer ble funnet.)    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     Receipt    ReceiptId Unik identifikator kvitteringen i Altinn   ReceiptType Angir hva kvittering gjelder. Mulige verdier:NotSet – Brukes når type er ukjent FormTask – Skjemasett innsending Correspondence – Innlesning av meldinger PINCODE – Bestilling av PIN-koder.Subscription – Innelsning av abonnementer Outbound – Forsendelse sendt fra Altinn PreFill – Innlesning av prefill RegisterDLS – DLSregisterdata RegisterDSF – DSF registerdata RegisterER – ER registerdata RegisterDSFProperty RegisterDSFStreet RegisterDSFCountry RegisterDSFUser LookUp – Innsynstjeneste RegisterDSFStreetAdd RegisterDSFPropertyAddBrokerService – Overføring av fil på en Formidlingstjeneste   ReceiptTemplate Angir malen (XML) som skal benyttes for kvittering. (IKKE I BRUK)   ReceiptStatus Status for forsendelse som kvitteringen gjelder: NotSet – Status er ukjent OK UnExpectedError ValidationFailed Rejected   ParentReceiptId Dersom denne kvitteringen er en av flere kvitteringer i et hierarki vil ParentReceiptId vise til ReceiptId for hovedkvitteringen i hierarkiet   References Liste med referanser   SubReceipts Liste med tilhørende kvitteringer. Dersom denne kvitteringen er en hovedkvittering med barn. Et hierarki kan ha kun 2 nivåer. (En kvittering som selv er et barn skal ikke ha barn)   Reference    ReferenceType Angir type referanse: ExternalShipmentReference - Referansen viser til en referanse satt av sluttbrukersystem for en forsendelse. EndUserSystemReference - Referanse satt av avsender for del av en forsendelse. For eksempel vedlegg. Brukes sjeldent da referanser fra sluttbruker ofte lagres som SendersReference. SendersReference - Referanse satt av avsender for del av en forsendelse. ParentReference - Referansen viser til et hovedskjema. WorkFlowReference - Arbeidsflytreferanse BatchReference - Referanse til en forsendelse mottatt i eller sendt fra Altinn OutboundShipmentReference - Referanse til en forsendelse sendt fra Altinn ReceiversReference - Mottakers referanse hvis kvitteringen blir oppdatert av mottaker av en forsendelse OwnerPartyReference - Organisasjonsnummer eller personnummer til eier av kvitteringen, typisk den som har sendt inn en forsendelse. Settes av Altinn og kan ikke endres. PartyReference - Organisasjonsnummer eller personnummer til en part som får rettigheter til å hente og oppdatere kvitteringen. Altinn legger automatisk til mottaker av en forsendelse som en part på kvitteringen. ArchiveReference - Arkivreferanse   ReferenceValue Selve referansen (verdien). Vil variere basert på type referanse. Se over.    Tabellen under angir mulige feilkoder for operasjonen.\n   Feilkode Beskrivelse     30101 Kan ikke utføre et søk etter kvitteringer av typen NotSet. (NotSet er default verdi hvis receiptTypeName parameteret ikke oppgis)   30102 Oppgitt fra dato er høyere en oppgitt til dato    ####9.3.3 UpdateReceipt Operasjonen UpdateReceipt kan benyttes når tjenesteeier har behov for å oppdatere en kvittering i Altinn. Dette gjøres typisk når Altinn har sendt en batch forsendelse til tjenesteeier. Kvitteringen skal da oppdateres med at tjenesteeier har mottatt batch forsendelsen.\nAltinn vil endre kvitteringsteksten til å inneholde informasjon om hvem som utførte oppdateringen. For eksempel: \u0026ldquo;Receipt updated by AgencySystem: ACN. \u0026ldquo;\nNavnet på operasjonen kan variere noe fra grensesnitt til grensesnitt. Operasjonen heter for eksempel UpdateReceiptBasic på basic (SOAP 1.1) grensesnittet. En eldre versjon av operasjonen med navn SaveReceipt finnes fortsatt, men kan i fremtiden bli fjernet.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     ReceiptSave Informasjon om hvilken kvittering som skal oppdateres samt den nye informasjonen som skal legges på kvitteringen. Objektet må minimun inneholde ny statuskode og tekst. ReceiptId eller ArchiveReference brukes til å identifisere kvitteringen.   Returverdi Beskrivelse   Receipt Kvitteringen slik den frermstår etter oppdateringen    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     ReceiptSave:    ReceiptId Unik identifikator for kvittering i Altinn. Kan benyttes for å spesifisere hvilken kvittering som skal oppdateres   ArchiveReference Arkivreferanse i Altinn. Kan benyttes for å spesifisere hvilken kvittering som skal oppdateres. Hvis det finnes flere kvitteringer som har samme arkivreferanse, så vil den nyeste (den med høyest ReceiptId) bli valgt   ReceiptText Oppdateringstekst for kvittering. Obligatorisk   ReceiptStatus Status for forsendelse som kvitteringen gjelder.Obligatorisk: OK, UnExpectedError, ValidationFailed, Rejected   References Liste med referanser man eventuelt ønsker å legge til på kvitteringen. Alle referansetyper utenom NotSet og OwnerPartyReference er gyldige, men det bør begrenses til følgende (Unntak kan gjøres etter avtale med forvaltning): BatchReference - Referanse til en forsendelse mottatt i eller sendt fra Altinn.ReceiversReference - Mottakers referanse hvis kvitteringen blir oppdatert av mottaker av en forsendelse.(Det er mulig fremtidige versjoner av UpdateReceipt vil ha strengere validering/begrensninger.)   SubReceipts Liste med barnekvitteringer som også ønskes oppdatert i tillegg til hovedkvitteringen. Barne kvitteringer MÅ identifiseres med ReceiptId. Dette kan ikke benyttes til å lage nye barnekvitteringer   SubReceipts Liste med barnekvitteringer som også ønskes oppdatert i tillegg til hovedkvitteringen. Barne kvitteringer MÅ identifiseres med ReceiptId. Dette kan ikke benyttes til å lage nye barnekvitteringer   Receipt    ReceiptId Unik identifikator kvitteringen i Altinn   ReceiptText Tekst i kvitteringen   ReceiptHistory Når en kvittering oppdateres så vil den gamle kvitteringsteksten flyttes og legges til øverst i denne historikken   LastChanged Dato og tidspunkt for når kvitteringen sist ble endret (yyyy-MM-ddThh:mm:ss)   ReceiptType Angir hva kvittering gjelder. Mulige verdier: NotSet – Brukes når type er ukjent, FormTask – Skjemasett innsending, Correspondence – Innlesning av meldinger, PINCODE – Bestilling av PIN-koder, Subscription – Innelsning av abonnementer, Outbound – Forsendelse sendt fra Altinn, PreFill – Innlesning av prefill, RegisterDLS – DLS registerdata, RegisterDSF – DSF registerdata, RegisterER – ER registerdata, RegisterDSFProperty, RegisterDSFStreet, RegisterDSFCountry, RegisterDSFUser, LookUp – Innsynstjeneste, RegisterDSFStreetAdd, RegisterDSFPropertyAdd, BrokerService – Overføring av fil på en Formidlingstjeneste   ReceiptTemplate Angir malen (XML) som skal benyttes for kvittering. (IKKE I BRUK)   ReceiptStatus Status for forsendelse som kvitteringen gjelder: NotSet – Status er ukjent, OK, Status for forsendelse som kvitteringen gjelder: NotSet – Status er ukjent, OK, UnExpectedError, ValidationFailed, Rejected   ParentReceiptId Dersom denne kvitteringen er en av flere kvitteringer i et hierarki vil ParentReceiptId vise til ReceiptId for hovedkvitteringen i hierarkiet   References Liste med referanser   SubReceipts Liste med tilhørende kvitteringer. Dersom denne kvitteringen er en hovedkvittering med barn. Et hierarki kan ha kun 2 nivåer. (En kvittering som selv er et barn skal ikke ha barn)   Reference    ReferenceType Angir type referanse: ExternalShipmentReference - Referansen viser til en referanse satt av sluttbrukersystem for en forsendelse. EndUserSystemReference - Referanse satt av avsender for del av en forsendelse. For eksempel vedlegg. Brukes sjeldent da referanser fra sluttbruker ofte lagres som SendersReference.SendersReference - Referanse satt av avsender for del av en forsendelse. ParentReference - Referansen viser til et hovedskjema. WorkFlowReference - Arbeidsflytreferanse BatchReference - Referanse til en forsendelse mottatt i eller sendt fra Altinn OutboundShipmentReference - Referanse til en forsendelse sendt fra Altinn ReceiversReference - Mottakers referanse hvis kvitteringen blir oppdatert av mottaker av en forsendelse OwnerPartyReference - Organisasjonsnummer eller personnummer til eier av kvitteringen, typisk den som har sendt inn en forsendelse. Settes av Altinn og kan ikke endres. PartyReference - Organisasjonsnummer eller personnummer til en part som får rettigheter til å hente og oppdatere kvitteringen. Altinn legger automatisk til mottaker av en forsendelse som en part på kvitteringen. ArchiveReference - Arkivreferanse   ReferenceValue Selve referansen (verdien). Vil variere basert på type referanse. Se over    Tabellen under angir mulige feilkoder for operasjonen:\n   Feilkode Beskrivelse     30008 Fant ikke noen kvittering som kunne oppdateres   0 Kan ikke ha både kvitterings id og arkivreferanse som input. (Feilkode blir ikke angitt grunnet en bug)   0 Kan ikke ha både kvitterings id og arkivreferanse som input. (Feilkode blir ikke angitt grunnet en bug)   0 System/bruker har ikke tilgang til kvitteringen som forsøkes oppdatert. (Feilkode blir ikke angitt grunnet en bug)    ####9.4 Correspondence Det finnes to tjenestegrensesnitt relatert til meldinger:\nCorrespondence - Operasjonene er skreddersydd for siste versjon av Altinn. Oppdateres etter hvert som Altinn videreutvikles. Skal benyttes av alle nye tjenesteeiere. Altut - Operasjoner fra tidligere versjon av Altinn. Tilbys kun for bakoverkompatibilitet for eksisterende tjenesteeiere, og det vil ikke bli oppdatert etter hvert som Altinn videreutvikles. Grensesnittet inneholder elementer som ikke lenger er i bruk i Altinn, og enkelte elementer har fått ny funksjonalitet som betyr at eksisterende grensesnitt må endres. Siste versjon av Altinn har funksjonalitet som ikke støttes av Altut formatet. Tjenesten Correspondence inneholder operasjoner relatert til meldinger. Påfølgende kapittel beskriver tjenesteoperasjonen for denne tjenesten. ####9.4.1 InsertCorrespondenceV2 Operasjonen InsertCorrespondenceV2 benyttes av en tjenesteeier for å sende meldinger til avgivere i Altinn. Operasjonen er versjonert, gjeldende versjon er V2. Tabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     SystemUserCode Kode som unikt representerer kildesystem, f.eks. \u0026ldquo;ABC-123\u0026rdquo;. Format: XXX_YYYY. De tre første bokstavene er påkrevd og representerer tjenesteeier. De etter understreken representerer avdeling/system, og er valgfritt hvis det ikke finnes flere avdelinger/systemer innenfor samme tjenesteeier   ExternalShipmentReference Referanse satt av tjenesteeier. Benyttes ved utsending av meldingsbekreftelser og kvittering. Setter feltet SendersReference på meldingen blant annet brukt til oppslag   Correspondence Objekt av typen InsertCorrespondenceBEV2 med meldinger som skal lagres   Returverdi Beskrivelse   Receipt Kvittering for forsendelsen (ReceiptBE)    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     InsertCorrespondenceBEV2    ServiceCode Tjenestekode, f.eks. \u0026ldquo;PSA\u0026rdquo;   ServiceEdition Tjenesteutgavekode, f.eks. \u0026ldquo;2009\u0026rdquo;   Reportee Fødselsnummer eller organisasjonsnummer eller brukernavn på selvregistrert bruker for den meldingen gjelder   Content Objekt med meldingsdetaljer (ExternalContentBEV2)   VisibleDateTime Tidspunkt for når meldinger blir synlig i portal   AllowSystemDeleteDateTime Angir når Altinn kan slette meldingen   DueDateTime Tidspunkt for forfall svar   ArchiveReference Referanse til arkivert element. Benytt dette til å indikere at meldingen er et svar på en konkret innsending.   ReplyOptions Objekt med linker til skjema/Altinn tjeneste/arkivelement (CorrespondenceInsertLinkBE). Bruk dette til å indikere hvordan avgiver kan svare på en melding   Notifications Liste av objekt med varsler som skal sendes mottaker ifbm meldingen (NotificationBE)   AllowForwarding Angir om meldingen skal kunne videresendes av bruker i portalen   Case Id ID som identifiserer saken som meldingen skal knyttes til   MessageSender Avsender som skal vises for sluttbruker, kan være forskjellig fra etat, hvis den ikke fylles ut brukes etaten som eier tjenesten   IsReservable I sammenheng med KRR (Kontakt og reservasjons registeret) kan en sluttbruker reservere seg imot å motta meldinger. IsReservable verdien kan brukes til å indikere om det er mulig å reservere seg mot meldingen eller ikke. Det er valgfritt å angi en verdi og standard (default) verdi er False (0). Denne verdien må derfor aktivt settes til True (1) om tjeneste eier ønsker og respektere reservasjoner.   SdpOptions Inneholder informasjon om hvordan en melding skal sendes til Digital postkasse til innbygger istedenfor eller i tillegg til at det opprettes correspondence. Hvis det ikke oppgis noe informasjon (null) så vil ikke videresending aktiveres. Har også mulighet for å bestille varsel og revarsel fra postkasseleverandør. (Klasse: SdpOptions)   OnBehalfOfOrgNr Gjør det mulig å levere Correspondence på vegne av en annen organisasjon. Krever et valid Organisasjonsnummer som input.   ExternalContentBEV2    LanguageCode 1033 - English, 1044 - Bokmål, 2068 - Nynorsk   MessageTitle Tittel på melding   MessageSummary Tekst som beskriver meldingen   MessageBody Selve meldingen   Attachments Liste av vedlegg til meldingen, binære eller xml vedlegg (AttachmentBEV2)   CustomMessageData Felt for angivelse av attributter spesifikke for den gitte Altinn tjeneste. For eksempel for å angi kommunenummer på selvangivelsen. Bruk av spesifikke attributter må avtales spesielt for de(n) aktuelle Altinn-tjenestene   AttachmentBEV2    BinaryAttachments Liste med objekter av binære vedlegg (BinaryAttachmentBEV2)   XmlAttachmentList Liste med objekt med xml vedlegg (XmlAttachmentBEV2). Benyttes hvis det er definert at i TUL at melding skal vises i Infopath skjema. Infopath-skjema må være utviklet som en del av meldingstjenesten i TUL   BinaryAttachmentBEV2    FileName Filnavn for det binære vedlegget   Name Dette er navnet på vedlegget, som det vises i portalen   Encrypted Sier om vedlegget er kryptert. True/False   Data Data for det binære vedlegget, byte array   SendersReference Referanse for vedlegget, som ennå ikke er tatt i bruk. Settes av tjenesteeier. Feltet er ikke påkrevd   FunctionType Hvilken funksjonstype vedlegget utgjør: Invoice - Faktura, Unspecified - Uspesifisert   DestinationType Hvor vedlegget er tilgjengelig: Default/ShowToAll – tilgjengelig i portal og for sluttbrukersystem. PortalOnly – kun tilgjengelig fra portal. EndUserSystemOnly – kun tilgjengelig fra sluttbrukersystem   XmlAttachmentBEV2    SendersReference Referanse for vedlegget. Settes av tjenesteeier, bør være unikt   FormDataXml XML data. Må legges i en CDATA blokk   DataFormatId Identifikator for XSD fra den valgte leverandøren, definert i TUL (XSD id)   DataFormatVersion Versjonen av XSD\u0026rsquo;en som er brukt i dette InfoPath-skjemaet, definer i TUL (XSD versjon)   DataFormatVersion Versjonen av XSD\u0026rsquo;en som er brukt i dette InfoPath-skjemaet, definer i TUL (XSD versjon).   CorrespondenceInsertLinkBE    Service Objekt med info om service (InsertCorrespondenceLinkServiceCodeBE)   URL Objekt med info om url (InsertCorrespondenceLinkServiceURLBE)   ArchiveReference Objekt med info om arkivert element (InsertCorrespondenceLinkArchiveRefBE)   InsertCorrespondenceLinkServiceCodeBE    ServiceCode Angir den tjenestekoden for svarmeldingen   ServiceEdition Angir tjenesteutgavekoden for svarmeldingen   InsertCorrespondenceLinkServiceURLBE    LinkURL Angir en link til en webside for svarmelding   LinkText Beskrivelse av link   InsertCorrespondenceLinkArchiveRefBE    ArchiveRef Elementet benyttes hvis man kan svare vha. et arkivert element. Referanse til element i arkiv   NotificationBE    ShipmentDateTime Når varsel skal sendes til mottaker   LanguageCode Språk kode: 1033 English, 1044 Bokmål, 2068 Nynorsk   FromAddress Avsender adresse (e-post). Hvis ikke satt benyttes avsenderadresse satt i varselmalen   NotificationType En unik streng som definerer en referanse til predefinerte varslingstekster   ReceiverEndPoints Liste av mottaker adresser (ReceiverEndPointBE)   TextTokens Liste av tekster som skal erstatte maltekst i varselmal   ReceiverEndPoint    ReceiverAddress Adressen (telefonnummer eller e-postadresse) for mottakspunktet   TransportType Type varsling: Email, SMS, Instant Message (IM), Both email \u0026amp; SMS   TextTokenSubstitutionBE    TokenNum Ikke i bruk, kan utelates.   TokenValue Tekst som skal ersatte maltekst. Substitusajonen gjøres i samme rekkefølge som parameterene er angitt. Varselmal må bestilles og lages på forhånd   SdpOptions    SdpSetting Her styres det om Altinn skal ha en kopi eller ikke. CopyAltinn – Det opprettes en correspondence i tillegg til det digitale brevet. ForwardOnly – Det opprettes ikke noen kopi i Altinn   BackupAltinn Dette styrer hva som skal skje hvis avgiver ikke har en digital postkasse. (BackupAltinn har ingen effekt hvis avgiver har en digital postkasse.). BackupAltinn = false – Det lages aldri noen correspondence. Isteden gis det en feilmelding i kvitteringen som returneres. BackupAltinn = true – Det vil alltid lages en correspondence. Kvitteringen som returneres vil ha en underkvittering med info om at det ikke kunne sendes noe digitaltbrev da postkassen er ukjent   PrimaryDocumentFileName For SDP må det være med minst ett binært vedlegg under Attachments. Dette vedlegget må ha angitt et filnavn (FileName) og navnet må stemme perfekt med innholdet i dette feltet. Vedlegget vil da benyttes som hoveddokument i det digitale brevet   SdpNotifications Container for varsel. Kan ha 0 eller ett epostvarsel og/eller 0 eller smsvarsel. (Klasse: SdpNotifications)   SdpNotifications    EmailNotification Varseldetaljer for epostvarsel. (Klasse: SdpEmailNotification)   SmsNotification Varseldetaljer for smsvarsel. (Kallse: SmsNotification)   SdpEmailNotification    NotificationText Varselteksten som skal med i meldingen til bruker. Maks 500 tegn.   EmailAddress Epostaddressen til mottaker. Altinn vil forsøke finne brukerens adresse fra KRR hvis etat ikke har dette. Hvis hverken etat eller Altinn finner noen noen adresse vil det gi feilmelding.   Repititions Varsel repetisjoner. Flere verdier vil produsere påminnelser   SdpSmsNotification    NotificationText Varselteksten som skal med i meldingen til bruker. Maks 160 tegn   MobileNumber Mobilnummeret til mottaker. Altinn vil forsøke finne brukerens mobilnummer fra KRR hvis etat ikke har dette. Hvis hverken etat eller Altinn finner noen noe mobilnummer vil det gi feilmelding.   Repititions Varsel repetisjoner. Flere verdier vil produsere påminnelser   DaysDelayedList    DaysDelayed Et tall mellom 0 og 25 som angir antall dager relativt til dagen hvor det digitale brevet ble gjort tilgjengelig for bruker. Tallet 0 vil gi varsel samme dag   ReceiptBE    ReceiptId Unik identifikator kvitteringen i Altinn. Benyttes for eksempel ved senere oppdatering av kvittering   ReceiptText Tekst i kvitteringen   ReceiptHistory Når en kvittering oppdateres så vil den gamle kvitteringsteksten flyttes og legges til øverst i denne historikken   LastChanged Dato og tidspunkt for når kvitteringen sist ble endret (yyyy-MM-ddThh:mm:ss)   ReceiptTypeName Angir hva kvittering gjelder. Mulige verdier: FormTask - Skjemasett, Correspondence - Melding, PINCODE - PIN-koder, Subscription - Abonnement, Outbound - Forsendelse sendt fra Altinn, PreFill - Preutfyllingsdata, Broker - Formidlingstjeneste, RegisterDLS - DLS registerdata, RegisterDSF - DSF registerdata, RegisterER - ER registerdata, RegisterDSFProperty, RegisterDSFStreet, RegisterDSFCountry, RegisterDSFUser, LookUp - Innsynstjeneste   ReceiptTemplate Angir malen (XML) som skal benyttes for kvittering   ReceiptStatusCode Status for forsendelse som kvitteringen gjelder: NotSet (standardverdi som brukes når status ikke er satt – skal ikke kunne mottas som verdi), OK, UnExpectedError, ValidationFailed, Rejected   ParentReceiptId Dersom denne kvitteringen er en av flere kvitteringer for en forsendelse vil ParentReceiptId vise til ReceiptId som gjelder for hele forsendelsen (hovedkvittering)   References Liste med ReferenceBE-objekter for kvitteringen   SubReceipts Liste med tilhørende Receipt-objekter (dersom denne kvitteringen er en hovedkvittering)   ReferenceBE    ReferenceValue Selve referansen (verdien) satt på kvitteringen. Typisk forsendelsesreferansen   ReferenceTypeName Angir type referanse: ExternalShipmentReference - Referansen viser til en referanse satt av sluttbrukersystem for en forsendelse, EndUserSystemReference - Benyttes ikke, SendersReference - Referanse satt av avsender for del av en forsendelse, ParentReference - Referansen viser til et hovedskjema, WorkFlowReference - Arbeidsflytreferanse, BatchReference - Referanse til en forsendelse mottatt i eller sendt fra Altinn, OutboundShipmentReference - Referanse til en forsendelse sendt fra Altinn, ReceiversReference - Mottakers referanse hvis kvitteringen blir oppdatert av mottaker av en forsendelse, OwnerPartyReference - Organisasjonsnummer eller personnummer til eier av kvitteringen, typisk den som har sendt inn en forsendelse. Settes av Altinn og kan ikke endres, PartyReference - Organisasjonsnummer eller personnummer til en part som får rettigheter til å hente og oppdatere kvitteringen. Altinn legger automatisk til mottaker av en forsendelse som en part på kvitteringen, ArchiveReference -Arkivreferanse    ###9.4.2 CreateSimpleCorrespondenceService CreateSimpleCorrespondenceService er en operasjon som vil opprette en enkel meldingstjeneste (correspondence) basert på en mal. Malen (template) er i utgangspunktet en vanlig meldingstjeneste som er definert av ASF (Altinn sentralforvaltning). Malen blir gitt en midlertidig kode og versjonsnummer og disse verdiene kan senere benyttes av en tjenesteeier slik at de kan opprette sin egen unike tjeneste basert på malen.\nOperasjonen oppretter en fullverdig tjeneste, men siden malen skal kunne brukes som utgangspunkt for alle tjenesteeiere er den veldig enkel. Det er flere begrensninger. Tjenesten har ingen skjema, og det er ikke mulig å spesifisere at lesebekreftelser sendes på batch til tjenesteeier.\nI returen fra operasjonen kommer informasjon om den unike tjenesten for den spesifikke tjenesteeieren. Dette er ExternalServiceCode og ExternalServiceEditionCode som tjenesteeieren senere kan benytte i kall til operasjonen InsertCorrespondenceV2.\nFor flere detaljer om de ulike malene må man kontakte Altinn. De har også oversikt over eksisterende maler med koder og versjonsnummer.\n   Input Beskrivelse     templateServiceCode ServiceCode for malen man ønsker benytte   templateServiceEditionCode ServiceEditionCode for malen man ønsker benytte   Returverdi Beskrivelse   CorrespondenceServiceInfo Et dataobjekt med detaljer om tjenesten som ble laget. (se under.)    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     CorrespondenceServiceInfo    ExternalServiceCode Dette er koden for den nye unike tjenesten som operasjonen har laget for tjenesteeieren som kalte tjenesten   ExternalServiceEditionCode Dette er \u0026ldquo;editioncode\u0026rdquo; for den nye tjenesten    #####9.4.3 GetCorrespondenceStatusDetails Denne metoden bør helst ikke benyttes. Benytt isteden versjon 3.\nÅrsaken til versjonering av denne operasjonen er endring av kontrakten. Ved innføring av Kontakt og reservasjonsregisteret til difi ble det innført en ny status på Correspondence. Dette er en status som indikerer at mottaker har reservert seg mot å motta elektronisk kommunikasjon. #####9.4.4 GetCorrespondenceStatusDetailsV2 Denne metoden bør helst ikke benyttes. Benytt isteden versjon 3.\nÅrsaken til denne versjoneringen er ny funksjonalitet knyttet til Sikker Digital Post. #####9.4.5 GetCorrespondenceStatusDetailsV3 Operasjonen GetCorrespondenceStatusDetails benyttes av en tjenesteeier for å sjekke status på et sett av meldinger knyttet til en spesifisert tjeneste.\nTabellen under beskriver datakontrakten for operasjonen: Request entiteter:\n   Input Beskrivelse     CorrespondenceStatusFilter Entitet for å angi filter for søket   Returverdi Beskrivelse   CorrespondenceStatusResult Entitet med liste over meldingstjenestene som matcher søket    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     CorrespondenceStatusFilterV3    CreatedAfterDate Dato og klokkeslett som filtrere ut meldinger opprettet før angitt dato   CreatedBeforeDate Dato og klokkeslett som filtrere ut meldinger opprettet tidligere enn angitt dato   CurrentStatus Filter for å hente ut meldinger i en angitt status. Mulige verdier er: Created, Read, Confirmed   NotificationSent Filter for hvorvidt varsel er sendt for meldingene eller ei   Reportee Filter for å returnere melding for en gitt avgiver, angitt av fødselsnummer eller organisasjonsnummer   SendersReference Filter for meldinger med en gitt SendersReference fra tjenesteeier. SendersReference på meldingstjenesten settes av feltet ExternalShipmentReference ved bruk av web service InsertCorrespondenceV2 og feltet SendersReference i correspondence.2010.10.xsd for batch   ServiceCode Tjenestekode for meldingene som skal returneres – pålagt parameter   ServiceEditionCode Tjenesteutgavekode for meldingene som skal returneres – pålagt parameter   SdpSearchOptions Tilleggsinnstillinger for Digital postkasse til innbygger. Hvis det ikke oppgis noe her så vil tjenesten ikke inkludere SDP status detaljer   SdpStatusSearchOptions    IncludeCorrespondence Dette er et flag som styrer hvorvidt søkeresultatet skal inkludere correspondence status information   SdpStatusSearchOptions    IncludeCorrespondence Dette er et flag som styrer hvorvidt søkeresultatet skal inkludere correspondence status information    Respons entiteter:\n   Property Beskrivelse     CorrespondenceStatusResultV3    ServiceCode Tjenestekode for meldingene returnert   ServiceEditionCode Tjenesteutgavekode for meldingene returnert   CorrespondenceStatusInformation Status informasjon om meldinger i Altinn (CorrespondenceStatusInformation)   SdpStatusInformation Status informasjon om digitale brev som Altinn har videresendt til løsningen for «Digital postkasse til innbygger (SdpStatusInformation)   CorrespondenceStatusInformation    CorrespondenceStatusDetailsList Liste over meldinger og deres status historikk (StatusV2)   LimitReached Dette er et flag som indikerer hvorvidt listen er komplett eller ikke. Hvis dette feltet er true så betyr det at søkekriteriene bør endres slik at det er mer begrensende   StatusV2 (correspondence)    CorrespondenceID Meldingens unike id   CreatedDate Dato for når meldingen ble opprettet   Notifications Liste over varsler knyttet til meldingen angitt som en liste med Notification-entiteter (Notification)   Reportee Avgiver meldingen tilhører. Fødselsnummer eller organisasjonsnummer   SendersReference Verdien av referansen SendersReference hvis angitt av tjenesteeier   StatusChanges Liste over meldingens statusendringer som en liste av StatusChange-entiteter   Notification    Recipient Varselets mottaksadresse. E-postadresse eller telefonnummer   SentDate Dato og klokkeslett for når varselet er sendt. Om feltet er tomt (null) betyr det at varselet ikke er sendt   TransportType Typer varsling: Email, SMS, IM (Instant Message),Both (email og SMS)   StatusChange    StatusDate Dato og klokkeslett for når statusen endret   StatusType Statusen meldingen endret til. Mulige verdier er: Created – meldingen ble opprettet av tjenesteeier, Read – meldingen ble lest av en bruker, Confirmed – meldingen ble bekreftet lest av en bruker, Reserved – mottaker har reservert seg mot elektronisk kommunikasjon. Meldingen er ikke synlig for mottaker   SdpStatusInformation    SdpStatusDetailsList Liste over digitale brev laget gjennom Altinn og deres status historikk (SdpStatusDetails)   LimitReached Dette er et flag som indikerer hvorvidt listen er komplett eller ikke. Hvis dette feltet er true så betyr det at søkekriteriene bør endres slik at det er mer begrensende   SdpStatusDetails    SdpId En unik ID for elementet definert i Altinn   CorrespondenceId Unik ID for correpondence hvis Altinn har fått kopi eller har fungert som backup   CreatedDateTime Tidspunktet for når det digitale brevet først ble registrert i Altinn   LastChangedDateTime Tidspunktet for når status på elementet ble sist oppdatert   Reportee Avgiver i form av personnummer eller organisasjonsnummer (Brevets mottaker)   Reference En referanseverdi som tjenesteeier kan gi alle digitale brev. Kan brukes hvis det lages mange brev samtidig for å identifisere alle som ble opprettet sammen   StatusHistory Brevets status historikk. Dette er en liste med de statuser brevet har hatt(SdpStatusChange)   SdpStatusChange    Status Unknown – Ukjent status, Sent_Meldingsformidler – Altinn har laget brevet og sendt det inn i SDP systemet, Delivered_EndUser – Brevet har gått gjennom systemet og blitt levert til sluttbruker, Delivery_EndUser_Failed – Brevet kunne ikke leveres, Reserved – Altinn lagde ikke noe brev fordi sluttbruker har reservert seg mot digital post, NoMailBox – Altinn lagde ikke noe brev fordi sluttbruker ikke har registrert noen postboks i kontakt og reservasjonsregisteret   StatusDateTime Tidspunktet for når statusen ble satt    #####9.4.6 GetCorrespondenceStatusHistory Operasjonen GetCorrespondenceStatusHistory benyttes av en tjenesteeier for å sjekke status på et sett av meldinger basert på SendersReference på meldingene.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     CorrespondenceStatusHistoryRequest Entitet for å angi filter for søket   Returverdi Beskrivelse   CorrespondenceStatusHistoryResult Entitet med liste over meldingstjenestene som matcher søket    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\nRequest entiteter:\n   Property Beskrivelse     CorrespondenceStatusHistoryResult    CorrespondenceStatusInformation Status informasjon om meldinger i Altinn. (CorrespondenceStatusInformation   SdpStatusInformation Status informasjon om digitale brev som Altinn har videresendt til løsningen for «Digital postkasse til innbygger (SdpStatusInformation)   CorrespondenceStatusInformation    CorrespondenceStatusDetailsList Liste over meldinger og deres status historikk (StatusV2)   LimitReached Dette er et flag som indikerer hvorvidt listen er komplett eller ikke. Hvis dette feltet er true så betyr det at søkekriteriene bør endres slik at det er mer begrensende   StatusV2 (correspondence)    CorrespondenceID Meldingens unike id   CreatedDate Dato for når meldingen ble opprettet   Notifications Liste over varsler knyttet til meldingen angitt som en liste med Notification-entiteter (Notification)   Reportee Avgiver meldingen tilhører. Fødselsnummer eller organisasjonsnummer.   SendersReference Verdien av referansen SendersReference hvis angitt av tjenesteeier   StatusChanges Liste over meldingens statusendringer som en liste av StatusChange-entiteter   Notification    Recipient Varselets mottaksadresse. E-postadresse eller telefonnummer   SentDate Dato og klokkeslett for når varselet er sendt. Om feltet er tomt (null) betyr det at varselet ikke er sendt   TransportType Typen varsling: Email, SMS, IM (Instant Message), Both (email og SMS)   StatusChange    StatusDate Dato og klokkeslett for når statusen endret   StatusType Statusen meldingen endret til. Mulige verdier er: Created – meldingen ble opprettet av tjenesteeier, Read – meldingen ble lest av en bruker,Confirmed – meldingen ble bekreftet lest av en bruker, Reserved – mottaker har reservert seg mot elektronisk kommunikasjon. Meldingen er ikke synlig for mottaker   SdpStatusInformation    SdpStatusDetailsList Liste over digitale brev laget gjennom Altinn og deres status historikk (SdpStatusDetails)   LimitReached Dette er et flag som indikerer hvorvidt listen er komplett eller ikke. Hvis dette feltet er true så betyr det at søkekriteriene bør endres slik at det er mer begrensende   SdpStatusDetails    SdpId En unik ID for elementet definert i Altinn   CorrespondenceId Unik ID for correpondence hvis Altinn har fått kopi eller har fungert som backup   CreatedDateTime Tidspunktet for når det digitale brevet først ble registrert i Altinn   LastChangedDateTime Tidspunktet for når status på elementet ble sist oppdatert   Reportee Avgiver i form av personnummer eller organisasjonsnummer. (Brevets mottaker)   Reference En referanseverdi som tjenesteeier kan gi alle digitale brev. Kan brukes hvis det lages mange brev samtidig for å identifisere alle som ble opprettet sammen.   StatusHistory Brevets status historikk. Dette er en liste med de statuser brevet har hatt (SdpStatusChange)   SdpStatusChange    Status Unknown – Ukjent status, Sent_Meldingsformidler – Altinn har laget brevet og sendt det inn i SDP systemet, Delivered_EndUser – Brevet har gått gjennom systemet og blitt levert til sluttbruker, Delivery_EndUser_Failed – Brevet kunne ikke leveres, Reserved – Altinn lagde ikke noe brev fordi sluttbruker har reservert seg mot digital post, NoMailBox – Altinn lagde ikke noe brev fordi sluttbruker ikke har registrert noen postboks i kontakt og reservasjonsregisteret   StatusDateTime Tidspunktet for når statusen ble satt    #####9.5 AltUt For bakoverkompatibilitet tilbys AltUt grensesnittet for registrering av meldinger til eksisterende tjenesteeiere. Nye tjenesteeiere skal benytte nytt tjenestegrensesnitt. AltUt grensesnittet vil ikke bli oppdatert ettersom Altinn videreutvikles.\n#####9.5.1 SubmitAltutMessagePw Operasjonen SubmitAltutMessagePw benyttes av eksisterende tjenesteeiere for å sende meldinger til avgivere i Altinn.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     altutMessage Meldingen som skal sendes til Altinn. Må være i henhold til AltUt.xsd (versjon 6.0)   Password Tjenesteeiers passord   Returverdi Beskrivelse   submitAltutMessagePwResult Kvittering for innsendingen. Er i henhold til GovOrganReceipt.xsd (versjon 6.0)    Se avsnitt Batch grensesnitt – Altut format for bilde av xml struktur i Altut.xsd.\nTabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten\n   Property Beskrivelse     altutMessage (AltUt.xsd)    Se definisjonen på xsd i avsnittet Batch grensesnitt – Altut format        Element Beskrivelse     GovOrganReceipt Rotnode   schemaVersion Versjon på kvittering   GovOrganReceipt.DataUnitInReceipt Elementet inneholder status på og tidspunkt for forsendelse, samt elementer for melding til kallende system   receiptType Kvitteringstype (valgfritt): PREFILL, ALTUT   status Status på innsending   timeReceived Tidspunkt for innsending   GovOrganReceipt.DataUnitInReceipt.Message Overordnet element   GovOrganReceipt.DataUnitInReceipt.Message.MessageEntry Elementet inneholder melding som beskriver resultat for forsendelse    #####9.6 Prefill Denne tjenesten inneholder operasjoner som benyttes av tjenesteeier for å sende inn preutfylte oppgavesett for avgivere. Det finnes tre typer preutfyllingsinformasjon: • Preutfylling av oppgavesett Hele oppgavesettet (hoved- og underskjema) sendes inn med preutfyllingsinformasjon. Tjenesteeier kan også velge å legge til binære vedlegg (Base64) for preutfylte oppgavesett. • Preutfyllingsinformasjon angitt som felt/verdi Feltet viser til en unik id som benyttes i skjemaer, og det angis verdi for feltet. • Registerdata Statisk informasjon som sendes inn fra nasjonale registre.\nPrefilltjenesten benyttes kun for preutfyllingsinformasjon som angis per skjemasett. For preutfyllingsinformasjon for felt/verdi og registerdata benyttes et batchgrensesnitt. Batch-grensesnittet kan også benyttes dersom mengden med preutfyllingsinformasjon er for stort for et tjenestekall, eller for tjenesteeiere som ikke ønsker å benytte tjenestegrensesnittet. Det alternative batch-grensesnittet er beskrevet i avsnittet Preutfylling.\nTjenestene for skjemasettet må være definert i tjenesteutviklingsløsningen og migrert til Altinn før en tjenesteeier kan sende inn preutfyllingsinformasjon for tjenesten. Operasjon GetAvailableServices kan kalles for å sjekke om skjemasettet eksisterer i Altinn.\nPåfølgende kapitler beskriver tjenesteoperasjonene for denne tjenesten. #####9.6.1 SubmitAndInstantiatePrefilledFormTask Denne operasjonen benyttes av tjenesteeiere for å preutfylle et oppgavesett for en avgiver, og umiddelbart aktivere oppgavesettet i brukers arbeidsliste. Ett oppgavesett kan preutfylles og instansieres per kall til SubmitAndInstantiatePrefilledFormTask. Kvittering til tjenesteeier vil angi om mottak, validering, lagring til prefilldatabase (dersom dette er valgt) og instansiering av skjema i portal (dersom dette er valgt) ble gjennomført.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     externalBatchId Unik id for forsendelse. Denne defineres og settes av tjenesteeier. Returneres i kvittering. Identifikatoren kan senere benyttes av tjenesteeier for å hente ut kvittering for den gitte forsendelsen   preFillFormTask Dette objektet av typen PrefillFormTaskBE inneholder prefilldata for de ulike skjema i et oppgavesett   doSaveFormTask Angir om det preutfylte oppgavesettet skal lagres i databasen for senere bruk   doinstantiateFormTask Angir om det preutfylte oppgavesettet umiddelbart skal instansieres i brukers arbeidsliste   caseId Referanse til samhandlingstjeneste preutfylt skjema skal knyttes til   Returverdi Beskrivelse   Receipt ReceiptBE-objekt. Kvittering for forsendelsen    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     PrefillFormTaskBE    ServiceOwnerCode Feltnavnet er misvisende. Verdien skal ikke være ServiceOwnerCode, men en kode som unikt representerer kildesystem. For eksempel: \u0026ldquo;ABC-123\u0026rdquo;. Format: XXX_YYYY. De tre første bokstavene er påkrevd og representerer tjenesteeier. De etter understreken representerer avdeling/system, og er valgfritt hvis det ikke finnes flere avdelinger/systemer innenfor samme tjenesteeier   ExternalShipmentReference Unik referanse som settes av tjenesteeier for å identifisere forsendelsen   Reportee Fødselsnummer eller organisasjonsnummer organisasjonsnummer eller brukernavn på selvregistrert bruker som identifiserer hvem dataene gjelder   ExternalServiceCode Angir den unike tjenestekoden dataene gjelder   ExternalServiceEditionCode Angir tjenesteutgavekode dataene gjelder   ValidFromDate Angir fra når preutfyllingsdata er gyldig (yyyy-MM-dd)   ValidToDate Angir til når preutfyllingsdata er gyldig (yyyy-MM-dd)   IdentityFieldHashCode Settes ikke av tjenesteeier. Brukes internt i Altinn   SendersReference Referanse på preutfylt skjemasett som settes av tjenesteeier   ReceiversReference Referanse som settes av Altinn. Denne returneres i kvittering til tjenesteeier   PrefillFormList Liste (PrefillFormBE-objekter) som inneholder preutfylte skjema og metadata for et oppgavesett, ett skjema per objekt   PrefillAttachmentList Liste (PrefillAttachmentBE-objekter) som inneholder binære for oppgavesettet   PreFillIdentityFieldList Liste (PrefillIdentityFieldBE-objekter) som inneholder identifiserende felter for det preutfylte oppgavesettet   NotificationList Liste (NotificationBE-objekter) med varsler for det preutfylte oppgavesettet   PrefillFormBE    DataFormatID Id til skjema fra metadata kilde   DataFormatVersion Versjon til skjema fra metadata kilde   SendersReference Unik referanse for skjemaet satt av tjenesteeier   FormDataXML Preutfyllingsdata for skjemaet. Må legges i en CDATA blokk   PrefillAttachmentBE    AttachmentName Dette er navnet på vedlegget, som det vises i portalen   FileName Navn på fil for det binære vedlegget   AttachmentData Data for det binære vedlegget   AttachmentType Angir MIME-typen for vedlegget: application_none - ingen MIME type angitt, application_pdf - PDF format, application_msword - Microsoft Word, application_vnd_ms_excel - Microsoft Excel, application_vns_oasis_opendocument_text - Open document type Text, application_vnd_oasis_opendocument_presentation - Open docment type Presentation, application_vnd_oasis_opendocument_spreadsheet - Open docment, type Spreadsheet, application_rtf - Rich text format type, application_vnd_ms_powerpoint - Microsoft PowerPoint, application_postscript, application_zip - Type zip, text_plain, text_html, text_xml, text_rtf - Rich text format type, text_richtext - Rich text, binary_octet_stream - Binary format, not_Applicable   SendersReference Referanse for vedlegget. Settes av tjenesteeier   PrefillIdentityFieldBE    FieldValue Verdi for identifiserende feltet. Må settes når det skal være mer enn ett preutfylt skjemasett for samme tjeneste og avgiver. Se avsnitt Identifiserende felter for mer info   NotificationBE    ShipmentDateTime Når varsel skal sendes til mottaker   LanguageCode Språk kode: 1033 - English, 1044 - Bokmål, 2068 - Nynorsk   FromAddress Avsender adresse (e-post). Hvis ikke satt benyttes avsenderadresse satt i varselmalen   NotificationType En unik streng som definerer en referanse til predefinerte varslingstekster   ReceiverEndPoints Liste av mottaker addresser (ReceiverEndPointBE)   TextTokens Liste av tekster som skal erstatte maltekst i varselmal   ReceiverEndPoint    ReceiverAddress Adressen (telefonnummer eller e-postadresse) for mottakspunktet   TransportType Type varsling: Email, SMS, Instant Message (IM), Both email \u0026amp; sms   TextTokenSubstitutionBE    TokenNum Ikke i bruk, kan utelates   TokenValue Tekst som skal ersatte maltekst. Substitusajonen gjøres i samme rekkefølge som parameterene er angitt. Varselmal må bestilles og lages på forhånd   ReceiptBE    ReceiptId Unik identifikator kvitteringen i Altinn. Benyttes for eksempel ved senere oppdatering av kvittering   ReceiptText Tekst i kvitteringen   ReceiptHistory Når en kvittering oppdateres så vil den gamle kvitteringsteksten flyttes og legges til øverst i denne historikken   LastChanged Dato og tidspunkt for når kvitteringen sist ble endret (yyyy-MM-ddThh:mm:ss)   ReceiptTypeName Angir hva kvittering gjelder. Mulige verdier: FormTask -Skjemasett, Correspondence - Melding, PINCODE - PIN-koder, Subscription - Abonnement, Outbound - Forsendelse sendt fra Altinn, PreFill - Preutfyllingsdata, Broker - Formidlingstjeneste, RegisterDLS - DLS registerdata, RegisterDSF - DSF registerdata, RegisterER - ER registerdata, RegisterDSFProperty, RegisterDSFStreet, RegisterDSFCountry, RegisterDSFUser, LookUp -Innsynstjeneste   ReceiptTemplate Angir malen (XML) som skal benyttes for kvittering   ReceiptStatusCode Status for forsendelse som kvitteringen gjelder: NotSet (standardverdi som brukes når status ikke er satt – skal ikke kunne mottas som verdi), OK, UnExpectedError, ValidationFailed, Rejected   ParentReceiptId Dersom denne kvitteringen er en av flere kvitteringer for en forsendelse vil ParentReceiptId vise til ReceiptId som gjelder for hele forsendelsen (hovedkvittering)   References Liste med ReferenceBE-objekter for kvitteringen   SubReceipts Liste med tilhørende Receipt-objekter (dersom denne kvitteringen er en hovedkvittering)   ReferenceBE    ReferenceValue Selve referansen (verdien) satt på kvitteringen. Typisk forsendelsesreferansen   ReferenceTypeName Angir type referanse: ExternalShipmentReference - Referansen viser til en referanse satt av sluttbrukersystem for en forsendelse, EndUserSystemReference - Benyttes ikke, SendersReference - Referanse satt av avsender for del av en forsendelse, ParentReference - Referansen viser til et hovedskjema, WorkFlowReference - Arbeidsflytreferanse, BatchReference - Referanse til en forsendelse mottatt i eller sendt fra Altinn, OutboundShipmentReference - Referanse til en forsendelse sendt fra Altinn, ReceiversReference - Mottakers referanse hvis kvitteringen blir oppdatert av mottaker av en forsendelse, OwnerPartyReference -Organisasjonsnummer eller personnummer til eier av kvitteringen er typisk den som har sendt inn en forsendelse. Settes av Altinn og kan ikke endres, PartyReference - Organisasjonsnummer eller personnummer til en part som får rettigheter til å hente og oppdatere kvitteringen. Altinn legger automatisk til mottaker av en forsendelse som en part på kvitteringen, ArchiveReference - Arkivreferanse    #####9.6.2 SubmitPrefilledFormTasks SubmitPrefilledFormTasks kalles av tjenesteeier for å lagre et preutfylt oppgavesett for en avgiver i Altinn. Ett eller flere oppgavesett kan sendes inn ved et kall til tjenesten.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     externalBatchId Unik id for forsendelse. Denne defineres og settes av tjenesteeier. Returneres i kvittering. Identifikatoren kan senere benyttes av tjenesteeier for å hente ut kvittering for den gitte forsendelsen   Returverdi Beskrivelse   Receipt ReceiptBE-objekt. Kvittering for forsendelsen    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     PreFillFormTaskDetails    SystemUserCode Kode som unikt representerer kildesystem, f.eks. \u0026ldquo;ABC-123\u0026rdquo;. Format: XXX_YYYY. De tre første bokstavene er påkrevd og representerer tjenesteeier. De etter understreken representerer avdeling/system, og er valgfritt hvis det ikke finnes flere avdelinger/systemer innenfor samme tjenesteeier   PreFillFormTaskList Liste med metadata og preutfyllingsdata (PreFillFormTaskBE-objekter) for skjemaene i oppgavesettet   PrefillFormTaskBE    ServiceOwnerCode Unik kode på tjenesteeier som er kilde for preutfyllingsdata   ExternalShipmentReference Unik referanse som settes av tjenesteeier for å identifisere skjemaet i forsendelsen   Reportee Fødselsnummer eller organisasjonsnummer organisasjonsnummer eller brukernavn på selvregistrert bruker som identifiserer hvem dataene gjelder   ExternalServiceCode Angir den unike tjenestekoden dataene gjelder   ExternalServiceEditionCode Angir tjenesteutgavekode dataene gjelder   ValidFromDate Angir fra når preutfyllingsdata er gyldig (yyyy-MM-dd)   ValidToDate Angir til når preutfyllingsdata er gyldig (yyyy-MM-dd)   IdentityFieldHashCode Settes ikke av tjenesteeier. Brukes internt i Altinn   SendersReference Referanse på preutfylt skjemasett som settes av tjenesteeier   ReceiversReference Referanse som settes av Altinn. Denne returneres i kvittering til tjenesteeier   PrefillFormList Liste (PrefillFormBE-objekt) som inneholder preutfylte skjema og metadata for et oppgavesett, ett skjema per objekt   PrefillAttachmentList Liste (PrefillAttachmentBE-objekt) som inneholder binære for oppgavesettet   PreFillIdentityFieldList Liste (PrefillIdentityFieldBE-objekt) som inneholder identifiserende felter for det preutfylte oppgavesettet   NotificationList Liste (NotificationBE -objekt) med varsler for det preutfylte oppgavesettet   PrefillFormBE    DataFormatID Id til skjema fra metadata kilde   DataFormatVersion Versjon til skjema fra metadata kilde   SendersReference Referanse for skjemaet satt av tjenesteeier, bør være unikt   FormDataXML Preutfyllingsdata for skjemaet. Må legges i en CDATA blokk   PrefillAttachmentBE    AttachmentName Dette er navnet på vedlegget, som det vises i portalen   FileName Navn på fil for det binære vedlegget   AttachmentData Data for det binære vedlegget   AttachmentType Angir MIME-typen for vedlegget: application_none - ingen MIME type angitt, application_pdf - PDF format, application_msword - Microsoft Word, Application_vnd_ms_excel - Microsoft Excel, application_vns_oasis_opendocument_textOpen document av type Text, application_vnd_oasis_opendocument_presentation - Open docment av type Presentation, application_vnd_oasis_opendocument_spreadsheet - Open docment av type Spreadsheet, application_rtf - Rich text format type, application_vnd_ms_powerpoint - Microsoft PowerPoint, application_postscript, application_zip - Type zip, text_plain, text_html, text_xml, text_rtf - Rich text format type, text_richtext - Rich text, binary_octet_stream - Binary format, not_Applicable   SendersReference Referanse for vedlegget. Settes av tjenesteeier   PrefillIdentityField    FieldValue Verdi for identifiserende feltet. Må settes når det skal være mer enn ett preutfylt skjemasett for samme tjeneste og avgiver. Se avsnitt Identifiserende felter for mer info   NotificationBE    ShipmentDateTime Når varsel skal sendes til mottaker   LanguageCode Språk kode: 1033 - English, 1044 - Bokmål, 2068 - Nynorsk   FromAddress Avsender adresse (e-post). Hvis ikke satt benyttes avsenderadresse satt i varselmalen   NotificationType En unik streng som definerer en referanse til predefinerte varslingstekster   ReceiverEndPoints Liste av mottaker addresser (ReceiverEndPointBE)   TextTokens Liste av tekster som skal erstatte maltekst i varselmal   ReceiverEndPoint    ReceiverAddress Adressen (telefonnummer eller e-postadresse) for mottakspunktet   TransportType Type varsling: Email, SMS, Instant Message (IM), Both email \u0026amp; sms   TextTokenSubstitution    TokenNum Ikke i bruk, kan utelates   TokenValue Tekst som skal ersatte maltekst. Substitusajonen gjøres i samme rekkefølge som parameterene er angitt. Varselmal må bestilles og lages på forhånd   ReceiptBE    ReceiptId Unik identifikator kvitteringen i Altinn. Benyttes for eksempel ved senere oppdatering av kvittering   ReceiptText Tekst i kvitteringen   ReceiptHistory Når en kvittering oppdateres så vil den gamle kvitteringsteksten flyttes og legges til øverst i denne historikken   LastChanged Dato og tidspunkt for når kvitteringen sist ble endret (yyyy-MM-ddThh:mm:ss)   ReceiptTypeName Angir hva kvittering gjelder. Mulige verdier: FormTask -Skjemasett, Correspondence - Melding, PINCODE - PINkoder, Subscription - Abonnement, Outbound - Forsendelse sendt fra Altinn, PreFill - Preutfyllingsdata, Broker - Formidlingstjeneste, RegisterDLS - DLS registerdata, RegisterDSF - DSF registerdata, RegisterER - ER registerdata, RegisterDSFProperty, RegisterDSFStreet, RegisterDSFCountry, RegisterDSFUser, LookUp - Innsynstjeneste   ReceiptTemplate Angir malen (XML) som skal benyttes for kvittering   ReceiptStatusCode Status for forsendelse som kvitteringen gjelder: NotSet (standardverdi som brukes når status ikke er satt – skal ikke kunne mottas som verdi), OK, UnExpectedError, ValidationFailed, Rejected   ParentReceiptId Dersom denne kvitteringen er en av flere kvitteringer for en forsendelse vil ParentReceiptId vise til ReceiptId som gjelder for hele forsendelsen (hovedkvittering)   References Liste med ReferenceBE-objekter for kvitteringen   SubReceipts Liste med tilhørende Receipt-objekter (dersom denne kvitteringen er en hovedkvittering)   ReferenceBE    ReferenceValue Selve referansen (verdien) satt på kvitteringen. Typisk forsendelsesreferansen   ReferenceTypeName Angir type referanse: ExternalShipmentReference - Referansen viser til en referanse satt av sluttbrukersystem for en forsendelse, EndUserSystemReference - Benyttes ikke, SendersReference - Referanse satt av avsender for del av en forsendelse, ParentReference - Referansen viser til et hovedskjema, WorkFlowReference - Arbeidsflytreferanse, BatchReference - Referanse til en forsendelse mottatt i eller sendt fra Altinn, OutboundShipmentReference - Referanse til en forsendelse sendt fra Altinn, ReceiversReference - Mottakers referanse hvis kvitteringen blir oppdatert av mottaker av en forsendelse, OwnerPartyReference - Organisasjonsnummer eller personnummer til eier av kvitteringen som typisk er den som har sendt inn en forsendelse. Settes av Altinn og kan ikke endres, PartyReference - Organisasjonsnummer eller personnummer til en part som får rettigheter til å hente og oppdatere kvitteringen. Altinn legger automatisk til mottaker av en forsendelse som en part på kvitteringen, ArchiveReference - Arkivreferanse    #####9.6.3 Håndtering av Etatid attribut i skjemadefinasjon fra OR ved Prefil Skjema definert av oppgaveregisteret har ofte en valgfri attributt kalt etatid som er en enum med gyldige etater for skjemadefinasjon. Denne verdien er ikke i bruk i Altinn 2 og kan ikke benyttes. Hvis verdi settes i XML som sendes inn fra etatssystem vil skjema ikke validere.\n#####9.7 Subscription Subscription inneholder operasjoner relatert til abonnement på tjenester i Altinn.\nPåfølgende kapittel beskriver tjenesteoperasjonen for denne tjenesten.\n#####9.7.1 SubmitSubscription SubmitSubscription kalles for å lagre abonnement for ett eller flere skjemasett i Altinn. Det er mulig å sende abonnementsdata for mer enn ett oppgavesett i ett kall til SubmitSubscription. Skjemasettet må være definert som en tjeneste i tjenesteutviklingsløsningen og migrert til Altinn før en tjenesteeier kan sette opp abonnement for et skjemasett. Operasjon GetAvailableServices kan kalles for å sjekke om tjenesten for skjemasettet eksisterer i Altinn.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     externalBatchId Unik id for forsendelse. Denne defineres og settes av tjenesteeier. Returneres i kvittering. Identifikatoren kan senere benyttes av tjenesteeier for å hente ut kvittering for den gitte forsendelsen   SubscriptionDetails Liste med SubscriptionDetailsBE-objekter som inneholder metadata og abonnement   Property Beskrivelse   SubscriptionDetailsBE    SubscriptionList Liste med abonnement (SubscriptionBE-objekter)   SystemUserCode Kode som unikt representerer kildesystem, f.eks. \u0026ldquo;ABC-123\u0026rdquo;. Format: XXX_YYYY. De tre første bokstavene er påkrevd og representerer tjenesteeier. De etter understreken representerer avdeling/system, og er valgfritt hvis det ikke finnes flere avdelinger/systemer innenfor samme tjenesteeier   SubscriptionBE    ReporteeId Fødselsnummer eller organisasjonsnummer som identifiserer hvem dataene gjelder   StartDate Dato for når abonnementet skal aktiviseres (yyyy-MM-dd)   ExpirationDate Dato for når abonnementet opphører (yyyy-MM-dd)   NextScheduleDate Dato for når abonnementet skal instansieres neste gang (yyyy-MM-dd). Første dato settes av tjenesteeier, neste kalkuleres av runtiejobb i Altinn (basert på periodetype)   NextDueDate Dato for når abonnementet/innsendingstjenesten må være fylt ut av bruker i portal/sluttbrukersystem (yyyy-MM-dd). Første dato settes av tjenesteeier, neste kalkuleres av runtiejobb i Altinn (basert på periodetype)   VisibleDate Dato for når abonnementet skal være synlig i portal/for sluttbrukersystemer (yyyy-MM-dd)   SubscriptionPeriodType Angir hvor ofte abonnementet skal instansieres (obligatorisk): Annual - årlig, Semiannual - to ganger årlig, Quarterly - tre ganger årlig, Tertiary - fire ganger årlig, Bimonthly - annenhver måned, Monthly - hver måned, Fortnightly - hver 15. dag, Weekly - hver uke, Daily - hver dag, Once -abonnementet instansieres én gang   IdentityFields Liste (SubscriptionIdentityField-objekt) som inneholder identifiserende felter for det abonnementet. Settes kun hvis abonnementet skal kobles til et gitt preutfylt skjemasett   ExternalServiceEditionCode Utgave av tjenesten det skal opprettes abonnement for   ExternalServiceCode Unik identifikator for tjenesten det skal opprettes abonnement for   CaseId Valgfri referanse til samhandlingstjeneste skjema skal knyttes til   SubscriptionIdentityField    FieldValue Verdi for identifiserende feltet. Må angis hvis abonnement skal kobles til et preutfylt skjemasett. Se avsnitt Identifiserende felter for mer info   ReceiptBE    ReceiptId Unik identifikator kvitteringen i Altinn. Benyttes for eksempel ved senere oppdatering av kvittering   ReceiptText Tekst i kvitteringen   ReceiptHistory Når en kvittering oppdateres så vil den gamle kvitteringsteksten flyttes og legges til øverst i denne historikken   LastChanged Dato og tidspunkt for når kvitteringen sist ble endret (yyyy-MM-ddThh:mm:ss)   ReceiptTypeName Angir hva kvittering gjelder. Mulige verdier: FormTask - Skjemasett, Correspondence - Melding, PINCODE - PIN-koder, Subscription - Abonnement, Outbound - Forsendelse sendt fra Altinn, PreFill - Preutfyllingsdata, Broker - Formidlingstjeneste, RegisterDLS - DLS registerdata, RegisterDSF - DSF registerdata, RegisterER - ER registerdata, RegisterDSFProperty, RegisterDSFStreet, RegisterDSFCountry, RegisterDSFUser, LookUp - Innsynstjeneste   ReceiptTemplate Angir malen (XML) som skal benyttes for kvittering   ReceiptStatusCode Status for forsendelse som kvitteringen gjelder: NotSet (standardverdi som brukes når status ikke er satt – skal ikke kunne mottas som verdi), OK, UnExpectedError, ValidationFailed, Rejected   ParentReceiptId Dersom denne kvitteringen er en av flere kvitteringer for en forsendelse vil ParentReceiptId vise til ReceiptId som gjelder for hele forsendelsen (hovedkvittering)   References Liste med ReferenceBE-objekter for kvitteringen   SubReceipts Liste med tilhørende Receipt-objekter (dersom denne kvitteringen er en hovedkvittering)   ReferenceBE    ReferenceValue Selve referansen (verdien) satt på kvitteringen. Typisk forsendelsesreferansen   ReferenceTypeName Angir type referanse: ExternalShipmentReference - Referansen viser til en referanse satt av sluttbrukersystem for en forsendelse, EndUserSystemReference - Benyttes ikke, SendersReference - Referanse satt av avsender for del av en forsendelse, ParentReference - Referansen viser til et hovedskjema, WorkFlowReference - Arbeidsflytreferanse, BatchReference - Referanse til en forsendelse mottatt i eller sendt fra Altinn, OutboundShipmentReference - Referanse til en forsendelse sendt fra Altinn, ReceiversReference - Mottakers referanse hvis kvitteringen blir oppdatert av mottaker av en forsendelse, OwnerPartyReference - Organisasjonsnummer eller personnummer til eier av kvitteringen, typisk den som har sendt inn en forsendelse. Settes av Altinn og kan ikke endres, PartyReference - Organisasjonsnummer eller personnummer til en part som får rettigheter til å hente og oppdatere kvitteringen. Altinn legger automatisk til mottaker av en forsendelse som en part på kvitteringen, ArchiveReference - Arkivreferanse    #####9.8 AuthorizationAdministration AuthorizationAdministration er tjenesten i Altinn II for import av eksterne regler og ressurser brukt til å ta avgjørelser der Altinns autorisasjonskomponent benyttes. Er tilknyttet tjenesten AuthorizationDecisionPointExternal som benytter importert informasjon.\nPåfølgende kapitler beskriver tjenesteoperasjonene for denne tjenesten.\n#####9.8.1 ImportAuthorizationPolicy Operasjon for å importere XACML regler for ekstern autorisering.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     authorizationRulesXml XML på XACML standard som inneholder autorisasjonsreglene   Returverdi Beskrivelse   Boolsk Returnere status for regelimporten, true, vellykket eller false, feilet    Altinn spesifikke elementer XACML-forespørselen:\n   Foreldrenode AttributeId AttributeValue verdier     Subject urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:rolecode Kode for rollen   Subject urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:authenticationlevel Autentiseringsnivå 0, 1, 2, 3, 4. Hvilke nivå som skal kreves for en resurs.   Subject urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:delegatable true / false kan rettigheten delegeres videre   Subject urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:external-resource Ekstern ressursdefinisjon   Subject urn:oasis:names:tc:xacml:2.0:action:urn:altinn:action-id Read Write Sign ArchiveRead ArchiveDelete ServiceOwnerArchiveRead Delegate   Subject urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:rolecode Kode for rollen    Følgende er et eksempel på valid XACML for eksterne regler: AuthorizationPolicy\n\u0026lt;?xml version=\u0026quot;1.0\u0026quot; encoding=\u0026quot;utf-8\u0026quot;?\u0026gt; \u0026lt;xacml:Policy xmlns:xacml=\u0026quot;urn:oasis:names:tc:xacml:2.0:policy:schema:os\u0026quot; xmlns:xsi=\u0026quot;http://www.w3.org/2001/XMLSchema-instance\u0026quot; xsi:schemaLocation=\u0026quot;urn:oasis:names:tc:xacml:2.0:policy:schema:os http://docs.oasis-open.org/xacml/2.0/access_control-xacml-2.0-policy-schema-os.xsd\u0026quot; PolicyId=\u0026quot;#1\u0026quot; Version=\u0026quot;1.0\u0026quot; RuleCombiningAlgId=\u0026quot;urn:oasis:names:tc:xacml:1.0:rule-combiningalgorithm:deny-overrides\u0026quot;\u0026gt; \u0026lt;xacml:Description\u0026gt;This is an example RolePolicy XACML and how it should be sent from external systems to add external rules\u0026lt;/xacml:Description\u0026gt; \u0026lt;xacml:Target/\u0026gt; \u0026lt;xacml:Rule RuleId=\u0026quot;#1\u0026quot; Effect=\u0026quot;Permit\u0026quot;\u0026gt; \u0026lt;xacml:Description\u0026gt;This is a rule giving a person with DAGL READ for the external resource NAVRF1030\u0026lt;/xacml:Description\u0026gt; \u0026lt;xacml:Target\u0026gt; \u0026lt;xacml:Subjects\u0026gt; \u0026lt;xacml:Subject\u0026gt; \u0026lt;xacml:SubjectMatch MatchId=\u0026quot;urn:oasis:names:tc:xacml:2.0:function:string-equal\u0026quot;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt;DAGL\u0026lt;/xacml:AttributeValue\u0026gt; \u0026lt;xacml:SubjectAttributeDesignator AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:rolecode\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;/\u0026gt; \u0026lt;/xacml:SubjectMatch\u0026gt; \u0026lt;xacml:SubjectMatch MatchId=\u0026quot;urn:oasis:names:tc:xacml:2.0:function:string-equal\u0026quot;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#integer\u0026quot;\u0026gt;2\u0026lt;/xacml:AttributeValue\u0026gt; \u0026lt;xacml:SubjectAttributeDesignator AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:authenticationlevel\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;/\u0026gt; \u0026lt;/xacml:SubjectMatch\u0026gt; \u0026lt;xacml:SubjectMatch MatchId=\u0026quot;urn:oasis:names:tc:xacml:2.0:function:string-equal\u0026quot;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#boolean\u0026quot;\u0026gt;false\u0026lt;/xacml:AttributeValue\u0026gt; \u0026lt;xacml:SubjectAttributeDesignator AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:delegatable\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;/\u0026gt; \u0026lt;/xacml:SubjectMatch\u0026gt; \u0026lt;/xacml:Subject\u0026gt; \u0026lt;/xacml:Subjects\u0026gt; \u0026lt;xacml:Resources\u0026gt; \u0026lt;xacml:Resource\u0026gt; \u0026lt;xacml:ResourceMatch MatchId=\u0026quot;urn:oasis:names:tc:xacml:2.0:function:string-equal\u0026quot;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#integer\u0026quot;\u0026gt;NAVRF1030\u0026lt;/xacml:AttributeValue\u0026gt; \u0026lt;xacml:ResourceAttributeDesignator AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:external-resource\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;/\u0026gt; \u0026lt;/xacml:ResourceMatch\u0026gt; \u0026lt;/xacml:Resource\u0026gt; \u0026lt;/xacml:Resources\u0026gt; \u0026lt;xacml:Actions\u0026gt; \u0026lt;xacml:Action\u0026gt; \u0026lt;xacml:ActionMatch MatchId=\u0026quot;urn:oasis:names:tc:xacml:2.0:function:string-equal\u0026quot;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt;Read\u0026lt;/xacml:AttributeValue\u0026gt; \u0026lt;xacml:ActionAttributeDesignator AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:action:urn:altinn:action-id\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string \u0026quot;/\u0026gt; \u0026lt;/xacml:ActionMatch\u0026gt; \u0026lt;/xacml:Action\u0026gt; \u0026lt;/xacml:Actions\u0026gt; \u0026lt;/xacml:Target\u0026gt; \u0026lt;/xacml:Rule\u0026gt; \u0026lt;/xacml:Policy\u0026gt;  ####9.8.2 GetRoles Operasjon for å hente ut en liste over roller etter angitte søkekriterier\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     systemUserName Org.nummer for enheter, fødselsnummer for enkeltpersoner   systemPassword Passord   roleSearchBE ExternalRoleSearchBE-objekt   Returverdi Beskrivelse   ExternalRoleBEList Liste med ExternalRoleBE-objekter   Returverdi Beskrivelse    ExternalRoleBE   RoleTypeSource    RoleCode Rollekode   RoleName Navn på rolle   OfferedBy Enhet/bruker som rollen gjelder for   Enhet/bruker som innehar rollen Enhet/bruker som innehar rollen   DelegatedBy Enhet/bruker som har delegert rollen    ExternalRoleSearchBE   CoveredByParty Enhet som innehar rollen   CoveredByUser Bruker som innehar rollen   LanguageID Språkid (English 1033, Bokmål 1044, Nynorsk 2068)   OfferedByParty Enhet som rollen gjelder for   RoleCodeFilter Filtrer med spesific rollekode. Støtte for kun 1 rolle om gangen    Dersom man sender med verdi i søket (RoleSearch-objektet) for OfferedByParty, kan man ikke samtidig sende med verdier for både CoveredByUser og CoveredByParty, og man kan heller ikke søke på OfferedParty uten å sende med verdi for enten CoveredByUser eller CoveredByParty.\nEksempelkall:\n\u0026lt;soap:Envelope xmlns:soap=\u0026quot;http://www.w3.org/2003/05/soap-envelope\u0026quot; xmlns:ns=\u0026quot;http://www.altinn.no/services/Authorization/Administration/2010/10\u0026quot; xmlns:ns1=\u0026quot;http://schemas.altinn.no/services/Authorization/Administration/2009/10\u0026quot;\u0026gt; \u0026lt;soap:Header/\u0026gt; \u0026lt;soap:Body\u0026gt; \u0026lt;ns:GetRoles\u0026gt; \u0026lt;ns:roleSearchBE\u0026gt; \u0026lt;ns1:CoveredByParty\u0026gt;orgnummer1\u0026lt;/ns1:CoveredByParty\u0026gt; \u0026lt;ns1:CoveredByUser\u0026gt;\u0026lt;/ns1:CoveredByUser\u0026gt; \u0026lt;ns1:LanguageID\u0026gt;1044\u0026lt;/ns1:LanguageID\u0026gt; \u0026lt;ns1:OfferedByParty\u0026gt;orgnummer2\u0026lt;/ns1:OfferedByParty\u0026gt; \u0026lt;ns1:RoleCodeFilter\u0026gt;\u0026lt;/ns1:RoleCodeFilter\u0026gt; \u0026lt;/ns:roleSearchBE\u0026gt; \u0026lt;/ns:GetRoles\u0026gt; \u0026lt;/soap:Body\u0026gt; \u0026lt;/soap:Envelope\u0026gt;  9.8.3 GetReportees Operasjon for å hente ut en liste over mulige avgivere for et gitt fødselsnummer.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     userSSN Fødselsnummeret til brukeren det skal hentes avgivere for – pålagt parameter   retrieveInActiveReportee Flagg for å sette om også inaktive avgivere skal returneres, standard False – valgfri parameter   RetrieveSubEnitiy Flagg for å sette om også underenheter skal returneres, standard False – valgfri parameter   maximumReporteeCount Verdi for maksimum antall avgivere som skal returneres, standard satt til alle – valgfri parameter   Returverdi Beskrivelse   ExternalReporteeBEList Liste med ExternalReporteeBE-objekter   Returverdi Beskrivelse   ExternalReporteeBEList Liste med ExternalReporteeBE-objekter   Returverdi Beskrivelse    ExternalReporteeBE   Name Avgivers navn   OrganizationNumber Organisasjonsnummer for denne avgiveren hvis dette er en organisasjon   SSN Fødselsnummer for denne avgiveren hvis dette er en person   ReporteeType Typebeskrivelse for hvilken type avgiver dette er: None, Person, Organization, eller SelfIdentified (ikke et praktisk mulig scenario i denne sammenhengen)    ####9.8.4 GetReporteeByTempKey Operasjon for å hente ut informasjon om avgiver basert på nøkkel opprettet for lenketjenesten. Nøkkelen er kun gyldig i en tidsbegrenset periode, og kan kun benyttes en gang.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     tempKey Nøkkel som angitt i lenketjenestens request URL, vil utgå etter at informasjon er hentet ut – pålagt parameter   Returverdi Beskrivelse   ExternalReporteeBE ExternalReporteeBE-objekt   Returverdi Beskrivelse    ExternalReporteeBE   Name Avgivers navn   OrganizationNumber Organisasjonsnummer for denne avgiveren hvis dette er en organisasjon.   SSN Fødselsnummer for denne avgiveren hvis dette er en person   ReporteeType Typebeskrivelse for hvilken type avgiver dette er: None, Person, Organization, eller SelfIdentified (ikke et praktisk mulig scenario i denne sammenhengen)    9.9 AuthorizationDecisionPointExternal AuthorizationDecisionPointExternal er en tjeneste Altinn tilbyr til tjenesteeiere som ønsker å benytte Altinns autorisasjonskomponent. Tjenesten kan benyttes til autorisasjon både for eksterne resurser og for tjenester. Autorisasjons regler settes henholdsvis ved hjelp av AuthorizationAdministration tjenesten og i TUL.\nPåfølgende kapitler beskriver tjenesteoperasjonene for denne tjenesten.\n9.9.1 AuthorizeAccessExternalV2 Operasjon som benytter XACML standarden og regler lagret i Altinn til å returnere en autorisasjonsbeslutning.\nBesluttningsgrunnlaget til autorisasjon for eksterne resurser er de regler som tjenesteeier selv setter ved hjelp av tjenesten AutorizationAdministration når resursen defineres. Besluttningsgrunnlaget til autorisasjon for tjenester er de regler som tjenesteeier har satt på tjenesten i TUL.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     XACMLRequest XACML standardisert forespørsel   Returverdi Beskrivelse   Resultat XACML standardisert svar    Tjenesten benytter en XSD til å validere input.\nI tillegg er det en del regler relatert til utfylling som XSD ikke klarer fange opp. XACML-forespørselen skal inneholde en kombinasjon av følgende elementer:\n   Foreldrenode AttributeId AttributeValue verdier     Subject urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:ssn Utførende brukers fødselsnummer   Subject urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:orgno Utførende organisasjons organisasjonsnummer   Subject urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:oauth-accesstoken Referanse token for et spesifikk samtykke utførende bruker/org skal benytte. Må hentes fra AuthorizationExternal/TokenExternalEC.svc tjenesten.   Resource urn:oasis:names:tcurn:oasis:names:tc:xacml:2.0:resource:urn:altinn:reportee-orgno:xacml:2.0:resource:urn:altinn:reportee-ssn Avgivers fødselsnummer   Resource urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:reportee-orgno Avgivers organisasjonsnummer   Resource urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:external-resource Ekstern ressursdefinisjon   Resource urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:externalservicecode Eksterne tjenestekode   Resource urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:externalserviceeditioncode Ekstern utgavekode (tilhørende overnevnte tjenestekode)   Resource urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:reporteeelementid Den unike id\u0026rsquo;en til et reportee element   Action urn:oasis:names:tc:xacml:2.0:action:urn:altinn:action-id Read Write Sign ArchiveRead ArchiveDelete ServiceOwnerArchiveRead Delegate   Environment urn:oasis:names:tc:xacml:2.0:action:urn:altinn:environment De ulike miljøer    Mulige Subject kombinasjoner: 1. Utførende brukers fødselsnummer (urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:ssn) eller utførende oranisasjons org.nummer (urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:orgno) 2. Utførende brukers fødselsnummer (urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:ssn) eller utførende oranisasjons org.nummer (urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:orgno), og referanse token for relatert samtykke (urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:oauth-accesstoken).\nMulige Resource kombinasjoner: 1. Avgivers fødselsnummer (urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:reportee-ssn) eller avgivers organisasjonsnummer (urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:reportee-orgno), og ekstern tjenestekode og utgavekode (urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:externalservicecode og urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:externalserviceeditioncode) 2. Avgivers fødselsnummer (urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:reportee-ssn) eller avgivers organisasjonsnummer (urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:reportee-orgno), og ekstern ressursdefinisjon (urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:external-resource). 3. Avgivers fødselsnummer (urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:reportee-ssn) eller avgivers organisasjonsnummer (urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:reportee-orgno), og ReporteeElementId (urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:reporteeelementid).\nSigneringsrettigheter oppfører seg noe annerledes enn de andre. Signering er en rettighet som kun kan gis på konkrete prosesssteg i livsløpet til et element. For å kunne gi helt korrekt svar på om en person har lov til å signere er Altinn derfor avhengig av å få oppgitt id til et reporteeelement.\nUnntaket fra dette er om en tjeneste har kun ett signeringssteg. I et slikt tilfelle kan Altinn anta at når det endelig skal signeres så vil aktivt prosesssteg være dette ene steget. På slike tjenester er det derfor trygt å oppgi tjenestekoder istedenfor reporteeelementid.\nHvis en tjeneste har flere signeringssteg vil Altinn velge det første signeringssteget i prosessen. Dette kan i enkelte tilfeller føre til feil konklusjon. Hvis for eksempel en revisor skal signere et element i signeringssteg 2 (etter regnskapsfører), så kan Altinn svare negativt på spørsmål om revisor kan signere (benytter sign steg 1) selv om revisor vil få lov når elementet endelig kommer til revisors signeringssteg i prosessen.\nAltinn selv har ikke mulighet til å sjekke signeringsrettighet uten å ha id til et reporteeelement. Sjekk av signeringsrettighet basert på tjenestekoder er logikk laget spesielt for AuthorizeAccessExternalV2.\nDet må også angis hvilke miljø det gjelder (urn:oasis:names:tc:xacml:2.0:action:urn:altinn:environment)\nNedenfor vises eksempler på gyldige forespørsler:\nAuthorizationRequest\n\u0026lt;?xml version=\u0026quot;1.0\u0026quot; encoding=\u0026quot;UTF-8\u0026quot;?\u0026gt; \u0026lt;Request xmlns=\u0026quot;urn:oasis:names:tc:xacml:2.0:context:schema:os\u0026quot; xmlns:xsi=\u0026quot;http://www.w3.org/2001/XMLSchema-instance\u0026quot; xsi:schemaLocation=\u0026quot;urn:oasis:names:tc:xacml:2.0:context:schema:os http://docs.oasis-open.org/xacml/access_control-xacml-2.0-context-schema-os.xsd\u0026quot;\u0026gt; \u0026lt;!-- Altinn Sample Request. --\u0026gt; \u0026lt;!-- This authorization request tries to verify if user 07037612345 is allowed to --\u0026gt; \u0026lt;!-- perform read operation on external resource belonging to reportee 010203401944 --\u0026gt; \u0026lt;!-- there is a registered consent for the record. --\u0026gt; \u0026lt;Subject\u0026gt; \u0026lt;Attribute AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:ssn\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;AttributeValue\u0026gt;07037512345\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt; \u0026lt;/Subject\u0026gt; \u0026lt;Resource\u0026gt; \u0026lt;Attribute AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:reportee-ssn\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;AttributeValue\u0026gt;010203401944\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt; \u0026lt;Attribute AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:external-resource\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;AttributeValue\u0026gt;RF1080NAV\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt; \u0026lt;/Resource\u0026gt; \u0026lt;Action\u0026gt; \u0026lt;Attribute AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:action:urn:altinn:action-id\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;AttributeValue\u0026gt;Read\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt; \u0026lt;/Action\u0026gt; \u0026lt;Environment\u0026gt; \u0026lt;Attribute AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:action:urn:altinn:environment\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;AttributeValue\u0026gt;AT6\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt; \u0026lt;/Environment\u0026gt; \u0026lt;/Request\u0026gt;  \u0026lt;?xml version=\u0026quot;1.0\u0026quot; encoding=\u0026quot;UTF-8\u0026quot;?\u0026gt; \u0026lt;Request xmlns=\u0026quot;urn:oasis:names:tc:xacml:2.0:context:schema:os\u0026quot; xmlns:xsi=\u0026quot;http://www.w3.org/2001/XMLSchema-instance\u0026quot; xsi:schemaLocation=\u0026quot;urn:oasis:names:tc:xacml:2.0:context:schema:os http://docs.oasis-open.org/xacml/access_control-xacml-2.0-context-schema-os.xsd\u0026quot;\u0026gt; \u0026lt;!-- Altinn Sample Request. --\u0026gt; \u0026lt;!-- This authorization request tries to verify if user --\u0026gt; \u0026lt;!-- 06069460079 is allowed to perform sign operation --\u0026gt; \u0026lt;!-- on behalf of reportee 910453777 --\u0026gt; \u0026lt;!-- on service 2298, edition 60804 --\u0026gt; \u0026lt;Subject\u0026gt; \u0026lt;Attribute AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:ssn\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;AttributeValue\u0026gt;06069460079\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt; \u0026lt;/Subject\u0026gt; \u0026lt;Resource\u0026gt; \u0026lt;Attribute AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:reportee-orgno\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;AttributeValue\u0026gt;910453777\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt; \u0026lt;Attribute AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:externalservicecode\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;AttributeValue\u0026gt;2298\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt; \u0026lt;Attribute AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:externalserviceeditioncode\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;AttributeValue\u0026gt;60804\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt; \u0026lt;/Resource\u0026gt; \u0026lt;Action\u0026gt; \u0026lt;Attribute AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:action:urn:altinn:action-id\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;AttributeValue\u0026gt;Sign\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt; \u0026lt;/Action\u0026gt; \u0026lt;Environment\u0026gt; \u0026lt;Attribute AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:action:urn:altinn:environment\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;AttributeValue\u0026gt;TT02\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt; \u0026lt;/Environment\u0026gt; \u0026lt;/Request\u0026gt;  Operasjonen returnerer XML som også følger XACML standarden. Under vises et eksempel på en response.\nAuthorizationResponse\n\u0026lt;xacml:Response xmlns:tns=\u0026quot;urn:oasis:names:tc:xacml:2.0:policy:schema:os\u0026quot; xmlns:xacml=\u0026quot;urn:oasis:names:tc:xacml:2.0:context:schema:os\u0026quot; xmlns:xsi=\u0026quot;http://www.w3.org/2001/XMLSchema-instance\u0026quot; xsi:schemaLocation=\u0026quot;urn:oasis:names:tc:xacml:2.0:context:schema:os http://docs.oasis-open.org/xacml/2.0/access_control-xacml-2.0-context-schema-os.xsd\u0026quot;\u0026gt; \u0026lt;xacml:Result ResourceId=\u0026quot;\u0026quot;\u0026gt; \u0026lt;xacml:Decision\u0026gt;Permit\u0026lt;/xacml:Decision\u0026gt; \u0026lt;xacml:Status\u0026gt; \u0026lt;xacml:StatusCode Value=\u0026quot;urn:oasis:names:tc:xacml:2.0:response:urn:altinn:ok\u0026quot; /\u0026gt; \u0026lt;xacml:StatusMessage\u0026gt;\u0026lt;/xacml:StatusMessage\u0026gt; \u0026lt;/xacml:Status\u0026gt; \u0026lt;tns:Obligations\u0026gt; \u0026lt;tns:Obligation FulfillOn=\u0026quot;Permit\u0026quot; ObligationId=\u0026quot;\u0026quot;\u0026gt; \u0026lt;tns:AttributeAssignment AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:obligation:urn:altinn:authenticationlevel\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;tns:AttributeValue DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#integer\u0026quot;\u0026gt;3\u0026lt;/tns:AttributeValue\u0026gt; \u0026lt;/tns:AttributeAssignment\u0026gt; \u0026lt;/tns:Obligation\u0026gt; \u0026lt;/tns:Obligations\u0026gt; \u0026lt;/xacml:Result\u0026gt; \u0026lt;/xacml:Response\u0026gt;  9.10 CaseAgencySystem Case er tjenesten i Altinn II for administrering av Samhandlingstjenester for tjenesteeiere. For mer informasjon se Tjenestekatalog (Service Inventory) og WSDL tilgjengelig på endepunkt.\nPåfølgende kapitler beskriver tjenesteoperasjonene for denne tjenesten.\n#####9.10.1 InstantiateCollaborationAgencySystem Denne operasjonen brukes av tjenesteeier til å instansiere samhandlingstjenester for en gitt person eller organisasjon.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     externalServiceCode Angir tjenestekoden for samhandlingstjeneste som skal instansieres   externalServiceEditionCode Angir tjenesteutgavekoden for samhandlingstjenesten som skal instansieres   reporteeNumber Fødselsnummer eller organisasjonsnummer som saken skal opprettes for   visibleDateTime Angir når samhandlingstjenesten skal være synlig (yyyy-MM-dd / yyy-MM-ddThh:mm:ss)   dueDate Angir når samhandlingstjenesten skal være ferdig (yyyy-MM-dd / yyy-MM-ddThh:mm:ss)   Returverdi Beskrivelse   CaseId Unike identifikator for samhandlingstjenesten    Tabellen under angir mulige feilkoder for operasjonen\n   Feilkode Beskrivelse     60002 Tjenestekode og tjenesteutgavekode er ikke angitt   60012 Angitt avgiver er ikke gyldig   60024 Angitt tjenesteeier er ikke autorisert for valgt tjeneste    9.10.2 GetCaseListAgencySystem Denne operasjonen brukes av tjenesteeier til å hente informasjon om eksisterende samhandlingstjenester.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     caseID Enten: Unike identifikator for samhandlingstjenesten som skal hentes   externalServiceCode Eller: Tjenestekoden for samhandlingstjenesten det skal slås opp mot   externalServiceEditionCode Og: Tjenesteutgavekoden for samhandlingstjenesten det skal slås opp mot   languageID Språk id: 1033 - English, 1044 - Bokmål, 2068-Nynorsk   reporteeNumber Fødselsnummer eller organisasjonsnummer det skal hentes for   Returverdi Beskrivelse   CaseList Liste med ExternalCaseBE objekter    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse      ExternalCaseBE   CaseID Unik identifikator for samhandlingstjenesten   CaseName Samhandlingstjenestens navn definert i TUL1   CurrentStateFriendlyName Visningsvennlig navn for samhandlingstjenestens tilstand basert på languageID parameter, satt i TUL   CurrentStateID Unik identifikator for samhandlingstjenestens tilstand, som satt i TUL   CurrentStateName Navn for samhandlingstjenestens tilstand, som satt i TUL   NoticeTemplateID Unik identifikator for eventuell merknad satt på samhandlingstjenesten    Tabellen under angir mulige feilkoder for operasjonen:\n   Feilkode Beskrivelse     60001 Angitt CaseID er ikke gyldig   60002 Tjenestekode og tjenesteutgavekode er ikke angitt, eller er ikke en gyldig tjeneste   60012 Angitt avgiver er ikke gyldig   60014 Angitt CaseID er arkivert   60015 Angitt CaseID er slettet   60024 Angitt tjenesteeier er ikke autorisert for valgt tjeneste    9.10.3 NotifyEventAgencySystem Denne operasjonen benyttes for å registrere en hendelse på en eksisterende samhandlingstjeneste.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     notificationInfo Objekt av typen StateMachineEventNotificationBE som angir hendelse og hva hendelsen gjelder for   Returverdi Beskrivelse   StateMachineNotificationResultBEList Liste av typen StateMachineNotificationResultBE som angir resultat av hendelsen    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     CaseID Enten: Unik identifikator for bestemt samhandlingstjeneste hendelsen gjelder for   ExternalServiceCode Eller: Tjenestekoden for samhandlingstjenestene hendelsen gjelder for   ExternalServiceEditionCode Og: Tjenesteutgavekoden for samhandlingstjenestene hendelsen gjelder for   Event Hendelsen som skal registreres   ReporteeElementID Eventuell id til sub-element som trigger hendelsen, benyttes kun i logg sammenheng    StateMachineNotificationResultBE   CaseID Identifikator for samhandlingstjenesten hendelsen ble registrert for   IsStateChanged Boolsk verdi som angir om en tilstandsendring skjedde   ConditionName Navn på betingelsen som er assosiert   ConditionEvaluationResult Boolsk verdi som angir resultatet for betingelsen hvis en betingelse er tilknyttet (satt til True om ingen betingelse er involvert)   CurrentStateName Samhandlingens nåværende tilstand   HasException Boolsk parameter som antyder om det oppstod en feil i tilstandsmaskinen   ExceptionDetail Inneholder feilinformasjon for en eventuell feil i tilstandsmaskinen   ErrorCode Inneholder feilkoden for en eventuell feil i tilstandsmaskinen    Tabellen under angir mulige feilkoder for operasjonen:\n   Feilkode Beskrivelse     60001 Angitt CaseID er ikke gyldig   60002 Tjenestekode og tjenesteutgavekode er ikke angitt, eller er ikke en gyldig tjeneste   60014 Angitt CaseID er arkivert   60015 Angitt CaseID er slettet   60022 Hendelsesinformasjon er ikke angitt   60023 Hendelse er ikke angitt   60032 Hendelsen kunne ikke registreres for valgt tjeneste    9.10.4 SetNoticeAgencySystem Denne operasjonen lar tjenesteeier sette en merknad på en instans av en samhandlingstjeneste, eller en underliggende instans av meldingstjeneste, innsendingstjeneste, eller arkivert innsynstjeneste.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     reporteeElementID Identifikator for elementet merknaden skal settes på: 1. Saks identifikator – caseId. 2. Arkivert element tilknyttet samhandlingstjenesten – reporteeElementID prefikset med AR 3. Aktivt element tilknyttet samhandlingstjenesten – reporteeElementID   noticeInfo Objekt av typen NoticeBE som inneholder mal og eventuelle substitusjoner   Returverdi Beskrivelse   N/A N/A    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse      NoticeBE   NoticeTemplateID Identifikator for merknadsmalen opprettet i TUL.   NoticeTokens Liste av typen NoticeTokenBE objekter som inneholder key-value par for substitusjoner    NoticeTokenBE   TokenKey Nøkkel for substitusjon   TokenValue Verdi for substitusjonen    Tabellen under angir mulige feilkoder for operasjonen:\n   Feilkode Beskrivelse     60005 Angitt element er ikke på gyldig format   60014 Angitt saks identifikator er arkivert   60015 Angitt saks identifikator er slettet   60016 Angitt element eksisterer ikke   60017 Angitt element er ikke assosiert til en samhandlingstjeneste   60018 Angitt element er slettet   60019 Angitt element er arkivert, benytt valid arkivreferanse   60024 Angitt tjenesteeier er ikke autorisert for valgt tjeneste    9.11 NotificationAgencyExternal Notification er en tjeneste i Altinn II for sending av frittstående varsler til bruker. For mer informasjon se Tjenestekatalog (Service Inventory) og WSDL tilgjengelig på endepunkt.\nPåfølgende kapitler beskriver tjenesteoperasjonene for denne tjenesten.\n9.11.1 SendStandaloneNotificationV3 Denne operasjonen benyttes til å sende frittstående varsel – varsel som ikke nødvendigvis er tilknyttet tjenester.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     standaloneNotifications List med StandaloneNotificationBE objekter som inneholder varslene   Returverdi Beskrivelse   sentStandaloneNotificationResult Liste med Notification og EndPoint resultater. Det blir opprettet et Notification og EndPoint resultat per EndPoint per Notification som blir sendt    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse      StandaloneNotificationBE   FromAddress Fra adresse brukt når melding blir sent på e-post. Må være en valid e-post adresse. Hvis utelatt vil standard Altinn adresse benyttes   LanguageID Språk kode: 1033 - English, 1044 - Bokmål, 2068 - Nynorsk   ReceiverEndPoints Liste med ReceiverEndPoint objekter som definerer mottaker adresse og varslingsmåte   ReporteeNumber Fødselsnummer eller organisasjonsnummer det skal sendes varsel til   ShipmentDateTime Dato for når varselet ønskes sent (yyyy-MM-dd / yyy-MM-ddThh:mm:ss)   TextTokens Liste med TextTokens objekter som angir substitusjoner i varslingsteksten   NotificationType En unik streng som definerer en referanse til predefinerte varslingstekster   IsReservable I sammenheng med KRR (Kontakt og reservasjons registeret) kan en sluttbruker reservere seg imot å motta meldinger. IsReservable verdien kan brukes til å indikere om det er mulig å reservere seg mot meldingen eller ikke. Det er valgfritt å angi en verdi og standard (default) verdi er False (0). Denne verdien må derfor aktivt settes til True (1) om tjeneste eier ønsker og respektere reservasjoner   Roles Liste med navn på bruker-roller. Disse verdiene blir ikke brukt av løsningen   Service ServiceCode og ServiceEdition. Sett disse for å sende ut varlser til alle kontakter som er satt opp for en bedrift og som har satt seg opp for å motta for denne tjenesten    ReceiverEndPoint   TransportType Angir hvordan varslingen skjer: SMS, Varsel vha. mobiltelefon, Email, Varsel vha. e-post, Both. Plukker epost-adresse og mobilnummer fra profil. Ved bruk av denne må ReceiverAddress under være null   ReceiverAddress Mottakers adresse for valgt varslingsmetode (TransportType). Om denne ikke angis brukes ReceiverID til å slå opp i brukerens kontaktprofil (privat samtykke) eller organisasjonens profil    TextTokens   TokenNum Ikke i bruk, kan utelates   TokenValue Tekst som skal ersatte maltekst. Substitusajonen gjøres i samme rekkefølge som parameterene er angitt. Varselmal må bestilles og lages på forhånd    SendStandaloneNotificationResult   EndPoints Liste med EndPoint resultater for Notification   NotificationType NotificationType for notification. Brukes for å kunne se hvilken Notification resultatet gjelder   ReporteeNumber Mottaker som ble brukt til å generere mottakere. Brukes for å kunne se hvilken Notification resultatet gjelder   Message En melding om status på kall. Mulige verdier: 1. Varsel er sendt ut til brukeren. 2. Utsending av varsel til brukeren var mislykket. {0} Dette kan være fordi brukeren har reservert seg fra å få varsel. 3. BM_Partial success. Notification is not sent to the {0} as the user may have opted out from receiving any notification. 4. NB_No notifications received – Dette er resultatet hvis listen med Notifications var tom    EndPointResult   Name Navn på person som har mottatt melding. Dette blir hentet enten fra Organisasjonens mottaker-liste, eller fra brukerens innslag i Register databasen   ReceiverAddress Hvilken addresse meldingen er sendt til   RetrieveFromProfile Satt til true dersom informasjonen er hentet fra en Organisasjons eller brukers profil   TransportType Type endepunkt varsel er sendt til    Tabellen under angir mulige feilkoder for operasjonen:\n   Feilkode Beskrivelse     1 Elementene FromAddress og ShipmentDateTime kan ikke være tomme om definert   40014 Angitt antall varsler overstiger konfigurert grense   40015 TransportType må være enten SMS eller Email   40016 Angitt fødselsnummer er ikke gyldig   40020 Parameter FromAddress må være en gyldig e-post adresse    9.12 TTPArchiveAgencyExternal TTPArchiveAgency er en tjeneste som muliggjør tjenesteeiere å hente ut data for elementer fra TTP Arkivet. For mer informasjon se Tjenestekatalog (Service Inventory) og WSDL tilgjengelig på endepunkt.\nPåfølgende kapitler beskriver tjenesteoperasjonene for denne tjenesten.\n9.12.1 GetAuditTrail Denne operasjonen henter ut loggdata basert på søkeparametere.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     ReporteeNumber Enten: Fødselsnummer eller organisasjonsnummer det skal søkes på   Username Eller: Brukernavn det skal søkes på   FromDate Fra dato det søkes på, angitt for å kunne begrense søket (yyyy-MM-dd / yyy-MM-ddThh:mm:ss)   ToDate Til dato det skal søkes på, angitt for å kunne begrense søket (yyyy-MM-dd / yyy-MM-ddThh:mm:ss)   ExternalServiceCode Angi tjenestekode for å begrense søket   ExternalServiceEditionCode Angi tjenesteutgavekode for å begrense søket   Returverdi Beskrivelse   TTPElementBEList Resultatliste av TTPElementBE objekter som hver inneholder loggdata for et element    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse      TTPElementBE   IntegrityCheck Angir om integritetssjekk av data var vellykket   ReporteeElementID Identifikator for elementet loggdata er hentet fra   TTPData Selve loggdata for elementet i XML    9.13 ReporteeElementList Tjenesten ReporteeElementList inneholder operasjoner for uthenting av elementer fra sluttbrukers meldingsboks. Elementer kan ligge i arbeidsliste eller i arkiv, fra nåværende eller tidligere versjoner av Altinn.\nTjenesten benyttes fra tjenesteeiers portal/selvbetjeningsløsning på vegne av en autentisert sluttbruker.\nPåfølgende kapittel beskriver operasjonen for denne tjenesten.\n9.13.1 GetReporteeElementListV2 Denne operasjonen benyttes for å hente ut data for en gitt avgiver (privatperson eller virksomhet) fra en autentisert sluttbrukers meldingsboks. Data kan være alle tjenestetyper i nåværende eller tidligere versjoner av Altinn: Innsendingstjenester, meldingstjenester, samhandlings¬tjenester og arkiverte innsynstjenester. Kun elementer som innlogget bruker har tilgang til, returneres.\nOperasjonen returnerer en liste med tjenesteelementer fra arbeidsliste og arkiv. Listen inneholder detaljer for hvert element, tilstrekkelig for presentasjon i ekstern portal og dyplenking tilbake til elementet i Altinn. Utvalget bestemmes av inngitte søkekriterier, samt sluttbrukerens rettigheter i Altinn. Operasjonen er versjonert, gjeldende versjon er V2. Tabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     autentiseringsinfo vil defineres når tjeneste/operasjon settes opp    Search Objekt av typen ExternalSearchBEV2 som inneholder søkekriterier for utvalget elementer man ønsker å hente ut   languageID Språk kode: 1033 - English, 1044 - Bokmål, 2068 - Nynorsk (Hvis ikke språk er spesifisert kan 0 angis som vil returnere standard språk for denne meldingen.)   Returverdi Beskrivelse   reporteeElementList En liste med ReporteeElementBEV2-objekter som inneholder detaljer for ett element for en avgiver    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse      ExternalSearchBEV2   ToDate Startdato for perioden man ønsker å hente ut elementer for (yyyy-MM-dd / yyy-MM-ddThh:mm:ss)   FromDate Sluttdato for perioden man ønsker å hente ut elementer for (yyyy-MM-dd / yyy-MM-ddThh:mm:ss)   SearchName Navn på søk. Benyttes kun dersom dette er et lagret søk   ToBeProcessed Boolsk verdi som, hvis satt til true, angir at man ønsker å filtrere på tjenester som er ufullstendige/ikke-komplett   SearchString Fritekstsøk som kan brukes for å matche hele eller deler av tjenestenavnet på elementer man ønsker å hente ut   ServiceCodeList Liste med tjenester (string) som man ønsker å filtrere på   SentAndArchived Boolsk verdi som, hvis satt til true, angir at man ønsker å filtrere på tjenester som er sendt og arkivert   ToBeProcessedByOthers Filter for å angi at man bare ønsker å se sine elementer som i øyeblikket er til behandling hos andre aktører   ServiceOwnerCode Tjenesteeier som man ønsker å filtrere utrekket på   Reportee Fødselsnummer/organisasjonsnummer for avgiver som man ønsker å hente ut elementer for   ArchiveReference Fritekstfelt hvor man kan angi hele eller deler av en arkivreferanse som man ønsker å filtrere på   CaseID Begrenser søket mot bestemt samhandlingstjenesteinstans   CollectionPages Benyttes for å begrense resultatet til samlesider (samhandlingstjeneste)   EDialogue Benyttes for å begrense resultatet til e-dialoger (samhandlingstjeneste)    ReporteeElementBEV2   AllowDelete En boolsk verdi som angir om bruker som hentet elementet fra arkiv har rettighet til å slette elementet   AllowNewCopy Boolsk verdi som sier om man kan opprette kopi av elementet   Altinn1ArchiveUnitId Unik identifikator for elementet i arkivet dersom dette er et element som er arkivert i Altinn I. Behøver ikke settes   Altinn1FormCode Angir skjema id i AltinnI. Behøver ikke settes   Altinn1FormId Angir skjema versjon AltinnI. Behøver ikke settes   Altinn1FormInstanceID Angir element id i AltinnI. Behøver ikke settes   Altinn1FormORNo Angir OR-id i AltinnI. Behøver ikke settes   Altinn1ParticipantID Angir unik id for tilhørende AltinnI bruker. Behøver ikke settes   Altinn1ReferenceType Angir referansetype satt i AltinnI. Behøver ikke settes   Altinn1WorkflowProcessId Arbeidsflytreferanse for elementet dersom elementet er arkivert i AltinnI. Behøver ikke settes   ArchiveId Unik identifikator for elementet i arkiv. ReporteeElementId, ArchiveId eller Altinn1ArchiveUnitId må settes, men bare en av gangen   ArchiveReference Unik arkivreferanse som vises for elementet på avgivers hovedside   CaseID Eventuelt referanse til samhandlingstjeneste elementet er knyttet opp mot   CorrespondenceStatus Angir status for elementet (dersom elementet er av type meldingstjeneste). Mulige statuser er: Created - Meldingen er opprettet, Read - Meldingen er lest, Replied - Sluttbruker har svart på meldingen, ChangedByGovAgency - Tjenesteeier har gjort endringer på meldingen, ChangedByUser - Sluttbruker har gjort endringer på meldingen, Confirmed - Meldingen er bekreftet, DeletedByUser - Meldingen er slettet av sluttbruker, DeletedByAltinn - Altinn har slettet meldingen (for eksempel ved sanering), Archived - Meldingen er arkivert   DueDate Frist på elementet. Ikke satt for elementer i arkiv   EndUserSystemID Id som benyttes for å hente navn på sluttbrukersystem   ExternalServiceCode Tjenestekode for elementet, for eksempel \u0026ldquo;PSA\u0026rdquo;   IsCaseArchived Angir om samhandlingstjenesten er arkivert.   IsMatched Intern parameter   LastChangedBy Unik identifikator for bruker/sluttbrukersystem eller tjenesteeier som sist endret elementet   LastChangedByID Unik identifikator for bruker/sluttbrukersystem eller tjenesteeier som sist endret elementet   LastChangedDate Dato for når elementet sist ble endret (yyyy-MM-dd)   LastChangeType Type endring som ble gjort sist elementet ble endret: Sent, Saved, Archived   Notice Eventuell merknad på elementet tilhørende en samhandlingstjeneste   ParentCaseName Eventuelt navn på samhandlingstjenesten elementet er knyttet mot   ReporteeElementCode Angir element id hvor forkortelse for element typen er lagt til som prefiks. Mulige prefiks for element typer er:Altinn 1 - aktivt: A1E, Altinn 1 - arkivert: A1A, Altinn 2 - aktivt: A2E, Altinn 2 - arkivert: A2A   ReporteeElementId Unik identifikator for elementet. ReporteeElementId, ArchiveId eller Altinn1ArchiveUnitId må settes, men bare en av gangen   ReporteeElementOwner Unik identifikator for avgiver som elementet tilhører   ReporteeElementType Type element: Correspondence - meldingstjeneste, FormTask - Innsendingstjeneste, Collaboration - samhandlingstjeneste, LookUp - innsynstjeneste   ReporteeName Navn på avgiver som vises for elementet i avgivers hovedside   RoleRequirement Rollekrav for å utføre neste steg i arbeidsflyt. Ikke satt for elementer i arkiv   RoleRequirementAltinn1Element Rollekrav for å utføre neste steg i arbeidsflyt dersom elementet er instansiert i AltinnI. Ikke satt for elementer i arkiv. Behøver ikke settes for AltinnII elementer   SEReporteeElementID Unik identifikator for elementet brukt før det arkiveres   ServiceEditionVersion Angir versjon på tjenesten   ServiceOwner Angir tjenesteeier som tilbyr tjenesten som elementet tilhører   ServiceOwnerCode Tjenesteeierkode brukt for å angi tjenesteeier navn   ServiceOwnerDescription Tjenesteeiers navn   Status Status for elementet: NotOpenedNoConfirmationReq, NotOpenedConfirmationReq, OpenedNoConfirmedReq, OpenedNotConfirmed, Confirmed, FillIn, SignIn, Archive, SendIn, Active, Finished   Statusname Navn på status (med språkstøtte)   TaskStatus Angir status for elementet (dersom elementet er av type innsendingstjeneste). Elementet kan ha en av følgende statuser: FormFilling - Innsendingstjenesten er under utfylling. Signing - Innsendingstjenesten er klar for signering. SendIn - Innsendingstjenesten er klar for innsending, ParallelSigning - Innsendingstjenesten er til brukerstyrt signering, Archive - Innsendingstjenesten er arkivert   Title Tittel på elementet som vises i avgivers hovedside    9.14 Context handler Context handler er en modul i Altinn som tilbyr metadata for elementer i Altinn. Et element kan for eksempel være en innsending fra en sluttbruker. Meta-data (eller context data som det kalles her) for elementet vil da inneholde informasjon om hvem som er avgiver, hvilke tjeneste elementet er knyttet til og hvilket prosess steg det er i.\nDette er informasjon som benyttes internt i Altinn for å avgjøre om en bruker har tilgang til å utføre en gitt operasjon på et gitt element. Tjeneste eiere kan bruke informasjonen på tilsvarende måte ved å benytte Altinn sin eksterne autorisasjonssjekk (se eget kapittel om AuthorizationDecisionPointExternal).\n9.14.1 GetReporteeElementContextExternal Denne operasjonen som tar som input en reporteeelementid og returnerer et objekt med en samling detaljer, meta-data, om elementet.\nTabellen under beskriver datakontrakten for operasjonen. (Merk at det finnes ulike grensesnittrelaterte variasjoner mellom Basic, WS-Security og EC grensesnittene.)\n   Input Beskrivelse     reporteeElementId Unik identifikator for et spesifikk reportee element   Returverdi Beskrivelse   ReporteeElementContextExternalBE Entitet med meta-data om elementet det ble spurt på. (Flere detaljer under)    ReporteeElementContextExternalBE   Reportee Unik id for avgiver knyttet til et element. Dette er somregel personnummer eller organisasjonsnummer   ServiceCode Tjenestekoden til tjenesten som elementet er knyttet til   ServiceEditionCode Tjenesteversjonskode til tjenesten som elementet er knyttet til   ServiceType Angir hva slags tjeneste elementet er knyttet til. De mest vanlige typene er Correspondence og FormTask. Henholdsvis melding fra etat og innsending fra sluttbruker   ProcessStepID Dette er en ID som indikerer hva slags prosess steg elementet står i. Dette er mest aktuelt ved innsendinger hvor et element går gjennom for eksempel skrive steg, signeringssteg og innsending    9.15 Online overføring til Tjenesteeier Det er mulig for tjenesteeiere å motta online forsendelser av innsendingstjenester med vedlegg over web service. Mottaket skal ha en metode som heter ReceiveOnlineBatchExternalAttachment. Denne kalles som en \u0026ldquo;SOAP Document\u0026rdquo; metode, og kan benyttes til å motta innsendingstjenester hvor vedleggene er pakket i en ekstern ZIP fil, ergo navnet. Denne tjenesten kan settes opp for MTOM for å støtte mer effektiv overføring av store binære vedlegg. Ved bruk av MTOM som dataoverføringsmetode kan det oppnås opptil 20-30% besparelse av båndbredde sammenliknet med vanlig dataoverføring mot web tjenesten.\nMerk: Det er fullt mulig å sende uten vedlegg eksternt i ZIP fil over dette grensesnittet. Vedlegg vil da komme base64encoded i XML i batch parameteren, og det er ikke lenger mulig å sette opp tjenesten for bruk av MTOM.\n9.15.1 ReceiveOnlineBatchExternalAttachment Tabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     Username Brukernavnet som Altinn skal oppgi   passwd Passordet som Altinn skal oppgi   receiversReference    sequenceNumber Sekvensnummer på forsendelsen   batch Selve forsendelsen, iht. nyeste versjon av XSD for genericbatch   attachments ZIP-fil med evt. binære vedleggsfiler   Returverdi Beskrivelse   [returverdi] Status tilbake til Altinn for mottak av forsendelse iht. OnlineBatchReceipt.xsd    Dersom det ikke finnes vedlegg til batchen vil parameteren “attachments\u0026rdquo; bli satt til en byte array med lengde 0.\nTabellen under beskriver elementer og attributter relevante for kvittering som skal returneres av tjenesteeier:\n   Element Beskrivelse     OnlineBatchReceipt Rotnode. Denne XSDen beskriver kvitteringen som skal returneres fra et mottakssystem etter å ha mottatt en online forsendelse fra Altinn. Kvitteringen begrenser seg til å kun beskrive selve mottaket av batchen, og det er ikke lagt opp til at kvitteringen skal inneholde informasjon vedrørende prosessering av selve batchen   OnlineBatchReceipt.Result Dette elementet har ett attributt resultCode som beskriver status på mottatt batch. Innholdet i Result-elementet er en valgfri streng. Denne blir ikke brukt programmatisk, men vil bli lest av driftspersonell i tilfelle feil   resultCode De forskjellige resultatkodene som kan returneres fra mottaket: OK - Batch er mottatt OK, FAILED - Batch er ikke mottatt, eller det oppstod en feil i mottaket. Altinn kan forsøke forsendelse på ny, FAILED_DO_NOT_RETRY - Samme som FAILED, men Altinn skal ikke forsøke å sende batch på ny. Hvis web servicen returnerer vanlige errors vil ikke Altinn håndtere de riktig og oversendelsen vil feile. Alle feilmeldinger må derfor bygges inn under de to FAILED og FAILED_DO_NOT_RETRY.    9.15.1.1 Navnerom For at Altinn sin webserviceklient skal kunne kommunisere med mottaket, er det viktig at følgende er satt korrekt (definisjonene vil finnes igjen i WSDL-filen). Denne informasjonen skal ligge i WSDL-filen man blir presentert for når man åpner definisjonen for mottakets web service.\n   Definisjon Verdi Beskrivelse     /wsdl:definitions/@xmlns:tns http://AltInn.no/webservices/ Navneromsdefinisjon   /wsdl:definitions/@targetNamespace http://AltInn.no/webservices/ Navneromsdefinisjon   /wsdl:definitions/wsdl:types/s:schema/@targetNamespace http://AltInn.no/webservices/ Navneromsdefinisjon   /wsdl:definitions/wsdl:binding/wsdl:operation/soap:operation/@soapAction http://AltInn.no/webservices/ReceiveOnlineBatchExternalAttachment Identifikator for SOAP-metode   /wsdl:definitions/wsdl:service/wsdl:port/soap:address/@location Mottaksavhengig Dette er URLen til mottaket som Altinn skal benytte seg av    9.16 DownloadQueue DownloadQueue inneholder operasjoner for å hente ned en liste over elementer som ligger i tjeneste-eiers DownloadQueue. For å bruke DownloadQueue må tjenesteeier spesifisere dette når man utvikler tjenesten i TUL. Ved å sette tjenesteutgaven til å bruke DownloadQueue vil innleverte skjemaer på denne tjenesten oppdatere DownloadQueue og tjenesteeier vil dermed kunne hente ut disse ved å sende en forespørsel til Altinn. For å bruke tjenesten må tjenesteeier først spesifisere at tjenesteutgaven bruker DownloadQueue. Deretter vil alle innsendinger sent inn med denne tjenesteutgaven legges til i DownloadQueue. Når det ligger flere enn 500 elementer i DownloadQueue vil ikke nyere elementer lengre hentes når man bruker GetDownloadQueueItems operasjonen. For å få tilsendt nyere elementer må DownloadQueueItems fjernes fra DownloadQueue ved å bruke PurgeItem operasjonen. DownloadQueue funksjonaliteten har støtte for MTOM. Påfølgende kapitler beskriver tjenesteoperasjonenene for denne tjenesten.\n9.16.1 GetDownloadQueueItems Denne operasjonen henter en liste over DownloadQueueItems i tjenesteeiers DownloadQueue. Den henter et maksimum av 500 meta-data objekter med arkivreferanse knyttet til den innsendte meldingen. Den henter alltid de eldste objektene først. Man kan velge å filterere hentede objekter basert på ServiceCode.\n   Input Beskrivelse     ServiceCode ServiceCode som man ønsker å filtrere hentede DownloadQueueItems på. Denne inputen er valgfri   Returverdi Beskrivelse   DownloadQueueItemList En liste med metadata-objekter som beskriver arkiv-referanse, ServiceCode, ServiceEdition, reportee, reporteetype og arkiveringstidspunkt for aktive (non-purged) DownloadQueueItems for tjenesteeier   Property Beskrivelse    DownloadQueueItemExternalBEList    DownloadQueueItemExternalBEList.DownloadQueueItemExternalBE   ArchiveReference Innsendingens arkiv-referanse   ServiceCode Tjenestekode   ServiceEditionCode Tjenesteutgavekode   Reportee Organisasjons eller fødselsnummer for Reportee   ReporteeType Type reportee: Person, Organisasjon, Selvregistrert bruker   ArchivedDate Arkiveringsdato    9.16.2 PurgeItem Denne operasjonen lar tjenesteeier markere et enkelt DownloadQueueItem som purged. Dette DownloadQueueItem vil deretter ikke lenger bli hentet når GetDownloadQueueItems operasjonen blir kjørt.\n   Input Beskrivelse     ArchiveReference Arkiv-referanse til DownloadQueueItem som skal markeres som purged    9.16.3 GetArchivedFormtaskDQ Denne operasjonen henter et arkivert FormTask object med tilhørende forms, signatur og attachment.\n   Input Beskrivelse     ArchiveReference Arkiv-referanse til DownloadQueueItem som skal hentes ned   ReturVerdi Beskrivelse   ArchivedFormTaskExternalDQBE Et ArchivedFormTask element    ArchivedFormTaskExternalDQBE   Property Beskrivelse   ServiceCode Tjenestekode   ServiceEditionCode Tjenesteutgavekode   CaseId Unik identifikator på eventuell samhandlingstjeneste skjemasettet er knyttet til   SOEncryptedSymmetricKey Representer informasjon for tjenesteeier kryptering. Se SOEncryptedSymmetricKeyDQBE   Approvers Liste med personer som har signert. Se ApproverDQBE   Forms Liste med alle forms som følger med i formsettet til formtasken. Se ArchivedFormExternalDQBE   Attachments Liste med alle vedlegg som er relatert til formtasken. Se ArchivedAttachmentExternalDQBE   Reportee Personnummer, organisasjonsnummer eller brukernavn på avgiver   ArchiveReference Unik id for formtasken slik den er lagret i tjenesteeierarkivet   ArchiveTampStamp Dato og tid for når elementet ble arkivert   CorrelationReference (Ikke i bruk)    SOEncryptedSymmetricKey   Property Beskrivelse   EnkryptedKey AES-nøkkel som er RSA-kryptert med tjenesteeiers sertifikat. Denne AES-nøkkelen benyttes for å dekryptere skjemainnhold   CertificateThumbPrint Thumbprint av tjenesteeiers sertifikat som ble benyttet for å kryptere AES-nøkkel. Vil unikt angi sertifikatet i de tilfeller hvor tjenesteeier har flere sertifikater registrert i Altinn    ApproverDQBE   Property Beskrivelse   ApproverID Identifikatoren til godkjenneren av skjemaet, d.v.s. fødselsnummer   AppprovedTimeStamp Tidspunktet for godkjennelsen av skjemaet   SecurityLevel Sikkerhetsnivå: notSensitive - Data er godkjent av bruker som er autentisert med sikkerhetsnivå 1, lessSensitive - Data er godkjent av bruker som er autentisert med sikkerhetsnivå 2, sensitive - Data er signert av bruker med sikkerhetsnivå 3, verySensitive - Data er signert av bruker med sikkerhetsnivå 4    ArchiveFormExternalDQBE   Property Beskrivelse   DataformatID Id til skjema fra metadata kilde   DataformatVersionID Versjon til skjema fra metadata kilde   Reference Unik id per skjema, satt av altinn   ParentReference Referanse til hovedskjema. Settes kun i underskjema dersom underskjema forekommer   FormData Skjemadata i xml format. ’My’ og ‘altinn’ elementer og deres namespace deklarasjoner i alle elementer er fjernet fra formdata xml    ArchivedAttachmentExternalDQBE   Property Beskrivelse   ArchiveReference Unik id for formtask elementet vedlegget er assosiert med   FileName Det orginale navnet til filen   AttachmentType Vedleggets innholds type. (MimeType)   IsEncrypted En verdi som indikerer om vedlegget er kryptert av innsender1   AttachmentData Det faktiske inholdet i filen. Tjenesten leverer dette som MTOM og vil inkludere alle filer på opp til 30 MB. Større vedlegg må lastes ned for seg selv ved hjelp av streaming operasjonen   AttachmentId En unik id på vedlegget slik det er lagret i tjenesteeierarkivet   AttachmentTypeName Det tekniske navnet på vedleggsregelen som ble valgt hvis tjenesten har en eller flere slike regler   AttachmentTypeNameLanguage Det oversatte navnet til vedleggsregelen    9.16.4 GetFormSetPdf Denne tjenesteoperasjonen gjør det mulig for tjenesteeier og laste ned en PDF versjon av et skjemasett. Operasjonen vil generere en PDF som følged PDFA standarden\n   Input Beskrivelse     archiveReference Arkivreferansen til det arkiverte elementet man ønsker å ha som en PDF   languageId Språket som skal benyttes i alle tekster som har oversettelser   Returverdi Beskrivelse   Byte[] PDF filens innhold. Data er kodet med MTOM    9.17 RegisterSRRAgencyExternal 9.17.1 GetRights Denne operasjonen benyttes for å hente ut gjeldende rettigheter for en tjeneste fra det tjenesteeierstyrte rettighetsregisteret.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     servicecode Angir tjenestekoden man skal hente regler for. Feltet er påkrevd   serviceEditionCode Angir tjenesteutgavekoden man skal hente regler for. Feltet er påkrevd   reportee Angir hvilken avgiver regler skal hentes for. Hvis ingen verdi angis vil regler for alle avgivere returneres   Returverdi Beskrivelse   GetRightResponseList Liste av typen GetRightResponse som angir reglene som ligger i registeret basert på input parametere    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse      GetRightResponse (utvidelse av RegisterSSRRight)   ValidTo Angir dato og tid regel er gyldig til, (yyyy-MM-ddThh:mm:ss)   Reportee Angir avgiveren regelen gjelder for   Right Angir rettighet regelen gir. Mulige verdier er: None – rettighet er ikke satt, Read – rettighet les er satt, Write – rettighet skriv er satt   Condition Kan angi en spesifikk betingelse for regelen, se mer informasjon om mulige verdier under respektive tjenester som benytter registeret    Tabellen under angir mulige feilkoder for operasjonen:\n   Feilkode Beskrivelse     450210 Angitt avgiver (reportee) er ikke et valid organisasjons- eller fødselsnummer    9.17.2 AddRights Denne operasjonen benyttes for å legge til nye regler i det tjenesteeierstyrte rettighetsregisteret.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     servicecode Angir tjenestekoden man skal legge til regler for. Feltet er påkrevd   serviceEditionCode Angir tjenesteutgavekoden man skal legge til regler for. Feltet er påkrevd   insertRightList Liste (AddRightRequestList) av objekter av typen AddRightRequest som angir reglene som skal legges til i registeret   Returverdi Beskrivelse   AddRightResponseList Liste av typen AddRightResponse som angir reglene som skulle legges til (insertRightList) i registeret med en status på hver regel    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse      AddRightRequest (utvidelse av RegisterSSRRight)   ValidTo Angir dato og tid regel er gyldig til, (yyyy-MM-ddThh:mm:ss)   Reportee Angir avgiveren regelen gjelder for   Right Angir rettighet regelen gir. Mulige verdier er: None – rettighet er ikke satt, Read – rettighet les er satt, Write – rettighet skriv er satt   Condition Kan angi en spesifikk betingelse for regelen, se mer informasjon om mulige verdier under respektive tjenester som benytter registeret    AddRightResponse (utvidelse av AddRightRequest som sendes inn)   OperationResult Angir resultatet for regelen som skulle legges til. Mulige verdier er: Ukjent – status er ukjent, OK – regel ble lagt til som forventet, RuleNotFound – regel som skulle slettes ble ikke funnet, RuleAlreadyExists – regel som skal legges til eksisterer allerede. Regel må først slettes for å kunne oppdateres, EmptyOrNotAValidSsnOrOrganisation – avgiver for regel er ikke et valid organisasjons- eller fødselsnummer, RightAlreadyExpired – regel som skal legges til er allerede gått ut på gyldighetsdato   Validto Angir dato og tid regel er gyldig til, (yyyy-MM-ddThh:mm:ss)   Reportee Angir avgiveren regelen gjelder for   Right Angir rettighet regelen gir. Mulige verdier er: None – rettighet er ikke satt, Read – rettighet les er satt, Write – rettighet skriv er satt   Condition Kan angi en spesifikk betingelse for regelen, se mer informasjon om mulige verdier under respektive tjenester som benytter registeret    Tabellen under angir mulige feilkoder for operasjonen:\n   Feilkode Beskrivelse     450211 Angitt «condition» er ikke gyldig    9.17.3 DeleteRights Denne operasjonen benyttes for å slette eksisterende regler i det tjenesteeierstyrte rettighetsregisteret.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     servicecode Angir tjenestekoden man skal slette regler for. Feltet er påkrevd   serviceEditionCode Angir tjenesteutgavekoden man skal slette regler for. Feltet er påkrevd   deleteRightList Liste (DeleteRightRequestList) av objekter av typen DeleteRightRequest som angir reglene som skal slettes fra registeret   Returverdi Beskrivelse   DeleteRightResponseList Liste av typen DeleteRightResponse som angir reglene som skulle slettes (deleteRightList) fra registeret med en status på hver regel    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse      DeleteRightRequest (utvidelse av RegisterSSRRight)   Reportee Angir avgiveren regelen gjelder for   Right Angir rettighet regelen gir. Mulige verdier er: None – rettighet er ikke satt, Read – rettighet les er satt, Write – rettighet skriv er satt   Condition Kan angi en spesifikk betingelse for regelen, se mer informasjon om mulige verdier under respektive tjenester som benytter registeret    AddRightResponse (utvidelse av AddRightRequest som sendes inn)   OperationResult Angir resultatet for regelen som skulle slettes. Mulige verdier er: Ukjent – status er ukjent, OK – regel ble lagt til som forventet, RuleNotFound – regel som skulle slettes ble ikke funnet, RuleAlreadyExists – regel som skal legges til eksisterer allerede. Regel må først slettes for å kunne oppdateres, EmptyOrNotAValidSsnOrOrganisation – avgiver for regel er ikke et valid organisasjons- eller fødselsnummer, RightAlreadyExpired – regel som skal legges til er allerede gått ut på gyldighetsdato   Reportee Angir avgiveren regelen gjelder for   Right Angir rettighet regelen gir. Mulige verdier er: None – rettighet er ikke satt, Read – rettighet les er satt, Write – rettighet skriv er satt   Condition Kan angi en spesifikk betingelse for regelen, se mer informasjon om mulige verdier under respektive tjenester som benytter registeret    Tabellen under angir mulige feilkoder for operasjonen:\n   Feilkode Beskrivelse     N/A     9.18 BatchLoggingAgencyExternal Denne tjenesten gir tjenesteeier tilgang til feil som har forekommet under behandling av batch jobber. Som en del av denne tjeneste-beskrivelsen vil følgende stikkord bli brukt: • DataBatch - referer til en batch fil levert til altinn av tjenesteeier. • DataItem - en Xml entitet i DataBatch. I en Correspondence fil vil for eksempel en enkel Correspondence være et DataItem. • Issue - en feil, warning eller informasjons melding som forekom under behandling av DataBatch og DataItem.\n9.18.1 GetStatusOverview Denne operasjonen gir en oversikt over DataBatcher som er blitt behandlet, og antall Issues som er opplevd under behandling.\n   Input Beskrivelse     BatchLoggingRequest Angir søke-kriterier for DataBatcher og DataItems   Returverdi Beskrivelse   BatchLoggingResult Resultat for søke-kriterier   Property Beskrivelse    BatchLoggingRequest   SystemUserCode Angir hvilken tjenesteeier requesten gjelder for. SystemUserCode er spesifikk for en gitt ShipmentDefinition, og er vanligvis angitt i filen som er blitt levert til Altinn   DataBatchType? Angir hva slags type Batch som ønskes returnert. Mulige verdier er: ActivateSubscription – Aktivering av en eksisterende subscription, Notification – Utsending av varsel, Correspondence – Innlesing av correspondence, Prefill – Innlesing av prefill, RgisterDSFProperty – Innlesing av DSF property, RegisterDSFPropertyAdd – Innlesing av DSF property husnumre, RegisterDSFStreet – Innlesing av DSF gate, RegisterDSFStreetAdd – Innlesing av DSF Gate husnumre, RegisterDSFUser – Innlesing av DSF person, RegisterER – Innlesing av organisasjons-data, Subscription – Innlesing av Subscription data   BatchLoggingDateTimeRequest Angir en Til og Fra dato hvor fil-innlesing blir gjort   FileName Angir filnavn på DataBatch. Må være eksakt fullt filnavn. (Correspondence.xml må altså angis som «Correspondence.xml»   DataBatchId? Angir en spesifikk DataBatchId å returnere data for   Sequence? Angir et spesifikt sekvensnummer å returnere data for. Sequence blir satt i hver fil som leveres til Altinn   FromIssueId? Begynn å returnere Issues fra denne IssueId. Det leveres aldri mer enn 10.000 issues fra et enkelt kall, så i tilfelle hvor mer enn 10.000 issues eksisterer vil resterende issues kunne returneres ved bruk av denne verdien    BatchLoggingStatusOverview   DataBatches (List) Liste av DataBatcher funnet med søke-kriterier   NumberOfIssues Totalt antall Issues som er blitt returnert    DataBatch   StartDate Når behandling av DataBatch startet   EndDate Når DataBatch var ferdig behandlet   DataBatchId Unik identifikator for DataBatch   Sequence Sekvensnummer angitt i DataBatch   ShipmentId Identifikator for Shipment opprettet for DataBatch   FileName Filnavn for DataBatch   NumberOfIssues Antall feil opplevd for DataBatch    Tabellen under angir feilmeldinger.\n   Feilkode Beskrivelse     31033 BatchLoggingRequest var ikke riktig angitt    9.18.2 GetDetailedStatus Denne operasjonen gir en oversikt over DataBatcher som er blitt behandlet, med tilhørende Issue og metadata for DataItem.\n   Input Beskrivelse     BatchLoggingRequest Angir søke-kriterier for DataBatcher og DataItems   Returverdi Beskrivelse   BatchLoggingResult Resultat for søke-kriterier   Property Beskrivelse    BatchLoggingDetailedStatus   DataBatches (List DataBatch) Liste av DataBatcher funnet med søke-kriterier   DataItems (List DataItem) Liste med metadata for DataItems som har opplevd Issues under behandling   Issues (List Issue) Liste med feil opplevt under DataBatch behandling   NumberOfIssues Totalt antall Issues som er blitt returnert    DataItem   DataItemId Unik identifikator for DataItem   DataBatchId Unik identifikator for DataBatch som DataItem hører til.   Line Linjenummer for DataItem i fil   Position Posisjon for DataItem i fil   Data Rå Xml data for DataItem. Returneres kun i GetDataItem (9.18.3)   State Status på DataItem   ServiceCode Tjenestekode for DataItem   ServiceEditionCode Tjenesteversjonskode for DataItem    Issue   DataItemId? DataItem for Issue   DataBatchId DataBach for Issue   ErrorDateTime Når Issue oppstod   IssueType Typen Issue som er opplevd    IssueType   Code ErrorCode for IssueType   Description Feilmelding for IssueType   Level Hvor alvorlig Issuet var. Verdier som kan avgis er: Other, Information, Warning, Error, Critical    9.18.3 GetDataItem Denne operasjonen returnerer metadata og rå Xml data for en spesifikk DataItem (Xml-entitet) som har feilet under behandling.\n   Input Beskrivelse     dataItemId Spesifikk identifikator for et DataItem   DataItem Inneholder metadata og rå Xml data for et DataItem    9.19 URI til alle Altinn tjenester / aliasoversikt for endepunkter Web servicene beskrevet i dokumentet er angitt uten informasjon om endepunkt. En web service operasjon kan kalles med forskjellige endepunkter ut fra hvilken autentiseringsmetode tjenesteeier ønsker å benytte.\nDet tilbys opp til tre forskjellige endepunkter for hver web service operasjon: • Basic Http (SOAP 1.1) o Tradisjonell interoperabel web service hvor autentiseringsinformasjonen (brukernavn/passord) ligger i meldingen. • WS Http (SOAP 1.2 med WS-Security username token) o Støtte for nye web standarder WS, dvs. bl.a. at autentiseringsinformasjonen (brukernavn/passord) ligger i SOAP headeren. • WS Http (SOAP 1.2 med WS-Security X.509 token) (markert som EC) o Støtte for ny web standarder WS, dvs. bl.a. at sertifikat ligger i SOAP headeren mens brukernavn og passord ligger i meldingen. • WS Http (SOAP 1.2 med WS-Security X.509 token) (markert som AEC) o Støtte for ny web standarder WS*, dvs. bl.a. at sertifikat ligger i SOAP headeren. Sertifikatet må være utstedt til en organisasjon som er registrert som tjenesteeier i Altinn.\nEksempel: Web service operasjonen \u0026ldquo;GetReceiptV2\u0026rdquo; kan aksesseres ved å kalle endepunktet \u0026ldquo;ReceiptAgencyExternal\u0026rdquo; hvis man ønsker å bruke/autentisere vha. WS* standarden. Samme operasjon finnes med navn \u0026ldquo;GetReceiptBasicV2\u0026rdquo; på endepunktet \u0026ldquo;ReceiptExternalBasic\u0026rdquo; hvis man ønsker tradisjonell web service aksessering. Tilslutt finnes det en tredje versjon av operasjonen med navn GetReceiptExternalECV2 på endepunktet \u0026ldquo;ReceiptExternalEC\u0026rdquo; hvis man ønsker å benytte virksomhetssertifikat i autentiseringen.\nHer følger en aliasoversikt som viser kobling mellom operasjon og endepunkt(er) (Se også Tjenestekatalogen (Service Inventory) for informasjon om tjenesten og endepunkt): ##### ArchiveCommon |Basis Operasjon|URI/Endepunkt|Endepunkt operasjon| |\u0026mdash;\u0026mdash;\u0026ndash;|\u0026mdash;\u0026mdash;\u0026ndash;|\u0026mdash;\u0026mdash;\u0026ndash;| |** ArchiveCommon||| |GetServiceOwnerArchiveReporteeElementsV2|WS Http https://www.altinn.no/ArchiveExternal/ArchiveCommonAgencyExternal.svc|GetServiceOwnerArchiveReporteeElementsV2| |GetServiceOwnerArchiveReporteeElementsV2|Basic Http https://www.altinn.no/ArchiveExternal/ArchiveCommonAgencyExternalBasic.svc|GetServiceOwnerArchiveReporteeElementsBasicV2| |GetServiceOwnerArchiveReporteeElementsV2|EC https://www.altinn.no/ArchiveExternal/ArchiveCommonAgencyExternalEC.svc|GetServiceOwnerArchiveReporteeElementsEC| | ServiceOwnerArchive||| |GetArchivedFormTaskV2|WS Http https://www.altinn.no/ArchiveExternal/ServiceOwnerArchiveExternal.svc|GetArchivedFormTaskV2| |GetArchivedFormTaskV2|Basic Http https://www.altinn.no/ArchiveExternal/ServiceOwnerArchiveExternalBasic.svc|GetArchivedFormTaskBasicV2| |GetArchivedFormTaskV2|EC https://www.altinn.no/ArchiveExternal/ServiceOwnerArchiveExternalEC.svc|GetArchivedFormTaskEC| |GetArchivedFormTaskV2|EC https://www.altinn.no/ServiceEngineExternal/CaseAgencySystemEC.svc|GetCaseListAgencySystemEC| |GetAttachmentDataStreamed|WS Http https://www.altinn.no/ArchiveExternal/ServiceOwnerArchiveExternalStreamed.svc|GetAttachmentDataExternalStreamed| |GetAttachmentDataStreamed|Basic Http https://www.altinn.no/ArchiveExternal/ServiceOwnerArchiveExternalStreamedBasic.svc|GetAttachmentDataStreamedBasic| |GetAttachmentDataStreamed|EC https://www.altinn.no/ArchiveExternal/ServiceOwnerArchiveStreamedEC.svc| |GetAttachmentDataStreamedEC| |Receipt**||| | Basis operasjon|URI/Endepunkt|Endepunkt operasjon| |GetReceiptV2|WS Http https://www.altinn.no/IntermediaryExternal/ReceiptAgencyExternal.svc|GetReceiptV2| |GetReceiptV2|Basic Http https://www.altinn.no/IntermediaryExternal/ReceiptAgencyExternalBasic.svc|GetReceiptBasicV2| |GetReceiptV2|EC https://www.altinn.no/IntermediaryExternal/ReceiptAgencyExternalEC.svc|GetReceiptECV2| |GetReceiptListV2|WS Http https://www.altinn.no/IntermediaryExternal/ReceiptAgencyExternal.svc|GetReceiptListV2| |GetReceiptListV2|Basic Http https://www.altinn.no/IntermediaryExternal/ReceiptAgencyExternalBasic.svc|GetReceiptListBasicV2| |GetReceiptListV2|EC https://www.altinn.no/IntermediaryExternal/ReceiptAgencyExternalEC.svc|GetReceiptListECV2| |UpdateReceipt|WS Http https://www.altinn.no/IntermediaryExternal/ReceiptAgencyExternal.svc|UpdateReceipt| |UpdateReceipt|Basic Http https://www.altinn.no/IntermediaryExternal/ReceiptAgencyExternalBasic.svc|UpdateReceiptBasic| |UpdateReceipt|EC https://www.altinn.no/IntermediaryExternal/ReceiptAgencyExternalEC.svc|UpdateReceiptEC| |CaseAgencySystem||| |Basis operasjon|URI/Endepunkt|Endepunkt operasjon| |InstantiateCollaborationAgencySystem|WS Http https://www.altinn.no/ServiceEngineExternal/CaseAgencySystemExternal.svc|InstantiateCollaborationAgencySystemExternal| |InstantiateCollaborationAgencySystem|Basic Http https://www.altinn.no/ServiceEngineExternal/CaseAgencySystemExternalBasic.svc|InstantiateCollaborationAgencySystemExternalBasic|InstantiateCollaborationAgencySystemExternalBasic| |InstantiateCollaborationAgencySystem|EC https://www.altinn.no/ServiceEngineExternal/CaseAgencySystemEC.svc|InstantiateCollaborationAgencySystemEC| |GetCaseListAgencySystem|WS Http https://www.altinn.no/ServiceEngineExternal/CaseAgencySystemExternal.svc|GetCaseListAgencySystemExternal| |GetCaseListAgencySystem|Basic Http https://www.altinn.no/ServiceEngineExternal/CaseAgencySystemExternalBasic.svc|GetCaseListAgencySystemExternalBasic| |GetCaseListAgencySystem|EC https://www.altinn.no/ServiceEngineExternal/CaseAgencySystemEC.svc|GetCaseListAgencySystemEC| |NotifyEventAgencySystem|WS Http https://www.altinn.no/ServiceEngineExternal/CaseAgencySystemExternal.svc|NotifyEventAgencySystemExternal| |NotifyEventAgencySystem|Basic Http https://www.altinn.no/ServiceEngineExternal/CaseAgencySystemExternalBasic.svc|NotifyEventAgencySystemExternalBasic| |NotifyEventAgencySystem|EC https://www.altinn.no/ServiceEngineExternal/CaseAgencySystemEC.svc|NotifyEventAgencySystemEC| |SetNoticeAgencySystem|WS Http https://www.altinn.no/ServiceEngineExternal/CaseAgencySystemExternal.svc|SetNoticeAgencySystemExternal| |SetNoticeAgencySystem|Basic Http https://www.altinn.no/ServiceEngineExternal/CaseAgencySystemExternalBasic.svc|SetNoticeAgencySystemExternalBasic| |SetNoticeAgencySystem|EC https://www.altinn.no/ServiceEngineExternal/CaseAgencySystemEC.svc|SetNoticeAgencySystemEC| |Correspondence||| |Basis operasjon|URI/Endepunkt|Endepunkt operasjon| |InsertCorrespondenceV2|WS Http https://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternal.svc|InsertCorrespondenceV2| |InsertCorrespondenceV2|Basic Http https://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternalBasic.svc|InsertCorrespondenceBasicV2| |InsertCorrespondenceV2|EC https://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternalEC.svc|InsertCorrespondenceEC| |InsertCorrespondenceV2|AEC https://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternalAEC.svc|InsertCorrespondenceAEC| |CreateSimpleCorrespondenceService|WS Http https://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternal.svc|CreateSimpleCorrespondenceService| |CreateSimpleCorrespondenceService|Basic Http https://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternalBasic.svc|CreateSimpleCorrespondenceServiceBasic| |CreateSimpleCorrespondenceService|EC Ikke tilgjengelig på dette grensesnittet|| |CreateSimpleCorrespondenceService|AEC Ikke tilgjengelig på dette grensesnittet|| |GetCorrespondenceStatusDetailsV3|WS Http https://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternal.svc|GetCorrespondenceStatusDetailsV3| |GetCorrespondenceStatusDetailsV3|Basic Http https://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternalBasic.svc|GetCorrespondenceStatusDetailsBasicV3| |GetCorrespondenceStatusDetailsV3|EC https://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternalEC.svc|GetCorrespondenceStatusDetailsECV3| |GetCorrespondenceStatusDetailsV3|AEC https://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternalAEC.svc|GetCorrespondenceStatusDetailsAECV3| |GetCorrespondenceStatusHistory|WS Http https://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternal.svc|GetCorrespondenceStatusHistory| |GetCorrespondenceStatusHistory|Basic Http https://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternalBasic.svc|GetCorrespondenceStatusHistoryBasic| |GetCorrespondenceStatusHistory|EC https://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternalEC.svc|GetCorrespondenceStatusHistoryEC| |GetCorrespondenceStatusHistory|AEC https://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternalAEC.svc|GetCorrespondenceStatusHistoryAEC| |AltUt||| |Basis operasjon|URI/Endepunkt|Endepunkt operasjon| |SubmitAltutMessagePw|Basic Http https://www.altinn.no/webservicesAgency/AgencydataExchange.asmx?op=SubmitAltutMessagePw|SubmitAltutMessagePw| |Prefill||| |Basis operasjon|URI/Endepunkt|Endepunkt operasjon| |SubmitAndInstantiatePrefilledFormTask|WS Http https://www.altinn.no/ServiceEngineExternal/Prefill.svc|SubmitAndInstantiatePrefilledFormTask| |SubmitAndInstantiatePrefilledFormTask|Basic Http https://www.altinn.no/ServiceEngineExternal/PrefillBasic.svc|SubmitAndInstantiatePrefilledFormTaskBasic| |SubmitAndInstantiatePrefilledFormTask|EC https://www.altinn.no/ServiceEngineExternal/PreFillAgencyExternalEC.svc|SubmitAndInstantiatePrefilledFormTaskEC| |SubmitPrefilledFormTasks|WS Http https://www.altinn.no/ServiceEngineExternal/Prefill.svc|SubmitPrefilledFormTasks| |SubmitPrefilledFormTasks|Basic Http https://www.altinn.no/ServiceEngineExternal/PrefillBasic.svc|SubmitPrefilledFormTasksBasic| |SubmitPrefilledFormTasks|EC https://www.altinn.no/ServiceEngineExternal/PreFillAgencyExternalEC.svc|SubmitPrefilledFormTasksEC| |Subscription||| |Basis operasjon|URI/Endepunkt|Endepunkt operasjon| |SubmitSubscription|WS Http https://www.altinn.no/ServiceEngineExternal/Subscription.svc|SubmitSubscription| |SubmitSubscription|Basic Http https://www.altinn.no/ServiceEngineExternal/SubscriptionBasic.svc|SubmitSubscriptionBasic| |SubmitSubscription|EC https://www.altinn.no/ServiceEngineExternal/SubscriptionAgencyExternalEC.svc|SubmitSubscriptionEC| |NotificationAgencyExternal||| |Basis operasjon|URI/Endepunkt|Endepunkt operasjon| |SendStandaloneNotification|WS Http https://www.altinn.noServiceEngineExternal/NotificationAgencyExternal.svc|SendStandaloneNotification| |SendStandaloneNotification|Basic Http https://www.altinn.noServiceEngineExternal/NotificationAgencyExternalBasic.svc|SendStandaloneNotificationBasic| |SendStandaloneNotification|EC https://www.altinn.noServiceEngineExternal/NotificationAgencyExternalEC.svc|SendStandaloneNotificationEC| |TTPArchiveAgencyExternal||| |Basis operasjon|URI/Endepunkt|Endepunkt operasjon| |GetAuditTrail|Basic Http https://www.altinn.no/ArchiveExternal/TTPArchiveAgencyExternalBasic.svc|GetAuditTrailBasic| |AuthorizationAdministration||| |Basis operasjon|URI/Endepunkt|Endepunkt operasjon| |ImportAuthorizationPolicy|WS Http https://www.altinn.no/AuthorizationExternal/AdministrationExternal.svc|ImportAuthorizationPolicy| |GetReporteeByTempKey|WS Http https://www.altinn.no/AuthorizationExternal/AdministrationExternal.svc|GetReporteeByTempKey| |GetReportees|WS Http https://www.altinn.no/AuthorizationExternal/AdministrationExternal.svc|GetReportees| |GetRoles|WS Http https://www.altinn.no/AuthorizationExternal/AdministrationExternal.svc|GetRoles| |AuthorizationDecisionPointExternal||| |Basis operasjon|URI/Endepunkt|Endepunkt operasjon| |AuthorizeAccessExternal|WS Http https://www.altinn.no/AuthorizationExternal/AuthorizationDecisionPointExternal.svc|AuthorizeAccessExternal| |DownloadQueueExternal||| |Basis operasjon|URI/Endepunkt|Endepunkt operasjon| |GetDownloadQueueItems|WS Http https://www.altinn.no/ArchiveExternal/DownloadQueueExternal.svc|GetDownloadQueueItems| |GetDownloadQueueItems|WS Http https://www.altinn.no/ArchiveExternal/DownloadQueueExternalBasic.svc|GetDownloadQueueItems| |GetDownloadQueueItems|WS Http https://www.altinn.no/ArchiveExternal/DownloadQueueExternalEC.svc|GetDownloadQueueItems| |PurgeItem|WS Http https://www.altinn.no/ArchiveExternal/DownloadQueueExternal.svc|PurgeItem| |PurgeItem|WS Http https://www.altinn.no/ArchiveExternal/DownloadQueueExternalBasic.svc|PurgeItem| |PurgeItem|WS Http https://www.altinn.no/ArchiveExternal/DownloadQueueExternalEC.svc|PurgeItem| |GetArchivedFormTask|WS Http https://www.altinn.no/ArchiveExternal/DownloadQueueExternal.svc|GetArchivedFormTaskExternalDQ| |GetArchivedFormTask|WS Http https://www.altinn.no/ArchiveExternal/DownloadQueueExternalBasic.svc|GetArchivedFormTaskBasicDQ| |GetArchivedFormTask|WS Http https://www.altinn.no/ArchiveExternal/DownloadQueueExternalEC.svc|GetArchivedFormTaskECDQ| |ContextHandlerExternal||| |Basis operasjon|URI/Endepunkt|Endepunkt operasjon| |GetReporteeElementContextExternal|WS Http https://www.altinn.no/ServiceEngineExternal/ContextHandlerExternal.svc|GetReporteeElementContextExternal| |GetReporteeElementContextExternal|Basic Http https://www.altinn.no/ServiceEngineExternal/ContextHandlerExternalBasic.svc|GetReporteeElementContextExternalBasic| |GetReporteeElementContextExternal|EC https://www.altinn.no/ServiceEngineExternal/ContextHandlerEC.svc|GetReporteeElementContextExternalEC| |RegisterSSRAgencyExternal| |Basis operasjon|URI/Endepunkt|Endepunkt operasjon| |GetRights|WS Http https://www.altinn.no/RegisterExternal/RegisterSRRAgencyExternal.svc|GetRights| |GetRights|Basic Http https://www.altinn.no/RegisterExternal/RegisterSRRAgencyExternalBasic.svc|GetRightsBasic| |GetRights|EC https://www.altinn.no/RegisterExternal/RegisterSRRAgencyExternalEC.svc|GetRightsEC| |AddRights|WS Http https://www.altinn.no/RegisterExternal/RegisterSRRAgencyExternal.svc|AddRights| |AddRights|Basic Http https://www.altinn.no/RegisterExternal/RegisterSRRAgencyExternalBasic.svc|AddRightsBasic| |AddRights|EC https://www.altinn.no/RegisterExternal/RegisterSRRAgencyExternalEC.svc|AddRightsEC| |DeleteRights|WS Http https://www.altinn.no/RegisterExternal/RegisterSRRAgencyExternal.svc|DeleteRights| |DeleteRights|Basic Http https://www.altinn.no/RegisterExternal/RegisterSRRAgencyExternalBasic.svc|DeleteRightsBasic| |DeleteRights|EC https://www.altinn.no/RegisterExternal/RegisterSRRAgencyExternalEC.svc|DeleteRightsEC| Alle URI er angitt med produksjonsadresse. Frem til produksjonssetting må https://www.altinn.no erstattes med peker til testmiljø.\n9.20 Sammenheng mellom nye og gamle Altinn web services Nedenfor vises en oversikt som mapper web service grensesnitt tilgjengelige i AltinnI med de som tilbys i AltinnII versjon 1:\n   Altinn I operasjon Altinn II ver.1. operasjon Kommentar     AgencyDataExchange.SubmitAltutMessagePw() Correspondence. InsertCorrespondence AltinnI web service videreføres for eksisterende tjenesteeiere, kun i en begrenset periode   AgencyDataExchange. SubmitAndInstantiateOnlinePrefillPw Prefill.SubmitAndInstantiatePrefilledFormTask AltinnII er tjenesteorientert, ikke skjemaorientert   AgencyDataExchange. SubmitOnlinePrefillPw Prefill.SubmitPrefilledFormTasks AltinnII er tjenesteorientert, ikke skjemaorientert   AgencyDataExchange.VerifyMessage N/A    N/A ArchiveCommon.GetServiceOwnerArchiveReporteeElements    N/A ServiceOwnerArchive.GetArchivedFormTask    MessageReceiptExchange.GetReceiptList Receipt.GetReceiptList    MessageReceiptExchange.GetReceipt Receipt.GetReceipt    N/A Receipt.SaveReceipt Ny web service operasjon i AltinnII   N/A Subscription.SubmitSubscription Ny web service operasjon i AltinnII    10 Grensesnitt – batch til Altinn Her følger en oversikt over hvilke batch grensesnitt som tilbys i Altinn.\n10.1 Innsendingstjenester Ferdig utfylte skjemaer i Altinn overføres på xml fil til tjenesteeiere. Tjenesteeiere kan motta utfylte skjemaer fortløpende, eller samle opp til rutinemessig overføring. Alternative protokoller som benyttes i Altinn-løsningen i dag er FTP og SFTP. Kun arkiverte elementer for egne skjemaer overføres.\nTjenesteeier må etablere FTP/SFTP mottak, og se til at angitt FTP område til enhver tid er tilgjengelig for Altinn. Opplysninger om FTP adresse, pålogging og frekvens må avtales før valgt overføring kan aktiviseres.\nEn kvittering for forsendelsen genereres når forsendelsen er sendt til tjenesteeier fra Altinn. Tjenesteeier oppdaterer kvitteringen etter mottak ved å gjøre kall til dedikert web service (se SaveReceipt).\nInnsendingsdata som sendes til tjenesteeier fra Altinn er i henhold til “genericbatch.2011.06.xsd\u0026rdquo; som ligger som et separat vedlegg til dette dokumentet. Denne versjonen av XSD er påkrevd for å bruke funksjonalitet for å overføre PDF av skjemasett.\nI forbindelse med definerte vedleggstyper i Altinn, har vi «genericbatch.2013.06.xsd». Den nye versjonen av xsd-en inneholder nye elementer som vedleggstypenavn (attachmentTypeName) og sjekksum, av typen SHA256, for vedlegget (checksum). I tillegg har det blitt innført mulighet for å definere en liste med metadata, med mulighet for å f.eks. oppgi fagsystemnavn. AttachmentTypeName, Checksum og MetaDataList er alle optional og ikke obligatorisk, så xsd-en er bakoverkompatibel med tjenesteeiere som benytter seg av “genericbatch.2011.06.xsd\u0026rdquo; og “genericbatch.2010.10.xsd\u0026rdquo;.\n“Genericbatch.2010.10.xsd\u0026rdquo; vil eksistere videre i en periode før den fases ut. Det er ingen obligatoriske forandringer mellom “genericbatch.2011.06.xsd\u0026rdquo; og “genericbatch.2010.10.xsd\u0026rdquo;, så tjenesteeiere som allerede bruker sistnevnte kan fortsette med det inntil den fases ut.\nTjenesteeier kan opprette flere grensesnitt for overføring av utfylte skjema, og hvert enkelt grensesnitt knyttes til 1 versjon av genericbatch.\n   Element Beskrivelse     DataBatch Rotnode elementet som holder hele overføringen. Alt innenfor dette elementet tilhører en batch   schemaVersion Versjonen av xmlskjemaet. Brukes for fremtidig versjonering av formatet   batchReference Den unike batch-sekvensen innenfor mottakssystemet. Denne blir brukt for å forsikre seg om at det er forventet batchforsendelse som blir mottatt av offentlig enhet   previousReference Forrige sekvensnummer innenfor mottakssystemet (receiverReference)   receiverReference Identifikatoren i Altinn på systemet som skal motta dataene, eksempelvis SLN. Brukes av mottaker for å skille på batcher til forskjellige system hos samme mottaker   timeStamp Tidspunkt for når batchen er generert   formTasksInBatch Antall skjemasett som er i denne databatche   formsInBatch Antall skjema som er i denne databatchen   DataBatch .DataUnits Inneholder en samling av alle skjemaer som sendes   DataBatch .DataUnits. DataUnit Element som inneholder det enkelte skjemaet i batchen. Dette kan enten være hovedskjema eller vedleggsskjema   reportee Identifikatoren til avgiver (organisasjonsnummer/fødselsnummer) som har sendt inn skjemaet   archiveReference Identifikatoren til skjemaet i AltInn-arkivet. Brukes for å koble videre saksgang av skjema hos mottaker med skjemaet i Altinn, ved evt. senere henvendelse til Altinn   archiveTimeStamp Tidspunkt for når skjemaet ble arkivert   DataBatch .DataUnits. DataUnit. MetadataList En samling av metadata informasjon i en liste. Kan f.eks. være fagsystemnavn dersom dette er bestilt aktivert på grensesnitt   DataBatch .DataUnits. DataUnit. Approvers En samling av godkjennere for det enkelte skjema, d.v.s. personer som har signert oppgavesettet   DataBatch .DataUnits. DataUnit. Approvers .Approver Et element som representerer én godkjenner   approverId Identifikatoren til godkjenneren av skjemaet, d.v.s. fødselsnummer   approverTimeStamp Tidspunktet for godkjennelsen av skjemaet   securityLevel Sikkerhetsnivå: notSensitive - Data er godkjent av bruker som er autentisert med sikkerhetsnivå 1, lessSensitive - Data er godkjent av bruker som er autentisert med sikkerhetsnivå 2, sensitive - Data er signert av bruker med sikkerhetsnivå 3, verySensitive - Data er signert av bruker med sikkerhetsnivå 4   DataBatch .DataUnits. DataUnit.FormTask Overordnet element for ferdig utfylt skjemasett   DataBatch .DataUnits. DataUnit.FormTask.ServiceCode Tjenestekode, f.eks. \u0026ldquo;PSA\u0026rdquo;   DataBatch .DataUnits. DataUnit.FormTask.ServiceEditionCode Tjenesteutgavekode, f.eks. \u0026ldquo;2009\u0026rdquo;   DataBatch .DataUnits. DataUnit.FormTask. SOEncryptedSymmetricKey.EncryptedKey Nøkkel som er AES-kryptert med tjenesteeiers sertifikat som benyttes for å dekryptere skjemainnhold   DataBatch .DataUnits. DataUnit.FormTask.SOEncryptedSymmetricKey.CertificateThumbprint Thumbprint av tjenesteeiers sertifikat som ble benyttet for å kryptere nøkkel. Vil unikt angi sertifikatet i de tilfeller hvor tjenesteeier har flere sertifikater registrert i Altinn   DataBatch .DataUnits. DataUnit.FormTask.CaseID Unik identifikator på eventuell samhandlingstjeneste skjemasettet er knyttet til   DataBatch .DataUnits. DataUnit.FormTask.Form Overordnet element for hoved –eller underskjema i et skjemasett   DataBatch .DataUnits. DataUnit.FormTask.Form.DataFormatId Id til skjema fra metadata kilde   DataBatch .DataUnits. DataUnit.FormTask.Form.DataFormatVersion Versjon til skjema fra metadata kilde   DataBatch .DataUnits. DataUnit.FormTask.Form.Reference Unik id per skjema, satt av altinn   DataBatch .DataUnits. DataUnit.FormTask.Form.ParentReference Referanse til hovedskjema. Settes kun i underskjema dersom underskjema forekommer.Tilsvarer verdi i DataBatch .DataUnits. DataUnit.FormTask.Form.Reference for hovedskjema   DataBatch .DataUnits. DataUnit.FormTask.Form.FormData Skjemadata i xml format   DataBatch .MetadataList Overodnet element for all metadata for en batch   DataBatch .Metadata Metadatainfo knyttet til batchen   DataBatch .Attachments Overordnet element for alle vedlegg for en batch   DataBatch .Attachments.Attachment Elementet inneholder ett binært vedlegg (Base64 kodet). Dette kan også være systemgenererte vedlegg, f.eks PDF av skjemasett   archiveReference Identifikatoren til skjemaet i AltInn-arkivet. Brukes til å knytte vedlegget til skjemaet   fileName Det originale filnavnet til vedlegget (gitt av den som sendte det)   InternalFileName Intern filnavnreferanse som brukes hvis vedleggene skal pakkes i en ekstern fil (ZIP). Denne er unik fordi man ikke kan ha like filnavn i et ZIP-arkiv. Filnavnet består av arkivreferansenummer + en Guid   AttachmentType Angir type attachment. Dette gjelder også for systemgenererte vedlegg som PDF (attachmentType=formtask_pdf). Mulige verdier for denne : not_Applicable, BASE64, binary_octet_stream, formtask_pdf, image_gif, text_html, image_bmp, image_jpeg, application_vnd_ms_excel, application_vnd_ms_powerpoint, application_msword, MTOM, application_None, application_vnd_oasis_opendocument_presentation, application_vnd_oasis_opendocument_spreadsheet, application_vnd_oasis_opendocument_text, application_pdf, text_plain, application_postscript, text_richtext, application_rtf, text_rtf, text_xml, application_zip   IsEncrypted Angir om tjenesten er kryptert eller ikke   Checksum Viser sjekksum av filvedlegget, som er generert av Altinn. Sjekksummen er generert av SHA256-algoritmen   attachmenttypename Angir vedleggets vedleggstypenavn. Dette er i henhold til vedleggstypen som er knyttet til tjenesten, f.eks. Lønnslipp, Årsoppgave    10.2 Preutfylling Preutfyllingsdata fra tjenesteeier vil ofte bestå av store mengder data. Batch-grensesnittet skal i så fall benyttes. Batch-grensesnittet kan også benyttes av tjenesteeiere som ikke ønsker å benytte web service-grensesnittet. Alternative protokoller som benyttes i Altinn-løsningen i dag er FTP eller SFTP. Tjeneste for oppgavesettet må være definert i tjenesteutviklingsløsningen og migrert til sluttbrukerløsningen før en tjenesteeier kan sende inn preutfyllingsdata for tjenesten via dette grensesnittet.\nVed bruk av FTP/SFTP mottar Altinn fil fra tjenesteeier. Alternativt kan Altinn kan hente hos tjenesteeier vha. de samme protokollene hvis tjenesteeier ikke ønsker å etablere egen FTP server (gjelder kun tjenesteeiere som ikke skal motta meldingsbekreftelser fra Altinn, se avsnitt 10.4.2 Meldingsbekreftelse fra Altinn til tjenesteeier). Opplysninger om FTP adresse, pålogging og frekvens må avtales før valgt kommunikasjonsmåte kan aktiviseres. Dersom Altinn skal hente hos tjenesteeier må tjenesteeier se til at angitt FTP område til enhver tid er tilgjengelig for Altinn.\nEn kvittering for forsendelsen, samt kvitteringer for de enkelte skjemaene i forsendelsen, genereres når forsendelsen er ferdig prosessert i Altinn. Tjenesteeier kan hente ut kvitteringene basert på ExternalShipmentReference/SendersReference som ble oppgitt i preutfyllingsformatet.\nPreutfyllingsdata som sendes til Altinn fra tjenesteeier eller hentes fra Altinn må være i henhold til Prefill-elementet i serviceinitiation.2010.10.xsd. Xsd’en ligger som et separat vedlegg til dette dokumentet. Dette formatet benyttes også for abonnement. Tjenesteeier kan med andre ord sende både preutfyllingsdata og abonnementsdata i samme XML.\nTabellen under beskriver elementer og attributter relevante for preutfylling:\n   Element Beskrivelse     ServiceOwner Rotnode elementet som holder hele overføringen   ServiceOwnerName Forkortelsen for tjenesteeieres navn (XXX-XXX, for eksempel ABC-123), der tre første tegn representerer tjenesteeier og tre siste tegn representerer en avdeling innad hos tjenesteeier. Kun de tre første tegnene er obligatoriske dersom det ikke finnes flere systemer/avdelinger innenfor samme tjenesteeier   ServiceOwner.Prefill Prefill-element og tilhørende under-elementer benyttes av tjenesteeier for å angi preutfyllingsdata til Altinn   SequenceNo Sekvensnummer for preutfyllings-forsendelsen.   ExternalShipmentReference Unik forsendelsesreferanse som settes av tjenesteeier for å identifisere forsendelsen   ServiceOwner.Prefill.Reportee Reportee-element og tilhørende under-elementer angir avgiver og tilhørende preutfyllingsdata   Id Unik identifikator for avgiver, fødselsnummer eller organisasjonsnummer   ServiceOwner.Prefill.Reportee.FormTask FormTask-element og tilhørende under-elementer benyttes av tjenesteeier for å angi preutfyllingsdata for et skjemasett   ExternalServiceCode Angir den tjenestekoden som preutfyllingen gjelder for   ExternalServiceEditionCode Angir tjenesteutgavekoden som preutfyllingen gjelder for   ValidFrom Angir dato for når preutfyllingsdataene er gyldige fra (yyyy-MM-dd)   ValidTo Angir dato for når preutfyllingsdataene er gyldige til (yyyy-MM-dd)   IdentityFieldHashCode Generert hash basert på alle identifiserende felter for det preutfylte oppgavesettet. Identifiserende felter benyttes for å skille mellom flere preutfyllingssett for samme oppgavesett og avgiver   SendersReference Referanse på skjemasett som settes av tjenesteeier, bør være unikt   ReceiversReference Unik referanse som settes av Altinn.   ServiceOwner.Prefill.Reportee.FormTask.IdentifyingFields Overordnet element for identifiserende felter. IdentifyingFields-elementet kan inneholde identifiserende felter som sammen unikt vil identifisere et preutfyllingssett for en avgiver og et skjemasett. Se avsnittet PunktOmIdentifiserendeFelter for mer informasjon   IdentifyingField Verdi for identifiserende felt, kan være slike felter per skjemasett   ServiceOwner.Prefill.Reportee.FormTask.Attachments Inneholder Attachment-elementer for eventuelle binære vedlegg for skjemasettet   ServiceOwner.Prefill.Reportee.FormTask.Attachment Attachment-elementet inneholder data for binære vedlegg   AttachmentName Dette navnet er det som vises for vedlegget i portalen.   FileName Navn på filen for det binære vedlegget.   AttachmentData Data for det binære vedlegget (Base64 kodet)   SendersReference Referanse for vedlegget som settes av tjenesteeier, bør være unikt   Encrypted Flagg som sier om vedlegget er kryptert (true/false)   ServiceOwner.Prefill.Reportee.FormTask.Form Dette elementet inneholder metadata og preutfyllingsdata for et skjema i det preutfylte oppgavesettet   DataFormatId Id til skjema fra metadata kilde   DataFormatVersion Versjon til skjema fra metadata kilde   SendersReference Identifikator for skjemaet i det preutfylte oppgavesettet som settes av tjenesteeier, bør være unikt   ParentReference Referanse til hovedskjema (SendersReference), dersom dette er et underskjema   FormData Dataene for skjemaet. Må legges i en CDATA blokk.   ServiceOwner.Prefill.Reportee.Field Field-elementet og tilhørende under-elementer benyttes av tjenesteeier for å angi preutfyllingsdata på feltnivå (felt-verdi)   Id Unik identifikator for feltet i tjeneste som skal preutfylles, typisk navn på et felt i et skjema   ValidFrom Angir dato for når preutfyllingsdataene er gyldige fra (yyyy-MM-dd)   ValidTo Angir dato for når preutfyllingsdataene er gyldige til (yyyy-MM-dd)   Index Indeks for feltet. Benyttes dersom man skal preutfylle flere felter med samme id   Value Preutfyllingsverdien    10.3 Abonnement Abonnementsdata fra tjenesteeier vil ofte bestå av store mengder data. Batch-grensesnittet skal i så fall benyttes. Batch-grensesnittet kan også benyttes av tjenesteeiere som ikke ønsker å benytte web service-grensesnittet. Alternative protokoller som benyttes i Altinn-løsningen i dag er FTP og SFTP. Tjeneste for skjemasettet må være definert i tjenesteutviklingsløsningen og migrert til sluttbrukerløsningen før en tjenesteeier kan sende inn abonnementsdata for tjenesten via dette grensesnittet.\nVed bruk av FTP/SFTP mottar Altinn fil fra tjenesteeier. Alternativt kan Altinn kan hente hos tjenesteeier vha. de samme protokollene hvis tjenesteeier ikke ønsker å etablere egen FTP server (gjelder kun tjenesteeiere som ikke skal motta meldingsbekreftelser fra Altinn, se avsnitt 10.4.2 Meldingsbekreftelse fra Altinn til tjenesteeier). Opplysninger om FTP adresse, pålogging og frekvens må avtales før valgt kommunikasjonsmåte kan aktiviseres. Dersom Altinn skal hente hos tjenesteeier må tjenesteeier se til at angitt FTP område til enhver tid er tilgjengelig for Altinn.\nEn kvittering for forsendelsen, samt kvitteringer for de enkelte skjemaene i forsendelsen, genereres når forsendelsen er ferdig prosessert i Altinn. Tjenesteeier kan hente ut kvitteringene basert på ExternalShipmentReference/SendersReference som ble oppgitt i abonnementsformatet.\nAbonnementsdata som sendes til Altinn fra tjenesteeier eller hentes fra Altinn må være i henhold til Subscription-elementet i serviceinitiation.2010.10.xsd. Xsd’en ligger som et separat vedlegg til dette dokumentet. Dette formatet benyttes også for preutfylling. Tjenesteeier kan med andre ord sende både preutfyllingsdata og abonnementsdata i samme XML.\n   Element Beskrivelse     ServiceOwner Rot-element   ServiceOwnerName Forkortelsen for tjenesteeieres navn (XXX-XXX, for eksempel ABC-123), der tre første tegn representerer tjenesteeier og tre siste tegn representerer en avdeling innad hos tjenesteeier. Kun de tre første tegnene er obligatoriske dersom det ikke finnes flere systemer/avdelinger innenfor samme tjenesteeier   ServiceOwner.Subscription Subscription-element og tilhørende under-elementer benyttes av tjenesteeier for å angi abonnementsdata til Altinn   SequenceNo Sekvensnummer for abonnements-forsendelsen   ExternalShipmentReference Unik referanse som settes av tjenesteeier for å identifisere forsendelsen   ServiceOwner.Subscription.Reportee Reportee-element og tilhørende under-elementer angir avgiver og hva det skal abonneres på   Id Unik identifikator for abonnent, fødselsnummer eller organisasjonsnummer   ServiceOwner.Subscription.Reportee.FormTask FormTask-element og tilhørende under-elementer benyttes av tjenesteeier for å angi abonnementsdata for et skjemasett   ExternalServiceCode Angir den tjenestekoden som abonnementet gjelder for   ExternalServiceEditionCode Angir tjenesteutgavekoden som abonnementet gjelder for   StartDate Dato for når abonnementet skal aktiveres (yyyy-MM-dd)   ExpirationDate Dato for når abonnementet opphører (yyyy-MM-dd)   NextScheduledDate Dato for når abonnementet skal instansieres neste gang (yyyy-MM-dd). Første dato settes av tjenesteeier, neste kalkuleres av runtiejobb i Altinn (basert på periodetype)   NextDueDate Dato for når abonnementet/innsendingstjenesten må være fylt ut av bruker i portal/sluttbrukersystem (yyyy-MM-dd). Første dato settes av tjenesteeier, neste kalkuleres av runtiejobb i Altinn (basert på periodetype)   VisibleDate Dato for når skjemasett som abonnementet gjelder skal være synlig i portal/for sluttbrukersystemer (yyyy-MM-dd)   PeriodType Angir hvor ofte et abonnement skal instansieres. Mulige periodetyper: Annual - årlig, Semiannual - to ganger årlig, Quarterly - tre ganger årlig, Tertiary - fire ganger årlig, Bimonthly - annenhver måned, Monthly - hver måned, Fortnightly - hver 15. dag, Weekly - hver uke, Daily - hver dag, Once- abonnementet instansieres én gang   CaseId Unik identifikator for samhandlingstjenesten   ServiceOwner.Subscription.Reportee.FormTask.IdentifyingFields Overordnet element for identifiserende felter. IdentifyingFields-elementet kan inneholde identifiserende felter som sammen unikt identifisere et allerede innsendt preutfylte skjemasette som abonnenten skal benytte. Se avsnittet PunktOmIdentifiserendeFelter for mer informasjon   IdentifyingField Verdi for identifiserende felt, kan være slike felter per abonnement og må være de(t) samme som finnes på et allerede innsendt preutfylt skjemasett for abonnenten    10.4 Melding Meldinger som skal vises til bruker i portal/sluttbrukersystem sendes fra tjenesteeier til Altinn. Åpne– og lesebekreftelser sendes tilbake fra Altinn til tjenesteeier når bekreftelse\u0026reg; er mottatt fra portal/sluttbrukersystem. 10.4.1 Melding fra tjenesteeier til Altinn Meldingsdata som består av store mengder data skal benytte batch-grensesnittet. Batch-grensesnittet kan også benyttes av tjenesteeiere som ikke ønsker å benytte web service-grensesnittet. Alternative protokoller som benyttes i Altinn-løsningen i dag er FTP og SFTP. En meldingstjeneste må være definert i tjenesteutviklingsløsningen og migrert til sluttbrukerløsningen før en tjenesteeier kan sende inn meldingsdata for tjenesten via dette grensesnittet.\nVed bruk av FTP/SFTP mottar Altinn fil fra tjenesteeier. Opplysninger om FTP adresse, pålogging og frekvens må avtales før valgt kommunikasjonsmåte kan aktiviseres. Dersom Altinn skal hente hos tjenesteeier må tjenesteeier se til at angitt FTP område til enhver tid er tilgjengelig for Altinn.\nDet finnes to batch grensesnitt for registrering av meldinger: • Correspondence Format skreddersydd for siste versjon av Altinn. Oppdateres etter hvert som Altinn videreutvikles. Skal benyttes av alle nye tjenesteeiere. • Altut Format fra tidligere versjon av Altinn, tilbys kun for bakoverkompatibilitet for eksisterende tjenesteeiere, og det vil ikke bli oppdatert etter hvert som Altinn videreutvikles. Det inneholder elementer som ikke lenger er i bruk i Altinn, og enkelte elementer har fått ny funksjonalitet som betyr at eksisterende grensesnitt må endres. Siste versjon av Altinn har funksjonalitet som ikke støttes av Altut formatet.\nEn kvittering for forsendelsen genereres når forsendelsen er ferdig prosessert i Altinn. Tjenesteeier kan hente ut kvitteringene basert på ShipmentReference/SendersReference som ble oppgitt i meldingsformatet.\n10.4.1.1 Correspondence format Meldinger som sendes til Altinn fra tjenesteeier i form av eb batch må være i henhold til schemas.altinn.no.services.intermediary.correspondence.2016.02.xsd. Xsd’en ligger som et separat vedlegg til dette dokumentet. Det er verd å merke seg at namespace til schema er \u0026ldquo;http://schemas.altinn.no/services/intermediary/correspondence/2009/10\u0026quot;.\nThe data in a batch file should have the same strukture, the same element names and functionality as the latest InsertCorrespondence service, but the batch file will be validated with the XSD.\nTabellen under beskriver elementer og attributter relevante for meldinger:\n   Element Beskrivelse     Correspondences Rot-element   SystemUserCode Forkortelsen for tjenesteeieres navn (XXX-XXX, for eksempel ABC-123), der tre første tegn representerer tjenesteeier og tre siste tegn representerer en avdeling innad hos tjenesteeier. Kun de tre første tegnene er obligatoriske dersom det ikke finnes flere systemer/avdelinger innenfor samme tjenesteeier   ShipmentReference Unik referanse som settes av tjenesteeier for å identifisere forsendelsen   SequenceNo Sekvensnummer for forsendelsen. Dersom dette settes må sekvensnummeret være ett nummer høyere enn det forrige sekvensnummeret på meldingsforsendelse for denne tjenesteeieren. I motsatt fall vil forsendelsen avvises i Altinn   Correspondences.Correspondence Correspondence-elementet inneholder ett Correspondence-element per melding   ServiceCode Angir den tjenestekoden som meldingen gjelder for   ServiceEdition Angir tjenesteutgavekoden som meldingen gjelder for   SendersReference Referanse for meldingen i forsendelsen som settes av tjenesteeier, bør være unikt   Reportee Unik identifikator (fødselsnummer eller organisasjonsnummer) for avgiver som skal motta meldingen   Correspondences.Correspondence.Content Inneholder meldingsinnhold, samt eventuelle vedlegg, for meldingen   LanguageCode Språk for melding: 1033 - English, 1044 - Bokmål, 2068 - Nynorsk   MessageTitle Meldingstittel, som vil vises i portal   MessageSummary En kort beskrivelse av meldingen   MessageBody Meldingstekst   Correspondences.Correspondence.Content.Attachments Dette elementet inneholder eventuelle vedlegg tilmeldingen   Correspondences.Correspondence.Content.Attachments.BinaryAttachments Dette elementet inneholder eventuelle binære vedlegg for meldingen   Correspondences.Correspondence.Content.Attachments.BinaryAttachments.BinaryAttachment Inneholder detaljer for ett binært vedlegg   FileName Filnavn for det binære vedlegget   Name Dette er navnet på vedlegget, som det vises i portalen   Encrypted Sier om vedlegget er kryptert. \u0026ldquo;Y\u0026rdquo; (ja) eller ikke \u0026ldquo;N\u0026rdquo; (nei)   Data Data for det binære vedlegget (Base64 kodet)   SendersReference Referanse for vedlegget. Settes av tjenesteeier, bør være unikt   FunctionType Hvilken funksjonstype vedlegget utgjør: Invoice - Faktura, Unspecified - Uspesifisert   AttachmentType Angir MIME-typen for vedlegget (obligatorisk): application_none - ingen MIME type angitt, application_pdf - PDF format, application_msword, Microsoft Word, application_vnd_ms_excel - Microsoft Excel, application_vns_oasis_opendocument_text - Open document (type Text), application_vnd_oasis_opendocument_presentation - Open docment (type Presentation), application_vnd_oasis_opendocument_spreadsheet - Open docment (type Spreadsheet),application_rtf - Rich text format type, application_vnd_ms_powerpoint - Microsoft PowerPoint, application_postscript, application_zip - Type zip, text_plain, text_html, text_xml, text_rtf - Rich text format type, text_richtext - Rich text, binary_octet_stream- Binary format, not_Applicable   DestinationType Hvor vedlegget er tilgjengelig: Default/ShowToAll – tilgjengelig i portal og for sluttbrukersystem, PortalOnly – kun tilgjengelig fra portal, EndUserSystemOnly – kun tilgjengelig fra sluttbrukersystem   Correspondences.Correspondence.Content.Attachments.XmlAttachments Dette elementet inneholder eventuelle XML-vedlegg for meldingen   Correspondences.Correspondence.Content.Attachments.XmlAttachments.XmlAttachment Inneholder detaljer for ett XML-vedlegg. Benyttes hvis det er definert at i TUL at melding skal vises i Infopath skjema. Infopath-skjema må være utviklet som en del av Meldingstjenesten i TUL   SendersReference Referanse for vedlegget. Settes av tjenesteeier, bør være unikt   DataFormatId Id til skjema fra metadata kilde   DataFormatVersion Versjon til skjema fra metadata kilde   FormDataXml Innhold i xml vedlegget. Må legges i en CDATA blokk   Correspondences.Correspondence Forts.   VisibleDateTime Angir når meldingen skal være synlig for sluttbruker i portalen (yyyy-MM-dd)   AllowSystemDeleteDate Angir om meldingen skal kunne slettes av sletterutiner i Altinn.   DueDateTime Angir frist for å bekrefte melding (dersom meldingen må bekreftes)   ArchiveReference Referanse til element i arkiv (dersom en slik referanses finnes)   Correspondences.Correspondence.ReplyOptions Overordnet element som inneholder svaralternativer for meldingen   Correspondences.Correspondence.ReplyOptions.ReplyOption Element som inneholder ett svaralternativ   Correspondences.Correspondence.ReplyOptions.ReplyOption.Service Elementet benyttes hvis man kan svare vha. en tjeneste. Inneholder tjenesteinformasjon   ServiceCode Angir den tjenestekoden for svarmeldingen   ServiceEdition Angir tjenesteutgavekoden for svarmeldingen   Correspondences.Correspondence.ReplyOptions.ReplyOption.ArchiveReference Elementet benyttes hvis man kan svare vha. et arkivert element. Referanse til element i arkiv   Correspondences.Correspondence.ReplyOptions.ReplyOption.Url Elementet benyttes hvis man kan svare vha. en svarlenke   LinkText Tekst til lenken i meldingen   LinkUrl URL til lenke i meldingen   Correspondences.Correspondence Forts.   Correspondences.Correspondence.Notifications Inneholder eventuelle varslinger for meldingen   Correspondences.Correspondence.Notifications.Notification Inneholder data for ett varsel for meldingen   FromAddress Denne adressen vil stå som avsender for varselet. Hvis ikke satt vil avsenderadresse satt i malen benyttes   ShipmentDateTime Tidspunkt for når varselet skal sendes   LanguageCode Angir språk for varselet: 1033 - English, 1044 - Bokmål, 2068 - Nynorsk   NotificationType I hvilken sammenheng varselet skal sendes: Correspondence - Varsel for mottatt melding, Prefill - Varsel for mottatt preutfylt tjeneste/skjema, Pin - Varsel for mottatt pinkode, General - Generell varsel   Correspondences.Correspondence.Notifications.Notification.TextTokens Liste av tekster som skal erstatte maltekster i varselmal   Correspondences.Correspondence.Notifications.Notification.TextTokens.TextToken Element som inneholder tekster som skal erstatte maltekster i meldingsmaler   TokenNum Ikke i bruk, kan utelates   TokenValue Tekst som skal ersatte maltekst. Substitusajonen gjøres i samme rekkefølge som parameterene er angitt. Varselmal må bestilles og lages på forhånd   Correspondences.Correspondence.Notifications.Notification.ReceiverEndPoints Angir mottakere av varselet   Correspondences.Correspondence.Notifications.Notification.ReceiverEndPoints.ReceiverEndPoint Angir en mottaker for et varsel   TransportType Angir hvordan varslingen skjer: Email - Varsel vha. epost, SMS - Varsel vha. mobiltelefon, Instant Message (IM) - Varsel vha. sanntidsmelding over internett, f.eks. på Windows Live Messenger, Both email \u0026amp; sms - Varsel via både sms og epost   ReceiverAddress Angir mottakers adresse (for eksempel telefonnummer eller e-post adresse)   Correspondences.Correspondence Forts.   AllowForwarding Angir om meldingen skal kunne videresendes av bruker i portalen   CaseId Unik identifikator for samhandlingstjenesten    10.4.1.2 Altut format Meldinger som sendes til Altinn fra tjenesteeier må være i henhold til AltUt.xsd. Dette ble etablert i en tidligere versjon av Altinn.\n   Element Beskrivelse     GovOrgan Rotnode i AltUt xml   name Kode som unikt representerer kildesystem, f.eks. \u0026ldquo;ABC-123\u0026rdquo;. Format: XXX_YYYY. De tre første bokstavene er påkrevd og representerer tjenesteeier. De etter understreken representerer avdeling/system, og er valgfritt hvis det ikke finnes flere avdelinger/systemer innenfor samme tjenesteeier   GovOrgan.AltUt Overordnet element   sequenceno Sekvensnummer for forsendelsen. Dersom dette settes må sekvensnummeret være ett nummer høyere enn det forrige sekvensnummeret på meldingsforsendelse for denne tjenesteeieren. I motsatt fall vil forsendelsen avvises i Altinn   GovOrgan.AltUt .Message Starten på en Altut melding   shortName Angir hvilken tjeneste meldingen tilhører. Format: xxxxxx_yyyyyy, hvor \u0026ldquo;xxxxxx\u0026rdquo; angir tjenestekode, mens \u0026ldquo;yyyyyy\u0026rdquo; angir tjenesteutgavekode. Denne sendes tilbake i kvitteringsbatchen til den offentlige enheten. OBS! Dette feltet ble tidligere brukt som meldingsidentifikator, f.eks. \u0026ldquo;Skatteoppgjør 2007\u0026rdquo;. Dette er erstattet med tjenesteinformasjon som nevnt ovenfor   messageReference En unik meldingsreferanse innenfor et shortname. Må angis for at tjenesteeier skal kunne motta meldingsbekreftelser   viewFormat Mappes ikke til AltinnII   allowDelete Mappes ikke til AltinnII   persistent Mappes ikke til AltinnII   GovOrgan.AltUt .Message.RoleReqRead Informasjonen hentes fra TUL   GovOrgan.AltUt .Message.RoleReqDeleteConfirm Informasjonen hentes fra TUL i AltinnII   GovOrgan.AltUt .Message.RoleReqGovAgency Informasjonen hentes fra TUL i AltinnII   GovOrgan.AltUt .Message.Sender Mappes ikke til AltinnII   GovOrgan.AltUt .Message.Sender.Name Mappes ikke til AltinnII   GovOrgan.AltUt .Message.Participant Overordnet element   id Organisasjonsnummer/fødselsnummer til den som skal ha meldingen   GovOrgan.AltUt .Message.Participant.VisibleDate Dato for når meldingen skal være synlig for brukeren i portalen   GovOrgan.AltUt .Message.Participant.DueDate Fristen for når melding må bekreftes   GovOrgan.AltUt .Message.Participant.AltinnArchive Arkivreferansen til et Altinn skjema. Denne kan for eksempel brukes hvis AltUt meldingen er et svar/oppfølging til et skjema som tidligere er sendt inn i Altinn   GovOrgan.AltUt .Message.Participant.LoginSecurityLevel Mappes ikke til AltinnII. Hentes fra pålogging   GovOrgan.AltUt .Message.Participant.AllowUserDeleteDate Mappes ikke til AltinnII   GovOrgan.AltUt .Message.Participant.AllowSystemDeleteDate Datoen for når Altinn kan slette meldingen (sanering)   GovOrgan.AltUt .Message.Participant.VisibleInClientReport Mappes ikke til AltinnII   GovOrgan.AltUt .Message.Participant.RequireConfirmation Mappes ikke til AltinnII. Dette settes i TUL   GovOrgan.AltUt .Message.Participant.Year Året meldingen skal assosieres med Altinn. Benyttes bl.a. for selvangivelsen   GovOrgan.AltUt .Message.Participant.MunicipalNumber Kommunenummeret meldingen skal assosieres med Altinn. Benyttes bl.a. for selvangivelsen   GovOrgan.AltUt .Message.Participant.Content Selv innholdet til AltUt meldingen. Må legges i en CDATA blokk   languageCode Språkkoden til meldingen: 1033 - English, 1044 - Bokmål, 2068 - Nynorsk   GovOrgan.AltUt .Message.Participant.Content.MessageHeader Settes i TUL   GovOrgan.AltUt .Message.Participant.Content.MessageSubject Mappes ikke til AltinnII   GovOrgan.AltUt .Message.Participant.Content.MessageSummery Sammendrag av meldingen(e). Denne vises i sammendragfeltet for meldingen i AltUt vinduet   GovOrgan.AltUt .Message.Participant.Content.Invoice Mappes ikke til AltinnII   GovOrgan.AltUt .Message.Participant.Content.Attachments Inneholder evt. vedlegg   GovOrgan.AltUt .Message.Participant.Content.Attachments.Attachment Inneholder informasjon om ett vedlegg, Base64 kodet   id En unik id innenfor gruppen med vedlegg. Den lagres ikke men må eksistere for bakover kompatibilitet   functionType Felt for å spesifisere hvilken funksjon et vedlegg har: Invoice - Faktura, Unspecified - Uspesifisert   type MIME typen til vedlegget: application_none - ingen MIME type angitt, application_pdf - PDF format, application_msword - Microsoft Word, application_vnd_ms_excel - Microsoft Excel, application_vns_oasis_opendocument_text - Open document (type Text), application_vnd_oasis_opendocument_presentation - Open docment (type Presentation), application_vnd_oasis_opendocument_spreadsheet - Open docment (type Spreadsheet), application_rtf - Rich text format type, application_vnd_ms_powerpoint - Microsoft PowerPoint, application_postscript, application_zip -Type zip, text_plain, text_html, text_xml, text_rtf - Rich text format type, text_richtext - Rich text, binary_octet_stream - Binary format, not_Applicable   filename Filnavnet til vedlegget   name Navnet til vedlegget. Denne brukes som navn på linken til filvedlegget i portalen   GovOrgan.AltUt .Message.Participant.Content.HTML Hvis innholdet skal presenters i HTML legges det her.   GovOrgan.AltUt .Message.NotificationMessages Inneholder evt. varsler   NotificationTypeName En unik streng som definerer en referanse til predefinerte varslingstekster.   GovOrgan.AltUt .Message.NotificationMessages.NotificationMessage Inneholder informasjon om ett varsel   participantId Fødselsnummer til mottaker av varselet   GovOrgan.AltUt .Message.NotificationMessages.NotificationMessage.SMSPhoneNumbers Telefonnummeret det skal sendes varsler til, kan være flere   GovOrgan.AltUt .Message.NotificationMessages.NotificationMessage.SMSPhoneNumbers.SMSPhoneNumber Telefonnummeret til den som skal ha varsling på SMS   GovOrgan.AltUt .Message.NotificationMessages.NotificationMessage.EmailAddresses Adressen det skal sendes mailvarsler til, kan være flere   GovOrgan.AltUt .Message.NotificationMessages.NotificationMessage. EmailAddresses.EmailAddress Emailadressen til den som skal ha varsling   GovOrgan.AltUt .Message.ReplyMessages Overordnet element for svaralternativer   GovOrgan.AltUt .Message.ReplyMessages.ReplyMessage Element for ett svaralternativ   GovOrgan.AltUt .Message.ReplyMessages.ReplyMessage.Form Mappes ikke til AltinnII. Vil ikke kunne referere til AltinnI-tjenester fra AltinnII. I stedet for skjemanummer brukes ServiceCode   formNumber Mappes ikke til AltinnII   version Mappes ikke til AltinnII   GovOrgan.AltUt .Message.ReplyMessages.ReplyMessage.Form.ServiceCode Tjenestekoden og tjenesteutgavekoden til en service som AltinnII tilbyr, underscore mellom de to verdiene. Format: Tjenestekode_tjenesteutgavekode   GovOrgan.AltUt .Message.ReplyMessages.ReplyMessage.Form.ServiceURL Mappes ikke til AltinnII. Angis i stedet som lenke i meldingen (body)   GovOrgan.AltUt .Message.ReplyMessages.ReplyMessage.Form.ArchiveReference Arkivreferansen til et skjema. Den offentlige enheten kan be brukeren om at et skjema fra arkiv skal kopieres, aktiviseres og sendes inn på nytt med tilleggsinformasjon.NB: Betinger at det er mulig å aktivisere skjemaet fra sluttbrukerens meldingsboks    10.4.2 Meldingsbekreftelse fra Altinn til tjenesteeier 10.4.2.1 Correspondence For at tjenesteeiere skal kunne vite om meldinger er lest og evt. bekreftet av mottaker leverer Altinn regelmessig informasjon om dette til de enkelte tjenesteeiere. Tjenesteeiere som benytter nytt grensesnitt for innsending av meldinger til Altinn, vil også få bekreftelser tilsendt på nytt format. Informasjonen leveres i batcher på FTP/SFTP protokoll, og xml formatet på filen er i henhold til schemas.altinn.no.services.intermediary.correspondence.confirmations.2009.10.xml.\nTjenesteeier må etablere FTP/SFTP område som Altinn kan aksessere vha. avtalt brukernavn og passord.\nBekreftelsene som sendes til tjenesteeier fra Altinn er i henhold til correspondence.confirmations.2010.10.xsd formatet. Xsd’en ligger som et separat vedlegg til dette dokumentet.\nNår data sendes ut fra Altinn lages en kvittering i Altinn som forteller at data er sendt til tjenesteeier.\nTabellen under beskriver elementer og attributter relevante for meldingsbekreftelser:\n   Element Beskrivelse     CorrespondenceConfirmations Rot element for rapport over leste og bekreftede meldinger i Altinn siden forrige batch   SequenceNo Sekvensnummer for denne forsendelsen (valgfritt). Hvis satt må verdien være ett nummer høyere enn sekvensnummeret ved forrige forsendelse. Hvis ikke verdien er økt med 1vil forsendelsen feile   PreviousSequenceNo Sekvensnummer for forrige forsendelse (valgfritt, men må med hvis SequenceNo er satt)   SystemUserCode Kode som representerer en system bruker, f.eks. SKD-PSA, hvor de tre første tegnene angir tjenesteeier (påkrevd) og de etter understreken representerer avdeling/system hos tjenesteeieren (valgfritt)   ShipmentDateTime Dato som forteller når meldingsbekreftelsen ble sendt   CountConfirmationsInShipment Antall bekreftelser i forsendelsen   CorrespondenceConfirmations.Confirmation En lest/godkjent melding   ServiceCode Angir den unike tjenestekoden., f.eks. \u0026ldquo;PSA\u0026rdquo;   ServiceEdition Tjenesteutgavekode, f.eks. \u0026ldquo;2009\u0026rdquo; (valgfritt). Hvis det ikke settes vil siste utgave benyttes   Reportee Fødselsnummer til bruker som har bekreftet melding   CorrespondenceReference Tjenesteeiers referanse på meldingen   CorrespondenceConfirmations.Confirmation.Read Bekreftelse på at melding er åpnet/lest   ReadDateTime Tidspunkt for når melding ble bekreftet lest   CorrespondenceConfirmations.Confirmation.Confirmed Beskjed om at bruker har bekreftet meldingen   UserSSN Brukerens fødselsnummer   ConfirmedDateTime Bekreftings tidspunkt   ConfirmedRoleList Brukerens rolleliste på godkjennings tidspunktet   AuthenticationMethod Brukerens login nivå ved godkjenning    10.4.2.2 AltUtConfirmationBatch For at tjenesteeiere skal kunne vite om meldinger er lest og evt. bekreftet av mottaker leverer Altinn regelmessig informasjon om dette til de enkelte tjenesteeiere. Tjenesteeiere som benytter gammelt grensesnitt for innsending av meldinger til Altinn (AltUt.xsd), vil også få bekreftelser tilsendt på gammelt format. Informasjonen leveres i batcher på FTP/SFTP protokoll, og xml formatet på filen er i henhold til AltUtConfirmationBatch.xsd\nTjenesteeier må etablere FTP/SFTP område som Altinn kan aksessere vha. avtalt brukernavn og passord.\nNår data sendes ut fra Altinn lages en kvittering i Altinn som forteller at data er sendt til tjenesteeier.\n   Element Beskrivelse     AltUtConfirmationBatch Rot note. Rapport over leste og bekreftede meldinger i Altinn siden forrige batch   batchReference Referansenummeret til batchen   previousReference Referansenummeret til den forrige batchen som ble sendt   receiverReference Tjenesteeiersystemet som mottar bekreftelsene   timestamp Tidsstempelet når batchen ble generert   confirmationsInBatch Antall confirmations som finnes i batchen   AltUtConfirmationBatch.AltUtConfirmations Samling av lest/bekreftet elementer   AltUtConfirmationBatch.AltUtConfirmations.Confirmation En lest/godkjent Altut melding   participantId Organisasjonsnummer/fødselsnummer til den som meldingen ble sendt inn til   shortName Som for AltUt meldingen benyttes dette feltet til tjenestekode og tjenesteutgavekode. Format xxxxxx_yyyyyy, hvor \u0026ldquo;xxxxxx\u0026rdquo; angir tjenestekode, mens \u0026ldquo;yyyyyy\u0026rdquo; angir tjenesteutgavekode.   messageReference Kan benyttes til å unikt referere en melding innenfor samme shortName   AltUtConfirmationBatch.AltUtConfirmations.Confirmation.Read Informasjon om lesing av den aktuelle Altut meldingen   AltUtConfirmationBatch.AltUtConfirmations.Confirmation.Read .ReadDateTime Tidsstempel for når meldingen er lest   AltUtConfirmationBatch.AltUtConfirmations.Confirmation.Confirmed Informasjon om bekrefting av den aktuelle Altut meldingen   participantId Fødselsnummeret til første personen som har bekreftet meldingen   AltUtConfirmationBatch.AltUtConfirmations.Confirmation.Confirmed ConfirmedDateTime Tidsstempel for når meldingen er bekreftet   AltUtConfirmationBatch.AltUtConfirmations.Confirmation.Confirmed ConfirmationRoleList Space-separert liste med rollene som brukeren som bekreftet meldingen har   AltUtConfirmationBatch.AltUtConfirmations.Confirmation.Confirmed.LoginMethod Innloggingsnivået som en brukeren hadde da vedkommende bekreftet meldingen. Denne kan være: 1 - Innlogging med bare passord, 2 - Innlogging med pinkode, 4 - Innlogging med PKI.   AltUtConfirmationBatch.Signature Element som inneholder signaturinformasjon. Elementet er ikke obligatorisk, og er ikke i bruk    10.4.2.3 CorrespondenceUsageData Tjenesteeier vil kunne definere i tjenesteutviklingen av en meldingstjeneste å motta en rapport over ikke leste, leste og bekreftede meldinger etter et gitt antall dager etter at meldingen er sendt ut. Informasjonen kan konfigureres til å overleveres via FTP/SFTP ved enten at Altinn leverer til tjenesteeier, eller at tjenesteeier henter fra Altinn.\nFølgende er et eksempel på formatet informasjonen vil bli levert på:\nCorrespondenceUsageData\n\u0026lt;?xml version=\u0026quot;1.0\u0026quot; encoding=\u0026quot;utf-8\u0026quot; ?\u0026gt; \u0026lt;CorrespondenceUsageData xmlns=\u0026quot;http://schemas.altinn.no/services/intermediary/correspondence/usagedata/2009/10\u0026quot;\u0026gt; \u0026lt;ShipmentDateTime\u0026gt;2010-08-26T08:02:11\u0026lt;/ShipmentDateTime\u0026gt; \u0026lt;CorrespondenceUsage\u0026gt; \u0026lt;Service\u0026gt; \u0026lt;ServiceOwnerCode\u0026gt;SERVICEOWNER\u0026lt;/ServiceOwnerCode\u0026gt; \u0026lt;ServiceName\u0026gt;Service Name\u0026lt;/ServiceName\u0026gt; \u0026lt;ServiceEdition\u0026gt; \u0026lt;ServiceEditionID\u0026gt;xxxx\u0026lt;/ServiceEditionID\u0026gt; \u0026lt;ServiceEditionVersion\u0026gt; \u0026lt;ServiceEditionVersionName\u0026gt;ABC\u0026lt;/ServiceEditionVersionName\u0026gt; \u0026lt;Correspondence\u0026gt; \u0026lt;ReporteeID\u0026gt;[SSN/ORG]\u0026lt;/ReporteeID\u0026gt; \u0026lt;CorrespondenceStatusType\u0026gt;[Status]\u0026lt;/CorrespondenceStatusType\u0026gt; \u0026lt;SentCorrespondenceDatetime\u0026gt;[Time]\u0026lt;/SentCorrespondenceDatetime\u0026gt; \u0026lt;/Correspondence\u0026gt; \u0026lt;Correspondence\u0026gt;...\u0026lt;/Correspondence\u0026gt; \u0026lt;/ServiceEditionVersion\u0026gt; \u0026lt;/ServiceEdition\u0026gt; \u0026lt;/Service\u0026gt; \u0026lt;Service\u0026gt;...\u0026lt;/Service\u0026gt; \u0026lt;/CorrespondenceUsage\u0026gt; \u0026lt;/CorrespondenceUsageData\u0026gt;  11 Feilhåndtering Altinn returnerer feilkoder hvis noe går galt. For å formidle feilsituasjonen benyttes en SOAP Fault med en egen kontrakt som inneholder felter som identifiserer feilen og gir en tekstelig feilmelding.\n11.1 SOAP Fault Altinn benytter en SOAP fault til å returnere feilmeldinger for en web service. Denne fault meldingen er i henholdt til AltinnFault kontrakten definert i WSDL for alle tjenestene. Kontrakten vil angi en feilkode og en feilmelding, henholdsvis ErrorID og AltinnErrorMessage, for å definere feilsituasjoner.\nEksempel på en feilmelding fra Altinn:\n\u0026lt;s:Envelope xmlns:s=\u0026quot;http://schemas.xmlsoap.org/soap/envelope/\u0026quot;\u0026gt; \u0026lt;s:Body\u0026gt; \u0026lt;s:Fault\u0026gt; \u0026lt;faultcode\u0026gt;s:Client\u0026lt;/faultcode\u0026gt; \u0026lt;faultstring xml:lang=\u0026quot;nb-NO\u0026quot;\u0026gt;An errror occurred\u0026lt;/faultstring\u0026gt; \u0026lt;detail\u0026gt; \u0026lt;AltinnFault xmlns=\u0026quot;http://www.altinn.no/services/common/fault/2009/10\u0026quot; xmlns:i=\u0026quot;http://www.w3.org/2001/XMLSchema-instance\u0026quot;\u0026gt; \u0026lt;AltinnErrorMessage\u0026gt;Incorrect username/password/pin given for user\u0026lt;/AltinnErrorMessage\u0026gt; \u0026lt;AltinnExtendedErrorMessage\u0026gt;No information available\u0026lt;/AltinnExtendedErrorMessage\u0026gt; \u0026lt;AltinnLocalizedErrorMessage\u0026gt;Incorrect username/password/pin given for user\u0026lt;/AltinnLocalizedErrorMessage\u0026gt; \u0026lt;ErrorGuid\u0026gt;ed4c23c0-7de6-4343-a442-89bd3a6f38d8\u0026lt;/ErrorGuid\u0026gt; \u0026lt;ErrorID\u0026gt;989\u0026lt;/ErrorID\u0026gt; \u0026lt;UserGuid\u0026gt;-no value-\u0026lt;/UserGuid\u0026gt; \u0026lt;UserId/\u0026gt; \u0026lt;/AltinnFault\u0026gt; \u0026lt;/detail\u0026gt; \u0026lt;/s:Fault\u0026gt; \u0026lt;/s:Body\u0026gt; \u0026lt;/s:Envelope\u0026gt;  11.2 Feilkoder Listen under angir de generelle feilkodene som benyttes. Disse er først og fremst benyttet i sammenheng med autentisering og autorisering og benyttes derfor av flere av tjenestene i Altinn. Feilkoder mer spesifikke for operasjonene er listet opp under de respektive operasjonene i kapittel 9 Grensesnitt – web services.\n   Feilkode Beskrivelse     0 Denne feilen oppstår i følgende tilfeller, se tekst i AltinnErrorMessage for mer informasjon: En nødvendig parameter for autentisering/autorisering mangler i forespørsel, Systemet er ikke autorisert for denne operasjonen på vegne av angitt avgiver, Operasjonen krever høyere autentiseringsnivå enn mulig og må derfor utføres i portalen   5 Denne feilen oppstår i følgende tilfeller, se tekst i AltinnErrorMessage for mer informasjon: Ikke mulig å autorisere forespørsel basert på sendte parametere – verifiser gyldigheten/format, Autentisering av systemet vha sertifikat feilet pga feil brukernavn/passord, Systemet autentisert ved sertifikat er midlertidig låst ute, Systemet er ikke autorisert til å kalle tjenesten fra innkommende IP adresse, Systemet er ikke autorisert til å kalle forespurt ressurs, feil tjenesteeier,Angitt system ID er ikke gyldig – skal være et nummer   989 Denne feilen oppstår i følgende tilfeller, se tekst i AltinnErrorMessage for mer informasjon: Forespørsel mangler system ID eller system passord, Autentisering av systemet (uten sertifikat) feilet pga feil brukernavn/passord, Systemet (ikke sertifikat) er midlertidig låst ute    Hvis det ikke kommer en forståelig feilmelding, send en henvendelse til support@altinn.no. Legg med tidspunkt for innsending og systemUserName, den unike koden (ErrorGuid) samt beskrivelse av hva som har skjedd.\n13 Vedlegg A: Feilkoder i Altinn |Feilkode||Beskrivelse (eng)| |\u0026mdash;\u0026mdash;\u0026ndash;|\u0026mdash;\u0026mdash;\u0026ndash;| |Common Error Codes 1 – 1000|| | GeneralError | 0 | Denotes a general error | | NullObjectReference | 1 | Denotes an error caused by a null reference | | MissingRight | 14 | Authorization error - Subject does not have required right | | HookActivationFailed | 90 | Error given when hook activation fails | | IncorrectLevel | 17 | User is not authenticated on the correct level | | RequiresLevel1 | 18 | Requires level 1 | | RequiresLevel2 | 19 | Requires level 2 | | RequiresLevel3 | 20 | Requires level 3 | | RequiresLevel4 | 21 | Requires level 4 | | ExternalSystemAuthentication | 989 | External system authentication failed| |Common Error Codes 10000 - 20000||| |AccessDenied|10000| Database error - Access denied| |Hook Error Codes 20001 - 21000||| |ServiceCannotBeStarted|20001| Hook error - Service cannot be started| |ServiceCannotBeStartedForCurrentReportee |20002 | Hook error - Service cannot be started for the current reportee| |NoValidSubscriptionData |20003|| |NoValidReporteeAgeAndStatus |20004|| |TUL Error Codes 21001 - 23000|| | ServiceEditionCodeAlreadyExists | 21001 | TUL Error - Service edition code exists already | | FileNotFound | 21002 | TUL Error - File not found | | DataAreaTypeNotFound | 21003 | TUL Error - Data area type not found | | RootNodeNotFound | 21004 | TUL Error - Root node not found | | DoesNotExists | 21005 | TUL Error - (something) does not exist | | NotImpersonatedOrAuthorised | 21006 | TUL Error - User is not impersonated or authorized | | EntrySiteDoesNotExists | 21007 | TUL Error - Entry site does not exist | | IDZeroORNegative | 21008 | TUL Error - ID is zero or negative | | ServiceEditionInProduction | 21009 | TUL Error - Service edition is already in production | | RequiredFieldNotSupplied | 210010 | TUL Error - Required field is not supplied | | CannotBeNull | 210011 | TUL Error - (something) cannot be null | | UserNotAuthorized | 210012 | TUL Error - User is not authorized | | IncorrectClientConfiguration | 210013 | TUL Error - Incorrect client configuration | | IncorrecctArguement | 210014 | TUL Error - Incorrect argument | | GetDeploymentPackagesFailed | 210015 | TUL Error - GetDeploymentPackages failed | | GetDeploymentPackageFailed | 210016 | TUL Error - GetDeploymentPackage failed | | ServiceEditionValidationFailed | 210017 | TUL Error - Service edition validation failed | | DeploymentPackageCreationFailed | 210018 | TUL Error - Deployment package creation failed | | ServiceEditionMigrationFailed | 210019 | TUL Error - Service edition migration failed | | UnableToReachSBLService | 210020 | TUL Error - Unable to reach SBL service | | CallToSBLWCFOperationFailed | 210021 | TUL Error - Call to SBL WCF operation failed | | UnexpectedErrorDuringMigration | 210022 | TUL Error - Unexpected error during migration | | ValueNotDefinedInEnum | 210023 | TUL Error - Value is not defined in enum | | BEObjectCannotBeNull | 210024 | TUL Error - Business Entity object cannot be null | | XsdNotFoundOrXsnNotUploaded | 22985 | TUL Error - XSD not found or XSN not uploaded | | ServiceDoesNotExist | 22986 | TUL Error - Service does not exist | | ServiceHasAlreadyBeenDeleted | 22987 | TUL Error - Service has already been deleted | | ServiceEditionHasAlreadyBeenDeleted | 22988 | TUL Error - Service edition has already been deleted | | ServiceEditionHasBeenDeleted | 22989 | TUL Error - Service edition has been deleted | | ServiceHasBeenDeleted | 22990 | TUL Error - Service has been deleted | | ServiceOwnerUrlAlreadyExists | 22991 | TUL Error - Service owner URL already exists | | UserDoesNotHaveRightsToCreateSites | 22992 | TUL Error - User does not have rights to create sites | | UnexpectedErrorInRetrievingGuid | 22993 | TUL Error - Unexpected error in retrieving GUID | | DataRetrievalFailed | 22994 | TUL Error - Data retrieval failed | | UnexpectedErrorInSettingStatus | 22995 | TUL Error - Unexpected error in setting status | | SiteCreationFailed | 22996 | TUL Error - Site creation failed | | SuppliedGuidIsNullOrEmpty | 22997 | TUL Error - Supplied GUID is null or empty | | DuplicateXsdInFormSet | 22998 | TUL Error - Duplicate XSD in formset | | ServiceShortNameExists | 22999 | TUL Error - Service short name already exists | | ServiceEditionShortNameAlreadyExists | 210025 | TUL Error - Service edition short name already exists | | ServiceCodeAlreadyExists | 210026 | TUL Error - Service code already exists | | SpecificationDataMissing | 210027 | TUL Error - Specification data missing | | NoAuthorizationRulesDefined | 210028 | TUL Error - No authorization rules have been defined for this service edition. | | RoleNameAreadyExists | 210029 | TUL Error - No authorization rules have been defined for this service edition. | | SBLOperationTimedOut | 210030 | TUL Error - Migration timed out |Integration Error Codes 30001 - 31000|| | NotAuthorizedForReportee | 30001 | Integration error - Not authorized for reportee | | NotAuthorizedForSignature | 30002 | Integration error - Not authorized for signature | | NotAValidService | 30003 | Integration error - Not a valid service | | ArgumentNullException | 30004 | Integration error - Argument is null | | NotAValidServiceOwnerCode | 30005 | Integration error - Not a valid service owner code | | InValidServiceEditionVersion | 30006 | Integration error - Invalid service edition version | | FileNotExist | 30007 | Integration error - File does not exist | |SBL External Error Codes 40001 - 41000|| | LanguageCodeCannotBeNull | 40001 | SBL External error - Language code cannot be null | | MessageBodyCannotBeNull | 40002 | SBL External error - Message body cannot be null | | MessageTitleCannotBeNull | 40003 | SBL External error - Message title cannot be null | | MessageSummaryCannotBeNull | 40004 | SBL External error - Message summary cannot be null | | ExternalReferenceCannotBeNull | 40005 | SBL External error - External reference cannot be null | | ExternalServiceCodeCannotBeNull | 40006 | SBL External error - External service code cannot be null | | ReporteeCannotBeNull | 40007 | SBL External error - Reportee cannot be null | | SystemUserCodeCannotBeNull | 40008 | SBL External error - System user code cannot be null | | CorrespondenceCanNotBeDeleted | 40009 | SBL External error - Correspondence cannot be deleted | | ElementCanNotBeDeleted | 40010 | SBL External error - Element cannot be deleted | | PersonHasStrictlyConfidentialAddress | 40011 | SBL External error - Person has strictly confidential address | | FormDataIsNotValid | 40012 | SBL External error - Form data is not valid | | ServiceIsNotValid | 40013 | SBL External error - Service is not valid | | InValidNumberOfReceipents | 40014 | SBL External error - Invalid number of receipients | | InvalidFormatSmsAndEmail | 40015 | SBL External error - Invalid SMS | | InvalidSSN | 40016 | SBL External error - Invalid SSN | | ReceiverAddressNull | 40017 | No receiver address | | ControlWorkflowSentComplete | 40018 | Control Workflow Sent Complete | | InvalidServiceType | 40019 | Invalid Service Type | | InvalidEmailAddressForFromAddress | 40020 | The From Address must be skipped or contain a valid email address. | |Authorization Error Codes 50001 - 51000|| | DelegateRolesBEInputInvalid | 50001 | This error code is used when the party a user wants to delegate a role or right to, does not exist. | | GeoLocationIsMandatory | 50002 | This is used when geo location has not been supplied | | InvalidGeoLocation | 50003 | This is used when geo location format is not correct | | CoveredByUserIDRequired | 50004 | This is used when delegation type is SSN,UserName and CoveredByUserID has not been supplied | | CoveredByPartyIDRequired | 50005 | This is used when delegation type is Organization and CoveredByPartyID has not been supplied | | CannotDelegateToEnterpriseCertifiedUser | 50006 | This is used when roles or rights of an enterprise/user not represented by an enterprise certified user is being delegated to an enterprise certified user. | | CannotDelegateANonDelegatableRole | 50007 | This is used when someone is trying to delegate a non-delegatable role | | InvalidOrgNumber | 50008 | When the OrgNo is not proper or does not exist | | InvalidUserDetails | 50009 | When the SSN or Last Name or UserName are not valid or a user with the combination does not exist | | UserDoesNotHaveProfessionalConsent | 50010 | When user does not have professional consent | | InvalidGeoLocationFormat | 50011 | Geo location is in incorrect format | | CannotDelegateDenyOnOtherResources | 50012 | Cannot delegate Deny type right on resources other than reporteeElement. | | RoleTypeNameNotUnique | 50013 | RoleTypeName is not unique | | RoleTypeBeenDelegated | 50014 | RoleType has been Delegated | | RoleTypeLanguagesNotValid | 50015 | RoleTypeLanguagesNotValid | | DeleteRolesAndRightsFailure | 50016 | DeleteRolesAndRightsFailure | | SelfDelegationIsNotAllowed | 50017 | Delegation to self is not allowed | | RoleTypeCodeNotMigrated | 50018 | RoleTypeCodeNotMigrated | | ResourceHasNoRule | 50019 | RuleHasNoRight | | Collaboration Service Error Codes 60001 - 70001 | | | | InvalidCaseID | 60001 | Invalid Case ID | | InvalidCaseIdentifier | 60002 | Invalid Service Code and Service Edition Code Combination and Invalid CaseID | | InvalidLanguage | 60003 | Invalid Language ID | | ExceededCharacterLimit | 60004 | Character Limit Exceeded. | | InvalidReporteeElement | 60005 | Invalid Reportee Element | | UnarchivedCorrespondenceException | 60006 | For correspondences services which have not been archived | | UnarchivedReportingServicesException | 60007 | For Form Task services which have not been archived | | ReporteeElementInAnotherCase | 60008 | For Reportee element is already associated to another case | | InvalidServiceInCollaborationServiceSet | 60009 | For A Service, not available in Collaboration Service Set | | InvalidReporteeID | 60010 | Invalid Reportee ID | | InvalidNoticeTemplateID | 60011 | Invalid NoticeTemplateID | | InvalidReporteeNumber | 60012 | Mandatory ReporteeNumber | | ArchivedOrDeletedCaseID | 60013 | Case is already archived or deleted | | ArchivedCaseID | 60014 | Case is archived.So no processing allowed. | | DeletedCaseID | 60015 | Case is Deleted. So no processing allowed. | | InvalidElement | 60016 | The element is unavailable. | | UnassociatedElement | 60017 | The element is not associated with any Case. | | DeletedElement | 60018 | The element is deleted. | | ArchivedElement | 60019 | The element is archived. | | InvalidNoticeTokenID | 60020 | Invalid notice Token | | InvalidNoticeTokenValue | 60021 | Invalid notice Token Value | | InvalidEventIdentifier | 60022 | Invalid Event Identifiers | | InvalidEventName | 60023 | Invalid Event Name | | UnauthorizedServiceOwner | 60024 | Service Owner is unauthorized | | MissingNoticeTokens | 60025 | Missing Notice Tokens | | WorkFlowValidationException | 60026 | Received WorkFlow Exception | | WorkFlowInitiationException | 60027 | Workflow Initiation Exception | | MissingWorkflowInstance | 60028 | Missing Workflow Instance | | WorkFlowGenericException | 60029 | WorkFlow Generic Exception | | EventDeliveryFailed | 60030 | Event Delivery Failed | | MissingEventName | 60031 | Missing Event Name | | UnavailableStateMachineEvents | 60032 | Unavailable State Machine Events | | SMDI Error Codes - 70001 - 80001 | | | | IncorrectService | 70001 | Incorrect service details | | IncorrectWorkFlow | 70002 | Incorrect process work flow details | | IncorrectServiceEditionVersion | 70003 | Incorrect Service Edition Version details | | IncorrectEventHook | 70004 | Incorrect Event Hook details | | IncorrectReportingService | 70005 | Incorrect Reporting Service details | | IncorrectCorrespondenceService | 70006 | Incorrect Correspondence Service details | | IncorrectLookupService | 70007 | Incorrect Lookup Service details | | IncorrectCollaborationReUse | 70008 | Incorrect Collaboration Service - ReUseData details | | IncorrectFormset | 70009 | Incorrect Form Set details | | IncorrectLogicalForm | 70010 | Incorrect Form Set details | | IncorrectSplitData | 70011 | Incorrect Split of data details | | IncorrectTranslation | 70012 | Incorrect Translation details | | IncorrectDeployForm | 70013 | Incorrect FormTemplate uploaded | | IncorrectSecurity | 70014 | Incorrect Roles \u0026amp; Rights details | | IncorrectCollaborationServices | 70015 | Incorrect Collaboration Service - ServicesInCollaboration details | | IncorrectCollaborationStateMachine | 70016 | Incorrect Collaboration Service - StateMachine details | | IncorrectStyleSheet | 70017 | Incorrect StyleSheet details | | IncorrectPIImages | 70018 | Incorrect StyleSheet - Images details | | IncorrectPI | 70019 | Incorrect PI details |\n14 Vedlegg B: Kodeeksempler SPI. ** 14.1 Dekryptering av kryptert symmetrisk nøkkel.** Dette eksemplet henter ut privat nøkkel fra keystore basert på keyname og dekrypterer den symmetriske nøkkelen ved hjelp av RSA algoritmen. Kodeeksemplet er basert på C#.\n /// \u0026lt;summary\u0026gt; /// Method to retrieve certificate from KeyStore /// \u0026lt;/summary\u0026gt; /// \u0026lt;param name=\u0026quot;thumbprint\u0026quot;\u0026gt;\u0026lt;/param\u0026gt; /// \u0026lt;param name=\u0026quot;storeName\u0026quot;\u0026gt;\u0026lt;/param\u0026gt; /// \u0026lt;param name=\u0026quot;storeLocation\u0026quot;\u0026gt;\u0026lt;/param\u0026gt; /// \u0026lt;returns\u0026gt;\u0026lt;/returns\u0026gt; public static X509Certificate2 GetCert(string thumbprint, StoreName storeName, StoreLocation storeLocation) { // The following code gets the cert from the keystore X509Store store = new X509Store(storeName, storeLocation); store.Open(OpenFlags.ReadOnly); X509Certificate2Collection certCollection = store.Certificates.Find(X509FindType.FindByThumbprint, thumbprint, false); X509Certificate2Enumerator enumerator = certCollection.GetEnumerator(); X509Certificate2 cert = null; while (enumerator.MoveNext()) { cert = enumerator.Current; } return cert; } /// \u0026lt;summary\u0026gt; /// Decrypt the symmetric key encrypted with certificate. This method will /// retrive the private key based on the thumprint given for certificate /// \u0026lt;/summary\u0026gt; /// \u0026lt;param name=\u0026quot;sender\u0026quot;\u0026gt;\u0026lt;/param\u0026gt; /// \u0026lt;param name=\u0026quot;e\u0026quot;\u0026gt;\u0026lt;/param\u0026gt; private void button1_Click(object sender, EventArgs e) { string thumbprint = soCertificateThumbPrint_TB.Text; X509Certificate2 cert = GetCert(thumbprint, StoreName.My, StoreLocation.LocalMachine); byte[] symmetricKey = Convert.FromBase64String(soEncryptedSymmetricKeyWithCertTB.Text); ////Encrypt the symmetric key with certificate RSACryptoServiceProvider rsa = (RSACryptoServiceProvider)cert.PrivateKey; byte[] decryptedKey = rsa.Decrypt(symmetricKey, false); soDecryptedSymmetricKeyTB.Text = Convert.ToBase64String(decryptedKey) } ##### 14.2 Dekryptering av data. Dette eksemplet viser dekryptering av data kryptert med den AES algoritmen. ` /// \u0026lt;summary\u0026gt; /// Method to Setup the AESCipher /// \u0026lt;/summary\u0026gt; private void SetupAesCipher(byte[] symmetricKey, bool isXmlEncryption) { if (_aesCipher == null) { _aesCipher = new AesManaged(); _aesCipher.KeySize = this._keyLengthInBits; /// BlockSize: 128-bit == 16 bytes, which is what you get with the AES from IBM's JCE provider. // 128-bit is the default for RijndaelManaged _aesCipher.BlockSize = 128; // can also specify 256 _aesCipher.Mode = CipherMode.CBC; //If the data is Xml, padding mode is ISO10126 aesCipher.Padding = isXmlEncryption ? PaddingMode.ISO10126 : PaddingMode.PKCS7; } byte[] key = new byte[16]; byte[] iv = new byte[16]; System.Buffer.BlockCopy(symmetricKey, 0, key, 0, 16); System.Buffer.BlockCopy(symmetricKey, 16, iv, 0, 16); _aesCipher.IV = iv; _aesCipher.Key = key; } /// \u0026lt;summary\u0026gt; /// Decrypt and message and return it as string /// \u0026lt;/summary\u0026gt; /// \u0026lt;param name=\u0026quot;cipherText\u0026quot;\u0026gt;\u0026lt;/param\u0026gt; /// \u0026lt;param name=\u0026quot; isXmlEncryption\u0026quot;\u0026gt;true if data is Xml\u0026lt;/param\u0026gt; /// \u0026lt;returns\u0026gt;\u0026lt;/returns\u0026gt; public string DecryptMessageToString(byte[] cipherText, bool isXmlEncryption) { try { byte[] plainText = DecryptMessage(cipherText, isXmlEncryption); return System.Text.Encoding.ASCII.GetString(plainText); } catch { return \u0026quot;(garbled)\u0026quot;; } } /// \u0026lt;summary\u0026gt; /// Decrypt message /// \u0026lt;/summary\u0026gt; /// \u0026lt;param name=\u0026quot;cipherText\u0026quot;\u0026gt;\u0026lt;/param\u0026gt; /// \u0026lt;param name=\u0026quot; isXmlDecryption \u0026quot;\u0026gt;true if data is Xml\u0026lt;/param\u0026gt; /// \u0026lt;returns\u0026gt;\u0026lt;/returns\u0026gt; public byte[] DecryptMessage(byte[] cipherText, bool isXmlDecryption) { byte[] plainText; ICryptoTransform transform = _aesCipher.CreateDecryptor(); if (isXmlDecryption) { //create another array to copy the data to be decrypted leaving the IV (which is first 16 bytes) byte[] cipherBytes = new byte[cipherText.Length - _aesCipher.IV.Length]; // copy the data to be decrypted which is from 16 System.Buffer.BlockCopy(cipherText, _aesCipher.IV.Length, cipherBytes, 0, cipherBytes.Length); //decrypt the data plainText = transform.TransformFinalBlock(cipherBytes, 0, cipherBytes.Length); } else { plainText = transform.TransformFinalBlock(cipherText, 0, cipherText.Length); } return plainText; } /// Method that decrypts the data for Agency System based on the symmetric key that /// has been encrypted with RSA Algorithm /// \u0026lt;/summary\u0026gt; /// \u0026lt;param name=\u0026quot;sender\u0026quot;\u0026gt;\u0026lt;/param\u0026gt; /// \u0026lt;param name=\u0026quot;e\u0026quot;\u0026gt;\u0026lt;/param\u0026gt; private void soDecryptData_Click(object sender, EventArgs e) { Byte[] symmetricKey = Convert.FromBase64String(soDecryptedSymmetricKeyTB.Text); SetupAesCipher(symmetricKey); soDecryptedSensitiveData_TB.Text = DecryptMessageToString(Convert.FromBase64String(soEncryptedSPIData_TB.Text)); }  "
},
{
	"uri": "https://altinn.github.io/docs/api/sluttbruker-api/meldinger/hente/",
	"title": "Hente meldinger",
	"tags": [],
	"description": "API&#39;er for å hente meldinger.",
	"content": " 1. Hent ut liste med meldinger og finn lenker Det sentrale elementet som tilgjengeliggjøres i APIet er Message. Den representerer et element i sluttbrukerens meldingsboks i Altinn og kan være av typen FormTask og Correspondence og ha ulik status alt etter hvilken tilstand elementet er i.\nVed å gå til rot-ressursen https://www.altinn.no/api/my/messages/ er det mulig å navigere seg fram til elementene i brukerens meldingsboks.\nSend følgende GET-forespørsel mot APIet, og du vil få returnert brukerens innhold i meldingsboksen (resultatet er begrenset til de 50 første elementene, se punkt 7 under for informasjon om hvordan du får fram de 50 neste).\nGET https://www.altinn.no/api/my/messages HTTP/1.1 Host: www.altinn.no Accept: application/hal+json ApiKey: myKey  Ved korrekt autentisering vil du få følgende svar fra APIet:\n{ \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/my/messages\u0026quot; }, \u0026quot;find\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/my/messages/{MessageId}\u0026quot;, \u0026quot;isTemplated\u0026quot;: true } }, \u0026quot;_embedded\u0026quot;: { \u0026quot;messages\u0026quot;: [ { \u0026quot;MessageId\u0026quot;: \u0026quot;a385107\u0026quot;, \u0026quot;Subject\u0026quot;: \u0026quot;Vedr. saksnr 201301840, journalnr 2013021622 \u0026quot;, \u0026quot;Status\u0026quot;: \u0026quot;Ulest\u0026quot;, \u0026quot;LastChangedDateTime\u0026quot;: \u0026quot;2013-11-11T13:41:01.703\u0026quot;, \u0026quot;LastChangedBy\u0026quot;: \u0026quot;Kommunene\u0026quot;, \u0026quot;ServiceOwner\u0026quot;: \u0026quot;Kommunene\u0026quot;, \u0026quot;Type\u0026quot;: \u0026quot;Correspondence\u0026quot;, \u0026quot;MessageSender\u0026quot;: \u0026quot;Brønnøy Kommune\u0026quot;, \u0026quot;ServiceCode\u0026quot;: \u0026quot;2479\u0026quot;, \u0026quot;ServiceEdition\u0026quot;: 2, \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/my/messages/a385107\u0026quot; }, \u0026quot;metadata\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/metadata/correspondence/2479/2\u0026quot; }, \u0026quot;portalview\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/Pages....\u0026quot; } }, { \u0026quot;MessageId\u0026quot;: \u0026quot;a385103\u0026quot;, \u0026quot;Subject\u0026quot;: \u0026quot;Søknad om tilskudd til lokale samlivskurs\u0026quot;, \u0026quot;Status\u0026quot;: \u0026quot;Utfylling\u0026quot;, \u0026quot;LastChangedDateTime\u0026quot;: \u0026quot;2013-11-11T13:39:22.817\u0026quot;, \u0026quot;LastChangedBy\u0026quot;: \u0026quot;HÅKON TRANA\u0026quot;, \u0026quot;ServiceOwner\u0026quot;: \u0026quot;Barne-, ungdoms- og familiedirektoratet\u0026quot;, \u0026quot;Type\u0026quot;: \u0026quot;FormTask\u0026quot;, \u0026quot;ServiceCode\u0026quot;: \u0026quot;3606\u0026quot;, \u0026quot;ServiceEdition\u0026quot;: 130731, \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/my/messages/a385103\u0026quot; }, \u0026quot;print\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/my/messages/a385103/print\u0026quot;, \u0026quot;mime-type\u0026quot;: \u0026quot;application/pdf\u0026quot; }, \u0026quot;metadata\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/metadata/formtask/3606/130731\u0026quot; }, \u0026quot;portalview\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/Pages.....\u0026quot; } } }, { \u0026quot;MessageId\u0026quot;: \u0026quot;a382871\u0026quot;, \u0026quot;Subject\u0026quot;: \u0026quot;RF-1015 Lønns- og trekkopplysninger for 2012\u0026quot;, \u0026quot;Status\u0026quot;: \u0026quot;Utfylling\u0026quot;, \u0026quot;LastChangedDateTime\u0026quot;: \u0026quot;2013-11-11T13:37:48.093\u0026quot;, \u0026quot;LastChangedBy\u0026quot;: \u0026quot;HÅKON TRANA\u0026quot;, \u0026quot;ServiceOwner\u0026quot;: \u0026quot;Skatteetaten\u0026quot;, \u0026quot;Type\u0026quot;: \u0026quot;FormTask\u0026quot;, \u0026quot;ServiceCode\u0026quot;: \u0026quot;2802\u0026quot;, \u0026quot;ServiceEdition\u0026quot;: 2203, \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/my/messages/a382871\u0026quot; }, \u0026quot;print\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/my/messages/a382871/print\u0026quot;, \u0026quot;mime-type\u0026quot;: \u0026quot;application/pdf\u0026quot; }, \u0026quot;metadata\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/metadata/formtask/2802/2203\u0026quot; }, \u0026quot;portalview\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/Pages......\u0026quot; } } ] } }  Message av typen FormTask En message med type FormTask representerer en innsendingstjeneste (skjema) som ligger i sluttbrukers meldingsboks. Status parameteren angir hvilken tilstand skjemaet har (\u0026ldquo;Utfylling\u0026rdquo;, \u0026ldquo;Signering\u0026rdquo;, \u0026ldquo;Sendt og arkivert\u0026rdquo;).\nMessage av typen Correspondence En message med type Correspondence representerer en meldingstjeneste (melding fra etat til bruker) som ligger i sluttbrukers meldingsboks. Status parameteren angir hvilken tilstand meldingen har (\u0026ldquo;Ulest\u0026rdquo;, \u0026ldquo;Lest\u0026rdquo;, \u0026ldquo;Arkivert\u0026rdquo;).\nLenker Hvert enkelt message-element inneholder en hash tabell \u0026ldquo;_links\u0026rdquo; som inneholder lenker til beslektede elementer. Det er viktig at din applikasjon aktivt bruker disse lenkene, og ikke hardkoder en rekke URL-er i applikasjonen.\n\u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/my/messages/a382871\u0026quot; }, \u0026quot;print\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/my/messages/a382871/print\u0026quot;, \u0026quot;mime-type\u0026quot;: \u0026quot;application/pdf\u0026quot; } \u0026quot;metadata\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/metadata/formtask/2802/2203\u0026quot; }, \u0026quot;portalview\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/Pages......\u0026quot; } }  Feltene i _links betyr følgende:\n self - URI til representasjon av den enkelte meldingen. print - URI til utskriftsversjonen av et arkivert skjema eller et skjema under utfylling. Er kun gyldig for message elementer av typen FormTask. For print relasjoner er \u0026ldquo;mime-type\u0026rdquo; i de fleste tilfeller \u0026ldquo;application/pdf\u0026rdquo; men vil i noen tilfeller også være \u0026ldquo;application/text-html\u0026rdquo;. metadata - URI til metadata ressurs for den aktuelle meldingen. portalview - URI til portalpresentasjonen av meldingen. Ved å følge lenken får brukeren opp Altinns presentasjon av elementet i portalen. I portalen vil ressursen vises i den status den befinner seg i (Utfylling, Signering, Arkivert).  _links kan bli utvidet med ytterligere relasjoner i fremtidige oppdateringer av APIet.\n2. Hent ut liste med enheter brukeren kan representere \u0026ldquo;Reportee\u0026rdquo; representerer en avgiver den påloggede brukeren har rettighet til å representere. Ved å gå til rot-ressursen https://www.altinn.no/api/reportees/ er det mulig å få en liste over alle avgivere en pålogget bruker kan representere og derfra navigere seg fram til en liste over elementene i avgiverens meldingsboks. Avgivere kan være andre personer (type=person) eller organisasjoner (type=organization) brukeren har rettighet til å representere. For avgivere av typen organization indikerer status parameteren om organisasjonen er slettet eller fremdeles aktiv.\nParameteren ReporteeID angir en unik id for aktuell avgiver, denne IDn kan benyttes i {my} parameteren i URL strukturen i APIet til å angi hvilken avgiver som operasjonen mot APIet utføres for. Eks. https://www.altinn.no/api/{reporteeID}/messages/.\nSend følgende GET-forespørsel mot APIet, og du vil få returnert en liste over avgivere brukeren har rettighet til å representere. Resultatet er begrenset til de 50 første elementene, se punkt 7 under for informasjon om hvordan du får fram de 50 neste)\nGET https://www.altinn.no/api/reportees HTTP/1.1 Host: www.altinn.no Accept: application/hal+json ApiKey: myKey  Ved korrekt autentisering vil du få følgende svar fra APIet:\n{ \u0026quot;_links\u0026quot;: { \u0026quot;find\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://altinn.no/api/reportees/{reporteeId}\u0026quot;, \u0026quot;isTemplated\u0026quot;: true }, \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://altinn.no/api/reportees\u0026quot; } }, \u0026quot;_embedded\u0026quot;: { \u0026quot;reportees\u0026quot;: [ { \u0026quot;ReporteeId\u0026quot;: \u0026quot;r50170460\u0026quot;, \u0026quot;Name\u0026quot;: \u0026quot;DALEKVAM OG BORGEN\u0026quot;, \u0026quot;Type\u0026quot;: \u0026quot;Foretak\u0026quot;, \u0026quot;OrganizationNumber\u0026quot;: \u0026quot;910672991\u0026quot;, \u0026quot;Status\u0026quot;: \u0026quot;Active\u0026quot;, \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://altinn.no/api/reportees/r50170460\u0026quot; }, \u0026quot;messages\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://altinn.no/api/r50170460/messages\u0026quot; } } }, { \u0026quot;ReporteeId\u0026quot;: \u0026quot;r50165842\u0026quot;, \u0026quot;Name\u0026quot;: \u0026quot;FOTLANDSVÅG OG VERMA REGNSKAP\u0026quot;, \u0026quot;Type\u0026quot;: \u0026quot;Foretak\u0026quot;, \u0026quot;OrganizationNumber\u0026quot;: \u0026quot;910454013\u0026quot;, \u0026quot;Status\u0026quot;: \u0026quot;Active\u0026quot;, \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://altinn.no/api/reportees/r50165842\u0026quot; }, \u0026quot;messages\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://altinn.no/api/r50165842/messages\u0026quot; } } }, { \u0026quot;ReporteeId\u0026quot;: \u0026quot;r50019105\u0026quot;, \u0026quot;Name\u0026quot;: \u0026quot;HÅKON TRANA\u0026quot;, \u0026quot;Type\u0026quot;: \u0026quot;Person\u0026quot;, \u0026quot;SocialSecurityNumber\u0026quot;: \u0026quot;05116602352\u0026quot;, \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://altinn.no/api/reportees/r50019105\u0026quot; }, \u0026quot;messages\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://altinn.no/api/r50019105/messages\u0026quot; } } } ] } }  Lenker fra reportee Hvert enkelt reportee-element har en hash tabell _links som inneholder lenker til beslektede elementer. Det er viktig at din applikasjon aktivt bruker disse lenkene, og ikke hardkoder en rekke URL-er i applikasjonen.\n_links\u0026quot;: { \u0026quot;messages\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/910926551/messages\u0026quot; } }  Feltene i _links betyr følgende:\n messages - URI til liste over meldinger i meldingsboksen til den aktuelle organisasjonen.  _links kan bli utvidet med ytterligere flere relasjoner i fremtidige oppdateringer av APIet.\n3. Hent enkelt melding med vedlegg For å hente ut en enkelt melding kan applikasjonen følge _self lenken som finnnes for hvert message element. Følgende request henter en enkelt melding fra brukerens meldingsboks.\nGET https://www.altinn.no/api/my/messages/a1507495 HTTP/1.1 Host: www.altinn.no Accept: application/hal+json ApiKey: myKey  Eksempel respons fra API for message av typen FormTask:\n{ \u0026quot;MessageId\u0026quot;: \u0026quot;a1507495\u0026quot;, \u0026quot;Subject\u0026quot;: \u0026quot;RF-1028 Selvangivelse for aksjeselskap mv. 2012, Anonym ASA\u0026quot;, \u0026quot;Status\u0026quot;: \u0026quot;Utfylling\u0026quot;, \u0026quot;LastChangedDateTime\u0026quot;: \u0026quot;2013-11-20T19:50:54.86\u0026quot;, \u0026quot;LastChangedBy\u0026quot;: \u0026quot;HÅKON TRANA\u0026quot;, \u0026quot;ServiceOwner\u0026quot;: \u0026quot;Skatteetaten\u0026quot;, \u0026quot;Type\u0026quot;: \u0026quot;FormTask\u0026quot;, \u0026quot;ServiceCode\u0026quot;: \u0026quot;2933\u0026quot;, \u0026quot;ServiceEdition\u0026quot;: 120806, \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altin.no/api/my/messages/a1507495\u0026quot; }, \u0026quot;print\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/my/messages/a1507495/print\u0026quot;, \u0026quot;mime-type\u0026quot;: \u0026quot;application/pdf\u0026quot; }, \u0026quot;metadata\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/metadata/formtask/2933/120806\u0026quot; }, \u0026quot;portalview\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/Pages......\u0026quot; }, \u0026quot;form\u0026quot;: [ { \u0026quot;href\u0026quot;: \u0026quot;https://tt02.altinn.basefarm.net/api/my/messages/a1507495/forms/760772\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;RF-1028 Selvangivelse for aksjeselskap mv. 2012, Anonym ASA\u0026quot; }, { \u0026quot;href\u0026quot;: \u0026quot;https://tt02.altinn.basefarm.net/api/my/messages/a1507495/forms/760773\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;RF-1016 Formue av skogseiendom 2012\u0026quot; } ], \u0026quot;attachment\u0026quot;: [ { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/my/messages/a1507495/attachments/282783\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;oppgaver.txt\u0026quot;, \u0026quot;encrypted\u0026quot;: false } ] } }  Eksempel respons fra API for message av typen Correspondence:\n{ \u0026quot;MessageId\u0026quot;: \u0026quot;a385571\u0026quot;, \u0026quot;Subject\u0026quot;: \u0026quot;Vedr. saksnr 201301840, journalnr 2013021622 \u0026quot;, \u0026quot;Status\u0026quot;: \u0026quot;Ulest\u0026quot;, \u0026quot;LastChangedDateTime\u0026quot;: \u0026quot;2013-11-26T13:58:44.34\u0026quot;, \u0026quot;LastChangedBy\u0026quot;: \u0026quot;Testdepartementet\u0026quot;, \u0026quot;ServiceOwner\u0026quot;: \u0026quot;Testdepartement\u0026quot;, \u0026quot;Type\u0026quot;: \u0026quot;Correspondence\u0026quot;, \u0026quot;MessageSender\u0026quot;: \u0026quot;Brønnøy Kommune\u0026quot;, \u0026quot;Summary\u0026quot;: \u0026quot;Vedr. saksnr 201301840, journalnr 2013021622\u0026quot;, \u0026quot;Body\u0026quot;: \u0026quot;\u0026lt;p\u0026gt;Vedr. saksnr 201301840, journalnr 2013021622\u0026lt;/p\u0026gt;\\n\u0026lt;p\u0026gt;Tillatelse til tiltak. Gnr 127 bnr 506, Skarelien 35.\u0026lt;/p\u0026gt;\\n \\n\u0026lt;p\u0026gt;Klikk under for å åpne dokumentet. \u0026lt;/p\u0026gt;\\n\u0026quot;, \u0026quot;ServiceCode\u0026quot;: \u0026quot;2479\u0026quot;, \u0026quot;ServiceEdition\u0026quot;: 2, \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/my/messages/a385571\u0026quot; }, \u0026quot;metadata\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/metadata/correspondence/2479/2\u0026quot; }, \u0026quot;portalview\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/Pages......\u0026quot; } \u0026quot;attachment\u0026quot;: [ { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/my/messages/a385571/attachments/187938\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;Tiltak_201301840.pdf\u0026quot;, \u0026quot;encrypted\u0026quot;: false } ] }  Message lenker Message-element inneholder en hash tabell _links som inneholder lenker til beslektede elementer.\n\u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://tt02.altinn.basefarm.net/api/my/messages/a1507495\u0026quot; }, \u0026quot;print\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://tt02.altinn.basefarm.net/api/my/messages/a1507495/print\u0026quot;, \u0026quot;mime-type\u0026quot;: \u0026quot;application/pdf\u0026quot; }, \u0026quot;metadata\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://tt02.altinn.basefarm.net/api/metadata/formtask/2933/120806\u0026quot; }, \u0026quot;portalview\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://tt02.altinn.basefarm.net/Pages/.......\u0026quot; }, \u0026quot;attachment\u0026quot;: [ { \u0026quot;href\u0026quot;: \u0026quot;https://tt02.altinn.basefarm.net/api/my/messages/a1507495/attachments/282783\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;oppgaver.txt\u0026quot;, \u0026quot;encrypted\u0026quot;: false } ], \u0026quot;form\u0026quot;: [ { \u0026quot;href\u0026quot;: \u0026quot;https://tt02.altinn.basefarm.net/api/my/messages/a1507495/forms/760772\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;RF-1028 Selvangivelse for aksjeselskap mv. 2012, Anonym ASA\u0026quot; }, { \u0026quot;href\u0026quot;: \u0026quot;https://tt02.altinn.basefarm.net/api/my/messages/a1507495/forms/760773\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;RF-1016 Formue av skogseiendom 2012\u0026quot; } ] }  Feltene i _links betyr følgende:\n self - URI til representasjon av den enkelte meldingen. print - URI til utskriftsversjonen av et arkivert skjema eller et skjema under utfylling. Er kun gyldig for message elementer av typen \u0026ldquo;FormTask\u0026rdquo;. For \u0026ldquo;print\u0026rdquo; relasjoner er \u0026ldquo;mime-type\u0026rdquo; i de fleste tilfeller \u0026ldquo;application/pdf\u0026rdquo; men vil i noen tilfeller også være \u0026ldquo;application/text-html\u0026rdquo;. metadata - URI til metadata ressurs for den aktuelle meldingen. portalview - URI til portalpresentasjonen av meldingen. Ved å følge lenken får brukeren opp Altinns presentasjon av elementet i Portalen (www.altinn.no). I portalen vil ressursen vises i den status den befinner seg i (Utfylling, Signering, Arkivert). form - URI til skjema knyttet til message av typen FormTask. attachment - URI til brukeropplastet vedlegg knyttet til skjema under utfylling eller vedlegg knyttet til melding fra etat. encrypted-parameter angir om vedlegget er kryptert.  _links kan bli utvidet med ytterligere flere relasjoner i fremtidige oppdateringer av APIet.\n4. Filtrering av liste OData kan brukes til filtrering, paging og sortering i lister av elementer av alle typer.\nLister i APIet er begrenset i kode til å maksimalt inneholde 50 elementer.\nPaging Det er mulig å utføre paging ved å sende med OData parameteren skip (for eksempel $skip=50).\nGET https://www.altinn.no/api/my/messages?$skip=50 HTTP/1.1 Host: www.altinn.no Accept: application/hal+json ApiKey: myKey  Filtrering Det er også mulig å filtrere listene som returneres basert på hvilke informasjonselementer de inneholder. For eksempel vil følgende request med parameterene $filter=ServiceOwner eq 'Skatteetaten'\u0026amp; $top=3 kun returnere de siste 3 meldinger fra Skatteetaten.\nGET https://www.altinn.no/api/my/messages?$filter=ServiceOwner eq 'Skatteetaten'\u0026amp;$top=3 HTTP/1.1 Host: www.altinn.no Accept: application/hal+json ApiKey: myKey  5. Laste ned XML payload for skjema (Skjemadata) Man kan nå laste ned (lese) XML-representasjon av Skjemadata. Skjemadata er representert i XML og vil være en egen ressurs som er lenket fra Form-ressursen. For å laste ned XML-representasjon av et skjema/underskjema kan man ta utgangspunkt i aktuelt message element og følge lenke form.\nEksempel:\nhttps://www.altinn.no/api/910621211/messages/a1685777\nResponsen på denne vil inneholde lenke\u0026reg; til de faktiske skjema, f.eks:\n\u0026quot;form\u0026quot;: [ { \u0026quot;href\u0026quot;: https://www.altinn.no/api/910621211/messages/a1685777/forms/1049574, \u0026quot;name\u0026quot;: \u0026quot;RF-0004 Omsetningsoppgave for primærnæringene, Hovedoppgave, Årlig, 2012\u0026quot; } ]  Når du følger denne lenken vil respons inkludere en lenke til selve XML payload i form av lenke formdata:\n{ \u0026quot;Type\u0026quot;: \u0026quot;MainForm\u0026quot;, \u0026quot;DataFormatId\u0026quot;: \u0026quot;213\u0026quot;, \u0026quot;DataFormatVersion\u0026quot;: 10422, \u0026quot;ValidationStatus\u0026quot;: \u0026quot;NotValidated\u0026quot;, \u0026quot;Name\u0026quot;: \u0026quot;RF-0004 Omsetningsoppgave for primærnæringene, Hovedoppgave, Årlig, 2012\u0026quot;, \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: https://www.altinn.no/api/910621211/messages/a1685777/forms/1049574 }, \u0026quot;formdata\u0026quot;: { \u0026quot;href\u0026quot;: https://www.altinn.no/api/910621211/messages/a1685777/forms/1049574/formdata, \u0026quot;mime-type\u0026quot;: \u0026quot;application/xml\u0026quot; } } }  Lenken formdata vil returnere XML representasjon av Skjema, f.eks:\n\u0026lt;Skjema\u0026gt; ... \u0026lt;Termin-grp-2591 gruppeid=\u0026quot;2591\u0026quot;\u0026gt; \u0026lt;OppgaveType-datadef-5659 orid=\u0026quot;5659\u0026quot;\u0026gt;1\u0026lt;/OppgaveType-datadef-5659\u0026gt; \u0026lt;TerminType-datadef-20654 orid=\u0026quot;20654\u0026quot;\u0026gt;1\u0026lt;/TerminType-datadef-20654\u0026gt; \u0026lt;Termin-datadef-20655 orid=\u0026quot;20655\u0026quot;\u0026gt;011\u0026lt;/Termin-datadef-20655\u0026gt; \u0026lt;TerminAr-datadef-20656 orid=\u0026quot;20656\u0026quot;\u0026gt;2012\u0026lt;/TerminAr-datadef-20656\u0026gt; \u0026lt;/Termin-grp-2591\u0026gt; ... \u0026lt;/Skjema\u0026gt;  "
},
{
	"uri": "https://altinn.github.io/docs/api/sluttbruker-api/autentisering/id-porten/",
	"title": "ID-porten",
	"tags": [],
	"description": "Dersom brukeren ikke er autentisert vil API-et redirecte applikasjonen din til ID-portens påloggingsside med responsivt design. I en app vil brukeren kunne velge mellom å autentisere seg ved bruk av av MinID eller BankID. Når brukeren er autentisert i ID-porten vil brukeren bli redirected tilbake til opprinnelig URL. Dette vil fungere for alle klienter som støtter cookies og HTTP-redirect.",
	"content": " Altinn API benytter ID-porten til autentisering av brukere. ID-porten er en felles infrastruktur for å logge inn til offentlige tjenester. I ID-porten er det lagt til rette for at innbyggerene selv kan velge hvilken elektronisk ID de ønsker å benytte. Det er mulig å logge inn med elektronisk ID fra MinID, BankID, Buypass og Commfides.\nID-porten sine autentiseringsløsinger bruker OpenSSO/OpenAM som fødereringsplattform. Fødereringen baserer seg på SAML2 OASIS-standarden.\nSingle Sign-On (SSO) SSO vil si at du sømløst gjenbruker autentiseringen din. Med ID-porten/MinID betyr det i praksis at dersom du har logget inn på en tjeneste hos for eksempel NAV, vil det ikke være nødvendig å gjøre en ny pålogging for å få tilgang til Altinn, eller andre tjenester som benytter ID-porten/MinID. I utgangspunktet er alle tjenester som benytter ID-porten/MinID en del av SSO.\nVi vil nå forklare hvordan du kan implementere støtte for autentisering ved bruk av ID-porten i din applikasjon.\n1. Innebygd nettleser For at din applikasjon skal kunne benytte web-baserte autentiserings protokoller som SAML til autentisering, må du la brukerne logge inn med en innebygd nettleser.\nÅ bygge inn en nettleser i din applikasjon er enkelt på de vanligste plattformene:\n Android: bruk WebView. iOS: bruk UIWebView  Du kan peke nettleseren til starturl for Altinn API: https://www.altinn.no/api/my/messages/\nDa vil brukeren automatisk bli videreført til ID-portens påloggingsside med responsivt design. På denne siden vil brukeren få valget mellom å logge inn med MinID eller BankID. BankID har egne applikasjoner for pålogging (iOS og Android) og disse vil automatisk åpnes og lukkes ved autentisering.\n2. Hente ut påloggings-token Etter vellykket pålogging i ID-porten, vil brukeren bli ført tilbake til Altinn og Altinn oppretter et sett med tokens i form av HTTP cookies i Set-Cookie header.\nNår Altinn har opprettet disse token burde din applikasjon hente de ut og deretter lukke den innebygde nettleseren.\nHer er eksempler på hvordan du kan hente ut token i HTTP cookie på de vanligste plattformene:\n Android: CookieManager#getCookie(URL) kan brukes til å hente ut cookier satt av Altinn. Detaljert eksempelkode på denne tekikken kan du finne her. iOS: Din applikasjon kan hente ut cookies satt av Altinn ved å bruke NSHTTPCookieStorage. Dette blir ofte kalt \u0026ldquo;cookie jar.\u0026rdquo;  NSHTTPCookie *cookie; NSHTTPCookieStorage *cookieJar = [NSHTTPCookieStorage sharedHTTPCookieStorage]; for (cookie in [cookieJar cookies]) { NSLog(@\u0026quot;%@\u0026quot;, cookie); }  Detaljert eksempelkode på denne teknikken for iOS finner du her.\n3. Videreføre påloggings-token i kall til Altinn API Tokenet .ASPXAUTH legges i HTTP header som \u0026ldquo;Cookie\u0026rdquo; i videre på kall til Altinn API:\nCookie: .ASPXAUTH=2AF7F203...., etc...  API nøkkelen må også legges ved i HTTP header slik:\nApiKey: myKey  API nøkkel får du etter registrering av din applikasjon.\n4. Autentisering ved integrasjon i andre portaler Det er mulig å integrere innhold i brukernes meldingsboks i Altinn i eksterne portaler ved å bruke Altinn API. Dette krever at den eksterne portalen også fødererer mot ID-porten og er medlem av samme Circle of Trust som Altinn.\nAltinn API benytter også CORS for ekstra sikkerhet ved kryssdomene forespørsler. For å integrere brukerens meldingsboks i Altinn i en ekstern nettside må dermed domenet til denne nettsiden ligge i Altinns CORS whitelist. Det er derfor nødvendig å registrere nettsiden som skal integrere Altinns meldingsboks hos Altinn. Se denne siden for informasjon om registrering. Bruk av Altinn API i eksterne nettsider er bare tilgjengelig for offentlige etater/institusjoner som er tjenesteeiere i Altinn.\nFor at kall mot Altinns API skal fungere fra eksterne sider må brukeren ha en sesjon både hos IDporten og hos Altinn. Ved innlogging med IDporten må man derfor benytte følgende redirect-løsning for å sikre at brukeren også har sesjon i Altinn. Om man logger brukeren inn med IDporten og kaller Altinn uten å bruke redirect, vil IDporten fjerne CORS-headerne som følger med, slik at Altinn ikke lenger har mulighet for å verifisere domenet mot de som er registrert hos oss.\nPer nå fungerer redirect bare med IDportens mekanismer, ikke med Altinn-innlogging.\nFlyten for redirect-løsningen for å få sesjon i Altinn er: 1. Ekstern portal kontakter https://www.altinn.no/Pages/ExternalAuthentication/Redirect.aspx?returnUrl=https://www.minportal.no/portal\u0026amp;userToken=sha256-hash\n\u0026ldquo;sha256-hash\u0026rdquo; er hash av fødselsnummer på autentisert bruker på ekstern portal.\nUserToken er valgfri og brukes til å sikre at det ikke allerede eksisterer en sesjon i Altinn som tilhører en annen bruker enn den som er autentisert på ekstern portal.\n2. Brukeren blir sendt til Altinn\n2-1a. Med userToken angitt:\nDersom brukeren allerede er logget inn i ID-porten opprettes .ASPXAUTH cookie som inneholder sesjonsopplysninger nødvendige for REST-kall. Om det finnes en sesjon i Altinn for en annen bruker, vil denne logges ut og ny sesjon opprettes for brukeren i userToken.\n2-1b. Dersom bruker ikke er logget inn sendes bruker til innloggingsside og må logge inn.\n2-1c. Dersom samme bruker er logget inn i Altinn fra før valideres sesjon.\n2-2a. Uten userToken:\nDersom bruker allerede er logget inn i ID-porten opprettes .ASPXAUTH cookie som inneholder sesjonsopplysninger nødvendige for REST-kall.\n2-2b. Dersom bruker ikke er logget inn sendes bruker til innloggingsside 2-2c. OBS! Dersom bruker velger Altinn-innlogging vil man bli sendt tilbake til idporten for å autentisere seg med idporten.\n3\na. Bruker logger inn og det opprettes .ASPXAUTH-cookie som inneholder sesjonsopplysningene man trenger for ytterligere REST-kall\nb. Dersom bruker ikke logger inn, blir brukeren stående på innloggingsside\n4. Altinn sjekker om verdien i returnUrl (https://www.minportal.no/portal i dette eksempelet) er gyldig og ligger inne i CORS whitelist\na. Dersom domenet er gyldig gjennomføres redirect til den eksterne adressen\nb. Dersom domenet ikke er gyldig sendes bruker til «Min Meldingsboks» i Altinn Adressen eksterne portaler må bruke blir da: https://www.altinn.no/Pages/ExternalAuthentication/Redirect.aspx?returnUrl=URL_SOM_BRUKER_SKAL_SENDES_TILBAKE_TIL_ETTER_INNLOGGING\n"
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/kanaler/",
	"title": "Kanaler",
	"tags": [],
	"description": "Gir en oversikt over hvilke alternative måter tjenesteeiere, sluttbrukersystem og andre kan integrere seg mot Altinn på.",
	"content": "Gir en oversikt over hvilke alternative måter tjenesteeiere, sluttbrukersystem og andre kan integrere seg mot Altinn på.\n\rREST-API\r\rAltinn tilbyr et REST-API med autentisering ved hjelp av ID-Porten som gjør det mulig å bruke tjenestene i Altinn i en app eller ekstern nettside. Altinn API-et er enkelt og gratis å bruke.\n\rWeb services\r\rAltinn støtter åpne grensesnitt og har helt siden starten jobbet for størst mulig grad av integrasjon mot datasystemene som brukes i næringslivet og blant de profesjonelle brukerne.\n\rTjenesteeier\r\rTjenesteeier må etablere et grensesnitt mellom sine etatssystemer og Altinn for å sende og motta data.\n\rPortal\r\rAltinn-portalen tilbyr en felles meldingsboks til sluttbrukerne av Altinn samt standardfunksjonalitet for de forskjellige tjenestene.\n\rApps\r\rAltinn Apps er i dag tre applikasjoner som er utviklet på de tre dominerende mobile plattformene iOS, Android og Windows Phone.\n\r"
},
{
	"uri": "https://altinn.github.io/docs/api/generelt/feil-og-mangler/",
	"title": "Kjente feil og begrensninger",
	"tags": [],
	"description": "Kjente feil og funksjonalitet som ikke ennå er implementert i REST-apiet",
	"content": " Kjente feil Ved uthenting av delegerte roller og rettigheter, vil man ikke kunne hente roller og rettigheter samlet ved hjelp av /api/{who}/authorization/delegations/{receiverid} for mer enn de første 50 innslagene i /api/{who}/authorization/delegations\nMangler per 19.07.2017 -Det er ikke mulig å slette meldinger sendt til organisasjoner\nKommende funksjonalitet  Separat POST, PUT og DELETE på forms (både hovedskjema og underskjema) (K4 2017) Separat POST og DELETE på attachments-ressursen (K4 2017) Logging av brukt samtykke (K4 2017)  "
},
{
	"uri": "https://altinn.github.io/docs/api/sluttbruker-api/kom-i-gang/",
	"title": "Kom i gang!",
	"tags": [],
	"description": "Denne guiden vil hjelpe deg med å komme igang med bruk av Altinns REST API.",
	"content": " Denne guiden vil hjelpe deg med å komme igang med bruk av Altinns REST API.\nRegistrer din løsning Tilgang til å bruke Altinn API er i utgangspunktet åpent, men for at vi skal kunne hindre misbruk og feilbruk krever vi at alle som ønsker tilgang, registrerer sin løsning. Informasjon om registrering finner du her.\nAutentisering med ID-porten Selv om tilgang til Altinn API er åpent, kreves det at brukeren autentiserer seg for at tilgangen til innholdet i brukerens meldingsboks skal gis. Informasjon om hvordan autentisering av brukerne kan utføres i en applikasjon og informasjon om føderering av brukere finner du her. For å teste APIet i en nettleser kan du logge inn i Altinn på vanlig måte.\nRespons formater Alle kall som brukes for å hente ut informasjon fra Altinn API bruker GET-metoden i HTTP. Formatet som returneres bestemmes av HTTP-headeren Accept.\nFølgende kall returnerer innhold fra brukerens meldingsboks i JSON-format.\nGET https://www.altinn.no/api/my/messages HTTP/1.1 Host: www.altinn.no Accept: application/hal+json ApiKey: myKey  Mens følgende kall returnerer innhold på XML-format:\nGET https://www.altinn.no/api/my/messages HTTP/1.1 Host: www.altinn.no Accept: application/hal+xml ApiKey: myKey  Detaljert teknisk hjelpeside og testklient Altinn API har egne selvdokumenterene hjelpesider (på engelsk) som du finner på https://www.altinn.no/api/help/. Disse hjelpesidene inneholder detaljert teknisk informasjon om de ulike modellene som eksponeres og aksjonene som er mulig å utføre. Hjelpesidene inneholder også en testklient som kan benyttes til å utføre spørringer direkte mot Altinn API fra din nettleser (krever at du er pålogget Altinn).\nFeilbehandling og utilgjengelighet Informasjon kommer.\n Feil ved for lavt sikkerhetsnivå Feil ved autorisasjon  "
},
{
	"uri": "https://altinn.github.io/docs/api/tjenesteeier-api/kontaktinformasjon/",
	"title": "Kontaktinformasjon for virksomheter",
	"tags": [],
	"description": "Uthenting og søk i kontaktinformasjon for virksomheter",
	"content": ""
},
{
	"uri": "https://altinn.github.io/docs/api/sluttbruker-api/meldinger/",
	"title": "Meldinger",
	"tags": [],
	"description": "API&#39;er relatert til meldinger.",
	"content": "\r\rHente meldinger\r\rAPI\u0026#39;er for å hente meldinger.\n\rSende inn\r\rAPI\u0026#39;er for å sende inn meldinger.\n\rSignere meldinger\r\rAPI\u0026#39;er for å signere meldinger.\n\rSlette meldinger\r\rAPI\u0026#39;er for å slette meldinger.\n\r"
},
{
	"uri": "https://altinn.github.io/docs/api/sluttbruker-api/diverse/metadata/",
	"title": "Metadata",
	"tags": [],
	"description": "Altinn API tilbyr en ressurs som gir tilgang til metadata for tjenester tilgjengelige i Altinn.",
	"content": " Altinn API tilbyr en ressurs som gir tilgang til metadata for tjenester tilgjengelige i Altinn. Metadata ressursen er åpent tilgjengelig og krever ikke autentisering.\nHente metadata for alle tjenester GET https://www.altinn.no/api/metadata HTTP/1.1 ApiKey: myKey Accept: application/hal+json  Respons fra API:\n{ \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/metadata\u0026quot; } }, \u0026quot;_embedded\u0026quot;: { \u0026quot;metadata\u0026quot;: [{ \u0026quot;ServiceOwnerCode\u0026quot;: \u0026quot;BUF\u0026quot;, \u0026quot;ServiceOwnerName\u0026quot;: \u0026quot;Barne-, ungdoms- og familiedirektoratet\u0026quot;, \u0026quot;ServiceName\u0026quot;: \u0026quot;BUF-0021 Søknad om tilskudd til frivillige, landsomfattende barne- og ungdomsorganisasjoner - internasjonal grunnstøtte for partipolitiske ungdomsorganisasjoner\u0026quot;, \u0026quot;ServiceCode\u0026quot;: \u0026quot;3734\u0026quot;, \u0026quot;ServiceEditionCode\u0026quot;: 150114, \u0026quot;ValidFrom\u0026quot;: \u0026quot;2014-05-15T08:00:00\u0026quot;, \u0026quot;ValidTo\u0026quot;: \u0026quot;2099-01-15T00:56:00\u0026quot;, \u0026quot;ServiceType\u0026quot;: \u0026quot;FormTask\u0026quot;, \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/metadata/formtask/3734/150114\u0026quot; } } }, { \u0026quot;ServiceOwnerCode\u0026quot;: \u0026quot;BUF\u0026quot;, \u0026quot;ServiceOwnerName\u0026quot;: \u0026quot;Barne-, ungdoms- og familiedirektoratet\u0026quot;, \u0026quot;ServiceName\u0026quot;: \u0026quot;Søknad om aktivitetstilskot for å betre levekår og livskvalitet blant lesbiske, homofile, bifile og transpersonar (LHBT)\u0026quot;, \u0026quot;ServiceCode\u0026quot;: \u0026quot;3610\u0026quot;, \u0026quot;ServiceEditionCode\u0026quot;: 130802, \u0026quot;ValidFrom\u0026quot;: \u0026quot;2014-01-16T10:23:50\u0026quot;, \u0026quot;ValidTo\u0026quot;: \u0026quot;2099-02-01T00:51:00\u0026quot;, \u0026quot;ServiceType\u0026quot;: \u0026quot;FormTask\u0026quot;, \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/metadata/formtask/3610/130802\u0026quot; } } }] } }  Hente metadata for enkelt tjeneste GET https://www.altinn.no/api/metadata/formtask/3734/150114 HTTP/1.1 ApiKey: myKey Accept: application/hal+json  Respons fra API:\n{ \u0026quot;ServiceOwnerCode\u0026quot;: \u0026quot;BUF\u0026quot;, \u0026quot;ServiceOwnerName\u0026quot;: \u0026quot;Barne-, ungdoms- og familiedirektoratet\u0026quot;, \u0026quot;ServiceName\u0026quot;: \u0026quot;BUF-0021 Søknad om tilskudd til frivillige, landsomfattende barne- og ungdomsorganisasjoner - internasjonal grunnstøtte for partipolitiske ungdomsorganisasjoner\u0026quot;, \u0026quot;ServiceCode\u0026quot;: \u0026quot;3734\u0026quot;, \u0026quot;ServiceEditionCode\u0026quot;: 150114, \u0026quot;ValidFrom\u0026quot;: \u0026quot;2014-05-15T08:00:00\u0026quot;, \u0026quot;ValidTo\u0026quot;: \u0026quot;2099-01-15T00:56:00\u0026quot;, \u0026quot;ServiceType\u0026quot;: \u0026quot;FormTask\u0026quot;, \u0026quot;RestEnabled\u0026quot;: false, \u0026quot;FormsMetaData\u0026quot;: [{ \u0026quot;FormID\u0026quot;: 3686, \u0026quot;FormName\u0026quot;: \u0026quot;BUF-0021 Søknad om tilskudd til frivillige, landsomfattende barne- og ungdomsorganisasjoner - internasjonal grunnstøtte for partipolitiske ungdomsorganisasjoner\u0026quot;, \u0026quot;DataFormatProviderType\u0026quot;: \u0026quot;Seres\u0026quot;, \u0026quot;DataFormatID\u0026quot;: \u0026quot;4362\u0026quot;, \u0026quot;DataFormatVersion\u0026quot;: 36770, \u0026quot;IsOnlyXsdValidation\u0026quot;: false, \u0026quot;FormType\u0026quot;: \u0026quot;MainForm\u0026quot;, \u0026quot;_links\u0026quot;: { \u0026quot;schema\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/metadata/formtask/3734/150114/forms/4362/36770/xsd\u0026quot; } } }], \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/metadata/formtask/3734/150114\u0026quot; } } }  Metadata om den enkelte tjenesten vil for eksempel inkludere informasjon om det er mulig å sende inn skjema via REST API, samt gi tilgang til XSD for skjema (Datamodell)\n"
},
{
	"uri": "https://altinn.github.io/docs/altinncore/goals/",
	"title": "Målsettinger",
	"tags": [],
	"description": "Overordnede målsettinger for 3.0.",
	"content": " En oppsummering av de overordnede hovedmålsettingene for tjenester 3.0.\nBrukervennlige og responsive tjenester  Brukergrensesnitt som er brukervennlig, effektive og moderne (f.eks. som vist på altinn-dagen) Støtte for mobil og ulike skjermstørrelser er innebygd, såkalt responsivt design. Dette gjelder også for utviklingsverktøy. Innebygd universell utforming med støtte for WCAG 2 God ytelse og lav responstid  Effektiv og selvbetjent tjenesteutvikling  Man kan enkelt gjøre alt selv (inkl. prodsetting) når man ønsker det, uten behov for bestillinger, kursing, etc. Flaskehalser elimineres. Effektiv og reell testing, der enhetstest oppfører seg likt som testmiljøer og prod (alle miljøer baseres på samme plattform-kode) Støtte for å lage automatisert testing av tjenester Regler og logikk defineres kun en gang for alle kanaler (portal/WS/API), og på en mer robust måte enn i dag Datamodellering innebygd i det samme web-baserte verktøyet (og støtte for import fra SERES, OR, etc. ) Ikke nødvendig med Citrix for tilgang til utviklingsmiljø  Enkelt for fagpersoner, fleksibelt for utviklere  Fagpersoner har tilgang til nødvendig funksjonalitet direkte i nettleser Man gjenbruker gode og ferdig-testede komponenter/widgets Enkelt å gjøre kall mot API\u0026rsquo;er i andre systemer (hente data, kjøre logikk som ligger i egne fagsystemer) Mer tekniske utviklere kan i tillegg tilpasse alle aspekter hvis man har behov for det ved bruk av kode-editor, f.eks. lage gjenbrukbare widgets, stilark, etc. Gjenbruk av tekster og andre ressurser på det nivået som man ønsker (plattform, tjenesteeier, tjeneste), samt vilkårlig språkstøtte Git (versjonskontroll) benyttes for lagring av tjenestene som utvikles, både fra nettleser og kode-editor.  Åpen kildekode, cross-platform  Tjenester 3.0 skal baseres på åpen kildekode Tjenester 3.0 skal også deles som åpen kildekode Dette betyr at alle kan bidra til å forbedre plattformen. Altinn-organisasjonen blir mao. ikke flaskehals for utvikling. Kan kjøres lokalt på egen maskin, på egne servere og på både Windows, macOS eller Linux Alt baseres på åpne web-standarder og vanlig utviklerkompetanse (ingen \u0026ldquo;sære\u0026rdquo; eller proprietære verktøy innføres)  "
},
{
	"uri": "https://altinn.github.io/docs/api/",
	"title": "REST-apier",
	"tags": [],
	"description": "Dokumentasjon for for Altinns REST-apier",
	"content": "Altinn tilbyr to seperate REST-apier - ett for sluttbrukere som alle kan registrere seg for å bruke og et som utelukkende kan brukes av offentlige etater som er tjenesteeiere i Altinn.\n"
},
{
	"uri": "https://altinn.github.io/docs/api/generelt/retningslinjer/",
	"title": "Retningslinjer",
	"tags": [],
	"description": "Retningslinjer om bruk av Altinn API&#39;et.",
	"content": " Krav til merking Det må kommer frem for brukeren at data kommer fra Altinn. All bruk av Altinn API i applikasjoner skal derfor merkes med følgende tekst:\n \u0026ldquo;Data levert av Altinn\u0026rdquo; Bokmål \u0026ldquo;Data delivered by Altinn\u0026rdquo;. Engelsk  Vi har ikke krav til hvordan teksten skal vises, men den skal være godt synlig for brukeren, når vedkommende tar i bruk eller starter applikasjonen.\nAndre krav  Du har ikke lov til å lage tjenester/applikasjoner som framstår som om de er laget av Altinn. Du kan ikke endre på innholdet i data som leveres. Du har ikke lov til å bruke innholdet på nettsider med pornografisk eller rasistisk innhold, eller på nettsider som bryter norsk lov. Se dokumentasjonen for informasjon om autentisering og sikkerhet. Det kreves at applikasjonsleverandøren fyller ut egenerklæringskjema for bruk av Altinn API. Ved integrasjon av innhold fra Altinn API i andre fødererte portaler er det et krav at brukeren opplyses om bruken av Altinn API og hvilke ressurser i Altinn portalen benytter.  "
},
{
	"uri": "https://altinn.github.io/docs/api/sluttbruker-api/autorisering/rolledefinisjoner/",
	"title": "Rolledefinisjoner",
	"tags": [],
	"description": "API&#39;er relatert til rolledefinisjoner.",
	"content": " Hente rolledefinisjoner Henter ut alle rolledefinisjoner tilgjengelig for {who}.\nSe også altinn.no/api/help.\nGET https://www.altinn.no/api/{who}/authorization/roledefinitions HTTP/1.1 Host: www.altinn.no Accept: application/hal+json ApiKey: myKey  Eksempel på respons\n[ { \u0026quot;RoleType\u0026quot;: \u0026quot;External\u0026quot;, \u0026quot;RoleDefinitionId\u0026quot;: 82, \u0026quot;RoleName\u0026quot;: \u0026quot;Privatperson\u0026quot;, \u0026quot;RoleDescription\u0026quot;: \u0026quot;Privatperson\u0026quot; }, { \u0026quot;RoleType\u0026quot;: \u0026quot;Altinn\u0026quot;, \u0026quot;RoleDefinitionId\u0026quot;: 1525, \u0026quot;RoleName\u0026quot;: \u0026quot;UDI referanseperson\u0026quot;, \u0026quot;RoleDescription\u0026quot;: \u0026quot;Videreformidlingstjeneste UDI\u0026quot; }, { \u0026quot;RoleType\u0026quot;: \u0026quot;Altinn\u0026quot;, \u0026quot;RoleDefinitionId\u0026quot;: 2215, \u0026quot;RoleName\u0026quot;: \u0026quot;hildetest\u0026quot;, \u0026quot;RoleDescription\u0026quot;: \u0026quot;testrolle\u0026quot; } ]  Hente ut en enkelt rolle Hente ut alle rettigheter tilknyttet en spesifikk rolle angitt med roledefinitionid fra rollelisten i punktet over.\nSe også altinn.no/api/help.\nGET https://www.altinn.no/api/{who}/authorization/roledefinitions/{roledefinitionid} HTTP/1.1 Host: www.altinn.no Accept: application/hal+json ApiKey: myKey  Eksempel på respons:\n{ \u0026quot;RoleType\u0026quot;: \u0026quot;External\u0026quot;, \u0026quot;RoleDefinitionId\u0026quot;: 82, \u0026quot;RoleName\u0026quot;: \u0026quot;Privatperson\u0026quot;, \u0026quot;RoleDescription\u0026quot;: \u0026quot;Privatperson\u0026quot;, \u0026quot;Rights\u0026quot;: [ { \u0026quot;RightID\u0026quot;: 63, \u0026quot;RightType\u0026quot;: \u0026quot;Service\u0026quot;, \u0026quot;ServiceCode\u0026quot;: \u0026quot;SKBERG\u0026quot;, \u0026quot;ServiceEditionCode\u0026quot;: 1, \u0026quot;Action\u0026quot;: \u0026quot;Read\u0026quot;, \u0026quot;RightSourceType\u0026quot;: \u0026quot;RoleTypeRights\u0026quot;, \u0026quot;IsDelegatable\u0026quot;: false }, { \u0026quot;RightID\u0026quot;: 68, \u0026quot;RightType\u0026quot;: \u0026quot;Service\u0026quot;, \u0026quot;ServiceCode\u0026quot;: \u0026quot;SKDPSA\u0026quot;, \u0026quot;ServiceEditionCode\u0026quot;: 2, \u0026quot;Action\u0026quot;: \u0026quot;Read\u0026quot;, \u0026quot;RightSourceType\u0026quot;: \u0026quot;RoleTypeRights\u0026quot;, \u0026quot;IsDelegatable\u0026quot;: false }, { \u0026quot;RightID\u0026quot;: 70, \u0026quot;RightType\u0026quot;: \u0026quot;Service\u0026quot;, \u0026quot;ServiceCode\u0026quot;: \u0026quot;SKDSLN\u0026quot;, \u0026quot;ServiceEditionCode\u0026quot;: 1, \u0026quot;Action\u0026quot;: \u0026quot;Read\u0026quot;, \u0026quot;RightSourceType\u0026quot;: \u0026quot;RoleTypeRights\u0026quot;, \u0026quot;IsDelegatable\u0026quot;: false } ] }  Opprette lokal rolle Oppretter en egendefinert rolle med de spesifikke rettighetene til tjenester/ressurser som angis i kallet. Språk er valgfri inputparameter.\nTillatte actions er Read, Write, Delete, Sign, ReadArchive, DeleteArchive og disse angir hvilke rettigheter rollen gir for de forskjellige stegene i arbeidsflyten gjennom Altinn. Etter at den er opprettet, må rollen delegeres for faktisk gi rettighetene man har valgt.\nSe også altinn.no/api/help.\nPOST https://www.altinn.no/api/{who}/authorization/roledefinitions/ HTTP/1.1 Host: www.altinn.no Content-Type: application/hal+json ApiKey: myKey { \u0026quot;RoleName\u0026quot;: \u0026quot;min egen lokale rolle2\u0026quot;, \u0026quot;RoleDescription\u0026quot;: \u0026quot;en beskrivelse av rollen\u0026quot;, \u0026quot;_embedded\u0026quot;: { \u0026quot;Rights\u0026quot;: [ { \u0026quot;ServiceCode\u0026quot;: \u0026quot;3357\u0026quot;, \u0026quot;ServiceEditionCode\u0026quot;: \u0026quot;130429\u0026quot;, \u0026quot;Action\u0026quot;: \u0026quot;Read\u0026quot; } ] } }  Eksempel på respons:\nDet returneres en tom respons, men location header angir id på den nye lokale rollen dersom den ble opprettet OK.\nHTTP 201 - Created Location: https://www.altinn.no/api/my/authorization/roledefinitions/13667  Slette lokal rolle Se også altinn.no/api/help.\nDELETE https://www.altinn.no/api/my/authorization/roledefinitions/13667 HTTP/1.1 Host: www.altinn.no ApiKey: myKey  Eksempel på respons:\nHTTP 204 - No Content  Oppdatere rolle Oppdaterer angitt rolle for {who}. Språk er valgfri input-parameter\nSe også altinn.no/api/help.\nPUT https://www.altinn.no/api/{who}/authorization/roledefinitions/{roledefinitionid} HTTP/1.1 Host: www.altinn.no Content-Type: application/hal+json ApiKey: myKey { \u0026quot;RoleName\u0026quot;: \u0026quot;min egen lokale rolle5\u0026quot;, \u0026quot;RoleDescription\u0026quot;: \u0026quot;en beskrivelse av rollen\u0026quot;, \u0026quot;RoleType\u0026quot;: \u0026quot;service\u0026quot;, \u0026quot;_embedded\u0026quot;: { \u0026quot;Rights\u0026quot;: [ { \u0026quot;ServiceCode\u0026quot;: \u0026quot;3357\u0026quot;, \u0026quot;ServiceEditionCode\u0026quot;: \u0026quot;130429\u0026quot;, \u0026quot;Action\u0026quot;: \u0026quot;Read\u0026quot; } ] } }  Eksempel på respons:\nHTTP 204 - No content Location: https://www.altinn.no/api/my/authorization/roledefinitions/13667  "
},
{
	"uri": "https://altinn.github.io/docs/api/sluttbruker-api/autorisering/roller-og-rettigheter/",
	"title": "Roller og rettigheter",
	"tags": [],
	"description": "API&#39;er relatert til roller og rettigheter.",
	"content": " Hente roller Hente ut roller innlogget bruker har for {who} - kan være my, organisasjonsnummer eller andre privatpersoner der man spør ved hjelp av r{id} som hentes fra api/reportees.\nSe beskrivelse på altinn.no/api/help.\nGET https://www.altinn.no/api/{who}/authorization/roles HTTP/1.1 Host: www.altinn.no Accept: application/hal+json ApiKey: myKey  Eksempel på respons på rettigheter innlogget bruker har for 910252240:\n{ \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https:\\/\\/www.altinn.no\\/api\\/910252240\\/authorization\\/roles\u0026quot; } }, \u0026quot;_embedded\u0026quot;: { \u0026quot;roles\u0026quot;: [ { \u0026quot;RoleId\u0026quot;: 38069107, \u0026quot;RoleType\u0026quot;: \u0026quot;Altinn\u0026quot;, \u0026quot;RoleDefinitionId\u0026quot;: 3, \u0026quot;RoleName\u0026quot;: \u0026quot;L\\u00f8nn og personalmedarbeider\u0026quot;, \u0026quot;RoleDescription\u0026quot;: \u0026quot;Tilgang til l\\u00f8nns- og personalrelaterte tjenester\u0026quot;, \u0026quot;Delegator\u0026quot;: \u0026quot;ELLEN FISKE\u0026quot;, \u0026quot;DelegatedTime\u0026quot;: \u0026quot;2014-11-19T08:27:40.577\u0026quot;, \u0026quot;_links\u0026quot;: { \u0026quot;roledefinition\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https:\\/\\/www.altinn.no\\/api\\/910252240\\/authorization\\/roledefinitions\\/3\u0026quot; } } }, { \u0026quot;RoleId\u0026quot;: 38069108, \u0026quot;RoleType\u0026quot;: \u0026quot;Altinn\u0026quot;, \u0026quot;RoleDefinitionId\u0026quot;: 6, \u0026quot;RoleName\u0026quot;: \u0026quot;Regnskapsmedarbeider\u0026quot;, \u0026quot;RoleDescription\u0026quot;: \u0026quot;Tilgang til regnskapsrelaterte skjema og tjenester\u0026quot;, \u0026quot;Delegator\u0026quot;: \u0026quot;ELLEN FISKE\u0026quot;, \u0026quot;DelegatedTime\u0026quot;: \u0026quot;2014-11-19T08:27:40.577\u0026quot;, \u0026quot;_links\u0026quot;: { \u0026quot;roledefinition\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https:\\/\\/www.altinn.no\\/api\\/910252240\\/authorization\\/roledefinitions\\/6\u0026quot; } } }, { \u0026quot;RoleId\u0026quot;: 38069101, \u0026quot;RoleType\u0026quot;: \u0026quot;Altinn\u0026quot;, \u0026quot;RoleDefinitionId\u0026quot;: 8, \u0026quot;RoleName\u0026quot;: \u0026quot;Begrenset signeringsrettighet\u0026quot;, \u0026quot;RoleDescription\u0026quot;: \u0026quot;Tilgang til \\u00e5 signere utvalgte skjema og tjenester\u0026quot;, \u0026quot;Delegator\u0026quot;: \u0026quot;ELLEN FISKE\u0026quot;, \u0026quot;DelegatedTime\u0026quot;: \u0026quot;2014-11-19T08:22:21.653\u0026quot;, \u0026quot;_links\u0026quot;: { \u0026quot;roledefinition\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https:\\/\\/www.altinn.no\\/api\\/910252240\\/authorization\\/roledefinitions\\/8\u0026quot; } } }, { \u0026quot;RoleId\u0026quot;: 38069102, \u0026quot;RoleType\u0026quot;: \u0026quot;Altinn\u0026quot;, \u0026quot;RoleDefinitionId\u0026quot;: 11, \u0026quot;RoleName\u0026quot;: \u0026quot;Utfyller\\/Innsender\u0026quot;, \u0026quot;RoleDescription\u0026quot;: \u0026quot;Tilgang til utvalgte skjema og tjenester\u0026quot;, \u0026quot;Delegator\u0026quot;: \u0026quot;ELLEN FISKE\u0026quot;, \u0026quot;DelegatedTime\u0026quot;: \u0026quot;2014-11-19T08:22:21.653\u0026quot;, \u0026quot;_links\u0026quot;: { \u0026quot;roledefinition\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https:\\/\\/www.altinn.no\\/api\\/910252240\\/authorization\\/roledefinitions\\/11\u0026quot; } } }, { \u0026quot;RoleType\u0026quot;: \u0026quot;Altinn\u0026quot;, \u0026quot;RoleDefinitionId\u0026quot;: 89, \u0026quot;RoleName\u0026quot;: \u0026quot;Basisrolle\u0026quot;, \u0026quot;RoleDescription\u0026quot;: \u0026quot;Rolle som f\\u00f8lger automatisk med n\\u00e5r en bruker f\\u00e5r en annen Altinn-rolle\u0026quot;, \u0026quot;_links\u0026quot;: { \u0026quot;roledefinition\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https:\\/\\/www.altinn.no\\/api\\/910252240\\/authorization\\/roledefinitions\\/89\u0026quot; } } } ] } }  Hente rettigheter Hente ut rettigheter innlogget bruker har for {who} - kan være my, organisasjonsnummer eller andre privatpersoner der man spør ved hjelp av r{id} som hentes fra api/reportees.\nSe beskrivelse på altinn.no/api/help.\nGET https://www.altinn.no/api/{who}/authorization/rights HTTP/1.1 Host: www.altinn.no Accept: application/hal+json ApiKey: myKey  Eksempel på respons:\n{ \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https:\\/\\/www.altinn.no\\/api\\/910252240\\/authorization\\/rights\u0026quot; } }, \u0026quot;_embedded\u0026quot;: { \u0026quot;rights\u0026quot;: [ { \u0026quot;RightID\u0026quot;: 103, \u0026quot;RightType\u0026quot;: \u0026quot;Service\u0026quot;, \u0026quot;ServiceCode\u0026quot;: \u0026quot;1261\u0026quot;, \u0026quot;ServiceEditionCode\u0026quot;: 1, \u0026quot;Action\u0026quot;: \u0026quot;Read\u0026quot;, \u0026quot;RightSourceType\u0026quot;: \u0026quot;RoleTypeRights\u0026quot;, \u0026quot;IsDelegatable\u0026quot;: true }, { \u0026quot;RightID\u0026quot;: 104, \u0026quot;RightType\u0026quot;: \u0026quot;Service\u0026quot;, \u0026quot;ServiceCode\u0026quot;: \u0026quot;1238\u0026quot;, \u0026quot;ServiceEditionCode\u0026quot;: 3, \u0026quot;Action\u0026quot;: \u0026quot;Read\u0026quot;, \u0026quot;RightSourceType\u0026quot;: \u0026quot;RoleTypeRights\u0026quot;, \u0026quot;IsDelegatable\u0026quot;: false }, { \u0026quot;RightID\u0026quot;: 10481822, \u0026quot;RightType\u0026quot;: \u0026quot;Service\u0026quot;, \u0026quot;ServiceCode\u0026quot;: \u0026quot;1051\u0026quot;, \u0026quot;ServiceEditionCode\u0026quot;: 140619, \u0026quot;Action\u0026quot;: \u0026quot;Read\u0026quot;, \u0026quot;RightSourceType\u0026quot;: \u0026quot;RoleTypeRights\u0026quot;, \u0026quot;IsDelegatable\u0026quot;: true }, { \u0026quot;RightID\u0026quot;: 10481823, \u0026quot;RightType\u0026quot;: \u0026quot;Service\u0026quot;, \u0026quot;ServiceCode\u0026quot;: \u0026quot;1051\u0026quot;, \u0026quot;ServiceEditionCode\u0026quot;: 140619, \u0026quot;Action\u0026quot;: \u0026quot;Write\u0026quot;, \u0026quot;RightSourceType\u0026quot;: \u0026quot;RoleTypeRights\u0026quot;, \u0026quot;IsDelegatable\u0026quot;: true }, { \u0026quot;RightID\u0026quot;: 10481824, \u0026quot;RightType\u0026quot;: \u0026quot;Service\u0026quot;, \u0026quot;ServiceCode\u0026quot;: \u0026quot;1051\u0026quot;, \u0026quot;ServiceEditionCode\u0026quot;: 140619, \u0026quot;Action\u0026quot;: \u0026quot;ArchiveRead\u0026quot;, \u0026quot;RightSourceType\u0026quot;: \u0026quot;RoleTypeRights\u0026quot;, \u0026quot;IsDelegatable\u0026quot;: true }, { \u0026quot;RightID\u0026quot;: 10481825, \u0026quot;RightType\u0026quot;: \u0026quot;Service\u0026quot;, \u0026quot;ServiceCode\u0026quot;: \u0026quot;1051\u0026quot;, \u0026quot;ServiceEditionCode\u0026quot;: 140619, \u0026quot;Action\u0026quot;: \u0026quot;ArchiveDelete\u0026quot;, \u0026quot;RightSourceType\u0026quot;: \u0026quot;RoleTypeRights\u0026quot;, \u0026quot;IsDelegatable\u0026quot;: true }, { \u0026quot;RightID\u0026quot;: 10481843, \u0026quot;RightType\u0026quot;: \u0026quot;Service\u0026quot;, \u0026quot;ServiceCode\u0026quot;: \u0026quot;1051\u0026quot;, \u0026quot;ServiceEditionCode\u0026quot;: 140619, \u0026quot;Action\u0026quot;: \u0026quot;Sign\u0026quot;, \u0026quot;RightSourceType\u0026quot;: \u0026quot;RoleTypeRights\u0026quot;, \u0026quot;IsDelegatable\u0026quot;: true } ] } }  Slette tildelte roller Sletter en rolle for {who} (r{id} fra api/reportees, organisasjonsnummer eller brukernavn) ved hjelp av roleid fra GET.\nSe beskrivelse på altinn.no/api/help.\nDELETE https://www.altinn.no/api/{who}/authorization/roles/{rolleid} HTTP/1.1 Host: www.altinn.no ApiKey: myKey  Returnerer tom respons og statuskode/-melding.\n###Slette tildelte rettigheter Sletter en rettighet for {who} (r{id} fra api/reportees, organisasjonsnummer eller brukernavn) ved hjelp av rightid fra GET rights.\nSe beskrivelse på altinn.no/api/help.\nDELETE https://www.altinn.no/api/{who}/authorization/rights/{rettighetsid} HTTP/1.1 Host: www.altinn.no ApiKey: myKey  Returnerer tom respons og statuskode/-melding.\n"
},
{
	"uri": "https://altinn.github.io/docs/api/sluttbruker-api/meldinger/sende-inn/",
	"title": "Sende inn",
	"tags": [],
	"description": "API&#39;er for å sende inn meldinger.",
	"content": " Sende Gjøre POST operasjoner på Message elementet i Altinn API Man kan sende inn skjema med vedlegg. Skjema er i API-et Message av type FormTask.\nGenerelt om Skjema Innsendingstjenester i Altinn I Altinn er bygget inn mye funksjonalitet får å tilby brukere skjema med ulike behov og krav. Det meste av denne funksjonaliteten er foreløpig ikke bygget inn i REST API-et, men det tilbys en enkel og synkron prosess for innsending, inkludert alle type valideringer som gjelder pr skjema. Den synkrone prosessen avsluttes med en respons at skjema er lagret i arkiv, og med en lenke til denne nye ressursen.\nI Altinn kan tjenesteeier selv angi hvilke innsendingskanaler som er gyldige. REST API må derfor angis av tjenesteeier som en gyldig kanal.Metadata ressursen som lister alle produksjonsatte tjenester i Altinn vil indikere om aktuell tjeneste er tilgjengelig for innsending fra REST API.\nSkjema i Altinn er bygget på en XSD datamodell (http://en.wikipedia.org/wiki/XSD), som igjen er knyttet til en overordnet semantisk modell. Denne XSD angir de tekniske valideringene for et skjema. Andre typer valideringsregler (kalkyler, forretningsregler) kan angis som en del av utviklingen av skjema. XSD for aktuell tjeneste kan lastes ned fra metadata ressursen.\nSkjema må sees på som en payload \u0026ldquo;Blob\u0026rdquo; representert i XML, og må representeres som XML også i JSON, se eksempel under.\nPOST operasjon for innsending av skjema til arkiv Følgende request sender inn skjema med vedlegg til Arkivet i brukerens meldingsboks. Adressen til det arkiverte skjemaet vil returneres i Location respons header.\nHeader\nPOST https://www.altinn.no/api/my/messages HTTP/1.1 Host: www.altinn.no Content-Type: application/hal+json ApiKey: myKey  Body\n{ \u0026quot;Type\u0026quot;: \u0026quot;FormTask\u0026quot;, \u0026quot;ServiceCode\u0026quot;: \u0026quot;1029\u0026quot;, \u0026quot;ServiceEdition\u0026quot;: 64, \u0026quot;_embedded\u0026quot; : { \u0026quot;forms\u0026quot; : [ { \u0026quot;Type\u0026quot;: \u0026quot;MainForm\u0026quot;, \u0026quot;DataFormatId\u0026quot;: \u0026quot;1232\u0026quot;, \u0026quot;DataFormatVersion\u0026quot;: \u0026quot;10123\u0026quot;, \u0026quot;FormData\u0026quot;: \u0026quot;\u0026lt;Skjema\u0026gt;...\u0026lt;/Skjema\u0026gt;\u0026quot; } ], \u0026quot;attachments\u0026quot; : [ { \u0026quot;FileName\u0026quot;: \u0026quot;string example 43\u0026quot;, \u0026quot;AttachmentType\u0026quot;: \u0026quot;string example 43\u0026quot;, \u0026quot;Data\u0026quot;: \u0026quot;base64 encoded\u0026quot; } ] } }  POST operasjon for innsending av skjema til arbeidslisten (mellomlagring) Det er også mulig å sende inn skjema til arbeidslisten i Altinn. Da vil skjema få status \u0026ldquo;Utfylling\u0026rdquo;. Skjema kan så fylles ut ferdig i Altinn portal eller fullføres med ny PUT operasjon på meldingen. At skjemaet skal få status \u0026lsquo;Utfylling\u0026rsquo; angis ved å inkludere URL-parameter complete=false. Adressen til skjemaet i arbeidslisten returneres i Location respons header.\nHeader\nPOST https://www.altinn.no/api/my/messages?complete=false HTTP/1.1 Host: www.altinn.no Content-Type: application/hal+json ApiKey: myKey  Body\n{ \u0026quot;Type\u0026quot;: \u0026quot;FormTask\u0026quot;, \u0026quot;ServiceCode\u0026quot;: \u0026quot;123\u0026quot;, \u0026quot;ServiceEdition\u0026quot;: 64, \u0026quot;_embedded\u0026quot; : { \u0026quot;forms\u0026quot; : [{ \u0026quot;Type\u0026quot;: \u0026quot;MainForm\u0026quot;, \u0026quot;DataFormatId\u0026quot;: \u0026quot;1023\u0026quot;, \u0026quot;DataFormatVersion\u0026quot;: \u0026quot;1\u0026quot;, \u0026quot;FormData\u0026quot;: \u0026quot;\u0026lt;Skjema\u0026gt;...\u0026lt;/Skjema\u0026gt;\u0026quot; }], \u0026quot;attachments\u0026quot; : [{ \u0026quot;FileName\u0026quot;: \u0026quot;string example 43\u0026quot;, \u0026quot;AttachmentType\u0026quot;: \u0026quot;string example 43\u0026quot;, \u0026quot;Data\u0026quot;: \u0026quot;base64 encoded\u0026quot; }] } }  POST operasjon for å opprette preutfylt skjema Det er også mulig å sende tom payload for å opprette et tomt skjema med preutfylling. Da vil skjema bli opprette med data satt av tjenesteeier. Skjemaet vil få status \u0026ldquo;Utfylling\u0026rdquo;, og kan så fylles ut ferdig i Altinn portal eller fullføres med ny PUT operasjon.\nHeader\nPOST https://www.altinn.no/api/my/messages?complete=false HTTP/1.1 Host: www.altinn.no Content-Type: application/hal+json ApiKey: myKey  Body\n{ \u0026quot;Type\u0026quot;: \u0026quot;FormTask\u0026quot;, \u0026quot;ServiceCode\u0026quot;: \u0026quot;123\u0026quot;, \u0026quot;ServiceEdition\u0026quot;: 64, \u0026quot;_embedded\u0026quot; : { } }  POST operasjon for innsending av skjema til signering Det er også mulig å sende inn skjema til signering i Altinn. Da vil skjema få status \u0026ldquo;Signering\u0026rdquo;. Skjema kan så signeres i Altinn portal eller fullføres med ny PUT operasjon på meldingen. At skjemaet skal få status \u0026lsquo;Signering\u0026rsquo; angis ved å inkludere URL-parameter Sign=false. Adressen til skjemaet i arbeidslisten returneres i Location respons header.\nHeader\nPOST https://www.altinn.no/api/my/messages?sign=false HTTP/1.1 Host: www.altinn.no Content-Type: application/hal+json ApiKey: myKey  Body\n{ \u0026quot;Type\u0026quot;: \u0026quot;FormTask\u0026quot;, \u0026quot;ServiceCode\u0026quot;: \u0026quot;123\u0026quot;, \u0026quot;ServiceEdition\u0026quot;: 64, \u0026quot;_embedded\u0026quot; : { \u0026quot;forms\u0026quot; : [{ \u0026quot;Type\u0026quot;: \u0026quot;MainForm\u0026quot;, \u0026quot;DataFormatId\u0026quot;: \u0026quot;1023\u0026quot;, \u0026quot;DataFormatVersion\u0026quot;: \u0026quot;1\u0026quot;, \u0026quot;FormData\u0026quot;: \u0026quot;\u0026lt;Skjema\u0026gt;...\u0026lt;/Skjema\u0026gt;\u0026quot; }], \u0026quot;attachments\u0026quot; : [{ \u0026quot;FileName\u0026quot;: \u0026quot;string example 43\u0026quot;, \u0026quot;AttachmentType\u0026quot;: \u0026quot;string example 43\u0026quot;, \u0026quot;Data\u0026quot;: \u0026quot;base64 encoded\u0026quot; }] } }  Oppdatere Gjøre PUT operasjoner på Message element i Altinn API. Det er mulig å oppdatere skjema med vedlegg som ligger i arbeidslisten til brukeren.\nOppdatering utføres ved å gjøre PUT operasjoner på den enkelte message som skal oppdateres. Alle skjema og vedlegg må inkluderes i hver oppdatering, da tidligere data på message vil overskrives.\nFølgende URL parametere styrer hva som utføres på skjemaet etter oppdatering:\n complete = [true|false] sign = [true|false]  Defaultverdi for complete og sign er true, så om ingen av parameterne er satt til false vil skjemaet signeres og arkiveres etter oppdatering. complete=false vil sette status \u0026ldquo;Utfylling\u0026rdquo; etter oppdatering, mens sign=false sender skjema til signering etter oppdatering.\nHeader\nPUT https://www.altinn.no/api/my/messages/a1234 HTTP/1.1 Host: www.altinn.no Content-Type: application/hal+json ApiKey: myKey  Body\n{ \u0026quot;Type\u0026quot;: \u0026quot;FormTask\u0026quot;, \u0026quot;ServiceCode\u0026quot;: \u0026quot;123\u0026quot;, \u0026quot;ServiceEdition\u0026quot;: 64, \u0026quot;_embedded\u0026quot; : { \u0026quot;forms\u0026quot; : [{ \u0026quot;Type\u0026quot;: \u0026quot;MainForm\u0026quot;, \u0026quot;DataFormatId\u0026quot;: \u0026quot;1023\u0026quot;, \u0026quot;DataFormatVersion\u0026quot;: \u0026quot;1\u0026quot;, \u0026quot;FormData\u0026quot;: \u0026quot;\u0026lt;Skjema\u0026gt;...\u0026lt;/Skjema\u0026gt;\u0026quot; }], \u0026quot;attachments\u0026quot; : [{ \u0026quot;FileName\u0026quot;: \u0026quot;string example 43\u0026quot;, \u0026quot;AttachmentType\u0026quot;: \u0026quot;string example 43\u0026quot;, \u0026quot;Data\u0026quot;: \u0026quot;base64 encoded\u0026quot; }] } }  "
},
{
	"uri": "https://altinn.github.io/docs/api/sluttbruker-api/meldinger/signere/",
	"title": "Signere meldinger",
	"tags": [],
	"description": "API&#39;er for å signere meldinger.",
	"content": " Signering utføres med PUT operasjoner på Message elementet i Altinn API Skjema med vedlegg kan signeres samlet og det er mulig å signere enkelte skjema/vedlegg enkeltvis.\nPUT operasjon for signering av skjema med status signering Følgende request signerer det aktuelle skjemaet og skjemaet blir lagret i Arkivet i brukerens meldingsboks. Adressen til det signerte og arkiverte skjemaet vil returneres i Location respons header.\nHeader\nPUT https://www.altinn.no/api/my/messages/a2312332 HTTP/1.1 Host: www.altinn.no Content-Type: application/hal+json ApiKey: myKey  Body\n{ \u0026quot;Type\u0026quot;: \u0026quot;FormTask\u0026quot;, \u0026quot;ServiceCode\u0026quot;: \u0026quot;1029\u0026quot;, \u0026quot;ServiceEdition\u0026quot;: 64, }  PUT operasjon for signering av enkelte skjema i skjemasett og enkelte vedlegg Det er også mulig å kun signere enkelte skjema i et skjemasett og kun enkelte av vedleggene. Parameteren signinglocked angir om skjemaet/vedlegget må signeres. Dersom signinglocked=true må det aktuelle skjemaet/vedlegget signeres, signinglocked=false angir at signering er valgfritt. Hvilke skjema og vedlegg som skal signeres angis i SignatureSpec. Id for aktuelt skjema og Attachments må hentes fra message-ressursen før signering og angis i PUT operasjonen.\nHeader\nPUT https://www.altinn.no/api/my/messages/a1231231 HTTP/1.1 Host: www.altinn.no Content-Type: application/hal+json ApiKey: myKey  Body\n{ \u0026quot;Type\u0026quot;: \u0026quot;FormTask\u0026quot;, \u0026quot;ServiceCode\u0026quot;: \u0026quot;123\u0026quot;, \u0026quot;ServiceEdition\u0026quot;: 64, \u0026quot;_embedded\u0026quot; : { \u0026quot;SignatureSpec\u0026quot;: { \u0026quot;FormIds\u0026quot;: [12121,1232], \u0026quot;AttachmentIds\u0026quot;: [1123,1123] } } }  Get operasjon for å hente signeringstekst Signeringsteksten spesifisert for signerinssteget skal presenters for brukeren før signering. Teksten kan lastes ned ved å følge lenken signingtest\nHeader\nGET https://www.altinn.no/api/my/messages/a123123/signingtext HTTP/1.1 Host: www.altinn.no Accept: application/hal+json ApiKey: myKey  "
},
{
	"uri": "https://altinn.github.io/docs/api/sluttbruker-api/meldinger/slette/",
	"title": "Slette meldinger",
	"tags": [],
	"description": "API&#39;er for å slette meldinger.",
	"content": " Sletting utføres med DELETE operasjoner på Message elementet i Altinn Følgende request sletter den aktuelle meldingen eller skjema. Når slettingen er utført returneres HTTP 204 - No Content.\nSletting av meldinger av typen Ccorrespondence sendt til organisasjoner er ikke mulig, verken i api-ene eller portal.\nDELETE https://www.altinn.no/api/my/messages/a2312332 HTTP/1.1 Host: www.altinn.no Content-Type: application/hal+json ApiKey: myKey  "
},
{
	"uri": "https://altinn.github.io/docs/api/sluttbruker-api/",
	"title": "Sluttbrukere",
	"tags": [],
	"description": "Dokumentasjon for sluttbrukerdelen av Altinns REST-api",
	"content": "Altinn tilbyr et REST-API med autentisering via ID-porten, brukernavn og passord eller virksomhetssertifikat som gjør det mulig å bruke tjenestene i Altinn i en app eller ekstern nettside.\nPå disse sidene finner du praktisk informasjon om hvordan API-et kan tas i bruk.\nTeknisk dokumentasjon av API\u0026rsquo;et finnes her.\n API konseptskisse   Altinn API-et er ikke en ny tjeneste eller funksjonalitet - det er et nytt grensesnitt mellom brukerne og komponentene som allerede finnes i Altinn. Dette grensesnittet muliggjør å bruke Altinn-innhold i for eksempel smartphone-apps og andre nettportaler enn altinn.no.\nAltinn API-et er enkelt og gratis å bruke.\nFor å komme i gang med å bruke API-et må du registrere løsningen din hos Altinn.\n"
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/support/",
	"title": "Support",
	"tags": [],
	"description": "Består av generelle tjenester som veiledning, kurs, support og rapportering fra Altinn Sentralforvaltning mot Tjenesteeiere, Sluttbrukere, Sluttbrukersystemer og andre samarbeidspartnere i markedet. ",
	"content": "Består av generelle tjenester som veiledning, kurs, support og rapportering fra Altinn Sentralforvaltning mot Tjenesteeiere, Sluttbrukere, Sluttbrukersystemer og andre samarbeidspartnere i markedet.\n\rBrukersupport\r\rAltinn Brukerservice tilbyr veiledningstjenster omkring spørsmål som gjelder innlogging, hvordan finne fram til riktig tjeneste, forståelse av felles funksjonalitet og teknisk veiledning til skjemautfylling, innsending, signering og mye mer.\n\rKurs og seminar\r\rAltinn Sentralforvaltning har som krav at alle som skal utvikle tjenester mot Altinn, må gjennomføre grunnkurs i tjenesteutvikling.\n\rOperativ veiledning\r\rAltinn Sentralforvaltning tilbyr rådgivning og veiledning for å kunne supportere tjenesteiere, sluttbrukersystemer og sluttbrukere.\n\rRammeavtale konsulentbistand\r\rBrønnøysundregistrene har inngått rammeavtaler på konsulentbistand for tjenesteutvikling i Altinn, som tjenesteeierne kan benytte seg av.\n\rSluttbrukersystem\r\rAltinn tilbyr støtte for åpne grensesnitt, og har helt siden starten i 2003 jobbet for størst mulig grad av integrasjon mot datasystemene som brukes i næringslivet og blant de profesjonelle brukerne.\n\rStatistikk og rapporter\r\rAltinn leverer ulike statistikker og rapporter til Tjenesteeiere.\n\r"
},
{
	"uri": "https://altinn.github.io/docs/api/tjenesteeier-api/",
	"title": "Tjenesteeiere",
	"tags": [],
	"description": "Dokumentasjon for tjenesteeierdelen av Altinns REST-apier",
	"content": "Altinns REST-api for tjenesteeiere er bare tilgjengelig med bruk av virksomhetssertifikat og krever at man har en apinøkkel med tilgang til \u0026ldquo;serviceowner\u0026rdquo;-ressursene. Organisasjonsnummeret i sertifikatet må matche det som er oppført på etaten som tjenesteeier i Altinns databaser.\nTeknisk dokumentasjon av API\u0026rsquo;et finnes her.\n\rRegistrering\r\rHvordan registrere din applikasjon.\n\rAutorisasjon\r\rSpørringer mot Altinns autorisasjonskomponent\n\rKontaktinformasjon for virksomheter\r\rUthenting og søk i kontaktinformasjon for virksomheter\n\r"
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/",
	"title": "Tjenestekatalog",
	"tags": [],
	"description": "Oversikt over funksjonaliteten som tilbys av Altinn-plattformen og Altinn-organisasjonen.",
	"content": "Tjenestekatalogen skal gi en samlet oversikt over tjenestene vi tilbyr til enhver tid, samt sikre at våre samarbeidspartnere, tjenesteeiere, sluttbrukere og sluttbrukersystemer har en omforent forståelse av nytteverdien av tjenestene som Altinn-samarbeidet tilbyr.\nNB! Tjenestekatalogen er fortsatt under utvikling.\n\rDigital dialog\r\rGir en oversikt over de tjenestenetypene som Altinn tilbyr samt annen funksjonalitet som understøtter digital dialog.\n\rKanaler\r\rGir en oversikt over hvilke alternative måter tjenesteeiere, sluttbrukersystem og andre kan integrere seg mot Altinn på.\n\rSupport\r\rBestår av generelle tjenester som veiledning, kurs, support og rapportering fra Altinn Sentralforvaltning mot Tjenesteeiere, Sluttbrukere, Sluttbrukersystemer og andre samarbeidspartnere i markedet. \rSikkerhet\r\rAltinn tilbyr omfattende sikkerhetsfunksjonalitet for å gi en trygg og sikker opplevelse både for tjenesteeiere og sluttbrukere.\n\r"
},
{
	"uri": "https://altinn.github.io/docs/api/sluttbruker-api/autentisering/virksomhetssertifikat/",
	"title": "Virksomhetssertifikat",
	"tags": [],
	"description": "Dersom brukeren skal representere en virksomhet som har et virksomhetssertifikat, kan dette benyttes sammen med en virksomhetsbruker opprettet på Altinn.no til å autentisere seg mot Altinns REST-api.",
	"content": " For å kunne tilby en autentiseringsmekanisme uten personlig bruker/pin-koder, tilbyr Altinns REST-api støtte for bruk av virksomhetssertifikat. Autentiseringen gir sikkerhetsnivå 3 og kan brukes mot alle API-ets ressurser på vegne av organisasjonen sertifikatet tilhører og andre som organisasjonen har rettigheter på vegne av.\nDersom man utvikler en ekstern portalløsning der brukerne er innlogget med f.eks. ID-porten, kan IKKE sertifikatet brukes til å sende inn på vegne av disse. Virksomhetssertifikatet er en maskin-til-maskin-integrasjon på vegne av innehaverorganisasjon og andre den har rettigheter for, og må ikke forveksles med en mulighet til backend-integrasjon mot Altinn.\n1. Sette opp virksomhetsbruker Etter at man har installert sertifikat fra utsteder, må man registrere sertifikatet i Altinn og opprette en såkalt virksomhetsbruker. Dette er beskrevet her.\n2. Tildele roller og rettigheter Når man logger inn med en virksomhetsbruker første gang, har ikke denne tilstrekkelig med roller og rettigheter for en organisasjon til å kunne verken se aktive skjema eller sende inn nye før roller/rettigheter har blitt delegert.\n3. Autentisere seg mot Altinn API Send følgende POST-request mot APIet med brukernavn/passord for virksomhetsbruker opprettet i 1.\nPOST https://www.altinn.no/api/authentication/authenticatewithpassword?ForceEIAuthentication HTTP/1.1 Host: www.altinn.no Content-Type: application/hal+json ApiKey: myKey { \u0026quot;UserName\u0026quot;: \u0026quot;MyUsername\u0026quot;, \u0026quot;UserPassword\u0026quot;: \u0026quot;MyPassword\u0026quot; }  Dersom requesten genereres fra ekstern webside, vil brukeren få beskjed om å velge sertifikat av nettleser (trigges av parameteren ?ForceEIAuthentication).\nVed programmatisk bruk fra f.eks. Java eller .NET legger man ved sertifikatet i HttpRequest.ClientCertificates.\nEksempelkode ligger her (krever innlogging).\nNår man autentiserer seg mot REST-apiet ved hjelp av sertifikat, bruker man hele sertifikatet (eks .p12) - ikke .cer som man eksporterer for å opprette virksomhetsbruker i portal.\n"
},
{
	"uri": "https://altinn.github.io/docs/api/sluttbruker-api/diverse/",
	"title": "Diverse",
	"tags": [],
	"description": "Forskjellige andre ting man kan benytte API&#39;et til.",
	"content": "\r\rMetadata\r\rAltinn API tilbyr en ressurs som gir tilgang til metadata for tjenester tilgjengelige i Altinn.\n\rReferanse-app\r\rAltinn har tilgjengeliggjort referansekode for å gjøre det enklere å lage applikasjoner med Altinn-funksjonalitet.\n\rProfil\r\rAltinn API tilbyr tilgang til profil-data.\n\r"
},
{
	"uri": "https://altinn.github.io/docs/guides/lenketjenester/",
	"title": "Lenketjenester",
	"tags": [],
	"description": "Implementasjonsguiden for lenketjenester gir en teknisk beskrivelse av hvordan lenketjenester i Altinn skal implementeres.",
	"content": " 1 Innledning Implementasjonsguiden for lenketjenester gir en teknisk beskrivelse av hvordan lenketjenester i Altinn skal implementeres. Dokumentet er ment for utviklingsressurser hos tjenesteeiere som skal utvikle lenketjenester. Implementasjon av lenketjenesten i Altinn krever at tjenesteeiere også oppretter føderering av brukere fra IDPorten mot sin tjeneste. Dette dokumentet inneholder ikke detaljert informasjon om oppsett av føderering mot IDPorten, men beskriver hvordan løsningen for lenketjenester forholder seg til IDPorten, og hva dette innebærer for tjenesteeieren.\n2 Definisjoner\n3 Refererte dokumenter og linker    Dokument Beskrivelse     Implementasjonsguide for integrasjon mot Altinn.doc Dette dokumentet beskriver den overordnede arkitekturen for integrasjon mot Altinn, samt sikkerhetsmekanismer som benyttes for kommunikasjon mellom Altinn og eksterne systemer.   Altinns selvbetjeningsportal https://selvbetjening.brreg.no/src/secure/main.jsp#services/home    4 Overordnet flyt for lenketjenesten Lenketjenester i Altinn kan benyttes av tjenesteeiere som ønsker å tilgjengeliggjøre sine tjenester via Altinn, og ta i bruk Altinns autorisasjonsmodell, men ønsker å beholde egen tjenestemotor. Lenketjenester defineres i TUL og migreres til SBL på linje med andre tjeneste¬typer, slik at avgiver- og rettighetskrav kan konfigureres i TUL og lenketjenester kan knyttes inn i samhandlingstjenester.\nTil forskjell fra lenketjenesten på Altinn I plattformen er det ikke lenger Altinn som leverer autentiseringsinformasjon til tjenesteeieren, derimot må tjenesteiere integrere seg med IDPorten for føderering av brukere (Single Sign On).\nLenketjenesten har dermed tre aktører:\n IDPorten, som er Identity Provider og foretar autentisering av sluttbruker Altinn, som har lenketjenensten og foretar autorisasjonskontroll, tjenestekontroller og viderefører sluttbruker til tjeneste i ekstern portal. Tjenesteeier for ekstern tjeneste som tilbyr tjenesten til sluttbruker.  Normalflyten for en lenketjeneste og hvordan de tre aktørene spiller sammen vil nå beskrives nærmere.\n Figur 1 – Flyt for lenketjeneste - autentisering   Figur 1 viser IDPorten, Altinn, tjenesten og tjenesteeier i et standard «SAML-univers». Altinn er ikke Identity Provider og IDPorten utfører dermed all autentisering av sluttbrukere som deretter fødereres mot Altinn som er Service Provider. Altinn deltar i IDPortens Circle of trust sammen med tjenesteeiere for lenketjenester som også er Service Provider.\n Punkt 1a og 1b. Sluttbruker når lenketjenesten på to måter; via tjenestekatalogen i Altinn eller via dyplenke hos tjenenesteeier. Punkt 2. Når sluttbruker prøver å nå lenketjenesten i Altinn blir det sjekket om sluttbruker er pålogget Altinn. Dersom sluttbruker ikke er pålogget Altinn, blir brukeren ført til IDPorten for autentisering. Sluttbruker blir autentisert i IDPorten og IDPorten fødererer sluttbrukerens identitet til Altinn.   Figur 2 – Flyt for lenketjenesten – Valg av avgiver og tjenestekontroll   Altinn har verifisert sluttbrukerens identitet og sluttbrukeren er innenfor Circle of Trust med IDPorten og Altinn. Circle of Trust er et begrept innenfor SAML som beskriver systemer med gjensidig tillitt.\n Punkt 3. og Punkt 4. Sluttbrukeren blir ført til valg av avgiver siden i Altinn. Avgiverkontroll og eventuelle tjenestekontroller som er satt på lenketjenesten i TUL blir utført.\n Punkt 5. Dersom sluttbruker og valgt avgiver tilfredstiller kontrollene satt på tjenesten, blir brukeren videreført til den eksterne tjenesten med en temporær nøkkel lagt til URL.   Figur 3 - Flyt for lenketjenesten - Autorisasjonskontroll   Tjenesteeier har verifisert at sluttbrukeren er autentisert og sluttbruker er innenfor Circle of Trust med IDPorten, Altinn og Tjenesteeier.\n Punkt 6. Når sluttbruker kommer til den beskyttede tjenesten hos tjenesteeier, må tjenesteeier sjekke om sluttbrukeren er pålogget i tjenesteeiers løsning. Dersom sluttbrukeren ikke er pålogget i tjenesteeiers løsning, verifiseres det at brukeren er pålogget i IDPorten og IDPorten fødererer sluttbrukerens identitet til tjenesteeier. Punkt 7. Tjenesteeier bruker den temporære nøkkelen lagt på URL (tempkey) i webservicekall mot Altinn og henter avgiver valgt av sluttbruker i Altinn. Punkt 8. Tjenesteeier sender XACML request i webservicekall til Altinn for å få bekreftet at sluttbruker har rettigheter til å utføre spesifisert operasjon på lenketjenesten til tjenesteeieren for valgt avgiver. Punkt 9. Brukeren kan nå lenketjenesten.  5 Implementasjon av lenketjenesten. De påfølgende kapitlene vil gi en teknisk detaljert beskriveles av hvordan tjenesteiere bør implementere lenketjenesten i tjenesteeieres applikasjon.\n5.1 Utvikling av tjenesteiers eksterne tjeneste Hvordan tjenesten skal fungere i ekstern portal har Altinn ikke et forhold til, og tjenesteier har selv ansvaret for utviklingen av applikasjonen som driver den eksterne tjenesten. Men, i forhold til lenketjenesten i Altinn er det tre hovedfunksjoner tjenesteier må implementere i sin løsning.\n1. Føderering av identitet fra IDPorten Ressursene som inngår i tjenesten, og dermed er tilgjengelige for sluttbrukere, må beskyttes ved bruk av SAML for føderering av brukerindentiet fra IDPorten. Hvordan dette løses kan tjenesteier selv avgjøre innen for de kravene som stilles av IDPorten. Det som er viktig for lenketjenesten er at sluttbrukers identitet blir verifisert og mottatt i applikasjonen.\n2. Hente avgiver med tempkey fra Altinn. Når sluttbrukeren overføres fra Altinn til den eksterne tjenesten i en http GET request blir en temporær nøkkel (tempkey) lagt til URL. Denne temporære nøkkelen skal benyttes i webservicekall til Altinn for å hente avgiveren brukeren har valgt i portalen. Det er altså viktig at den temporære nøkkelen kan videreføres igjennom fødereringen mot IDPorten, og dermed kan det være hensiktsmessig at applikasjonen mellomlagrer den temporære nøkkelen før sluttbrukeren blir «redirected» til IDPorten i forbindelse med føderering.\n3. Sjekke sluttbrukers autorisasjon ved bruk av webservice Når identiteten til sluttbrukeren er fastslått etter fødereringen fra IDporten, og avgiver er mottatt i responsen fra Altinns webservice, må applikasjonen benytte Altinns autorisasjonswebservice for å få bekreftet at sluttbruker har rettigheter til å utføre spesifisert operasjon på lenketjenesten til tjenesteeieren for valgt avgiver.\n5.2 Integrasjon mot IDPorten ID-Porten er Identity Provider for lenketjenester, og tjenesteeiere i Altinn som har lenketjenester må etablere en egen, standard, samarbeidsavtale med ID-porten. Dette fordi en slik tjenesteeier vil måtte ha en direkte integrasjon mot ID-porten. DIFI har utarbeidet en tilslutningsguide som beskriver den jobben som må gjøres for å sette opp SAML-integrasjon mot IDPorten. Tilslutningsguiden finnes under ID-Porten \u0026gt; Dokumentasjon i Samarbeidsportalen til Difi.\n5.3 Utvikle Lenketjenesten i TUL Lenketjenestene utvikles i TUL på samme måte som andre tjenestetyper, ved at man først oppretter en tjeneste med tjenestetype Lenketjeneste, og deretter har utgaver av tjenesten på nivået under. Det er utgavene som migreres til SBL og er tilgjengelig for sluttbruker. Når tjenesten opprettes blir det generert en ekstern tjenestekode, som er unik for hver enkelt tjeneste. Sammen med ekstern utgavekode, som man setter på Utgaveparametre, danner ekstern tjenestekode en unik identifikator til hver utgave. Ekstern tjenestekode og ekstern utgavekode brukes både i direktelenke til tjenesten i Altinn, samt i autorisasjonsforespørselen mot Altinn.\nDet som skiller lenketjenestene fra andre tjenestetyper er at det på lenketjenestene legges inn en URL til tjenesten på tjenesteeiers side i utgavespesifikasjonen, og siden test-URL og prod-URL er forskjellig, må man derfor alltid opprette en test-utgave og en prod-utgave.\nPå utgaveparametre definerer man lenken som skal peke mot skjema: - Utgavenavn – dette er navnet som sluttbruker ser i SBL - Kortnavn – vises bare i TUL - Ekstern utgavekode – numerisk kode som må være unik innen hver tjeneste. Sammen med tjenestekoden utgjør tjenesteutgavekoden en unik identifikator av tjenesesteutgaven, og dyplenken til skjema vil bestå av disse to verdiene - Hovedspråk – angi hvilket hovedspråk tjenesten skal finnes på - Gyldighetsdatoer – angi gyldig fra-dato og gyldig til-dato - Instansierings-/serivcekontroller - Altinn verifiserer at valgt avgiver er over 18 år før brukeren gis tilgang til lenketjenesten. Er kun gyldig dersom avgiver er person. - Altinn verifiserer at innlogget bruker har registerert personlig epostadresse i profilen før brukeren gis tilgang til lenketjenesten. - Lenketjeneste detaljer – her legges url til tjenesten på tjenesteeiers skjemamotor inn - Logging og sporing – angi om loggings og sporingsinfo skal lagres i tredjeparts arkiv, og evt hvor lenge. Minimum 10 år hvis logging/sporing skal benyttes. - Avgiverkrav – angi hvike aktører/avgivere som skal kunne bruke tjenesten. Tilgjengelige valg er; - Privatperson - Juridisk enhet - Bedrift - Konkursbo - Bedrift eller juridisk enhet - Person eller juridisk enhet - Bedrift, juridisk enhet eller konkursbo - Alle aktører - Sikkerhetsnivå – lenketjenester i Altinn 2 må settes opp med sikkerhetsnivå 3 eller 4, fordi IDPorten benyttes til autentisering og de tilbyr nivå 3 og 4. - Virksomhetsbrukere – angi om sluttbrukere skal kunne bruke virksomhetssertifikat til å logge inn. Med virksomhetssertifikat er det ingen knytning til fødselsnummeret til vedkommende som bruker tjenesten. - Samhandlingstjeneste – lenketjenester kan defineres til å kunne inngå i en samhandlingstjeneste. Da settes det et kryss på utgaven her, og utgaven vil være valgbar som tilgjengelig tjeneste for samhandlingstjenester.\nAltinn rolle På samme måte som andre tjenestetyper, må lenketjenestene knyttes til en eller flere Altinn-roller slik at tjenestene blir tilgjengelig for sluttbrukerne. Altinn-rollene er knyttet til et sett med eksterne roller fra Enhetsregisteret (ER), og når tjenesteeier skal velge hvilke(n) Altinn-rolle\u0026reg; som skal gi tilgang til tjenesten, er det viktig å tenke over en del ting; - Hvem skal bruke tjenesten – det må velges en eller flere roller som sikrer at alle aktuelle avgivere har tilgang til tjenesten. Ulike organisasjonstyper registrerer ulike typer eksterne roller i ER, og tjenesteeier må velge en Altinn-rolle som dekker ulike organisasjonstyper. F.eks vil et enkeltpersonsforetak kanskje bare ha innehaver registrert, mens et AS har både daglig leder, styreleder og revisor. Hvis både ENK’et og AS’et skal kunne benytte tjenesten, må Altinn-rollen som knyttes til tjenesten være knyttet til både Innehaver og Daglig leder, Styreleder eller Revisor. Tilgjengelige roller finnes på \u0026ldquo;rolleadministrasjonssiden\u0026rdquo; i TUL og i portalhjelpen i SBL.\n Skal ulike roller har tilgang til å utføre ulike operasjoner på tjenesten? Dette kan man skille på i rolletilknytningen. Vær i midlertid oppmerksom på at Altinn kun sjekker at man har lese-tilgang til tjenesten ved instansiering. Hvis man ønsker en mer detaljert autorisasjonssjekk, må dette implementeres i tjenesteeiers tjeneste-applikasjon.  5.4 Bruk av Altinns autorisasjonswebservice Altinns webservice for autorisasjon kan benyttes av tjenesteiere til å foreta autorisasjonsbeslutninger basert på rolle og rettighetsregler og delegeringer som ligger i Altinns autorisasjonsdatabase. Dette gjør at eksterne tjenester som ikke benytter Altinns tjenestemotor likevel kan benytte Altinns autorisasjonsmodell på tjenesten. For lenketjenester, for eksempel en tjeneste hvor avgiver kan være en organisasjon, er dette sentralt.\nDisse tabellene viser endepunktene og operasjonene for Altinns to webservices for autorisasjon som er aktuelle for lenketjenesten.\nAuthorizationAdministration https://www.altinn.no/AuthorizationExternal/AdministrationExternal.svc?wsdl\n   Input Beskrivelse Endepukt operasjon     GetReporteeByTempKey https://www.altinn.no/AuthorizationExternal/AdministrationExternal.svc GetReporteeByTempKey   GetReportees https://www.altinn.no/AuthorizationExternal/AdministrationExternal.svc GetReportees    AuthorizationDecisionPointExternal https://www.altinn.no/AuthorizationExternal/AdministrationExternal.svc?wsdl\n   Basis operasjon URI/endepunkt Endepukt operasjon     ExternalReporteeBE https://www.altinn.no/AuthorizationExternal/AuthorizationDecisionPointExternal.svc AuthorizeAccessExternal       Input Beskrivelse     tempKey Nøkkel som angitt i lenketjenestens request URL, vil utgå etter at informasjon er hentet ut – pålagt parameter.   Returverdi Beskrivelse   ExternalReporteeBE ExternalReporteeBE-objekt.       Returverdi Beskrivelse     Name Avgivers navn   OrganizationNumber Organisasjonsnummer for denne avgiveren hvis dette er en organisasjon.   SSN Fødselsnummer for denne avgiveren hvis dette er en person.   Reportee Type Typebeskrivelse for hvilken type avgiver dette er: None, Person, Organization, eller SelfIdentified (ikke et praktisk mulig scenario i denne sammenhengen).    Eksempel Request \u0026lt;?xml version=\u0026quot;1.0\u0026quot;?\u0026gt; \u0026lt;soap:Envelope xmlns:soap=\u0026quot;http://www.w3.org/2003/05/soap-envelope\u0026quot; xmlns:ns=\u0026quot;http://www.altinn.no/services/Authorization/Administration/2010/10\u0026quot;\u0026gt; \u0026lt;soap:Header/\u0026gt; \u0026lt;soap:Body\u0026gt; \u0026lt;ns:GetReporteeByTempKey\u0026gt; \u0026lt;ns:tempKey\u0026gt;76d4afac-f228-4055-bde5-f4aae0c6af8f\u0026lt;/ns:tempKey\u0026gt; \u0026lt;/ns:GetReporteeByTempKey\u0026gt; \u0026lt;/soap:Body\u0026gt; \u0026lt;/soap:Envelope\u0026gt;  \r\rXML SOAP request\r\r\rgetReporteeByTempKeyReq.xml\r\r(0 ko)\r\r\rEksempel Response \u0026lt;s:Envelope xmlns:s=\u0026quot;http://www.w3.org/2003/05/soap-envelope\u0026quot; xmlns:a=\u0026quot;http://www.w3.org/2005/08/addressing\u0026quot; xmlns:u=\u0026quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\u0026quot;\u0026gt; \u0026lt;s:Header\u0026gt; \u0026lt;a:Action s:mustUnderstand=\u0026quot;1\u0026quot;\u0026gt;http://www.altinn.no/services/Authorization/Administration/2010/10/IAuthorizationAdministrationExternal/GetReporteeByTempKeyResponse\u0026lt;/a:Action\u0026gt; \u0026lt;o:Security s:mustUnderstand=\u0026quot;1\u0026quot; xmlns:o=\u0026quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\u0026quot;\u0026gt; \u0026lt;u:Timestamp u:Id=\u0026quot;_0\u0026quot;\u0026gt; \u0026lt;u:Created\u0026gt;2012-11-29T07:19:14.278Z\u0026lt;/u:Created\u0026gt; \u0026lt;u:Expires\u0026gt;2012-11-29T07:24:14.278Z\u0026lt;/u:Expires\u0026gt; \u0026lt;/u:Timestamp\u0026gt; \u0026lt;/o:Security\u0026gt; \u0026lt;/s:Header\u0026gt; \u0026lt;s:Body\u0026gt; \u0026lt;GetReporteeByTempKeyResponse xmlns=\u0026quot;http://www.altinn.no/services/Authorization/Administration/2010/10\u0026quot;\u0026gt; \u0026lt;GetReporteeByTempKeyResult xmlns:b=\u0026quot;http://schemas.altinn.no/services/Authorization/Administration/2012/11\u0026quot; xmlns:i=\u0026quot;http://www.w3.org/2001/XMLSchema-instance\u0026quot;\u0026gt; \u0026lt;b:Name\u0026gt;HÅKON TRANA\u0026lt;/b:Name\u0026gt; \u0026lt;b:OrganizationNumber i:nil=\u0026quot;true\u0026quot;/\u0026gt; \u0026lt;b:ReporteeType\u0026gt;Person\u0026lt;/b:ReporteeType\u0026gt; \u0026lt;b:SSN\u0026gt;05116602352\u0026lt;/b:SSN\u0026gt; \u0026lt;/GetReporteeByTempKeyResult\u0026gt; \u0026lt;/GetReporteeByTempKeyResponse\u0026gt; \u0026lt;/s:Body\u0026gt; \u0026lt;/s:Envelope\u0026gt;  Feilsituasjoner Dersom nøkkelen er ugyldig (for eksempel, på grunn av timeout, eller tidligere bruk) vil operasjonen returnere en Altinnfault. Den eksterne tjenesten bør da presentere en feilmelding for sluttbruker, og gi sluttbruker mulighet til å gå tilbake til Altinn (dyplenken til tjenesten) for å starte tjenesten på ny.\n5.4.2 AuthorizationDecisionPointExternal.AuthorizeAccessExternal Når applikasjonen som driver den eksterne tjenesten har verifisert identiten til brukeren med føderering fra IDPorten, og mottatt avgiver (valgt av sluttbruker) ved kall til GetReporteeByTempKey, må det verifiseres at sluttbruker har rettighet til å benytte tjenesten for valgt avgiver. Dette gjøres med kall til AuthorizationDecisionPointExternal.AuthorizeAccesExternal.\nAuthorizeAccessExternal operasjonen benytter XACML standarden og regler lagret i Altinn til å returnere en autorisasjonsbeslutning. Besluttningsgrunnlaget til autorisasjon for tjenester er de regler (rolleknytninger) som tjenesteeier har satt på lenketjenesten i TUL.\nDet kreves en XACMLRrquest som gir et XACML standardisert svar\nXACML-forespørselen skal inneholde en kombinasjon av følgende elementer:\n   Foreldre-node AttributeId Gyldige verdier i AttributeValue Eksempel     Subject urn:oasis:names:tc:xacml:2.0:subject: urn:altinn:ssn Utførende brukers fødselsnummer \u0026lt;Attribute AttributeId=\u0026quot;urn:oasis:names:tc:xacml: 2.0:subject:urn:altinn:ssn\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;AttributeValue\u0026gt;07037512345\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt;   Resource urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:reportee-ssn Avgivers fødselsnummer \u0026lt;AttributeAttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0: resource:urn:altinn:reportee-ssn\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;AttributeValue\u0026gt;010203401944\u0026lt;/AttributeValue\u0026gt;\u0026lt;/Attribute\u0026gt;   Resource urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:reportee-orgno Avgivers organisasjonsnnummer \u0026lt;Attribute AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0: resource:urn:altinn:reportee-orgno\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;AttributeValue\u0026gt;910453777\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt;   Resource urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:externalservicecode Eksterne tjenestekoder \u0026lt;Attribute AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:externalservicecode\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;AttributeValue\u0026gt;2298\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt;   Resource urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:externalserviceeditioncode Ekstern utgavekode (tilhørende overnevnte tjenestekode) \u0026lt;/Attribute\u0026gt; \u0026lt;Attribute AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:externalserviceeditioncode\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;AttributeValue\u0026gt;60804\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt;   Action urn:oasis:names:tc:xacml:2.0:action:urn:altinn:action-id Read Write Sign ArchiveRead ArchiveDelete ServiceOwnerArchiveRead Delegate Hvilke operasjoner som kan benyttes for den aktuelle lenketjenesten defineres i TUL. \u0026lt;Attribute AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:action:urn:altinn:action-id\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;AttributeValue\u0026gt;Sign\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt;   Environment urn:oasis:names:tc:xacml:2.0:action:urn:altinn:environment YT2 YT AT8 AT3 AT4 AT5 TT1 TT2 Prod \u0026lt;Attribute AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0: action:urn:altinn:environment\u0026quot;DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;AttributeValue\u0026gt;PR\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt;    XACML-forespørselen skal inneholde kun et Resource element med kombinasjon av enten avgivers fødselsnummer (urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:reportee-ssn) eller avgivers organisasjonsnummer (urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:reportee-orgno), samt ekstern tjenestekode og utgavekode (urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:externalservicecode og urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:externalserviceeditioncode). Det må angis hvilket miljø requesten gjelder i Environment elementet (urn:oasis:names:tc:xacml:2.0:action:urn:altinn:environment). Altinn spesifikke elementer XACML-respons:\n   Foreldre-node AttributeId Gyldige verdier i AttributeValue Eksempel     Obligation urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:authenticationlevel Autentiseringsnivå 0, 1, 2, 3, 4 Hvilke nivå som skal kreves for en resurs. \u0026lt;tns:Obligation FulfillOn=\u0026quot;Permit\u0026quot; ObligationId=\u0026quot;\u0026quot;\u0026gt; \u0026lt;tns:AttributeAssignment AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:obligation:urn:altinn:authenticationlevel\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;tns:AttributeValue DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#integer\u0026quot;\u0026gt;3\u0026lt;/tns:AttributeValue\u0026gt; \u0026lt;/tns:AttributeAssignment\u0026gt; \u0026lt;/tns:Obligation\u0026gt;    Nedenfor vises eksempler på gyldig forespørsler:\nAuthorizationRequest: \u0026lt;?xml version=\u0026quot;1.0\u0026quot; encoding=\u0026quot;UTF-8\u0026quot;?\u0026gt; \u0026lt;Request xmlns=\u0026quot;urn:oasis:names:tc:xacml:2.0:context:schema:os\u0026quot; xmlns:xsi=\u0026quot;http://www.w3.org/2001/XMLSchema-instance\u0026quot; xsi:schemaLocation=\u0026quot;urn:oasis:names:tc:xacml:2.0:context:schema:os http://docs.oasis-open.org/xacml/access_control-xacml-2.0-context schemaos.xsd\u0026quot;\u0026gt; \u0026lt;!-- Altinn Sample Request. --\u0026gt; \u0026lt;!-- This authorization request tries to verify if user --\u0026gt; \u0026lt;!-- 06069460079 is allowed to perform sign operation --\u0026gt; \u0026lt;!-- on behalf of reportee 910453777 --\u0026gt; \u0026lt;!-- on service 2298, edition 60804 --\u0026gt; \u0026lt;Subject\u0026gt; \u0026lt;Attribute AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:ssn\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;AttributeValue\u0026gt;06069460079\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt; \u0026lt;/Subject\u0026gt; \u0026lt;Resource\u0026gt; \u0026lt;Attribute AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:reporte-orgno\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;AttributeValue\u0026gt;910453777\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt; \u0026lt;Attribute AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:externalservicecode\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;AttributeValue\u0026gt;2298\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt; \u0026lt;Attribute AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:externalserviceeditioncode\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;AttributeValue\u0026gt;60804\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt; \u0026lt;/Resource\u0026gt; \u0026lt;Action\u0026gt; \u0026lt;Attribute AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:action:urn:altinn:action-id\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;AttributeValue\u0026gt;Sign\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt; \u0026lt;/Action\u0026gt; \u0026lt;/Request\u0026gt;  Operasjonen returnerer XML som også følger XACML standarden. Under vises et eksempel på en response.\nAuthorizationResponse: \u0026lt;xacml:Response xmlns:tns=\u0026quot;urn:oasis:names:tc:xacml:2.0:policy:schema:os\u0026quot; xmlns:xacml=\u0026quot;urn:oasis:names:tc:xacml:2.0:context:schema:os\u0026quot; xmlns:xsi=\u0026quot;http://www.w3.org/2001/XMLSchema-instance\u0026quot; xsi:schemaLocation=\u0026quot;urn:oasis:names:tc:xacml:2.0:context:schema:os http://docs.oasis-open.org/xacml/2.0/access_control-xacml-2.0-context-schema-os.xsd\u0026quot;\u0026gt; \u0026lt;xacml:Result ResourceId=\u0026quot;\u0026quot;\u0026gt; \u0026lt;xacml:Decision\u0026gt;Permit\u0026lt;/xacml:Decision\u0026gt; \u0026lt;xacml:Status\u0026gt; \u0026lt;xacml:StatusCode Value=\u0026quot;urn:oasis:names:tc:xacml:2.0:response:urn:altinn:ok\u0026quot; /\u0026gt; \u0026lt;xacml:StatusMessage\u0026gt;\u0026lt;/xacml:StatusMessage\u0026gt; \u0026lt;/xacml:Status\u0026gt; \u0026lt;tns:Obligations\u0026gt; \u0026lt;tns:Obligation FulfillOn=\u0026quot;Permit\u0026quot; ObligationId=\u0026quot;\u0026quot;\u0026gt; \u0026lt;tns:AttributeAssignment AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:obligation:urn:altinn:authenticationlevel\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;tns:AttributeValue DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#integer\u0026quot;\u0026gt;3\u0026lt;/tns:AttributeValue\u0026gt; \u0026lt;/tns:AttributeAssignment\u0026gt; \u0026lt;/tns:Obligation\u0026gt; \u0026lt;/tns:Obligations\u0026gt; \u0026lt;/xacml:Result\u0026gt; \u0026lt;/xacml:Response\u0026gt;  Det er opprettet en Altinn-tilpasset XACML context XSD som kan brukes til å validere XACML request fra tjenesteeier. Denne inneholder de gyldige attributtene for XACML requester som sendes til Altinn. Altinn XACML context XSD ligger på Altinnnett under systemdokumentasjon.\nAutorisasjonsbeslutning Dersom XACML responsen fra Altinn (xacml:DecisionPermit/xacml:Decision) indikerer at brukeren har rettighet til å utføre spesifisert operasjon for spesifisert avgiver på spesifisert tjenesteutgave, kan brukeren gis adgang til den eksterne tjenesten.\nMen, dersom XACML responsen fra Altinn (xacml:DecisionDeny/xacml:Decision) indikerer at brukeren IKKE har rettighet til å utføre operasjoen, må applikasjonen nekte sluttbruker adgang til den eksterne tjenesten. Da bør sluttbruker gis mulighet til å velge avgiver på ny, og dette kan gjøres på flere måter:\n Sluttbruker kan sendes tilbake til Altinn (via dyplenke til tjenesten) for å velge avgiver på ny. Applikasjonen for eksterne tjenesten kan hente liste over sluttbrukers mulige avgivere ved kall til AuthorizationAdministration.GetReportees (se kapittel ) og gi sluttbruker mulighet til å velge avgiver på nytt i den eksterne tjenesten.  Uavhengig av valgt metode for å velge avgiver på nytt, må det gjøre et påfølgende kall til AuthorizeAccessExternal metoden.\nFeilsituasjoner Dersom Altinn ikke klarte å gjøre en korrekt beslutning for parameterne spesifisert i requesten, vil XACML responsen fra Altinn indikerere dette (xacml:DecisionIndeterminate/xacml:Decision). Ved annen teknisk feil vil operasjonen returnere en Altinnfault. Den eksterne tjenesten bør da presentere en feilmelding for sluttbruker, og gi sluttbruker mulighet til å gå tilbake til Altinn (dyplenken til tjenesten) for å starte tjenesten på ny.\n5.4.3 AuthorizationAdministrationExternal.GetReportees Metoden GetReportees returnerer alle mulige avgivere for en person (identifisert med fødselsnummer) uavhengig av hvilke roller/rettigheter denne personen har for avgiveren. Dermed må det også ved bruk av denne tjenesten utføres en påfølgende autorisasjonssjekk med XACML webservice mot en lenketjeneste som rollekravene for den eksterne tjenesten kan knyttes til.\nDersom tjenesteier ønker å la sluttbrukeren velge avgiver i egen tjeneste som standard, kan applikasjonen som driver ekstern tjeneste oppnå dette ved å bruke denne metoden.\nDa må tjenesteeier gjøre følgende:\n Opprette lenketjeneste i Altinn og knytte den til en Altinn rolle. Dette gjør at roller/rettigheter for tjenesten kan delegeres i Altinns rolledelegeringside.\n Implementere valg av avgiver i egen portal og bruke GetReportees til å få liste over mulige avgivere fra Altinn.\n Implementere bruk av AuthorizeAccessExternal til å sjekke at brukeren har rettighet på tjenesten til til tjenesteier for valgt avgiver.\n  Da trenger ikke sluttbrukerne å gå innom Altinn for å bruke tjenesten. Men delegering av roller og rettigheter til tjenesten må fremdeles gjøres i Altinn.\nDersom tjenesteeier ikke ønsker å benytte valg av avgiver i Altinn kan de heller ikke benytte følgende servicekontroller på tjenesten:\n Kontroll av korrekt avgivertype (person, bedrift, juridisk enhet etc) Kontroll av at avgiver er 18. år Kontroll av at pålogget bruker har registrert epost i sin profil.  Tabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     userSSN Fødselsnummeret til brukeren det skal hentes avgivere for – pålagt parameter.   retrieveInActiveReportee Flagg for å sette om også inaktive avgivere skal returneres, standard False – valgfri parameter.   RetrieveSubEnitiy Flagg for å sette om også underenheter skal returneres, standard False – valgfri parameter.   maximumReporteeCount Verdi for maksimum antall avgivere som skal returneres, standard satt til alle – valgfri parameter.   Returverdi    ExternalReporteeBEList Liste med ExternalReporteeBE-objekter   Name Avgivers navn   OrganizationNumber Organisasjonsnummer for denne avgiveren hvis dette er en organisasjon   SSN Fødselsnummer for denne avgiveren hvis dette er en person   ReporteeType Typebeskrivelse for hvilken type avgiver dette er: None, Person, Organization, eller SelfIdentified (ikke et praktisk mulig scenario i denne sammenhengen)    Eksempel Request/Response GetReportees Request\n\u0026lt;soap:Envelope xmlns:soap=\u0026quot;http://www.w3.org/2003/05/soap-envelope\u0026quot; xmlns:ns=\u0026quot;http://www.altinn.no/services/Authorization/Administration/2010/10\u0026quot;\u0026gt; \u0026lt;soap:Header/\u0026gt; \u0026lt;soap:Body\u0026gt; \u0026lt;ns:GetReportees\u0026gt; \u0026lt;ns:userSSN\u0026gt;05116602352\u0026lt;/ns:userSSN\u0026gt; \u0026lt;!--Optional:--\u0026gt; \u0026lt;ns:retrieveInActiveReportee\u0026gt;false\u0026lt;/ns:retrieveInActiveReportee\u0026gt; \u0026lt;!--Optional:--\u0026gt; \u0026lt;ns:retrieveSubEnitiy\u0026gt;true\u0026lt;/ns:retrieveSubEnitiy\u0026gt; \u0026lt;!--Optional:--\u0026gt; \u0026lt;ns:maximumReporteeCount\u0026gt;10\u0026lt;/ns:maximumReporteeCount\u0026gt; \u0026lt;/ns:GetReportees\u0026gt; \u0026lt;/soap:Body\u0026gt; \u0026lt;/soap:Envelope\u0026gt;  GetReportees Response\n\u0026lt;s:Envelope xmlns:s=\u0026quot;http://www.w3.org/2003/05/soap-envelope\u0026quot; xmlns:a=\u0026quot;http://www.w3.org/2005/08/addressing\u0026quot; xmlns:u=\u0026quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\u0026quot;\u0026gt; \u0026lt;s:Header\u0026gt; \u0026lt;a:Action s:mustUnderstand=\u0026quot;1\u0026quot;\u0026gt;http://www.altinn.no/services/Authorization/Administration/2010/10/IAuthorizationAdministrationExternal/GetReporteesResponse\u0026lt;/a:Action\u0026gt; \u0026lt;o:Security s:mustUnderstand=\u0026quot;1\u0026quot; xmlns:o=\u0026quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\u0026quot;\u0026gt; \u0026lt;u:Timestamp u:Id=\u0026quot;_0\u0026quot;\u0026gt; \u0026lt;u:Created\u0026gt;2012-11-29T09:06:49.796Z\u0026lt;/u:Created\u0026gt; \u0026lt;u:Expires\u0026gt;2012-11-29T09:11:49.796Z\u0026lt;/u:Expires\u0026gt; \u0026lt;/u:Timestamp\u0026gt; \u0026lt;/o:Security\u0026gt; \u0026lt;/s:Header\u0026gt; \u0026lt;s:Body\u0026gt; \u0026lt;GetReporteesResponse xmlns=\u0026quot;http://www.altinn.no/services/Authorization/Administration/2010/10\u0026quot;\u0026gt; \u0026lt;GetReporteesResult xmlns:b=\u0026quot;http://schemas.altinn.no/services/Authorization/Administration/2012/11\u0026quot; xmlns:i=\u0026quot;http://www.w3.org/2001/XMLSchema-instance\u0026quot;\u0026gt; \u0026lt;b:ExternalReporteeBE\u0026gt; \u0026lt;b:Name\u0026gt;Otta Transport AS Konkursbo\u0026lt;/b:Name\u0026gt; \u0026lt;b:OrganizationNumber\u0026gt;910453092\u0026lt;/b:OrganizationNumber\u0026gt; \u0026lt;b:ReporteeType\u0026gt;Organization\u0026lt;/b:ReporteeType\u0026gt; \u0026lt;b:SSN i:nil=\u0026quot;true\u0026quot;/\u0026gt; \u0026lt;/b:ExternalReporteeBE\u0026gt; \u0026lt;b:ExternalReporteeBE\u0026gt; \u0026lt;b:Name\u0026gt;MJOSUNDET OG RYPEFJORD\u0026lt;/b:Name\u0026gt; \u0026lt;b:OrganizationNumber\u0026gt;910059106\u0026lt;/b:OrganizationNumber\u0026gt; \u0026lt;b:ReporteeType\u0026gt;Organization\u0026lt;/b:ReporteeType\u0026gt; \u0026lt;b:SSN i:nil=\u0026quot;true\u0026quot;/\u0026gt; \u0026lt;/b:ExternalReporteeBE\u0026gt; \u0026lt;b:ExternalReporteeBE\u0026gt; \u0026lt;b:Name\u0026gt;HÅKON TRANA\u0026lt;/b:Name\u0026gt; \u0026lt;b:OrganizationNumber i:nil=\u0026quot;true\u0026quot;/\u0026gt; \u0026lt;b:ReporteeType\u0026gt;Person\u0026lt;/b:ReporteeType\u0026gt; \u0026lt;b:SSN\u0026gt;05116602352\u0026lt;/b:SSN\u0026gt; \u0026lt;/b:ExternalReporteeBE\u0026gt; \u0026lt;/GetReporteesResult\u0026gt; \u0026lt;/GetReporteesResponse\u0026gt; \u0026lt;/s:Body\u0026gt; \u0026lt;/s:Envelope\u0026gt;  Feilsituasjoner Dersom sluttbrukeren (spesifisert med fødselsnummer) ikke har gitt samtykke til bruk av Altinn som privatperson eller for andre, vil GetReportees returnere en tom liste.\nDersom sluttbruker (spesifisert med fødselsnummer) ikke har gitt samtykke til å rapportere på vegne av organisasjoner eller andre personer, vil GetReportees kun returnere sluttbruker selv som mulig avgiver.\nDersom sluttbrukeren (spesifisert med fødselsnummer) ikke har gitt personlig samtykke i Altinn, vil GetReportees kun returnere organisasjoner eller andre personer som gyldige avgivere for sluttbrukeren.\nI disse tilfellene må sluttbruker informeres om dette, og gis mulighet til å logge inn i Altinn for å gi sitt samtykke.\nDersom det fødselsnummeret spesifisert er ugyldig vil Altinn returnere en Altinnfault\n6 Feilsituasjoner i produksjon Dersom det oppdages feil ved bruk av lenketjenesten, er det viktig at det indentifiseres hvor feilen ligger. Feil i forbindelse med føderering fra IDPorten skal meldes til IDPorten og ikke til Altinn.\nDersom lenken til den eksterne tjenesten i Altinn er korrekt, det ikke er feil i forbindelse med føderering fra IDPorten, og tjenesteeier er sikker på at feilen ikke ligger i egen applikasjon bør tjenesteeier kontakte ASF. Feilmelding kan da sendes til tjenesteeier@altinn.no\nFeilmeldingen må inneholde informasjon om tjenesten, tidspunkt for feilen og hvilke brukere og avgivere feilen dreier seg om. SOAP request og response for kall til Altinns autorisasjonswebservices må også vedlegges feilmeldingen.\n"
},
{
	"uri": "https://altinn.github.io/docs/altinncore/status/",
	"title": "Status",
	"tags": [],
	"description": "Status på arbeidet med 3.0.",
	"content": "Dette er siste overordnede status for utviklingen av tjenester 3.0.\nStatus vil oppdateres etter hvert som ny informasjon er tilgjengelig.\nArbeid med konsepter, arkitektur og veivalg (2015-2016) Teknisk PoC utviklet for å verifisere konsepter og veivalg (april-juni 2016) Presentere PoC og konsepter for tjenesteutviklere og arkitekter for å få feedback (juni-september 2016) Presentasjon og demo på servicelederseminar med tjenesteeierne (14. september 2016) Levert satsingsforslag for 2018, tjenester 3.0 sentral del av satsing (november 2016) Altinndagen 2016, der presentasjon om satsingsområde \u0026ldquo;Brukerorientering\u0026rdquo; viste hvordan en fremtidig tjeneste kan fungere (28. november 2016) Tjenester 3.0 som produkt i Altinn produktstrategi (versjon 1.0 var ferdig 10. januar 2017, versjon 1.1 ble ferdigstilt 2. mars) Altinn Design System utvikles med målsetting om å kunne gjenbruke UI-patterns på tvers av tekniske løsninger (ferdigstilles frem mot sommeren 2017) Utvikle en begrenset alpha slik at man kan lage enkle tjenester. Starte Enkeltpersonforetak brukes som case (utvikling tentativt sommeren 2017, alpha tilgjengelig høsten 2017) Arkitekturarbeid og arbeid med løsningsdesign, involvering av tjenesteeiere (høsten 2017) Avklaringer finansiering satsingsforslag for 2018, tjenester 3.0 sentral del av satsing (oktober 2017)  "
},
{
	"uri": "https://altinn.github.io/docs/guides/",
	"title": "Guider",
	"tags": [],
	"description": "Vår dokumentasjon for hvordan man tar i bruk Altinn som tjenesteeier.",
	"content": "I Altinn har vi flere guider, som er vår dokumentasjon for hvordan man tar i bruk Altinn som tjenesteeier. I første omgang så konverterer vi eksisterende dokumentasjon, før vi splitter opp, forenkler og forbedrer.\nDisse vil med andre ord forbedres kraftig i tiden fremover, så det er foreløpig ikke nødvendig å melde feil.\n\rGuide for tjenesteeier\r\rBeskrivelse av de tjenester Altinn tilbyr alle tjenesteeiere og hvordan deres systemer kan integrere seg mot disse.\n\rLenketjenester\r\rImplementasjonsguiden for lenketjenester gir en teknisk beskrivelse av hvordan lenketjenester i Altinn skal implementeres.\n\rDefinisjoner\r\rBeskrivelse av ulike begreper som benyttes i Altinn.\n\rReferanser\r\rDiverse referanser og lenker.\n\r"
},
{
	"uri": "https://altinn.github.io/docs/altinncore/satsingsforslag/",
	"title": "Satsingsforslag 2018",
	"tags": [],
	"description": "",
	"content": " Oppsummering For å nå målsettingene i Regjeringens satsingsområde Konkurransekraft for norske arbeidsplasser, Digital agenda og å nå målene i Altinn-strategien, foreslås det å modernisere Felleskomponenten Altinn. Videreutvikling av Altinn legger til rette for økt realiseringstakt av helhetlige digitale offentlige sluttbrukertjenester, og muliggjør prinsippet om at informasjon til det offentlige skal leveres kun én gang. Selvbetjente verktøy for tjenesteproduksjon skal forenkle, og det skal legges bedre til rette for samhandling, innovasjon og informasjonsdeling ved bruk av Altinn.\nFormålet med tiltaket er:\n Helhetlig offentlige sluttbrukertjenester med brukeren i sentrum Informasjon til det offentlige skal leveres kun én gang  "
},
{
	"uri": "https://altinn.github.io/docs/altinncore/",
	"title": "Tjenester 3.0",
	"tags": [],
	"description": "Dette er levende dokumentasjon (under arbeid) for tjenester 3.0, neste generasjon av offentlige tjenester.",
	"content": "Dette er levende dokumentasjon (under arbeid) for tjenester 3.0, neste generasjon av offentlige tjenester.\nEtter hvert vil også kildekoden for 3.0 legges ut åpent på github.com/altinn.\n\rMålsettinger\r\rOverordnede målsettinger for 3.0.\n\rStatus\r\rStatus på arbeidet med 3.0.\n\rSatsingsforslag 2018\r\rOppsummering For å nå målsettingene i Regjeringens satsingsområde Konkurransekraft for norske arbeidsplasser, Digital agenda og å nå målene i Altinn-strategien, foreslås det å modernisere Felleskomponenten Altinn. Videreutvikling av Altinn legger til rette for økt realiseringstakt av helhetlige digitale offentlige sluttbrukertjenester, og muliggjør prinsippet om at informasjon til det offentlige skal leveres kun én gang. Selvbetjente verktøy for tjenesteproduksjon skal forenkle, og det skal legges bedre til rette for samhandling, innovasjon og informasjonsdeling ved bruk av Altinn.\n\rArkitektur\r\rBeskrivelse av arkitekturen til 3.0.\n\rFAQ\r\rOfte stilte spørsmål.\n\r"
},
{
	"uri": "https://altinn.github.io/docs/altinncore/dev-in-code/",
	"title": "Utvikling i kode-editor",
	"tags": [],
	"description": "Hvordan 3.0 kan tilpasses med bruk av kode-editorer.",
	"content": "TODO\n"
},
{
	"uri": "https://altinn.github.io/docs/altinncore/dev-in-browser/",
	"title": "Utvikling i nettleser",
	"tags": [],
	"description": "Hvordan 3.0 kan benyttes av fagpersoner via nettleser.",
	"content": "TODO\n"
},
{
	"uri": "https://altinn.github.io/docs/altinncore/architecture/",
	"title": "Arkitektur",
	"tags": [],
	"description": "Beskrivelse av arkitekturen til 3.0.",
	"content": " Under arbeid\u0026hellip;\nGit Det distribuerte versjonskontrollsystemet Git er nå det klart mest brukte versjonskontrollsystemet for utvikling av programvare.\nDet er derfor naturlig å benytte Git også for lagring og versjonering av tjenestene som utvikles.\nHver tjeneste vil leve i et eget Git-repository, og vil inneholde en eller flere utgaver. En målsetting er å kunne la tjenesteeier velge hvor de utviklede tjenestene skal lagres, f.eks. GitHub, Team Services eller en Git-server som Altinn drifter.\nBåde tjenesteutvikling i nettleser og tjenesteutvikling i kode-editor vil jobbe mot de samme versjonskontrollerte filene, og ha fullt innsyn i de filene som en tjeneste består av.\n Git som back-end   Dokumentasjon Dokumentasjon av tjenester 3.0 vil ligge åpent tilgjengelig på GitHub slik at alle kan bidra og foreslå forbedringer.\nMarkdown vil benyttes som format både for dokumentasjon, men også for tekst-ressurser og dokumentasjon for den enkelte tjeneste som utvikles.\nÅpen kildekode, cross platform Tjenester 3.0 skal være basert på fri programvare og ikke benytte proprietær programvare.\nSe også fjerde målsetting.\nProgramvare PoC\u0026rsquo;en som er utviklet er basert på følgende programvare. Dette er ikke en uttømmende liste, og den kan endre seg.\n   Programvare Beskrivelse     .NET Core Rask, modulær og åpen plattform for moderne applikasjoner. Neste generasjon .NET.   ASP.NET Core MVC Rammeverk for å utvikle web applikasjoner og API\u0026rsquo;er   Bootstrap 4 CSS/JS rammeverk for responsive web-applikasjoner. Benyttes også av Altinn og i designsystemet.   Git Distribuert versjonskontroll-system   Monaco Editor Nettleserbasert kodeeditor, den samme som også benyttes av vs code.   Markdig Bibliotek for håndtering av markdown   Roslyn Kompilatorer og API for avansert kodeanalyse   Visual Studio Code Fantastisk cross-platform kode-editor som bare blir bedre for hver måned.    "
},
{
	"uri": "https://altinn.github.io/docs/altinncore/faq/",
	"title": "FAQ",
	"tags": [],
	"description": "Ofte stilte spørsmål.",
	"content": " Her er svar på de vanligste spørsmålene om tjenester 3.0:\nFinnes det en beskrivelse av tjenester 3.0?  Ja, på overordnet nivå så har vi fire målsettinger, og en beskrivelse av arkitekturen.\n Når kan vi ta i bruk tjenester 3.0?  Vi er avhengig av finansiering for å få realisert tjenester 3.0 innen rimelig tid. Så lenge finansieringen ikke er plass så vil ikke målsettingene for 3.0 kunne realiseres.\nVi ønsker likevel å forsøke å levere en frittstående \u0026ldquo;alpha-versjon\u0026rdquo; med begrenset funksjonalitet høsten 2017. Denne vil være basert på en \u0026ldquo;proof-of-concept\u0026rdquo; som har blitt laget for å bekrefte tekniske veivalg.\nDet å tilgjengeliggjøre og oppdatere tjenester 3.0 fortløpende fremover, for å få kontinuerlig feedback, er ønsket måte å jobbe på.\nSe siste status for detaljer.\n Kan man gjenbruke noe fra skjema basert på InfoPath, eller må man starte helt på nytt?  Tjenester 3.0 vil støtte eksisterende dataformater (XSD) fra SERES og OR, noe som betyr at alle grensesnitt (mottak, preutfylling, innsending, etc) vil kunne gjenbrukes uten endringer i tjenesteeiers fagsystemer eller sluttbrukersystemer. Kall mot dagens \u0026ldquo;mappere\u0026rdquo; og interne tjenester skal også fortsatt fungere, selv om vi på sikt ønsker å fase ut mappere til fordel for noe bedre.\nVi har også vurdert muligheten for å lage et verktøy som automatisk konverterer fra InfoPath til tjenester 3.0, helt eller delvis.\nEtter diskusjoner med diverse tjenesteutviklere, så har det kommet frem at man sannsynligvis uansett vil ønske å forbedre brukergrensesnitt, og forenkle tekster og logikk når man går over til responsive tjenester som skal fungere også på mobil. Det å utvikle et konverteringsverktøy er ikke utelukket, men det må gi en reell verdi.\n Finnes det noen retningslinjer for å lette overgangen fra InfoPath?   Lag enkle og fornuftige modeller (XSD) som inneholder så mye som mulig av datatyper, begrensninger, etc. istedenfor å kode disse selv. Benytt regelmotor (XML) istedenfor C# i InfoPath for logikk (særlig for kompliserte skjema). Lag gode og korte tekster som har en større sjanse for å fungere også på små skjermer. Vurder om store tabeller (antall kolonner) egentlig er nødvendig.   Vil vi fortsatt kunne utvikle eget brukergrensesnitt og kun benytte API\u0026rsquo;ene i Altinn?  Ja. API\u0026rsquo;ene til Altinn vil fortsatt fungere som før, og tjenester 3.0 vil løfte API\u0026rsquo;ene til en kanal som er likestilt med portal også ved utvikling og testing av tjenester. Det vil også legges til rette for å eksponere alle ressurser som utvikles som API, f.eks. tekst-ressurser, metadata, semantiske koblinger, valideringer, etc.\n Vil det forsvinne funksjonalitet som finnes i dagens plattform?  I utgangspunktet nei, så fremt det ikke er funksjonalitet som ikke benyttes, eller som ikke gir mening lengre.\nDe første versjon av tjenester 3.0 vil nok ikke inneholde all funkjsonalitet, da de viktigste egenskapene vil leveres først og videre utvikling vil gjøres basert på feedback.\n Er tjenester 3.0 egentlig prioritert?  Ja. Tjenester 3.0 er helt sentral for å kunne realisere de fire satsingsområdene i Altinn-strategien. I tillegg er tjenester 3.0 definert som ett av hovedproduktene i Altinn, og er dermed sentral også i Altinn produktstrategi.\n Hva slags teknologi benyttes i tjenester 3.0?  Se oversikten over programvare.\n Hvorfor kjøper dere ikke bare inn noe ferdig hyllevare for skjema?  Det finnes rett og slett ikke hyllevare som dekker alle behovene som Altinn sine brukere og tjenesteeiere har til ytelse, funksjonalitet og sikkerhet.\nBruk av hyllevare, først Adobe Form Server (Altinn I) og så Microsoft Forms Server (Altinn II), har vist at det er en veldig stor risiko å ikke selv ha kontroll over kjernefunksjonalitet i en stor løsning som skal leve lenge. Det har også vist seg å være ekstremt dyrt og krevende å forsøke å tilpasse hyllevare til å dekke behovene.\nDerfor velger vi heller å utvikle en løsning på toppen av åpen kildekode, og så dele det vi lager med alle.\nNår vi forbedrer åpen kildekode som vi benytter, så vil også alle andre som baserer seg på de samme prosjektene nyte godt av det.\n Når vil den gamle InfoPath-løsningen fases ut?  Enten når alle tjenester er migrert over eller når support for InfoPath avsluttes (2020, ev. 2026 hvis vi bruker tid/penger på å oppgradere).\nVi håper på å unngå å måtte leve lenge med dagens løsning, men det er naturlig nok avhengig av finansiering.\nRent økonomisk så vil det være store gevinster ved å fase ut den gamle løsningen så fort som mulig.\n "
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/sikkerhet/autentisering/",
	"title": "Autentisering",
	"tags": [],
	"description": "Altinnplattformen har innebygd en rekke mekanismer for autentisering.",
	"content": " Altinnplattformen har innebygd en rekke mekanismer for autentisering.\nFordeler og muligheter Altinnplattformen er føderert med ID-porten noe som gir at 4 millioner brukere allerede kan bruke Altinn uten å måtte registrere seg utover det å logge inn med ID-Porten.\nVia ID-porten kan brukerne logge inn på nivå 3 og 4 med alternativer som MinID, BankID, Buypass\nAltinn tilbyr også egne påloggingsalternativer for brukere som ikke har d-nummer eller f-nummer.\nProdukter som tilbys  Autentisering via ID-Porten (MinID, BankID, Buypass, Commfides, BankID på mobil) Autentisering for selvregistrerte brukere Altinn SMS og Altinn Pin Autentisering for virksomhetsbrukere Autentisering for sluttbrukersystem via web service  Hvordan komme i gang Autentisering håndteres automatisk av plattformen.\nRåd og tips  Krev riktig autentiseringsnivå på tjenester som matcher kanalene  Kanaler  REST-API Sluttbrukersystem Portal  Avhengigheter Under utvikling\nTeknisk dokumentasjon Under utvikling\n"
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/sikkerhet/autorisasjon/",
	"title": "Autorisasjon",
	"tags": [],
	"description": "Autorisasjonskomponenten i Altinn er svært funksjonsrik og gir et kraftig verktøy til tjenesteeiere for å kunne styre tilgang til tjenester.",
	"content": " Autorisasjonskomponenten i Altinn er svært funksjonsrik og gir et kraftig verktøy til tjenesteeiere for å kunne styre tilgang til tjenester.\nTjenesteutvikler kan definere hvilke roller som kreves for å brukes en tjeneste og Altinn sikrer at brukerne tilfredsstiller kravene. I Altinn kan også sluttbruker delegere videre rettighetene slik at for eksempel andre personer i en organisasjon kan utføre oppgaver.\nFordeler og muligheter Altinn har integrert Folkeregister og Enhetsregister noe som gjør at man som tjenesteeier i Altinn får god tilgangskontroll på tjenester som skal benyttes av private eller organisasjon.\nSluttbrukere har gode muligheter til å administrere sine rettigheter videre til andre innad eller utenfor sin organisasjon, noe som sikrer at de riktige personer får benyttet seg av tjenestene.\nFor tjenesteeier tilbyr også Altinn grensesnitt som gjør det mulig å hente ut autorisasjonsinformasjon som for eksempel informasjon om hvilke roller en person har for en organisasjon. Dette kan brukes for å styre tilgang i eksterne løsninger.\nTjenesteeier kan også benytte seg av et teknisk grensesnitt for å spørre om en bruker har tilgang til å utføre operasjoner på en gitt tjeneste.\nProdukter som tilbys  Styring av tilgang på tjenester basert på roller i Enhetsregisteret/Altinn Styring på mulige avgivere via tjenesteierstyrt register Ekstern bruk av Altinns autorisasjonskomponent  Råd og tips  Knytt tjenester til roller som funksjonelt passer andre tilsvarende tjenester Oppfordre til enkeltdelegering av rettigheter over det å opprette lokale roller  Kanaler  REST-API Sluttbrukersystem Portal  Avhengigheter Mye av funksjonaliteten som er tilgjengelig for sluttbruker er knyttet til at man som tjenesteeier har tjenester i Altinn plattformen.\nTeknisk dokumentasjon  Implementasjonsguide for tjenesteeier Brukerveiledning TUL  "
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/dialog/betaling/",
	"title": "Betaling",
	"tags": [],
	"description": "I enkelte offentlige tjenester inngår betaling som en del av saksbehandlingen. Altinn har støtte for betaling med tre av de største betalingsleverandørene på det norske markedet.",
	"content": " I enkelte offentlige tjenester inngår betaling som en del av saksbehandlingen. Altinn har støtte for betaling med tre av de største betalingsleverandørene på det norske markedet. Det er opp til tjenesteeier å lage avtale med den leverandøren de ønsker å bruke av alternativene Nets, Payex og DIBS.\nFordeler og muligheter Betalingsløsningen i Altinn kan benyttes i tilknytning til en innsendingstjeneste og være en del av arbeidsflyten til en innsending på fire ulike måter:\n I parallell med innsendingssteget – det vil si at man fyller ut et skjema, og fra siden der man skal bekrefte innsending velger man «Send inn og betal». Man sendes videre til en av betalingsleverandørene, og så snart betaling er utført er man tilbake på kvitteringen på innsending i Altinn Betaling før signering – der man etter utfylling først gjennomfører en betaling, og deretter signerer på innsendingen Betaling etter signering – der man får fylle ut og signere en innsending før man sendes videre til betalingsløsningen Forhåndsutfylt betaling – det vil si at det ikke kreves noen aktiv utfylling av et skjema. Brukeren sendes direkte til et betalingssteg  Altinn vil ha støtte for betaling med tre av de største betalingsleverandørene på det norske markedet. Tjenesteeier inngår avtale med den leverandøren de ønsker å bruke av alternativene Nets, Payex og DIBS. Altinn vil også ha funksjonalitet for å begrense hvilke betalingsalternativer som er tilgjengelig – for eksempel hvis det er uønsket at betaling skal skje med enkelte typer kort.\nDet trenger ikke være et forhåndsbestemt beløp som skal betales per innsending. Tjenester med betaling kan defineres slik at hvor mye som skal betales avhenger av hva som fylles ut i skjemaet. Det går også an å definere at det kun er bestemte data som skal medføre betaling.\nUtfyllingen trenger ikke skje i Altinn. Betaling er også tilgjengelig til bruk i for eksempel apper eller tjenesteeiernes egne nettsteder via Altinns REST-API. Brukeren trenger med andre ord ikke vite at det er Altinns betalingsløsning som benyttes som del av en tjenesteeier sin tjeneste.\nFordeler  Tjenesteeier kan helautomatisere sine prosesser (raskere, enklere og mer effektiv prosess) Redusert behandlingstid for bruker Sikkerhet  Produkter som tilbys  REST-api Kvittering Arkivtjenester Meldingsboks  Hvordan komme i gang Under arbeid\nRåd og tips  Bruk en god betalingsbeskrivelse  Kanaler  Portal REST-API (forutsetter at betalingsvindu åpnes i browser)  Avhengigheter Betaling kan kun benyttes sammen med innsendingstjenester. Over tid vil dette utvides til andre tjenestettyper.\nTeknisk dokumentasjon Under arbeid\n"
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/support/brukersupport/",
	"title": "Brukersupport",
	"tags": [],
	"description": "Altinn Brukerservice tilbyr veiledningstjenster omkring spørsmål som gjelder innlogging, hvordan finne fram til riktig tjeneste, forståelse av felles funksjonalitet og teknisk veiledning til skjemautfylling, innsending, signering og mye mer.",
	"content": " Altinn Brukerservice tilbyr veiledningstjenster omkring spørsmål som gjelder innlogging, hvordan finne fram til riktig tjeneste, forståelse av felles funksjonalitet og teknisk veiledning til skjemautfylling, innsending, signering og mye mer.\nAltinn Brukerservice (ABS) Altinn brukerservice bygger på Brønnøysundregistrenes mangeårige erfaring med dataassistert planlegging av nødvendig bemanning foran etatens egne skjemafrister.\nFaglige spørsmål om besvarelse av det enkelte skjemaet eller forhold i den enkelte tjenesten, sendes videre til faglig brukerstøtte hos etatene ut fra klare grensedragninger i avtale med hver enkelt etat.\n 146 000 henvendelser på telefon og 45 000 e-poster i 2015 Tilgjengelig på telefon, e-post og sosiale medier kl 08.00 til 15.30 på hverdager. Utvidet åpningstid kan bestilles ved frister og spesielle hendelser Ca 40 veiledere opplært til å besvare henvendelser fra Altinn i første- og andrelinje Grundig og systematisk opplæring med fadderordning for veilederne Fokus på jevnlig faglig oppdatering Benytter brukerkunnskapen til å forbedre hjelpesidene på altinn.no, for å få brukeren selvhjulpen på nett Kort ventetid og kyndig veiledning ifølge brukertester  Altinn Servicedesk (SD) Altinn Servicedesk(SD) er en tjeneste som rettet mot Sluttbrukersystemer og Tjensteeiere, samt understøtte 2 linje hos brukerservice (ABS).\nServicedesk er opprettet for mottak og registrering av saker som:\n Support Feil Bestillinger  Som Altinn sine leverandører eller interne ressurser må bistå tjenesteeiere og sluttbrukersystemer å utføre.\nServicedesken skal følge opp alle saker kontinuerlig til de er løst, og sikre for at informasjon blir gitt innmelder underveis i prosessen.\nServicedesken vil være Leverandørenes førstelinje og kan nås på telefon eller e-post.\nDriftsvarsel Altinn Sentralforvaltning har som standard tjeneste å sikre kontinuerlig varsling av driftshendelser eller planlagt vedlikehold, som kan påvirke bruken av Altinn sitt produksjon og testmiljøer for tjenesteeiere, sluttbrukere og sluttbrukersystemer.\n"
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/dialog/formidling/",
	"title": "Formidling av data",
	"tags": [],
	"description": "Formidlingstjenesten er en maskin-til-maskin formidling av store datamengder mellom ulike offentlige og private virksomheter.",
	"content": " Formidlingstjenesten er en maskin-til-maskin formidling av store datamengder mellom ulike offentlige og private virksomheter. Det blir ikke foretatt noe sjekk på innhold i dataene, men Altinn garanterer levering og sporbarhet for transport av data.\nFordeler og muligheter Formidlingstjenesten muliggjør trygg og sikker maskin-til-maskin formidling av datamengder på inntil 1 GB mellom ulike offentlige og private virksomheter. Informasjon hentes fra virksomhetenes saksbehandlingsløsninger/registre og distribueres til en eller flere offentlige eller private mottakere gjennom Altinn. Tjenestetypen kan også benyttes for større overføringer fra private aktører i tilfeller hvor det ikke er behov for funksjonaliteten i innrapporteringstjenestene. Formidlingstjenesten har også en kvitteringsfunksjonalitet som gir kunden muligheten for å sende spørring om status for meldingen.\nBruk av en formidlingstjeneste styres av tjenesteeier selv gjennom tjenesteeierstyrt rettighetsregister. Dette betyr at det er tjenesteeier selv som kan styre hvem som har rettighet til å benytte tjenesten. Oppsett av formidlingstjeneste og administrasjon av brukere skal kunne gjøres på egen hånd av tjenesteeiere og brukere uten involvering fra AAS.\nFormidlingstjenesten overføres fra avsender til mottaker, og tjenesteeiere benytter derfor ikke egne grensesnitt kun for tjenesteeiere for formidlingstjenesten, men benytter i stedet de samme grensesnitt som er tilgjengelig for alle brukere av Altinn.\nFor å kunne ta i bruk formidlingstjenesten må tjenesteeier registrere et virksomhetssertifikat og påloggingen blir knyttet til organisasjonsnummer istedenfor fødselsnummer.\nFordeler  Håndterer stor datamengder Sikker overføring Tjenesteeierstyrt rettighetsregister Innloggingsmetode knyttet til organisasjonsnummer  Produkter som tilbys  Kvitteringersfunksjonaliteten Virksomhetssertifikat  Hvordan komme i gang Her kan du få informasjon om hvordan man kommer i gang med å lage en formidlingstjeneste.\nRåd og tips  Før man starter med utforming av tjenester er det lurt å gjøre seg kjent med Altinn-plattformen og mulighetene som ligger der For å få en god tjeneste kan det være hensiktsmessig å jobbe sammen med en eller flere kunder for at tjenestene skal dekke deres ønsker og behov Sette av god til utforming av god kravspesifikasjon, sette opp tjenestefunksjonalitet, samt innhold i meldinger som skal formidles Vær oppmerksom på at i tillegg til utvikling av tjenesten skal man ha på plass et mottakssystem og en integrasjon mellom tjenesteeier og Altinn. Erfaring viser at dette er mer tidkrevende enn man tror  Kanaler  Web service  Avhengigheter Bruk av formidlingstjenester forutsetter bruk av Altinn autentisering og autorisasjon.\nTeknisk dokumentasjon  Implementasjonsguide for sluttbrukere Implementasjonsguide for tjenesteeier  "
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/dialog/innsending/",
	"title": "Innsending",
	"tags": [],
	"description": "Er en tjeneste der bruker fyller ut, signerer og sender inn et skjema",
	"content": " Er en tjeneste der bruker fyller ut, signerer og sender inn et skjema på www.altinn.no. Skjemaet kan også fylles ut og signeres/sendes inn via applikasjoner (med REST-API) eller sluttbrukersystem. Med REST-API kan skjema integreres på tjenesteeier sine egne nettsider og sendes inn derfra. Innsendingstjenesten kan bestå av et enkeltstående skjema eller et skjemasett med eller uten filvedlegg.\nFordeler og muligheter I innsendingstjenester kan informasjon fra Folkeregisteret, Enhetsregisteret og brukerens profil preutfylles i skjema. Det er også mulig å hente inn informasjon fra eksterne systemer. Tjenesteeier kan legge skjema klart i sluttbrukerens meldingsboks i Altinn (abonnement) og det er mulig for tjenesteeier å sende inn data som skal forhåndsutfylles i skjema (preutfylling). Sluttbruker kan varsles på sms og/eller e-post om at det ligger et skjema klart til utfylling i Altinn.\nDet kan legges inn omfattende valideringsregler i skjema med tilhørende feilmeldinger. Det kan også legges inn Hjelp-knapper som gir tilgang til hjelpeinformasjon under utfyllingen dersom sluttbruker ønsker hjelp.\nEn innsendingstjeneste kan presenteres på flere språk. Altinn har foreløpig språkstøtte for bokmål, nynorsk og engelsk.\nTjenesteeier definerer hvilken flyt tjenesten skal følge i Altinn (prosessflyt). Med dette menes at man velger hvilke steg skjema skal gjennom hos utfyller. En prosessflyt kan bestå av utfylling, et gitt antall signeringer, betaling og innsending.\nData registrert av sluttbruker sendes til eller hentes av tjenesteeier over valgt grensesnitt. Det er også mulig å tilrettelegge for at alle eller deler av dataene skal distribueres til en eller flere andre tjenesteeiere.\nHvis det er ønskelig kan innsendingstjenester lagres i tjenesteeiers arkiv i Altinn. I dette arkivet kan tjenesteeier søke opp innsendte tjenester gjennom et nettlesergrensesnitt. Disse søkene tilbys også som webservices slik at tjenesteeier sitt system kan hente ut informasjon fra dette arkivet.\nFordeler ved bruk av tjenesten  Sikker identifikasjon av bruker Sikker dialog med bruker Elektronisk signering Bruker får veiledning og hjelp til utfylling Validering av data under utfylling gir tjenesteeier bedre data Skjema kan preutfylles med informasjon om bruker både fra interne systemer og eksterne registre som Enhetsregisteret og Folkeregisteret Skjema kan legges klart i meldingsboksen til aktuelle brukere og det kan sendes varsel på e-post og/eller sms om dette Tjenesten kan benyttes sammen med andre tjenester i samspill for å realisere en dialog mellom sluttbruker og tjenesteeier Språkstøtte Generering av PDF for utskrift og arkivering Håndtering av prosessflyter (mulig med flere signeringer, betaling)  Produkter som tilbys  Preutfylling Oppslag i egne register Abonnement Varsel Kryptering Prosessflyt Betaling Splitt av data Tjenesteeiers arkiv  Hvordan komme i gang Informasjon om hvordan man kommer i gang med å lage en innsendingstjeneste\nRåd og tips  Før man starter med utforming av tjenester er det lurt å gjøre seg kjent med Altinn-plattformen og mulighetene som ligger der Sett av god tid til planlegging og design av tjenesten Få avklart at Altinn har alt av funksjonalitet som tjenesten krever Vær oppmerksom på at i tillegg til utvikling av tjenester skal man ha på plass et mottakssystem og en integrasjon mellom tjenesteeier og Altinn. Erfaring viser at dette er mer tidkrevende enn man tror Planlegger man omfattende bruk av Altinn kan det være hensiktsmessig å starte med en enkel tjeneste for å gjøre seg kjent med og få kompetanse på løsningen Preutfyll skjema med opplysninger fra Enhetsregisteret eller Folkeregisteret og også med opplysninger fra egne systemer. Ikke spør etter data dere allerede har tilgang til Se gjerne en innsendingstjeneste i kombinasjon med andre tjenestetyper, som for eksempel meldingstjeneste, for å oppnå toveis kommunikasjon og en mer helhetlig prosess for sluttbrukeren  Kanaler  REST-Api Altinn-portalen Sluttbrukersystem  Avhengigheter Innsendingstjenesten er en frittstående tjenestetype som kan benyttes i kombinasjon med andre tjenestetyper, som meldingstjenester og varsling, eller som et element i en samhandlingstjeneste. Det kan hentes inn informasjon i tjenesten fra tjensteeiers interne registre ved hjelp av webservice oppslag. Kall til eksterne webservices skal gå gjennom en mapper (proxy).\nTeknisk dokumentasjon  Funksjonell spesifikasjon – Sluttbrukerløsningen Implementasjonsguide for tjenesteeier  "
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/dialog/innsyn/",
	"title": "Innsyn",
	"tags": [],
	"description": "Er en tjeneste som benyttes for å gi bruker innsyn i data som er registrert i tjenesteeier sitt system, for eksempel saksbehandlingsløsninger eller elektroniske arkiv.",
	"content": " Er en tjeneste som benyttes for å gi bruker innsyn i data som er registrert i tjenesteeier sitt system, for eksempel saksbehandlingsløsninger eller elektroniske arkiv. En innsynstjeneste kan gi innsyn i flere forskjellige systemer hos tjenesteeier.\nFordeler og muligheter Innsynstjenester er tjenester som brukes til å hente data fra en tjenesteeier til Altinn ved å kalle en eller flere web services. Forretningslogikk og data ligger hos tjenesteeier, mens presentasjonen av dataene ligger i Altinn. Tjenesteeiere kan gjøre informasjon i egne registre (for eksempel saksbehandlingsløsninger eller elektroniske saksarkiv/saksmapper) tilgjengelig for den enkelte brukeren eller dennes representant. Dataene kan også gjøres tilgjengelig for sluttbrukersystem.\nInnholdet i en innsynstjeneste vil på samme måte som for innsendingstjenester være alt som har med skjema, datainnholdet og selve interaksjonen med sluttbruker i sluttbrukerløsningen å gjøre. Uthenting av data fra tjenesteeiers systemer håndteres gjennom en såkalt mapper, som er en komponent for fleksibel integrasjon mellom Altinn og andre systemer.\nInnsynstjenesten består av følgende hoveddeler\n Mappere mot eksterne webtjenester- For utarbeidelse av Web Service mappere av innsynstjenester så er dette kode som tjenesteeier utvikler i Visual Studio InfoPath-skjema – visningen av innsynsoppslaget  Tjenesteeier definerer tjenesten som skal supplere dataene, og definerer så et InfoPath-skjema som viser dataene for brukeren. Tjenesteeier kan definere om brukerne skal kunne lagre innsynstjenesten i min meldingsboks. Dette for at sluttbruker kan velge om de vil lagre en signert kopi av en innsynstjeneste. Den signerte innsynstjenesten lagres da i brukers arkiv i Altinn. En innsynstjeneste som ikke er signer og arkivert vil ikke være tilgjengelig i Altinn etter at den er benyttet. Sluttbruker kan også videresende Altinn-signert innsynstjeneste på e-post.\nProdukter som tilbys  Kvitteringersfunksjonaliteten Virksomhetssertifikat  Hvordan komme i gang Under utvikling\nRåd og tips Under utvikling\nKanaler  Portal Web service  Avhengigheter Innsynstjeneste i Altinn forutsetter bruk av autentisering og autorisasjon i Altinn.\nTeknisk dokumentasjon  Brukerdokumentasjon TUL Implementasjonsguide for tjenesteeier  "
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/support/kurs-og-seminar/",
	"title": "Kurs og seminar",
	"tags": [],
	"description": "Altinn Sentralforvaltning har som krav at alle som skal utvikle tjenester mot Altinn, må gjennomføre grunnkurs i tjenesteutvikling.",
	"content": " Altinn Sentralforvaltning har som krav at alle som skal utvikle tjenester mot Altinn, må gjennomføre grunnkurs i tjenesteutvikling. Der en lærer å bruke tjenesteutviklingsløsningen (TUL) og SERES Domeneklient.\nAltinn sentralforvaltning gjennomfører regelmessige kurs i innføring i tjenesteutvikling i Altinn.\nInformasjon om når neste kurs er satt opp og påmeldingsinformasjon finner du på www.brreg.no.\nInnføring i tjenesteutvikling i Altinn (2- dagers kurs) Målgruppe Alle som på vegne av en offentlig virksomhet skal utvikle tjenester i Altinn, f.eks. saksbehandlere, IT-personell og konsulenter. Det kreves ingen formell IT-kompetanse, men det er en fordel med erfaring i bruk av IKT-verktøy, som f.eks. programmer som inngår i Microsoft Office.\nInnhold  Presentasjon av tjenesteutviklingsprosessen i Altinn Overordnet informasjon om SERES og tjenesteutviklingsløsningen (TUL) Bruk av Domeneklienten (SERES) til å modellere informasjonselementer i en tjeneste Bruk av tjenesteutviklingsløsningen for utvikling av innsendingstjeneste (skjema) og meldingstjeneste  Opplæringen gjennomføres primært ved praktisk bruk av verktøyene og er kun ment for personer som planlegger å utvikle tjenester i Altinn. Kurset vil ikke omhandle avansert tjenesteutvikling.\nFormål Gjøre tjenesteutvikler i stand til å utvikle gode innsendings- og meldingstjenester i Altinn.\nMeld deg på kurs her\nAltinndagen Dette er en konferanse som Altinn Sentralforvaltning arrangere hvert år for sluttbrukere, tjenesteiere, sluttbrukersystemer og andre aktuelle aktører i markedet.\nInformasjon om tidligere og kommende konferanse finner du på Altinnett.\n"
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/dialog/lenketjeneste/",
	"title": "Lenketjeneste",
	"tags": [],
	"description": "En lenketjeneste utfører autorisasjon i Altinn før brukeren sendes til et annet nettsted der selve tjenesten kjører.",
	"content": " En lenketjeneste utfører autorisasjon i Altinn før brukeren sendes til et annet nettsted der selve tjenesten kjører.\nFordeler og muligheter Ved å utvikle en lenketjeneste vil tjenesteeier beholde sin egen tjenestemotor for utvikling av tjenesten. Altinn blir kun benyttet til tilgjengeliggjøring av tjenesten, samt til autorisering av etatens egenutviklede tjenester.\nNår en bruker benytter lenketjenester ved å starte tjenesten fra Altinn eller fra tjenesteeiers nettside vil man bli sendt til autentisering hos ID-porten. Sluttbruker foretar valg av avgiver i Altinn og det det utføres en autorisasjonskontroll og en tjenestekontrollfør brukeren blir sendt til lenketjenesten på ekstern løsning. Autorisasjonskrav til lenketjenester defineres i Altinn. Det er bare sikkerhetsnivåene som er tilgjengelig i IdPorten som kan benyttes på tjenesten.\nLenketjenester blir ikke instansiert i Altinn og er derfor ikke å finne i «min meldingsboks» i Altinn. For å kunne identifisere hvilken avgiver brukeren valgte å starte tjenesten med, sendes det med en nøkkel som den eksterne tjenesteportalen kan benytte for å spørre Altinn om informasjon om valgt avgiver.\nTjenesteeier kan gi tilbakemelding til brukeren via Altinn sin meldingstjeneste. Graden av integrasjon mellom Altinn og det eksterne nettstedet kan variere fra tjeneste til tjeneste.\nTjenesteeier må ha satt opp føderering mot IDPorten og lenken (tjenesten hos tjenesteeier) må være en beskyttet ressurs.\nDet er 3 aktører i lenketjenesten:\n IDPorten, som er Identity Provider og foretar autentisering av sluttbruker Altinn foretar autorisasjonskontroll, tjenestekontroller og viderefører sluttbruker til tjeneste i ekstern portal. Tjenesteeier for ekstern tjeneste som tilbyr tjenesten til sluttbruker.\n  Fordeler  Sikkert Tjenesteeier har full kontroll på utvikling av tjenesten på sin side  Produkter som tilbys  Meldingstjeneste Autorisasjon  Hvordan komme i gang Informasjon om hvordan man kommer i gang med å lage en lenketjeneste\nRåd og tips  Husk ved bruk av lenketjeneste får ikke sluttbruker data i sitt felles arkiv. Det vil være opp til tjenesteeier å etablere eget arkiv for sluttbruker.  Kanaler  Portal  Avhengigheter Lenketjenester forutsetter at man tar i bruk Autentisering og Autorisasjon i Altinn.\nTeknisk dokumentasjon  Guide for lenketjeneste Implementasjonsguide for tjenesteeier  "
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/sikkerhet/logging/",
	"title": "Logging",
	"tags": [],
	"description": "Altinnplattformen logger bruk av plattformen på en rekke måter. Logging av hendelser i løsningen skjer både i applikasjoner, databaser, i operativsystemet og i infrastrukturkomponenter.",
	"content": " Altinnplattformen logger bruk av plattformen på en rekke måter. Logging av hendelser i løsningen skjer både i applikasjoner, databaser, i operativsystemet og i infrastrukturkomponenter. Ulike komponenter har ulik rotasjonstid (sletting) basert på nødvendigheten for loggingen. Loggdata som ikke er relevant vil bli slettet.\nFordeler og muligheter Fordelen med å ta i bruk Altinn som plattform for tjenester er at man får med forskjellige type loggefunksjonalitet.\nAlle innlogginger av brukere blir logget med informasjon om tidspunkt og IP-adresse. Tilgang til data blir logget med tidspunkt og med informasjon om bruker og hvilke data som ble aksessert.\nHendelser som utfylling, signering, innsending blir logget i eventloggen og gir sluttbrukerne mulighet til selv se informasjon.\nVed behov kan Altinn teamet analysere logger for å hjelpe tjenesteeier.\nLoggene i Altinn er benyttes også til rettslige tvister.\nProdukter som tilbys  Autentiseringslogg Autorisasjonslogg Hendelseslogg (event)  Hvordan komme i gang? Logging er automatisk en del av tjenester i plattformen.\nKanaler  REST-API Web Service Portal  Avhengigheter Logging er ingen tjeneste man kan kjøre for seg selv, det er en del av andre tjenester man benytter i plattformen.\nTeknisk dokumentasjon  Funksjonell spesifikasjon – Sluttbrukerløsningen  "
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/dialog/melding/",
	"title": "Melding",
	"tags": [],
	"description": "Er en tjeneste som lar tjenesteeier sende informasjon i form av en melding som brukerne kan lese i Altinn-portalen eller laste ned til sitt datasystem.",
	"content": " Er en tjeneste som lar tjenesteeier sende informasjon i form av en melding som brukerne kan lese i Altinn-portalen eller laste ned til sitt datasystem. Meldingen kan også leses på etatens eget nettsted ved hjelp av Altinn sitt REST-API. Det er støtte i Altinn for at meldinger til privatpersoner kan videresendes til Digital postkasse for innbygger istedenfor eller i tillegg til at den legges i Altinn. Det kan sendes varsel på e-post og/eller sms til sluttbruker om at informasjon er gjort tilgjengelig.\nFordeler og muligheter Hvilke muligheter gir den\nMeldinger kan typisk være brev, vedtak, kvitteringer eller annen informasjon tjenesteeier ønsker å formidle til sine sluttbrukere. Meldingene støtter HTML og vedlegg og en melding kan:\n Være HTML basert (formatert visning i nettleser) Være XML basert med referanse til tilhørende visningsskjema (sende inn skjemadata som rendres med et InfoPath-skjema) Inneholde et eller flere binære vedlegg Være en kombinasjon av de over  Maks størrelse pr vedlegg for opplastning i portalen er 10 MB pr vedlegg.\nMeldinger kan sendes til en gitt person eller virksomhet basert på fødsels- eller organisasjonsnummer, og bruker(e) kan varsles med e-post og/eller sms om at informasjon er gjort tilgjengelig. Hvis ikke mottakeradresse/telefonnummer spesifiseres vil dette hentes hos Difi sitt Kontakt- og reservasjonsregister hvis meldingen er til en privatperson, og i Altinn sitt kontaktregister for virksomheter dersom meldingen er til en virksomhet. Hvis man ønsker så kan det sendes ut et påfølgende varsel (purring) dersom meldingen ikke er åpnet innen et gitt tidspunkt som er bestemt av tjenesteeier.\nTjenesteeier kan få informasjon om hvilke utsendte meldinger som er åpnet og kan eventuelt kreve at brukeren bekrefter mottaket innen en fastsatt frist.\nEn meldingstjeneste kan presenteres på flere språk. Altinn har foreløpig språkstøtte for bokmål, nynorsk og engelsk.\nHvis det er ønskelig kan meldingstjenester lagres i tjenesteeiers arkiv i Altinn. I dette arkivet kan tjenesteeier søke opp utsendte meldinger gjennom et nettlesergrensesnitt. Disse søkene tilbys også som webservices slik at tjenesteeier sitt system kan hente ut informasjon fra dette arkivet.\nFordeler  Sikker identifikasjon av mottaker Sikker dialog med bruker Bruker kan varsles på e-post og/eller sms om meldingen Altinn har oversikt over hvem som skal varsles - hvis ønskelig En og samme meldingstjeneste kan benyttes i flere sammenhenger Kan gi stor økonomisk gevinst sammenlignet med andre transportkanaler Tjenesteeier kan be om bekreftelse på at meldingen er lest Tjenesteeier kan få tilbakemelding på om meldinger er åpnet eller ikke Tjenesten kan benyttes sammen med andre tjenester i samspill for å realisere en dialog mellom sluttbruker og tjenesteeier Språkstøtte  Produkter som tilbys  Vedlegg Varsling Tjenesteeiers arkiv  Hvordan komme i gang Informasjon om hvordan man kommer i gang med å lage en meldingstjeneste\nRåd og tips Under utvikling\nKanaler  REST API Sluttbrukersystem  Avhengigheter Meldingstjenesten er en frittstående tjenestetype som kan benyttes i kombinasjon med andre tjenestetyper som innsendingstjenester eller som et element i en samhandlingstjeneste. Kan inneholde ulike typer vedlegg og kan kombineres med varslingsfunksjonalitet.\nTeknisk dokumentasjon  Funksjonell spesifikasjon – Sluttbrukerløsningen Implementasjonsguide for tjenesteeier  "
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/support/operativ-veiledning/",
	"title": "Operativ veiledning",
	"tags": [],
	"description": "Altinn Sentralforvaltning tilbyr rådgivning og veiledning for å kunne supportere tjenesteiere, sluttbrukersystemer og sluttbrukere.",
	"content": " Altinn Sentralforvaltning tilbyr rådgivning og veiledning for å kunne supportere Tjenesteiere, sluttbrukersystemer og sluttbrukere.\nDette er team med gode og kvalitative kunnskaper rundt produktene som benyttes i Altinn, de skal sikre en god og fremoverlent service for å gjøre det enkelt å ta i bruk Altinn med tilhørende produkter og tjenester.\nTa kontakt med ServiceDesken via selvbetjeningsportalen eller på tjenesteeier@altinn.no for å komme i dialog med oss\nServiceleder Er operativt ansvarlig for alle tjenesteeiere, sluttbrukersystemleverandører og andre utviklere/sluttbrukere som benytter Altinn løsningen med tilhørende grensesnitt.\nHva kan serviceleder bidra med?  kontaktpunkt ved kundedialog kontaktpunkt ved eskalerte hendelser kontaktpunkt ved klager er ansvarlig for drift og forvaltning av tjenestene i Altinn. er hovedansvarlig for å sikre totalleveransen i Altinn-samarbeidet (kontraktuelt, merkantilt og kvalitetsmessig  Tjenesteutviklingsveileder Målgruppe Tjenesteeiere og/eller konsulenter, som på vegne av en tjenesteeier trenger bistand knyttet til tjenesteutvikling i Altinn og Seres.\nHva kan tjenesteutviklingsveiledere bistå med: Tjenesteeier kan etter eget ønske få en tjenesteutviklingsveileder hos Altinn og Seres som bistår i tjenesteutviklingsprosessen slik at vi sammen kan realisere tjenesteeier sin tjeneste på en mest mulig effektiv måte. Tjenesteutviklingsveileder kan bidra med: - gjennomføring av oppstarts-workshop - behandling av løpende henvendelser underveis i prosjektet - å avholde jevnlig statusmøter - råd og veiledning knyttet til tjenesteutviklingsverktøyene\nLøsningsarkitekt Målgruppe: Tjenesteeiere som trenger bistand for å kunne se mulighetsrommet slik at de får en optimal utnyttelse av Altinn-plattformen.\nHva kan løsningsarkitektene bidra med?  bistand og rådgivning knyttet til analyse av forretningsprosesser bistand og rådgivning knyttet til tjenesteeiers behov bistand og rådgivning knyttet til utarbeidelse av løsninsforslag for hvordan løsningen kan brukes til å dekkes tjenesteeieres behov. følge opp tekniske spørsmål  "
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/kanaler/altinn-api/",
	"title": "REST-API",
	"tags": [],
	"description": "Altinn tilbyr et REST-API med autentisering ved hjelp av ID-Porten som gjør det mulig å bruke tjenestene i Altinn i en app eller ekstern nettside. Altinn API-et er enkelt og gratis å bruke.",
	"content": " Altinn tilbyr et REST-API med autentisering ved hjelp av ID-Porten som gjør det mulig å bruke tjenestene i Altinn i en app eller ekstern nettside. Altinn API-et er enkelt og gratis å bruke.\nFordeler og muligheter Altinn API-et er et grensesnitt mellom brukerne og komponentene som allerede finnes i Altinn. Dette grensesnittet muliggjør å bruke Altinn-innhold i for eksempel smartphone-apps og andre nettportaler enn altinn.no.\nAltinn API benytter REST arkitekturstil, og baserer seg på en semantisk definisjon av innholdet. Strukturen i responsen fra API-et kan endre seg, men betydningen av elementene er den samme.\nDette blir som når man navigerer seg inn på en vanlig nettside. Da kan en klient navigere seg inn i API-et ved å følge lenker med en definert betydning. Det er ikke sikkert at URL-en man var på sist fortsatt eksisterer, men det vil være mulig å bla eller søke seg tilbake til det samme innholdet fra forsiden.\nFordelen med dette er at Altinn har mulighet til å bygge ut og omstrukturere innholdet i API-et uten at dette hindrer en klient fra å finne fremtil innholdet den brukte fra før.\nAPI-et baserer seg på de mekanismene som allerede finnes i HTTP-standarden og meldingshoder som brukes av vanlige nettlesere og webservere i dag. Altinn API støtter følgende formater:\n application/HAL+json application/HAL+xml  Les mer om Altinn-API her\nProdukter som tilbys Ekstern tilgang til «Min Meldingsboks»  Hente ut meldinger\n Slette meldinger Filtrere meldinger  Sende inn fra eksterne skjema  Signere skjema Legge ved vedlegg eller benytte underskjema Hente preutfyllingsdata  Tilgang til innsynstjenester  Hente ut informasjon fra tjenesteeiers fagsystemer  Ekstern rolle- og rettighetsadministrasjon  Hente ut avgiverliste Administrere roller Administrere rettigheter Utføre delegeringer  Ekstern tilgang til profilinformasjon  Hente kontaktinformasjon for virksomheter Hente kontaktinformasjon for privatpersoner  Hvordan komme i gang Informasjon om hvordan man kommer i gang med bruk av Altinn REST-Api\nRåd og tips  Ved bruk av REST-API via portal er man avhengig av en gyldig ID-port sesjon både på Altinn og tjenesteiers portal. Nettlesere har i dag i større grad lagt inn sperre for cookies på tvers av domener. Legg derfor til rette for at bruker kan via sendt via Altinn under pålogging. (vises ikke for sluttbruker) Skal dere utvikle egne mobil-App for tjenester kan Altinns referanseapp være til inspirasjon på hvordan integrasjon kan gjøres.  Kanaler API-et baserer seg på de mekanismene som allerede finnes i HTTP-standarden og meldingshoder som brukes av vanlige nettlesere og webservere i dag. Altinn API støtter følgende formater:\n application/HAL+json application/HAL+xml  Avhengigheter Grensesnittene kan benyttes for innendingstjenester, meldingstjenester, formidlingstjenester og innsynstjenester.\nTeknisk dokumentasjon Dokumentasjon om bruk av Altinn-API finnes her:\n https://altinn.no/api/help/ https://altinn.github.io/docs/api/  Altinn har tilgjengeliggjort referansekode for å gjøre det enklere for ulike tilbydere å lage applikasjoner med Altinn-funksjonalitet. Referansekoden ligger på Altinns repository på GitHub: https://github.com/Altinn/AltinnApp\n"
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/support/rammeavtale-konsulentbistand/",
	"title": "Rammeavtale konsulentbistand",
	"tags": [],
	"description": "Brønnøysundregistrene har inngått rammeavtaler på konsulentbistand for tjenesteutvikling i Altinn, som tjenesteeierne kan benytte seg av.",
	"content": " Brønnøysundregistrene har med virkning fra 10.05.2016 inngått rammeavtaler på konsulentbistand for tjenesteutvikling i Altinn. Disse rammeavtalene er etablert slik at i tillegg til Brønnøysundregistrene som oppdragsgiver, vil tjenesteeierne i Altinn-samarbeidet kunne avrope tjenester på disse rammeavtalene. Det er en forutsetning at det er etablert Altinn samarbeidsavtale med virksomheten og at bistand må være knyttet til tjenesteutvikling i Altinn (tjenesteutviklingsløsningen) med evt tilhørende tilleggstjenester.\nRammeavtalene har en varighet på 1 år, med opsjon for å forlenge avtalene med inntil 1+1+1 år.\nAvtale inngått av Brønnøysundregistrene Følgende leverandører er etter konkurransen tildelt kontrakt innenfor de enkelte fagområdene som konkurransen omfattet:\n    Accenture Knowit Dataess Sopra Steria Arkitektum     Fagområde 1 (tjeneste-/ skjemautvikling) x x x x   Fagområde 2 (tilleggstjenester innenfor mottakssystem utvikling/ implementering) x x x x   Fagområde 3 (tilleggstjenester innenfor kursgjennomføring) x x x x   Fagområde 4 (tilleggstjenester innenfor planlegging av tjenester) x x x x    Nærmere spesifisering av fagområdene – se konkurransegrunnlag\nDet er altså etablert parallelle rammeavtaler med flere leverandører. Avrop skal skje etter minikonkurranser.\nMinikonkurranse En rammeavtale er en avtale inngått mellom en eller flere oppdragsgivere og en eller flere leverandører, og som har til formål å fastsette vilkårene for de kontraktene som skal tildeles i løpet av en gitt periode særlig med hensyn til pris og eventuelt planlagte mengder.\nDet endelige valget av leverandør forutsetter en ny (forenklet) konkurranse mellom alle rammeavtaleleverandørene, i samsvar med nærmere angitte prosedyrer som sikrer gjennomsiktighet, likebehandling og objektive kriterier. Dette benevnes som minikonkurranse.\nGjennomføring av minikonkurranse skal bidra til å ivareta den enkelte tjenesteeiers egne og spesifikke behov knyttet til ønsket utført tjeneste innenfor avtalens ramme. Leverandørens leveranse innenfor et avrop skal bygge på avtaleverket. Tjenesteeiernes valg av leverandør skal foretas ut fra de samme tildelingskriterier som er gitt i konkurransen ifm etablering av rammeavtalene og med samme vektlegging, jfr konkurransegrunnlagets kap 13.3.\nHvordan ta i bruk avtalen Gjennomføring av minikonkurranse Prosedyrer for tildelinger av kontrakt (gjennomføring av minikonkurranse) finnes i bilag 2 til rammeavtalen. Tjenesteeier er selv ansvarlig for gjennomføringen av minikonkurransen og at anskaffelsen skjer iht forskrift om offentlige anskaffelser. Det forutsettes at tjenesteeier benytter og rådfører seg med sitt eget innkjøpsfaglige personell i denne sammenheng.\nVi ønsker å presisere følgende grunnleggende prosesser\n Før tjenesteeier starter gjennomføring av minikonkurransen må det bes om fullmakt ved å sende en henvendelse via selvbetjeningsportalen (benytt skjema for support) eller via e-post til tjenesteeier@altinn.no I henvendelsen gir dere en kort beskrivelse av bistandsbehovet hos tjenesteeier. Tjenesteeier skal starte gjennomføringen av minikonkurransen ved å henvende seg til samtlige leverandører (se etterfølgende kontaktliste). I henvendelsen skal tjenesteeier beskrive sitt konkrete behov til bistand (kravspesifikasjon) og be om tilbud på kompetanse, kapasitet og pris iht etablert rammeavtale. Tjenesteeier har ikke anledning til å utelate en eller flere av leverandørene. Tjenesteeier skal ikke foreta utlysning, verken i DOFFIN eller TED-Luxembourg. Tjenesteeier gir leverandørene en frist på minimum 10 virkedager for å besvare henvendelsen. Tjenesteeier skal motta skriftlig svar fra leverandørene i form av brev, faks eller e-post. Det er viktig at korrespondansen er sporbar og kan dokumenteres i ettertid. Tjenesteeierne må kontrollere at prisene som benyttes ved valg av leverandør, ikke overstiger rammeavtalens maksimalpriser. (jf. vedlegg 5 til avtalene). Det er anledning til å avtale lavere priser enn de som inngår i rammeavtalene. Tjenesteeier velger den leverandør som har det beste tilbudet på grunnlag av de to tildelingskriteriene som er beskrevet i konkurransegrunnlagets kap 13.3.     Tildelingskriterier Vekting     Pris 35%   Kvalitet (de tilbudte konsulenters kompetanse og erfaring) 65%     Tjenesteeier har ikke anledning til å benytte andre tildelingskriterier enn disse. Tjenesteeier skal vurdere sitt valg av leverandør(er) gjennom en protokoll. Brønnøysundregistrene anbefaler at den enkle protokollen for anskaffelser, som følger forskrift om offentlige anskaffelser, benyttes.  Dersom du har spørsmål angående rammeavtalen er det bare å ta kontakt på tjenesteeier@altinn.no\nKontaktpunkter hos leverandørene    Leverandør Kontaktinformasjon     Accenture Tonje Sandberg\ntonje.sandberg@accenture.com\n906 06 491   Arkitektum Hallstein Søvik\nhallstein@arkitektum.no\n982 200 07   Knowit Dataess Bjørn Deverill-Mathissen\nbjorn.deverill-mathisen@knowit.no\n993 63 100   Sopra Steria Bjørn von der Fehr\nbjorn.fehr@soprasteria.com\n928 86 222    Nyttig informasjon knyttet til avtalen  Avtalene er tilgjengelige på Altinn dokumentsenter. Prisbilagene ligger ikke tilgjengelige på Altinn dokumentsenter. Ved behov kan disse forespørres levert fra tjenesteeier@altinn.no. Prisene gitt fra leverandørene i avtalene er maksimalpriser. Når leverandørene skal levere tilbud på konkrete oppdrag i avtaleperioden (Avrop etter minikonkurranse), vil leverandørene kunne tilby lavere priser. Rammeavtalen som er etablert inneholder områder for aktiviteter som kan gjøres forut for en tjenesteutvikling, f.eks bistand til planlegging og utvikling/implementering av mottakssystem.  "
},
{
	"uri": "https://altinn.github.io/docs/api/sluttbruker-api/diverse/referanse-app/",
	"title": "Referanse-app",
	"tags": [],
	"description": "Altinn har tilgjengeliggjort referansekode for å gjøre det enklere å lage applikasjoner med Altinn-funksjonalitet.",
	"content": "Altinn har tilgjengeliggjort referansekode for å gjøre det enklere å lage applikasjoner med Altinn-funksjonalitet.\nReferansekoden ligger på Altinns repository på GitHub: https://github.com/Altinn/AltinnApp/\nLisensen for denne koden er type BSD 3-klausul-lisens, noe som gir et godt grunnlag for de som ønsker å tilpasse koden til den bruken de måtte ønske. For å sikre at API-et som er brukt i referansekoden ikke misbrukes, krever Altinn at de som ønsker å benytte det registrerer sin applikasjon.\n"
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/dialog/samhandling/",
	"title": "Samhandling",
	"tags": [],
	"description": "Er en sammensetning av flere enkeltstående tjenester til en helhetlig prosess mellom en eller flere sluttbrukere og en eller flere offentlige virksomheter.",
	"content": " Er en sammensetning av flere enkeltstående tjenester til en helhetlig prosess mellom en eller flere sluttbrukere og en eller flere offentlige virksomheter. De ulike enkelttjenestene grupperes og presenteres for sluttbruker på en arbeidsflate. Arbeidsflaten kan samtidig gi veiledning og støtte i prosess og regelverk.\nFordeler og muligheter En samhandlingstjeneste styrer sluttbruker gjennom en naturlig arbeidsflyt/prosess der definerte hendelser flytter samhandlingstjenesten fra steg til steg. Logging og sporing gjør at prosessforløpet kan spores uten avbrudd tilbake til utgangspunktet selv om prosessen går over tid og ulike aktører utfører sine steg én eller flere ganger.\nI sin enkleste form kan en samhandlingstjeneste samle tjenester som inngår i en enkel sekvensiell prosess mellom én avgiver og én tjenesteeier. Et eksempel på dette kan være at man sender inn søknad, mottar svar, sender eventuelt klage og mottar svar.\nI mer komplekse tilfeller kan samhandlingstjenesten involvere flere tjenesteeiere og/eller tillate svært mange alternative løp, avhengig av sluttbrukers handlinger kombinert med utfallet av enkelttjenestene som inngår i den.\nFordeler  Sikkerhet Flere aktører kan involveres i samme tjeneste Valideringer og hjelp om man ønsker Elektronisk signering Realisere en dialog mellom sluttbruker og tjenesteeier(e) Språkstøtte Generering av PDF for utskrift og arkivering Håndtering av prosessflyter (mulig med flere signeringer, betaling)  Produkter som tilbys Under utvikling\nHvordan komme i gang Under utvikling\nRåd og tips Under utvikling\nKanaler Under utvikling\nAvhengigheter Under utvikling\nTeknisk dokumentasjon  Funksjonell spesifikasjon – Sluttbrukerløsningen Brukerdokumentasjon TUL Implementasjonsguide for tjenesteeier  "
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/dialog/samtykke/",
	"title": "Samtykke",
	"tags": [],
	"description": "Gjennom samtykkeløsningen i Altinn kan personer/organisasjoner gi samtykke til at en tredjepart (offentlige og private virksomheter) får midlertidig innsynsrett på et spesifikt sett med opplysninger om dem som tidligere er innhentet.",
	"content": " Gjennom samtykkeløsningen i Altinn kan personer/organisasjoner gi samtykke til at en tredjepart (offentlige og private virksomheter) får midlertidig innsynsrett på et spesifikt sett med opplysninger om dem som tidligere er innhentet. Dette kan for eksempel være ligningsdata fra Skatteetaten.\nMed sluttbrukerens samtykke vil tredjepart automatisk bli tildelt en tidsbegrenset lese-rettighet for en eller flere sett av opplysninger representert ved tjenester i Altinn.\nFordeler og muligheter Samtykkeløsningen gir datakilder tilgang til å dele data de allerede har samlet inn på en person eller en organisasjon med en tredjepart som trenger de samme opplysningene. Løsningen kan utnyttes i en pågående prosess hos tredjepart hvor brukeren må gi samtykke til å innhente gitte opplysninger som en del av prosessen. Dette skjer ved at bruker sendes til en egen samtykkeside i Altinn. Siden støtter videreføring tilbake til tredjepart etter at bruker har gitt samtykke. For å kunne gi et samtykke må brukeren først identifisere seg med en elektronisk ID i den felles offentlige innloggingsløsningen ID-porten.\nTredjepart angir hvilke opplysninger det ønskes midlertidig innsyn i, hvor lenge innsynet skal vare og i hvilken kontekst opplysningene skal benyttes. Dette angir tredjepart som input til samtykkesiden. Datakilden har på forhånd navngitt settet av opplysninger og angitt overordnet og detaljert beskrivelse av opplysningene det vil bli gitt tilgang til.\nDet er frivillig for brukeren om han ønsker å samtykke så han kan også velge å ikke gi samtykke. I Altinn vil alle samtykker logges slik at brukeren til en hver tid har oversikt over avgitte, slettede og opphørte samtykker. Bruker har her også muligheten til å trekke et samtykke han tidligere har gitt slik at innsynsretten stoppes.\nDet er støtte for to ulike dataflyter for overføringen av data etter at samtykket er gitt. Dataflyten kan gå gjennom Altinn eller den kan gå direkte mellom datakilde og tredjepart. Dersom overføringen av data skal gå gjennom Altinn benyttes en innsynstjeneste i Altinn. Tredjepart vil da knytte seg til Altinn for å be om data fra datakilden. Altinn autoriserer og videreformidler forespørselen til datakildene og returnerer datasettet ved autorisert tilgang. Dersom innsynet skjer direkte mellom datakilde og tredjepart benyttes en lenketjeneste. Her vil tredjepart etter at bruker har avgitt samtykke få en autorisasjonskode, som igjen kan brukes til å motta et signert autorisasjons-token. Tokenet gir informasjon om samtykket som er gitt, varighet og hvilke datasett det gjelder og benyttes overfor datakilde for å hente ut data.\nFordeler for tredjepart:  Enklere å kunne hente data direkte og strukturert Kundeinformasjonen er valid og krever ikke kontroll Gir økt effektivitet til ulike prosesser. Digital tilgang til brukerens data i en begrenset periode for å kunne utnytte dataene i en digital prosess med et avgrenset formål  Fordeler for sluttbruker:  Enklere og ukomplisert «avlevering» av etterspurt informasjon Gir større trygghet i situasjonen for kunden, - ikke krevende, forvirrende eller tidkrevende Vil kunne se hvilke data man har delt med hvem og når  Fordeler for datakilde:  Slipper henvendelser fra brukerne på å få f.eks. ligningspapirer, regnskapsopplysninger En sikker og brukerautorisert måte kunne gi eksterne parter tilgang til brukers data  Råd og tips  Samtykke kan knyttes til alle tjenester som har definert samtykketekst Utform samtykketeksten slik at sluttbruker forstår hva man gir samtykke til. Hvis du lar datakonsument aksessere data gjennom Altinn kan Altinn håndtere autorisasjonen. Dette sparer kompleksitet på datakonsument siden som kan velge å stole på Altinn.  Kanaler  Samtykke gis i portal og data kan aksesseres via REST eller webservice. Flyt utenom Altinn er også mulig. Varslingstjenesten  Avhengigheter Samtykke knyttes til innsyn eller lenketjenester.\nTeknisk dokumentasjon Samtykkeløsning med bruk av token\n"
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/sikkerhet/signering/",
	"title": "Signering",
	"tags": [],
	"description": "Altinn støtter signering av data som bruker skal sende inn. Dette sikrer at brukeren bekrefter innholdet før tjenesteeier mottar data.",
	"content": " Altinn støtter signering av data som bruker skal sende inn. Dette sikrer at brukeren bekrefter innholdet før tjenesteeier mottar data.\nFordeler og muligheter Altinn støtter signeringsfunksjonalitet på innsendingstjenester. Dette betyr at tjenesteeier kan sette opp at som del av arbeidsflyten for utfylling av en innsendingstjeneste skal det signeres en eller flere ganger.\nKravet vil typisk knyttes opp mot en gitt rolle i Altinn for at tjenesteeier skal kunne på en god må definere hvem som må signere en innsending.\nSigneringen kan styres av innhold i skjema slik at man f.eks. kan tvinge at revisor signerer i tilfeller hvor et gitt beløp overstiger en grense. Dette kalles betinget signering.\nAltinn støtter også at tjenesteeier definerer deler av skjema som kilde til hvem som skal signere. Dette kan f.eks. bety at bruker fyller ut informasjon om en person eller organisasjon i skjema og at basert på dette så må disse signere på skjema. Dette kalles automatisk parallell signering.\nHvis du har ekstra høye krav til sikkerhet kan du kreve at signering skjer med BankID eller Buypass.\nProdukter som tilbys  Enkel signering Betinget signering Parallell signering Automatisk parallell signering Nivå 4 signering med BankID og Buypass.  Hvordan komme i gang? I utviklingshåndboken er det beskrevet hvordan man setter opp signering på innsendingstjenester.\nRåd og tips Hvis du har behov for å kunne sende inn via sluttbrukersystem må sikkerhetsnivå settes til nivå 2 for signering.\nKanaler  REST-API Web Services Portal  Avhengigheter Signering kan kun brukes sammen med innsendingstjenester.\nTeknisk dokumentasjon  Funksjonell spesifikasjon – Sluttbrukerløsningen  "
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/sikkerhet/",
	"title": "Sikkerhet",
	"tags": [],
	"description": "Altinn tilbyr omfattende sikkerhetsfunksjonalitet for å gi en trygg og sikker opplevelse både for tjenesteeiere og sluttbrukere.",
	"content": "Altinn tilbyr omfattende sikkerhetsfunksjonalitet for å gi en trygg og sikker opplevelse både for tjenesteeiere og sluttbrukere.\n\rAutentisering\r\rAltinnplattformen har innebygd en rekke mekanismer for autentisering.\n\rAutorisasjon\r\rAutorisasjonskomponenten i Altinn er svært funksjonsrik og gir et kraftig verktøy til tjenesteeiere for å kunne styre tilgang til tjenester.\n\rLogging\r\rAltinnplattformen logger bruk av plattformen på en rekke måter. Logging av hendelser i løsningen skjer både i applikasjoner, databaser, i operativsystemet og i infrastrukturkomponenter.\n\rSignering\r\rAltinn støtter signering av data som bruker skal sende inn. Dette sikrer at brukeren bekrefter innholdet før tjenesteeier mottar data.\n\r"
},
{
	"uri": "https://altinn.github.io/docs/slides/",
	"title": "Slides",
	"tags": [],
	"description": "Diverse presentasjoner",
	"content": "Diverse web-baserte presentasjoner.\n\rTjenester 3.0 slide\r\rEn presentasjon om målsettinger og konsepter for tjenester 3.0\n\r"
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/support/sluttbrukersystem/",
	"title": "Sluttbrukersystem",
	"tags": [],
	"description": "Altinn tilbyr støtte for åpne grensesnitt, og har helt siden starten i 2003 jobbet for størst mulig grad av integrasjon mot datasystemene som brukes i næringslivet og blant de profesjonelle brukerne.",
	"content": "Altinn tilbyr støtte for åpne grensesnitt, og har helt siden starten i 2003 jobbet for størst mulig grad av integrasjon mot datasystemene som brukes i næringslivet og blant de profesjonelle brukerne.\nMer informasjon om integrasjon av datasystemer mot Altinn\n"
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/support/statistikk/",
	"title": "Statistikk og rapporter",
	"tags": [],
	"description": "Altinn leverer ulike statistikker og rapporter til Tjenesteeiere.",
	"content": " Altinn leverer ulike statistikker og rapporter til Tjenesteeiere. Se beskrivelsen under menyvalget Statistikk eller Rapporter, over hva som er en del av leveranser for de tjenesteiere som har avtale med Altinn.\nAndre spesialrapporter må bestilles særskilt.\nStatistikk I Altinn tilbyr vi ulike typer statistikker.\n Transaksjoner. Denne statistikken viser en oversikt over alle transaksjoner siste måned. Disse kan sorteres og filtreres blant annet per tjenesteeier, per tjeneste, per sluttbrukersystem osv. Grensesnitt. Denne daglige statistikken viser status, inkludert antall overføringer, for abonnement og batch. Påloggings. Denne statistikken viser bruken av Altinns egne innloggingsmetoder, og har sammenligning mot fjoråret. PSA. Statistikk rundt bruk av selvangivelsesskjemaene.  Alle statistikker finner du på statstikkområdet på dokumentsenteret.\nAndre spesifikke kundenære statistikker må bestilles særskilt.\nRapportering Standard rapporter som leveres Tjenesteeiere er: - Månedlig Service Rapport\n"
},
{
	"uri": "https://altinn.github.io/docs/slides/tjenester30/",
	"title": "Tjenester 3.0 slide",
	"tags": [],
	"description": "En presentasjon om målsettinger og konsepter for tjenester 3.0",
	"content": " Tjenester 3.0 Status Se siste status her.\nHva er tjenester 3.0? 4 overordnede målsettinger\u0026hellip;\nModerne tjenester  Brukervennlige og effektive tjenester Responsivt design Universell utforming God ytelse og lav responstid Basert på moderne og åpne web-standarder  Effektiv tjenesteutvikling  100% selvbetjening Effektiv og automatisert testing Parallell utvikling (basert på Git) Enkel datamodellering Åpen plattform med API\u0026rsquo;er  Enkelt for fagperson, fleksibelt for utvikler  Fagpersoner benytter nettleser Utviklere kan også bruke kode-editor Kan utvides av andre systemer  Åpen kildekode, cross-platform  Basert på åpen kildekode Deles som åpen kildekode Alle kan gjenbruke, og bidra til forbedringer Raskere videreutvikling Støtter Windows, macOS og Linux  Konsepter 6 konsepter\u0026hellip;\nGit som back-end  Alt som utvikles får full versjonshistorikk Enkel og rask deploy Ekte distribuert og parallell utvikling Back-end både for nettleser og kode-editor Git støttes av veldig mange verktøy  Nærhet til web-teknologi  Alt er basert på standard web-teknologi Verktøy blir aldri \u0026ldquo;i veien\u0026rdquo; eller utdatert Standard utviklerkompetanse Ingen proprietære verktøy som må læres  Effektiv testing  Støtte for automatisert testing Behøver ikke migrere for å få reell test Gjenbruker gjennomtestede komponenter Endringer i plattform gjøres kun ett sted  Enkelt å tilpasse  Alle deler av løsningen skal kunne \u0026ldquo;byttes ut\u0026rdquo; Kan utvides med egne widgets, maler, stilark, etc. Gjenbruk og overstyrbare defaults på alle nivåer API\u0026rsquo;er og Git som back-end gjør det enkelt å integrere andre systemer  Åpen kildekode  Tjenester 3.0 skal være åpen kildekode Vi skal benytte programvare med fri lisensiering, type MIT, Apache 2 eller BSD Vi skal bidra tilbake til prosjekter som vi benytter Ingen lisensutgifter  Cross-platform  Kan kjøre på både Windows, Linux og macOS Unngår låsing mot en enkelt plattform Kan kjøre lokalt på en laptop Muliggjør distribuert lokal utvikling og testing  The End Tilbake til slides.\n"
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/dialog/varsling/",
	"title": "Varsling",
	"tags": [],
	"description": "Er en tjeneste som kan benyttes til å varsle brukere på e-post og/eller sms når en melding eller et skjema er gjort tilgjengelig i meldingsboksen i Altinn.",
	"content": " Er en tjeneste som kan benyttes til å varsle brukere på e-post og/eller sms når en melding eller et skjema er gjort tilgjengelig i meldingsboksen i Altinn. Det kan også sendes frittstående varsel som ikke er knyttet til en tjeneste.\nFordeler og muligheter Varsel sendes basert på informasjon om konkret angitte adresser, mobiltelefonnummer og/eller e-post adresse eller ved å oppgi kun fødselsnummer eller organisasjonsnummer. For fødselsnummer hentes informasjonen fra Difi sitt kontakt- og reservasjonsregister og for organisasjonsnummer benyttes informasjonen som ligger på enheten i Altinn sitt kontaktregister. Dette inneholder både kontaktinformasjonen som er angitt i Enhetsregisteret i tillegg til informasjon lagt inn av organisasjonen selv.\nVarslene kan sendes ut både på e-post og SMS.\nAltinn har mulighet til å sende ut varsler til sluttbrukerne når tjenesteeier sender meldinger eller legger ut helt eller delvis forhåndsutfylte skjema i sluttbrukers meldingsboks. Det kan også sendes ut frittstående varsel som ikke er knyttet til en bestemt melding eller skjema.\nVarslene må være definert i Altinn før de kan benyttes av tjenesteeier. Altinn har flere generelle varselmaler som kan benyttes. I tillegg er det mulig å bestille egne maler.\nTjenesteeier må selv spesifisere type mottakeradresse, tidspunkt for varsel, språk for varsel og hvilken varselmal som skal benyttes. Varslene sendes innenfor gitte tidspunkter. Som hovedregel sendes det ikke ut varsler på helligdager eller utenfor vanlig arbeidstid.\nFordeler ved bruk av tjenesten  Sikker dialog med bruker Tjenesteeier varsler når han ønsker Altinn har oversikt over hvem som skal varsles - hvis ønskelig Dialog: benytte tjenesten sammen med andre tjenester i samspill for å realisere en dialog mellom sluttbruker og tjenesteeier Språkstøtte  Produkter som tilbys  Varsling på e-post Varsling på sms Påfølgende varsel (purring) dersom meldingen ikke er åpnet innen et gitt tidspunkt  Hvordan komme i gang Under utvikling\nRåd og tips Under utvikling\nKanaler Under utvikling\nAvhengigheter Under utvikling\nTeknisk dokumentasjon  Implementasjonsguide for tjenesteeier  "
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/kanaler/grensesnitt-sluttbrukersystem/",
	"title": "Web services",
	"tags": [],
	"description": "Altinn støtter åpne grensesnitt og har helt siden starten jobbet for størst mulig grad av integrasjon mot datasystemene som brukes i næringslivet og blant de profesjonelle brukerne.",
	"content": " Altinn støtter åpne grensesnitt og har helt siden starten jobbet for størst mulig grad av integrasjon mot datasystemene som brukes i næringslivet og blant de profesjonelle brukerne. For datasystemer er det webservices som tilbys som integrasjonsgrensesnitt inn mot de tjenester Altinn tilbyr.\nFordeler og muligheter Tilgang til tjenester og generell funksjonalitet i Altinn tilbys sluttbrukere uten at man trenger å være pålogget i portalen. Regnskapsførere, revisorer og andre større virksomheter som utfører mesteparten av sitt arbeid i et datasystem sender direkte fra systemet over til Altinn. Det har også blitt vanlig blant mindre aktører å bruke datasystem i forbindelse med innsending til Altinn da dette støtter opp om arbeidsprosessen til brukerne.\nFor sluttbrukersystemer er det webservices som tilbys som integrasjonsgrensesnitt inn mot de tjenestene Altinn tilbyr. Det tilbys flere tjenester innenfor flere funksjonelle områder og en egen Implementasjonsguide for sluttbrukersystemer beskriver hvilken funksjonalitet som finnes med referanser til hvilke webservices som benyttes.\nEieren av et sluttbrukersystem må registrere dette i Altinn slik at Altinn har mulighet til å autentisere og autorisere systemet på vegne av en avgiver. Ved registrering i portalen opprettes en unik sluttbrukersystemidentifikator og denne identifikatoren sendes med i alle webservice kall som gjøres mot Altinn.\nKvitterings- og sporingsmekanismer ivaretar behov for tilbakemelding på det som er utført og sporing av data som er utvekslet gjennom plattformen.\nProdukter som tilbys  Autentisering og autorisasjon av sluttbrukersystem og brukere Benytte innsendingstjeneste Benytte meldingstjeneste Benytte formidlingstjeneste Benytte innsynstjeneste Benytte samhandlingstjeneste  Hvordan komme i gang Informasjon om hvordan man integrerer et sluttbrukersystem mot Altinn finnes her.\nRåd og tips Under utvikling\nKanaler Under utvikling\nAvhengigheter Under utvikling\nTeknisk dokumentasjon  Implementasjonsguide for sluttbrukersystemer  "
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/kanaler/grensesnitt-tjenesteeier/",
	"title": "Tjenesteeier",
	"tags": [],
	"description": "Tjenesteeier må etablere et grensesnitt mellom sine etatssystemer og Altinn for å sende og motta data.",
	"content": " Tjenesteeier må etablere et grensesnitt mellom sine etatssystemer og Altinn for å sende og motta data. Altinn tilbyr to forskjellige grensesnitt for de fleste funksjonelle integrasjonpunkter. Via webservice hvor tjenestekontrakter beskriver format for data og via batch på definerte standardformater. I tillegg er det mulig å velge at data fra en innsendingstjeneste legges i en DownloadQueue som tjenesteeier kan hente ut ved å sende en forespørsel til Altinn.\nFordeler og muligheter Integrasjon via webservice muliggjør umiddelbar kommunikasjon og tilbakemelding på forespørsler. Formater for integrasjon i Altinn er nesten utelukkende basert på bruk av XML. Ved bruk av webservicer blir tjenesteeier sitt system autentisert og autorisert før det kan utføre operasjoner mot Altinn. Tjenesteeiers system må være registrert i Altinn og passord mottatt før tjenestene kan benyttes.\nVed bruk av batch grensesnitt/filbasert integrasjon med Altinn benyttes FTP protokollen, fortrinnsvis SFTP (FTP over SSH), og det finnes to fremgangsmåter. Altinn kan hente data fra tjenesteeier sitt system eller tjenesteeier kan levere data på et definert Altinn område, dvs. SFTP server må etableres av ekstern part. Detaljer og tilpasning av den filbaserte overføringen avklares ved etablering.\nSom en tommelfingerregel kan man si at skal man overføre færre enn 100 elementer (alternativt mindre enn 30 MB) kan man benytte web service grensesnitt, men for store datamengder bør batch-grensesnitt benyttes. Tommelfingerregelen er scenarioavhengig og ingen absoluttgrense. For overføring av store datamengder er det vel så viktig at eksterne systemer er optimalt konfigurert iht. ønsket grensesnitt.\nVed bruk av DownloadQueue tar tjenesteeier initiativet og henter data fra en innsendingstjeneste fra Altinn. En slik løsning stiller mindre krav til tjenesteeier sitt system. DownloadQueue anbefales for mindre tjenesteordninger uten stort trykk ved innsendingsfrister. Dersom det er ønskelig å bruke DownloadQueue på større tjenesteordninger må dette avklares med Altinn først.\nProdukter som tilbys Innsendingstjenester  innsending av prefilldata innsending av abonnementsdata mottak av ferdig utfylte innsendinger fra Altinn uthenting av innsendte data fra tjenesteeiers eget arkiv uthenting av kvittering for status på innsending  Meldingstjenester  sende inn meldingstjenester motta meldingsbekreftelse sjekke status på meldingstjenester  Lenketjeneste  identifisere avgiver etterspørre informasjon om hvilke avgivere en bruker kan representere  Formidlingstjeneste  transportere data via web service eller SFTP kanal, både for opp- og nedlasting benytte tjenesteeierstyrt rettighetsregister for å begrense hvem som har tilgang til opp- og nedlasting av spesifikke tjenester kvittering for status på overførte data  Innsynstjenester  motta informasjon om brukere som har aktivert en innsynstjeneste  Samhandlingstjeneste  instansier en samhandlingstjeneste hente ut kjørende instanser av samhandlingstjenester knytte innsendingstjeneste til sak knytte meldingstjeneste til sak sett merknad på sak eller underliggende tjeneste sende hendelse til sak  Kvitteringer  hente kvitteringer for innsendte data kvittere for mottak av data hente lister med kvitteringer  Frittstående varsel  sende varsel til fødselsnummer eller organisasjonsnummer uten at varselet trenger å være tilknyttet en tjeneste  Autorisasjon  importere eksterne ressurser og regler for å avgjøre tilgang ved hjelp av tilgangsmekanismen i Altinn etter å ha importert eksterne regler kan det gjøres kall mot Altinn for å benytte Altinns autorisasjonskomponent hente roller  Uthenting av tiltrodd tredjeparts logg  tjenesteeiere vil ha muligheten til å hente ut logg over alle hendelser for innsendte innsendingstjenester  Hvordan komme i gang Under utvikling\nRåd og tips Under utvikling\nKanaler  Webservices: Overføring av data i sanntid. Tjenesteeier må etablere dedikert webservice angitt av Altinn på egen plattform, og motta innsendinger automatisk etter hvert som de arkiveres. Batch: Satsvis overføring av data. Kan leveres til en tjenesteeiers mottakssystem dersom det er etablert, eller tjenesteeier kan hente data på et definert Altinn område. DownloadQueue: Tjenesteeier henter data fra en kø ved bruk av webservice.  Avhengigheter Under utvikling\nTeknisk dokumentasjon  Implementasjonsguide for tjenesteeier  "
},
{
	"uri": "https://altinn.github.io/docs/guides/definisjoner/",
	"title": "Definisjoner",
	"tags": [],
	"description": "Beskrivelse av ulike begreper som benyttes i Altinn.",
	"content": "Beskrivelse av ulike begreper som benyttes i Altinn.\n   Betegnelse Beskrivelse     Abonnement Regelmessig aktivisering av innsendingstjeneste i avgivers arbeidsliste. Et abonnement kan forekomme 1 til X ganger.   Autentisering En betegnelse på det å verifisere en bruker eller et systems identitet. Dette vil typisk skje ved en sjekk av brukernavn og passord og/eller pin kode stemmer overens med registrert informasjon.   Autorisasjon En betegnelse på å verifisere at en gitt identifisert bruker eller system identitet har rettigheter til å utføre en handling eller har rettigheter til spesifikke data.   Base64 Standard for å representere binære data som tekst, slik at binære data kan være en del av f.eks. en XML struktur.   Batch En større mengde data av samme type gruppert sammen. Overføres i samme forsendelse, ofte rutinemessig.   E-dialog En tjenesteeierdefinert samhandlingstjeneste.   EnterpriseCertificate (EC) Sertifikat for en virksomhet, virksomhetssertifikat, som kan benyttes til autentisering og autorisering ifm implementasjon mot Altinn.   Formidlingstjeneste Formidling av data mellom eksterne aktører som er tilknyttet Altinn. Altinn forholder seg ikke til innhold, kun deler av formatet hvor metadata for tjenesten angis.   Innsendingstjeneste En innsendingstjeneste er en eller flere skjema definert av en tjenesteeier som fylles ut i portal eller sluttbrukersystem, evt. signeres, og sendes inn. Påbegynte og innsendte innsendingstjenester kan oppbevares i sluttbrukers meldingsboks i Altinn. Svardata sendes tjenesteeier   Innsynstjenester Tjenesteeiere kan gjøre informasjon i egne registre (for eksempel saksbehandlingsløsninger eller elektroniske saksarkiv/saksmapper) tilgjengelig for den enkelte brukeren eller dennes representant.   Lenketjeneste Formålet med en lenketjeneste er å overføre en bruker i Altinn til en annen nettside. En lenketjeneste er alltid assosiert med en URL.   Kvittering Ved innsending av data til Altinn, eller mottak av data fra Altinn opprettes kvitteringer som partene senere kan benytte for å få oversikt over datautveksling med Altinn.   Meldingsboks Samlingen av en sluttbrukers instansierte tjenester i Altinn (tjenestemotor og arkiv).   Meldingstjeneste Offentlige virksomheter sender informasjon/melding til sluttbrukers meldingsboks i Altinn. Meldingene støtter HTML og vedlegg. Brukeren kan varsles med e-post eller SMS om at informasjon er gjort tilgjengelig for innsyn eller behandling. Tjenesteeieren får informasjon om hvilke utsendte meldinger som er åpnet og kan eventuelt kreve at brukeren bekrefter mottaket innen en fastsatt frist. Meldingene kan oppbevares i sluttbrukerens meldingsboks i Altinn i en fastsatt periode, eventuelt slettes av brukeren.   MTOM Message Transmission Optimization Mechanism – Metodikk for effektiv forsendelse av binære vedlegg til og fra en web service.   Preutfylling Forhåndsutfylling av skjema/skjemasett i Altinn for bruker/organisasjon vha. data mottatt fra tjenesteeiere eller nasjonale registre (f.eks. Folkeregisteret, Enhetsregisteret)   Sak En instansiert samhandlingstjeneste, enten en samleside eller en e-dialog.   SBL Sluttbrukerløsningen. Applikasjon som privatpersoner eller næringslivet benytter for å kommunisere med tjenesteeiere.   Samhandlingstjeneste En tjeneste som knytter sammen andre tjenester som for sluttbruker og/eller tjenesteeier hører naturlig sammen.   Samleside En brukerdefinert samhandlingstjeneste.   Signering Tjenesteeier kan definere at spesifikke innsendingstjenester må signeres en eller flere ganger av bruker(e) før den aktuelle innsendingstjenesten kan ferdigstiller og sendes inn til Altinn.   Skjema Formular/dokument definert av en tjenesteeier som inneholder rubrikker som skal besvares av den som bruker formularet. Kan være trykket på papir eller elektronisk – sluttbrukerløsningen benytter elektroniske skjema.   Skjemasett En samling skjema som hører sammen. Gyldige kombinasjoner defineres av tjenesteeiere i TUL.   SOAP Uavhengig protokoll spesifikasjon for utveksling av strukturert informasjon gjennom web services.   TUL Tjenesteutviklingsløsningen. Applikasjon hvor tjenesteeiere bl.a. kan opprette tjenester for bruk i Altinn, for eksempel innsendingstjenester.   Web service Tjeneste på Internet aksessert vha. HTTP/HTTPS som utfører en bestemt oppgave, eller en bestemt type oppgaver.   WSDL Språk (xml) som beskriver en web service, dvs. informasjon om tjenester, protokoller og formater. Hensikten er å ha en velkjent måte for å etablere dialog mellom brukere og tilbydere av elektroniske tjenester.   XACML EXtended Markup Language - XML er en språkdefinisjon for strukturering og beskrivelse av data.   Web service Tjeneste på Internet aksessert vha. HTTP/HTTPS som utfører en bestemt oppgave, eller en bestemt type oppgaver.   WSDL Språk (xml) som beskriver en web service, dvs. informasjon om tjenester, protokoller og formater. Hensikten er å ha en velkjent måte for å etablere dialog mellom brukere og tilbydere av elektroniske tjenester.   XML EXtended Markup Language - XML er en språkdefinisjon for strukturering og beskrivelse av data.   XSD XML Schema Definition. Metabeskrivelse for XML data. Beskrivelse av hvordan XML dataene skal være strukturert og beskrivelse av alle dataelementene. Blir også brukt til å validere XML data.    "
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/kanaler/portal/",
	"title": "Portal",
	"tags": [],
	"description": "Altinn-portalen tilbyr en felles meldingsboks til sluttbrukerne av Altinn samt standardfunksjonalitet for de forskjellige tjenestene.",
	"content": " Altinn-portalen tilbyr en felles meldingsboks til sluttbrukerne av Altinn samt standardfunksjonalitet for de forskjellige tjenestene.\nFordeler og muligheter Fordelene med å benytte seg av Altinn-portalen og dens standardfunksjonalitet er at brukerne får et kjent brukergrensesnitt som de kjenner fra andre tjenester/tjenesteeiere. De finner kvitteringer der de er vant med det og de kan sette opp varsling i et felles brukergrensesnitt.\nFor de forskjellige tjenestetypene tilbyr portalen brukergrensesnitt for å navigere seg mellom og i tjenestene.\nProdukter som tilbys  Meldingsboks Arkiv Arbeidsflyt Profil  Hvordan komme i gang Hvis man ikke gjør at aktivt valg om at tjenesten kan skal benytte kun skal være tilgjengelig via REST/Web service vil tjenestene være tilgjengelig i Altinn-portalen for sluttbrukere.\nRåd og tips  Pek brukeren til Altinns egne hjelpetekst hvis det er behov for å veilede sluttbrukeren. Prøv å gjør informasjonen i tjenestekatalogen best mulig slik at sluttbruker i størst mulig grad forstår hva som kreves av tjenesten de skal benytte.  Kanaler  Portal  Avhengigheter For tjenesteeiere gir portalen liten nytte uten at man også tilbyr tjenester i portalen. Dette kan være meldingstjeneste, innsendingstjeneste, innsynstjeneste, samhandlingstjeneste.\nTeknisk dokumentasjon Informasjon om Altinn Portal:\n Funksjonell spesifikasjon – Sluttbrukerløsningen  "
},
{
	"uri": "https://altinn.github.io/docs/api/sluttbruker-api/diverse/profil/",
	"title": "Profil",
	"tags": [],
	"description": "Altinn API tilbyr tilgang til profil-data.",
	"content": " Lese egne profildata (privatperson) Man kan hente ut informasjon fra egen brukerprofil i Altinn, som gir oversikt over hvem som er logget inn (Navn,Adresse, Personnr, \u0026hellip;). Det returneres også en lenke til profilsiden i Altinn.no portalen (lenke av type portalview).\nGET operasjon for å lese min Profil:\nGET /api/my/profile HTTP/1.1 ApiKey: myKey Accept: application/hal+json  Respons fra API:\n{ \u0026quot;Name\u0026quot;: \u0026quot;HÅKON TRANA\u0026quot;, \u0026quot;AddressLine1\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;AddressLine2\u0026quot;: \u0026quot;Borgermester Platous gate 7\u0026quot;, \u0026quot;AddressLine3\u0026quot;: \u0026quot;5008 BERGEN\u0026quot;, \u0026quot;UserName\u0026quot;: \u0026quot;haakon@trana.net\u0026quot;, \u0026quot;MobileNumber\u0026quot;: \u0026quot;99988888\u0026quot;, \u0026quot;PreferredLanguage\u0026quot;: \u0026quot;NorwegianNO\u0026quot;, \u0026quot;ShowClientUnits\u0026quot;: true, \u0026quot;PrivateConsent\u0026quot;: true, \u0026quot;ProfessionalConsent\u0026quot;: true, \u0026quot;ContactInformation\u0026quot;: { \u0026quot;Email\u0026quot;: \u0026quot;haakon@trana.net\u0026quot;, \u0026quot;Mobile\u0026quot;: \u0026quot;99988888\u0026quot;, \u0026quot;RequestsEmailReceipts\u0026quot;: false }, \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://tt02.altinn.basefarm.net/api/my/profile\u0026quot; }, \u0026quot;portalview\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://tt02.altinn.basefarm.net/Pages/Profile/MyUserSettings.aspx\u0026quot; } } }  Les kontaktinformasjon for Virksomheter Det er mulig å hente ut informasjon fra Kontaktinformasjon registrert på virksomheter brukeren har rettigheter for i Altinn. Ornganisasjonsnummeret til virksomheten benyttes til adressering.\nGET operasjon for å lese kontaktinformasjon for en virksomhet:\nGET /api/{orgno}/profile HTTP/1.1 ApiKey: myKey Accept: application/hal+json  Respons fra API:\n{ \u0026quot;Entity\u0026quot;: \u0026quot;Altinn testvirksomhet\u0026quot;, \u0026quot;Email\u0026quot;: test@test.com, \u0026quot;MobileNumber\u0026quot;: 99988888, \u0026quot;LastModifiedBy\u0026quot;: \u0026quot;LANDE JAN ÅGE\u0026quot;, \u0026quot;LastModifiedDate\u0026quot;: \u0026quot;2014-06-14T17:17:11.223\u0026quot;, \u0026quot;IsSelectedForNotification\u0026quot;: false, \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/428743989/profile\u0026quot; }, \u0026quot;portalview\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/Pages/Profile/UnitProfile.aspx?o=428743989\u0026quot; }, \u0026quot;contactinformation\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/428743989/profile/contactinformation\u0026quot; } } }  Email og MobileNumber er kontaktinformasjon registrert på virksomheten i Enhetsregisteret. Dersom brukere følger lenken til contactinformation vil det bli returnert en liste med kontaktinformasjon registert av brukerne i Altinn. Kontaktinformasjonen blir benyttet til varsling (epost og sms) på vegene av tjenesteeiere i Altinn.\n"
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/kanaler/apps/",
	"title": "Apps",
	"tags": [],
	"description": "Altinn Apps er i dag tre applikasjoner som er utviklet på de tre dominerende mobile plattformene iOS, Android og Windows Phone.",
	"content": " Altinn Apps er i dag tre applikasjoner som er utviklet på de tre dominerende mobile plattformene iOS, Android og Windows Phone. Funksjonalitet som foreløpig er tilgjengelig via apps er pålogging (via ID-Porten), visning av elementer i meldingsboks, signering (begrenset til noen få tjenester) og valg av aktør (person/organisasjon) som man har fått rettigheter av.\nFordeler og muligheter Altinn-appen dekker et behov for enkel tilgang til meldingsboksen i Altinn på mobilen. Med appen kan du for eksempel sjekke skatteoppgjøret på mobilen mens du sitter på bussen på vei til jobb, eller du kan se om det er kommet noen meldinger til foretaket du er styreleder i.\nDet er et stort potensiale for fremtidig bruk av Altinn-appen og dette er noe det er fokus på fra Altinn sin side. Det vil sees på muligheter for å utnytte de mulighetene som apps har for å forenkle og effektivisere oppgaver for brukerne, som rask og sikker innlogging basert på biometri (fingeravtrykk eller scanning av øyne) og varsling som kan integreres i arbeidsflyten til bruker på en mye mer effektiv måte enn SMS eller epost. Dagens apps utnytter heller ikke det mulighetsrommet som finnes for utbredelse. Eksempler på dette er iPad og Apple TV og Windows 10-baserte laptop-er og PC-er.\nMålet er at Altinn-appen skal bidra til å effektivisere dialogen med det offentlige.\nFunksjonaliteten i appen realiseres ved å benytte Altinn sitt REST API (tekniske grensesnitt).\nProdukter som tilbys Foreløpig er følgende funksjonalitet tilgjengelig via apps: - Pålogging (via ID-Porten) - Visning av elementer i meldingsboks - Signering (begrenset til noen få tjenester) - Valg av aktør (person/organisasjon) som man har fått rettigheter av\nHvordan komme i gang Under utvikling\nRåd og tips Under utvikling\nKanaler Under utvikling\nAvhengigheter Under utvikling\nTeknisk dokumentasjon Under utvikling\n"
},
{
	"uri": "https://altinn.github.io/docs/guides/referanser/",
	"title": "Referanser",
	"tags": [],
	"description": "Diverse referanser og lenker.",
	"content": "Referanser til diverse filer og dokumenter:\n   Dokument Beskrivelse     Funksjonell spesifikasjon - Sluttbrukerløsningen Funksjonell beskrivelse av Sluttbrukerløsningen hvor bl.a. abonnement, preutfylling og meldinger blir beskrevet.   Implementasjonsguide for integrasjon mot Altinn.doc Dette dokumentet beskriver den overordnede arkitekturen for integrasjon mot Altinn, samt sikkerhetsmekanismer som benyttes for kommunikasjon mellom Altinn og eksterne systemer.   serviceinitiation.2010.10.xsd Meldingsbeskrivelse benyttet for innsending av preutfyllingsdata og abonnementsdata fra tjenesteeier på batchgrensesnitt.   correspondence.2010.10.xsd Meldingsbeskrivelse benyttet for innsending av meldinger fra tjenesteeier på batchgrensesnitt.   correspondence.confirmations.2010.10.xsd Meldingsbeskrivelse benyttet for innsending av meldinger fra tjenesteeier på batchgrensesnitt.   AltUt.xsd Meldingsbeskrivelse benyttet for innsending av meldinger fra tjenesteeier på gammelt format, for både batch– og tjenestegrensesnitt.   AltUtConfirmationBatch.xsd Meldingsbekreftelse benyttet for meldingsbekreftelser på gammelt format fra Altinn til tjenesteeier, batchgrensesnitt.   GovOrganReceipt.xsd Meldingsbekreftelse benyttet for meldingsbekreftelser på gammelt format fra Altinn til tjenesteeier, batchgrensesnitt.   genericbatch.2010.10.xsd Meldingsbeskrivelse benyttet for overføring av arkiverte innsendingstjenester fra Altinn til tjenesteeier   genericbatch.2013.06.xsd Oppdatert meldingsbeskrivelse benyttet for overføring av arkiverte innsendingstjenester fra Altinn til tjenesteeier. Med støtte for vedleggstypenavn (AttachmentTypeName) og sjekksum av vedlegget (Checksum)   OnlineBatchReceipt.xsd Kvittering ved online overføring av data fra Altinn til Tjenesteeier   Videreformidling av identitet_SAML 2 0.doc Beskriver hvordan tjenesteleverandører kan sette opp og konfigurere et grensesnitt mot Altinn sin løsning for videreformidling av elektronisk identitet basert på SAML 2.0 protokollen.    Lenker til diverse ressurser:\n   Beskrivelse Link     Bestillingsskjemaer https://altinn.brreg.no/sites/dokument2/Bestillingsskjema   Oppgaveregisteret - Oversikt over skjema spesifikasjoner http://w2.brreg.no/oppgaveregisteret/spesifikasjon_skjemaliste.jsp   Tjenestekatalogen https://altinn.brreg.no/sites/program/altinn%20II/Lists/Tjenestekatalog   Referanseklienter for Java og .NET https://altinn.brreg.no/sites/fagsystemer/Kokebker/Forms/AllItems.aspx?RootFolder=/sites/fagsystemer/Kokebker/Referanseklienter    "
},
{
	"uri": "https://altinn.github.io/docs/_header/",
	"title": "",
	"tags": [],
	"description": "",
	"content": "docs\n"
},
{
	"uri": "https://altinn.github.io/docs/",
	"title": "Altinn docs",
	"tags": [],
	"description": "Teknisk dokumentasjon for Altinn.",
	"content": " Ny dok Vi i Altinn er i gang med å gjøre dokumentasjonen enklere og mer tilgjengelig, samt mye enklere å vedlikeholde. Vi er langt fra ferdige, men ønsker å dele så tidlig som mulig. Det er fortsatt mye arbeid som gjenstår.\nDokumentasjonen er enkel markdown som blir til en statisk web site (html) som kan kjøre hvor som helst.\nØnsker du å bidra? Alle markdown-filene som vi genererer denne dokumentasjonen fra ligger åpent på GitHub.\nHver side inneholder også en \rEditer-lenke til den tilsvarende markdown-filen i GitHub. Hvis du ikke har direkte skrivetilgang så blir du etter å ha logget inn bedt om å trykke på en knapp for å opprette en såkalt pull request med dine endringsforslag.\nDu kan også foreslå forbedringer eller melde feil ved å opprette issues.\n"
},
{
	"uri": "https://altinn.github.io/docs/categories/",
	"title": "Categories",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "https://altinn.github.io/docs/credits/",
	"title": "Kred",
	"tags": [],
	"description": "Hyllest",
	"content": "Vi i Altinn benytter Hugo for å generere opp hele dokumentasjonen med søk som en statisk web site.\nDet hele tar typisk 400 millisekunder. Hugo er åpen kildekode i tillegg til å være lynrask. Anbefales.\nSom tema benytter vi docDock. Stor takk til Valere JEANTET.\nReveal.js er et fantastisk rammeverk for presentasjoner på web. Takk til Hakim El Hattab.\n"
},
{
	"uri": "https://altinn.github.io/docs/tags/",
	"title": "Tags",
	"tags": [],
	"description": "",
	"content": ""
}]