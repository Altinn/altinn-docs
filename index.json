[
{
	"uri": "https://altinn.github.io/docs/api/sluttbruker/kom-i-gang/",
	"title": "Kom i gang!",
	"tags": [],
	"description": "Denne guiden vil hjelpe deg med å komme igang med bruk av Altinns REST API.",
	"content": " Denne guiden vil hjelpe deg med å komme igang med bruk av Altinns REST API.\nRegistrer din applikasjon For at vi skal kunne stoppe misbruk og feilbruk må du registrere deg for å kunne bruke Altinn API-et.\nFør du skal bruke APIet må du ta stilling til hvilke ressurser i APIet du skal benytte og på hvilken måte (Read=lesetilgang, Write=skrivetilgang). API-nøkkelen du blir tildelt vil kun være gyldig for de ressursene du har bedt om tilgang til.\n Read på Message gir tilgang til å hente meldinger og skjema. Write gir tilgang til å sende inn skjema, samt slette meldinger og skjema. Read på Profile gir tilgang til å hente brukerens Navn, adresse og kontaktinformasjon, samt kontaktinformasjon for virksomheter brukeren kan representere Read på Organizations gir tilgang til å hente ut virksomhetene pålogget bruker kan representere. Read på Reportee gir tilgang til å hente ut alle avgivere (privatpersoner og virksomheter) pålogget bruker kan representere. Read på Lookup gir tilgang til å aksessere eksponerte innsynstjenester i REST API. Read/Write på Authorization gir tilgang til å se på eller endre delegerte roller og rettigheter på vegne av innlogget bruker eller virksomheter som brukere kan representere.  Send følgende to skjemaer ferdig utfylt i en e-post til api@altinn.no\n Bestillingsskjema Egenerklæringsskjema  Når vi har registrert informasjonen vil vi sende en API-nøkkel som du må benytte i din applikasjon.\nAutentisering med ID-porten Selv om tilgang til Altinn API er åpent, kreves det at brukeren autentiserer seg for at tilgangen til innholdet i brukerens meldingsboks skal gis. Informasjon om hvordan autentisering av brukerne kan utføres i en applikasjon og informasjon om føderering av brukere finner du her. For å teste APIet i en nettleser kan du logge inn i Altinn på vanlig måte.\nRespons formater Alle kall som brukes for å hente ut informasjon fra Altinn API bruker GET-metoden i HTTP. Formatet som returneres bestemmes av HTTP-headeren Accept.\nFølgende kall returnerer innhold fra brukerens meldingsboks i JSON-format.\nGET https://www.altinn.no/api/my/messages HTTP/1.1 Host: www.altinn.no Accept: application/hal+json ApiKey: myKey  Mens følgende kall returnerer innhold på XML-format:\nGET https://www.altinn.no/api/my/messages HTTP/1.1 Host: www.altinn.no Accept: application/hal+xml ApiKey: myKey  Detaljert teknisk hjelpeside og testklient Altinn API har egne selvdokumenterene hjelpesider (på engelsk) som du finner på https://www.altinn.no/api/help/. Disse hjelpesidene inneholder detaljert teknisk informasjon om de ulike modellene som eksponeres og aksjonene som er mulig å utføre. Hjelpesidene inneholder også en testklient som kan benyttes til å utføre spørringer direkte mot Altinn API fra din nettleser (krever at du er pålogget Altinn).\nFeilbehandling og utilgjengelighet Informasjon kommer.\n Feil ved for lavt sikkerhetsnivå Feil ved autorisasjon  "
},
{
	"uri": "https://altinn.github.io/docs/api/tjenesteeier/registrering/",
	"title": "Registrering",
	"tags": [],
	"description": "Hvordan registrere din applikasjon.",
	"content": " Registrere dere som bruker av Altinns REST-api for tjenesteeiere Registrering gir tilgang alle ressurser under tjenesteier API. API-et har inntil videre bare leseoperasjoner (GET).\nSend følgende skjema ferdig utfylt i en e-post til api@altinn.no\n Bestillingsskjema Egenerklæringsskjema  Når vi har registrert informasjonen vil vi sende en API-nøkkel som du må benytte i din applikasjon.\n"
},
{
	"uri": "https://altinn.github.io/docs/api/sluttbruker/diverse/profil/",
	"title": "Profil",
	"tags": [],
	"description": "Altinn API tilbyr tilgang til profil-data.",
	"content": " Lese egne profildata (privatperson) Man kan hente ut informasjon fra egen brukerprofil i Altinn, som gir oversikt over hvem som er logget inn (Navn,Adresse, Personnr, \u0026hellip;). Det returneres også en lenke til profilsiden i Altinn.no portalen (lenke av type portalview).\nGET operasjon for å lese min Profil:\nGET https://www.altinn.no/api/my/profile ApiKey: myKey Accept: application/hal+json  Respons fra API:\n{ \u0026quot;Name\u0026quot;: \u0026quot;HÅKON TRANA\u0026quot;, \u0026quot;AddressLine1\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;AddressLine2\u0026quot;: \u0026quot;Borgermester Platous gate 7\u0026quot;, \u0026quot;AddressLine3\u0026quot;: \u0026quot;5008 BERGEN\u0026quot;, \u0026quot;UserName\u0026quot;: \u0026quot;haakon@trana.net\u0026quot;, \u0026quot;MobileNumber\u0026quot;: \u0026quot;99988888\u0026quot;, \u0026quot;PreferredLanguage\u0026quot;: \u0026quot;NorwegianNO\u0026quot;, \u0026quot;ShowClientUnits\u0026quot;: true, \u0026quot;PrivateConsent\u0026quot;: true, \u0026quot;ProfessionalConsent\u0026quot;: true, \u0026quot;ContactInformation\u0026quot;: { \u0026quot;Email\u0026quot;: \u0026quot;haakon@trana.net\u0026quot;, \u0026quot;Mobile\u0026quot;: \u0026quot;99988888\u0026quot;, \u0026quot;RequestsEmailReceipts\u0026quot;: false }, \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://tt02.altinn.basefarm.net/api/my/profile\u0026quot; }, \u0026quot;portalview\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://tt02.altinn.basefarm.net/Pages/Profile/MyUserSettings.aspx\u0026quot; } } }  Les kontaktinformasjon for Virksomheter Det er mulig å hente ut informasjon fra Kontaktinformasjon registrert på virksomheter brukeren har rettigheter for i Altinn. Ornganisasjonsnummeret til virksomheten benyttes til adressering.\nGET operasjon for å lese kontaktinformasjon for en virksomhet:\nGET https://www.altinn.no/api/{orgno}/profile ApiKey: myKey Accept: application/hal+json  Respons fra API:\n{ \u0026quot;Entity\u0026quot;: \u0026quot;Altinn testvirksomhet\u0026quot;, \u0026quot;Email\u0026quot;: test@test.com, \u0026quot;MobileNumber\u0026quot;: 99988888, \u0026quot;LastModifiedBy\u0026quot;: \u0026quot;LANDE JAN ÅGE\u0026quot;, \u0026quot;LastModifiedDate\u0026quot;: \u0026quot;2014-06-14T17:17:11.223\u0026quot;, \u0026quot;IsSelectedForNotification\u0026quot;: false, \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/428743989/profile\u0026quot; }, \u0026quot;portalview\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/Pages/Profile/UnitProfile.aspx?o=428743989\u0026quot; }, \u0026quot;contactinformation\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/428743989/profile/contactinformation\u0026quot; } } }  Email og MobileNumber er kontaktinformasjon registrert på virksomheten i Enhetsregisteret. Dersom brukere følger lenken til contactinformation vil det bli returnert en liste med kontaktinformasjon registert av brukerne i Altinn. Kontaktinformasjonen blir benyttet til varsling (epost og sms) på vegene av tjenesteeiere i Altinn.\n"
},
{
	"uri": "https://altinn.github.io/docs/api/sluttbruker/autentisering/",
	"title": "Autentisering",
	"tags": [],
	"description": "For å få tilgang til Altinn API-et må brukeren først autentisere seg. Altinn API støtter tre ulike autentiseringsmetoder.",
	"content": "For å få tilgang til Altinn API-et må brukeren først autentisere seg. Altinn API støtter tre ulike autentiseringsmetoder.\n\rBrukernavn og passord\r\rAltinns REST-API støtter autentisering med bruk av brukernavn og passord registrert i Altinn.\n\rID-porten\r\rDersom brukeren ikke er autentisert vil API-et redirecte applikasjonen din til ID-portens påloggingsside med responsivt design. I en app vil brukeren kunne velge mellom å autentisere seg ved bruk av av MinID eller BankID. Når brukeren er autentisert i ID-porten vil brukeren bli redirected tilbake til opprinnelig URL. Dette vil fungere for alle klienter som støtter cookies og HTTP-redirect.\n\rVirksomhetssertifikat\r\rDersom brukeren skal representere en virksomhet som har et virksomhetssertifikat, kan dette benyttes sammen med en virksomhetsbruker opprettet på Altinn.no til å autentisere seg mot Altinns REST-api.\n\r"
},
{
	"uri": "https://altinn.github.io/docs/api/sluttbruker/autorisasjon/",
	"title": "Autorisasjon",
	"tags": [],
	"description": "For å få tilgang til Altinn API-et må brukeren være autorisert.",
	"content": "\r\rRolledefinisjoner\r\rAPI\u0026#39;er relatert til rolledefinisjoner.\n\rRoller og rettigheter\r\rAPI\u0026#39;er relatert til roller og rettigheter.\n\r"
},
{
	"uri": "https://altinn.github.io/docs/api/tjenesteeier/autorisasjon/",
	"title": "Autorisasjon",
	"tags": [],
	"description": "Spørringer mot Altinns autorisasjonskomponent",
	"content": " Ved å bruke autorisasjonsdelen av REST-api for tjenesteeier kan man autorisere tilganger og verifisere roller og rettigheter til bruk utenfor Altinn, for eksempel som alternativ til XACML/webservicer eller som oppslag i forbindelse med tilgangsstyring.\nHente ut liste over alle avgivere en person eller organisasjon {subject}kan representere, eventuelt spesifisert ned på spesifikk tjeneste eller rolle GET https://www.altinn.no/api/serviceowner/serviceowner/reportees?ForceEIAuthentication\u0026amp;subject={subject}\u0026amp;serviceCode={serviceCode}\u0026amp;serviceEdition={serviceEdition}\u0026amp;roleDefinitionId={roleDefinitionId}\u0026amp;showConsentReportees={showConsentReportees} Accept: application/hal+json ApiKey: myKey  Eksempel på respons:\n{ \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/serviceowner/reportees?subject={subject}\u0026quot; } }, \u0026quot;_embedded\u0026quot;: { \u0026quot;reportees\u0026quot;: [ { \u0026quot;Name\u0026quot;: \u0026quot;BIRI OG TORPO REGNSKAP\u0026quot;, \u0026quot;Type\u0026quot;: \u0026quot;Enterprise\u0026quot;, \u0026quot;OrganizationNumber\u0026quot;: \u0026quot;910437127\u0026quot;, \u0026quot;Status\u0026quot;: \u0026quot;Active\u0026quot; }, { \u0026quot;Name\u0026quot;: \u0026quot;EIDSNES OG AUSTRE ÅMØY\u0026quot;, \u0026quot;Type\u0026quot;: \u0026quot;Business\u0026quot;, \u0026quot;OrganizationNumber\u0026quot;: \u0026quot;910521551\u0026quot;, \u0026quot;Status\u0026quot;: \u0026quot;Active\u0026quot; }, { \u0026quot;Name\u0026quot;: \u0026quot;FJELL LISA FOS\u0026quot;, \u0026quot;Type\u0026quot;: \u0026quot;Person\u0026quot;, \u0026quot;SocialSecurityNumber\u0026quot;: \u0026quot;13054900281\u0026quot; }, { \u0026quot;Name\u0026quot;: \u0026quot;KIRKENES OG AUSTBØ\u0026quot;, \u0026quot;Type\u0026quot;: \u0026quot;Enterprise\u0026quot;, \u0026quot;OrganizationNumber\u0026quot;: \u0026quot;910021451\u0026quot;, \u0026quot;Status\u0026quot;: \u0026quot;Active\u0026quot; }, { \u0026quot;Name\u0026quot;: \u0026quot;KYSTBASEN ÅGOTNES OG ILSENG REGNSKAP\u0026quot;, \u0026quot;Type\u0026quot;: \u0026quot;Enterprise\u0026quot;, \u0026quot;OrganizationNumber\u0026quot;: \u0026quot;910514318\u0026quot;, \u0026quot;Status\u0026quot;: \u0026quot;Active\u0026quot; }, { \u0026quot;Name\u0026quot;: \u0026quot;ROLF BJØRN \u0026quot;, \u0026quot;Type\u0026quot;: \u0026quot;Person\u0026quot;, \u0026quot;SocialSecurityNumber\u0026quot;: \u0026quot;06117701547\u0026quot; } ] } }  Hente ut alle rettigheter en person eller organisasjon {subject} har for en annen person eller organisasjon {reportee} GET https://www.altinn.no/api/serviceowner/authorization/rights?ForceEIAuthentication\u0026amp;subject={subject}\u0026amp;reportee={reportee} Accept: application/hal+json ApiKey: myKey  Eksempel på respons:\n{ \u0026quot;Subject\u0026quot;: { \u0026quot;Name\u0026quot;: \u0026quot;ROLF BJØRN \u0026quot;, \u0026quot;Type\u0026quot;: \u0026quot;Person\u0026quot;, \u0026quot;SocialSecurityNumber\u0026quot;: \u0026quot;06117701547\u0026quot; }, \u0026quot;Reportee\u0026quot;: { \u0026quot;Name\u0026quot;: \u0026quot;KIRKENES OG AUSTBØ\u0026quot;, \u0026quot;Type\u0026quot;: \u0026quot;Enterprise\u0026quot;, \u0026quot;OrganizationNumber\u0026quot;: \u0026quot;910021451\u0026quot;, \u0026quot;Status\u0026quot;: \u0026quot;Active\u0026quot; }, \u0026quot;Rights\u0026quot;: [ { \u0026quot;RightID\u0026quot;: 1018549, \u0026quot;RightType\u0026quot;: \u0026quot;Service\u0026quot;, \u0026quot;ServiceCode\u0026quot;: \u0026quot;2480\u0026quot;, \u0026quot;ServiceEditionCode\u0026quot;: 20, \u0026quot;Action\u0026quot;: \u0026quot;Read\u0026quot;, \u0026quot;RightSourceType\u0026quot;: \u0026quot;RoleTypeRights\u0026quot;, \u0026quot;IsDelegatable\u0026quot;: true }, { \u0026quot;RightID\u0026quot;: 1018550, \u0026quot;RightType\u0026quot;: \u0026quot;Service\u0026quot;, \u0026quot;ServiceCode\u0026quot;: \u0026quot;2480\u0026quot;, \u0026quot;ServiceEditionCode\u0026quot;: 20, \u0026quot;Action\u0026quot;: \u0026quot;ArchiveRead\u0026quot;, \u0026quot;RightSourceType\u0026quot;: \u0026quot;RoleTypeRights\u0026quot;, \u0026quot;IsDelegatable\u0026quot;: true }, { \u0026quot;RightID\u0026quot;: 1018551, \u0026quot;RightType\u0026quot;: \u0026quot;Service\u0026quot;, \u0026quot;ServiceCode\u0026quot;: \u0026quot;2480\u0026quot;, \u0026quot;ServiceEditionCode\u0026quot;: 20, \u0026quot;Action\u0026quot;: \u0026quot;ArchiveDelete\u0026quot;, \u0026quot;RightSourceType\u0026quot;: \u0026quot;RoleTypeRights\u0026quot;, \u0026quot;IsDelegatable\u0026quot;: true }, { \u0026quot;RightID\u0026quot;: 1222878, \u0026quot;RightType\u0026quot;: \u0026quot;Service\u0026quot;, \u0026quot;ServiceCode\u0026quot;: \u0026quot;2509\u0026quot;, \u0026quot;ServiceEditionCode\u0026quot;: 201412, \u0026quot;Action\u0026quot;: \u0026quot;Sign\u0026quot;, \u0026quot;RightSourceType\u0026quot;: \u0026quot;RoleTypeRights\u0026quot;, \u0026quot;IsDelegatable\u0026quot;: true } ], \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/serviceowner/authorization/rights?subject={subject}\u0026amp;reportee={reportee}\u0026quot; } } }  Hente ut alle rolledefinisjoner GET https://www.altinn.no/api/serviceowner/roledefinitions?ForceEIAuthentication\u0026amp;language={language} Accept: application/hal+json ApiKey: myKey  Eksempel på respons:\n{ \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/serviceowner/roledefinitions\u0026quot; } }, \u0026quot;_embedded\u0026quot;: { \u0026quot;roledefinitions\u0026quot;: [ { \u0026quot;RoleType\u0026quot;: \u0026quot;Altinn\u0026quot;, \u0026quot;RoleDefinitionId\u0026quot;: 1, \u0026quot;RoleName\u0026quot;: \u0026quot;Bankruptcy read\u0026quot;, \u0026quot;RoleDescription\u0026quot;: \u0026quot;Reading rights for information in the service Konkursbehandling (bankruptcy proceedings)\u0026quot;, \u0026quot;RoleDefinitionCode\u0026quot;: \u0026quot;BOBEL\u0026quot;, \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/serviceowner/roledefinitions/1\u0026quot; } } }, { \u0026quot;RoleType\u0026quot;: \u0026quot;Altinn\u0026quot;, \u0026quot;RoleDefinitionId\u0026quot;: 2, \u0026quot;RoleName\u0026quot;: \u0026quot;Bankruptcy write\u0026quot;, \u0026quot;RoleDescription\u0026quot;: \u0026quot;Writing rights for information in the service Konkursbehandling (bankruptcy proceedings)\u0026quot;, \u0026quot;RoleDefinitionCode\u0026quot;: \u0026quot;BOBES\u0026quot;, \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/serviceowner/roledefinitions/2\u0026quot; } } }, { \u0026quot;RoleType\u0026quot;: \u0026quot;Altinn\u0026quot;, \u0026quot;RoleDefinitionId\u0026quot;: 3, \u0026quot;RoleName\u0026quot;: \u0026quot;Salaries and personnel employee\u0026quot;, \u0026quot;RoleDescription\u0026quot;: \u0026quot;Access to services related to salaries and personnel\u0026quot;, \u0026quot;RoleDefinitionCode\u0026quot;: \u0026quot;LOPER\u0026quot;, \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/serviceowner/roledefinitions/3\u0026quot; } } }, { \u0026quot;RoleType\u0026quot;: \u0026quot;Altinn\u0026quot;, \u0026quot;RoleDefinitionId\u0026quot;: 4, \u0026quot;RoleName\u0026quot;: \u0026quot;Access manager\u0026quot;, \u0026quot;RoleDescription\u0026quot;: \u0026quot;Administration of access\u0026quot;, \u0026quot;RoleDefinitionCode\u0026quot;: \u0026quot;ADMAI\u0026quot;, \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/serviceowner/roledefinitions/4\u0026quot; } } }, { \u0026quot;RoleType\u0026quot;: \u0026quot;Altinn\u0026quot;, \u0026quot;RoleDefinitionId\u0026quot;: 5, \u0026quot;RoleName\u0026quot;: \u0026quot;Limited rights for an individual\u0026quot;, \u0026quot;RoleDescription\u0026quot;: \u0026quot;Delegable rights to services for individuals\u0026quot;, \u0026quot;RoleDefinitionCode\u0026quot;: \u0026quot;PRIUT\u0026quot;, \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/serviceowner/roledefinitions/5\u0026quot; } } }, { \u0026quot;RoleType\u0026quot;: \u0026quot;Altinn\u0026quot;, \u0026quot;RoleDefinitionId\u0026quot;: 6, \u0026quot;RoleName\u0026quot;: \u0026quot;Accounting employee\u0026quot;, \u0026quot;RoleDescription\u0026quot;: \u0026quot;Access to accounting related forms and services\u0026quot;, \u0026quot;RoleDefinitionCode\u0026quot;: \u0026quot;REGNA\u0026quot;, \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/serviceowner/roledefinitions/6\u0026quot; } } }, { \u0026quot;RoleType\u0026quot;: \u0026quot;Altinn\u0026quot;, \u0026quot;RoleDefinitionId\u0026quot;: 7, \u0026quot;RoleName\u0026quot;: \u0026quot;Auditor's rights\u0026quot;, \u0026quot;RoleDescription\u0026quot;: \u0026quot;Delegable auditor's rights\u0026quot;, \u0026quot;RoleDefinitionCode\u0026quot;: \u0026quot;REVAI\u0026quot;, \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/serviceowner/roledefinitions/7\u0026quot; } } }, { \u0026quot;RoleType\u0026quot;: \u0026quot;Altinn\u0026quot;, \u0026quot;RoleDefinitionId\u0026quot;: 8, \u0026quot;RoleName\u0026quot;: \u0026quot;Limited signing rights\u0026quot;, \u0026quot;RoleDescription\u0026quot;: \u0026quot;Signing access for selected forms and services\u0026quot;, \u0026quot;RoleDefinitionCode\u0026quot;: \u0026quot;SISKD\u0026quot;, \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/serviceowner/roledefinitions/8\u0026quot; } } } } } }  Hente ut én spesifikk rolledefinisjon GET https://www.altinn.no/api/serviceowner/roledefinitions/{roleDefinitionId}?ForceEIAuthentication\u0026amp;language={language} Accept: application/hal+json ApiKey: myKey  Eksempel på respons:\n{ \u0026quot;RoleType\u0026quot;: \u0026quot;Altinn\u0026quot;, \u0026quot;RoleDefinitionId\u0026quot;: 4, \u0026quot;RoleName\u0026quot;: \u0026quot;Tilgangsstyring\u0026quot;, \u0026quot;RoleDescription\u0026quot;: \u0026quot;Denne rollen gir administratortilgang til å gi videre rettigheter til andre.\\r\\n\u0026quot;, \u0026quot;RoleDefinitionCode\u0026quot;: \u0026quot;ADMAI\u0026quot;, \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/serviceowner/roledefinitions/4\u0026quot; } } }  "
},
{
	"uri": "https://altinn.github.io/docs/api/sluttbruker/autentisering/brukernavn-og-passord/",
	"title": "Brukernavn og passord",
	"tags": [],
	"description": "Altinns REST-API støtter autentisering med bruk av brukernavn og passord registrert i Altinn.",
	"content": " Altinn API støtter autentisering med kun brukernavn(eller personnummer) og passord registrert på brukerens profil i Altinn. Registrering av brukernavn og passord gjøres i Altinn portalen under Profil, roller og rettigheter -\u0026gt; Avanserte innstillinger (her).\nAutentisering med brukernavn og passord gir tilgang til å hente meldinger og sende inn skjema som krever sikkerhetsnivå 1.\n1. Utfør autentisering Send følgende POST-forespørsel mot APIet:\nPOST https://www.altinn.no/api/authentication/authenticatewithpassword HTTP/1.1 Content-Type: application/hal+json ApiKey: myKey { \u0026quot;UserName\u0026quot;: \u0026quot;MyUsername\u0026quot;, \u0026quot;UserPassword\u0026quot;: \u0026quot;MyPassword\u0026quot; }  Respons fra API\nVed korrekt autentisering vil du få STATUS 200 OK som respons fra Altinn REST API\n2. Hente ut påloggings-token Etter vellykket pålogging oppretter Altinn et sett med tokens i form av HTTP cookies i Set-Cookie header.\nNår Altinn har opprettet disse token burde din applikasjon hente de ut\nHer er eksempler på hvordan du kan hente ut token i HTTP cookie på de vanligste plattformene:\n Android: CookieManager#getCookie(URL) kan brukes til å hente ut cookien satt av Altinn. Detaljert eksempelkode på denne tekikken kan du finne her. iOS: Din applikasjon kan hente ut cookies satt av Altinn ved å bruke NSHTTPCookieStorage. Dette blir ofte kalt \u0026ldquo;cookie jar.\u0026rdquo;  NSHTTPCookie *cookie; NSHTTPCookieStorage *cookieJar = [NSHTTPCookieStorage sharedHTTPCookieStorage]; for (cookie in [cookieJar cookies]) { NSLog(@\u0026quot;%@\u0026quot;, cookie); }  Detaljert eksempelkode på denne teknikken for iOS finner du her.\n3. Videreføre påloggings-token i kall til Altinn API Tokenet .ASPXAUTH legges i HTTP header som \u0026ldquo;Cookie\u0026rdquo; i videre på kall til Altinn API:\nCookie: .ASPXAUTH=2AF7F203...  API nøkkelen må også legges ved i HTTP header slik:\nApiKey: myKey  API nøkkel får du etter registrering av din applikasjon.\n"
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/dialog/",
	"title": "Digital dialog",
	"tags": [],
	"description": "Gir en oversikt over de tjenestenetypene som Altinn tilbyr samt annen funksjonalitet som understøtter digital dialog.",
	"content": "Gir en oversikt over de tjenestenetypene som Altinn tilbyr samt annen funksjonalitet som understøtter digital dialog. Brukerne kan nå tjenestene via Altinn portalen og/eller Mobile apps. Det er også mulig å kommunisere med Altinn via et fagsystem.\n\rBetaling\r\rI enkelte offentlige tjenester inngår betaling som en del av saksbehandlingen. Altinn har støtte for betaling med tre av de største betalingsleverandørene på det norske markedet.\n\rFormidling av data\r\rFormidlingstjenesten er en maskin-til-maskin formidling av store datamengder mellom ulike offentlige og private virksomheter.\n\rInnsending\r\rEr en tjeneste der bruker fyller ut, signerer og sender inn et skjema\n\rInnsyn\r\rEr en tjeneste som benyttes for å gi bruker innsyn i data som er registrert i tjenesteeier sitt system, for eksempel saksbehandlingsløsninger eller elektroniske arkiv.\n\rLenketjeneste\r\rEn lenketjeneste utfører autorisasjon i Altinn før brukeren sendes til et annet nettsted der selve tjenesten kjører.\n\rMelding\r\rEr en tjeneste som lar tjenesteeier sende informasjon i form av en melding som brukerne kan lese i Altinn-portalen eller laste ned til sitt datasystem.\n\rSamhandling\r\rEr en sammensetning av flere enkeltstående tjenester til en helhetlig prosess mellom en eller flere sluttbrukere og en eller flere offentlige virksomheter.\n\rSamtykke\r\rGjennom samtykkeløsningen i Altinn kan personer/organisasjoner gi samtykke til at en tredjepart (offentlige og private virksomheter) får midlertidig innsynsrett på et spesifikt sett med opplysninger om dem som tidligere er innhentet.\n\rVarsling\r\rEr en tjeneste som kan benyttes til å varsle brukere på e-post og/eller sms når en melding eller et skjema er gjort tilgjengelig i meldingsboksen i Altinn.\n\r"
},
{
	"uri": "https://altinn.github.io/docs/api/generelt/",
	"title": "Generelt",
	"tags": [],
	"description": "Generelt om Altinns REST-apier",
	"content": " Generell oppbygning av API-et Altinn API benytter REST arkitekturstil, og baserer seg på en semantisk definisjon av innholdet. Strukturen i responsen fra API-et kan endre seg, men betydningen av elementene er den samme.\nDette blir som når man navigerer seg inn på en vanlig nettside. Da kan en klient navigere seg inn i API-et ved å følge lenker med en definert betydning. Det er ikke sikkert at URL-en man var på sist fortsatt eksisterer, men det vil være mulig å bla eller søke seg tilbake til det samme innholdet fra forsiden.\nFordelen med dette er at Altinn har mulighet til å bygge ut og omstrukturere innholdet i API-et uten at dette hindrer en klient fra å finne frem til innholdet den brukte fra før.\nAPI-et baserer seg på de mekanismene som allerede finnes i HTTP-standarden og meldingshoder som brukes av vanlige nettlesere og webservere i dag. Altinn API støtter følgende formater\n application/HAL+json application/HAL+xml application/xml application/json  Navigasjon og semantikk Navigasjonen foregår ved at man navigerer til https://www.altinn.no/api/my/messages/ og navigerer seg via lenkene som finnes der. Det er mulig å bla seg innover i hierarkiet av meldinger, eller gå rett til en enkelt melding.\nAPI-et gir informasjonen som meldinger på formatene XML eller JSON. Siden XML og JSON mangler semantiske elementer, bruker meldingene i tillegg standarden HAL. HAL-formatet angir en ressurs med innhold og lenker. I tillegg kan hver ressurs inneholde andre ressurser med sine lenker og innhold. Lenkene angir en semantisk relasjon mellom ressursen man er på og ressursen det lenkes til.\nForeløpig er følgende relasjoner definert, og flere relasjoner kan komme etter hvert som API-et bygges ut.\n   Lenke Ressurs Beskrivelse     self Message/Organization/Form URI til representasjon av den enkelte ressursen.   print Message URI til utskriftsversjonen av et arkivert skjema eller et skjema under utfylling. Er kun gyldig for message elementer av typen FormTask. For print relasjoner er \u0026ldquo;mime-type\u0026rdquo; i de fleste tilfeller \u0026ldquo;application/pdf\u0026rdquo; men vil i noen tilfeller også være \u0026ldquo;application/text-html\u0026rdquo;.   attachment Message URI og navn på vedlegg knyttet til message.   form Message URI til skjema knyttet til meldingen av type FormTask.   portalview Message URI til portal-visning av det aktuelle Message-objektet.   formdata Form URI til skjemadata i XML-format.   messages Organization URI til liste over meldinger for den aktuelle organisasjonen.    OData OData kan brukes til filtrering, paging og sortering i lister av elementer av alle typer. Listene er begrenset i kode til å maksimalt inneholde 50 elementer. Det er mulig å utføre paging ved å sende med Odata parameteren skip (for eksempel $skip=50).\nDet er også mulig å filtrere listene som returneres basert på hvilke informasjonselementer de inneholder. For eksempel vil følgende parametere på message elementet $filter=ServiceOwner eq 'Skatteetaten' kun returnere meldinger fra Skatteetaten.\nSe http://www.asp.net/web-api/overview/odata-support-in-aspnet-web-api/ for ytterligere informasjon om OData støtte i Altinn API.\n"
},
{
	"uri": "https://altinn.github.io/docs/api/sluttbruker/meldinger/hente/",
	"title": "Hente",
	"tags": [],
	"description": "Operasjoner for å lese i meldingsboks og arkiv",
	"content": " 1. Hent ut liste med meldinger og finn lenker Det sentrale elementet som tilgjengeliggjøres i APIet er Message. Den representerer et element i sluttbrukerens meldingsboks i Altinn og kan være av typen FormTask og Correspondence og ha ulik status alt etter hvilken tilstand elementet er i.\nVed å gå til rot-ressursen https://www.altinn.no/api/my/messages/ er det mulig å navigere seg fram til elementene i brukerens meldingsboks.\nSend følgende GET-forespørsel mot APIet, og du vil få returnert brukerens innhold i meldingsboksen (resultatet er begrenset til de 50 første elementene, se punkt 7 under for informasjon om hvordan du får fram de 50 neste).\nGET https://www.altinn.no/api/my/messages HTTP/1.1 Host: www.altinn.no Accept: application/hal+json ApiKey: myKey  Ved korrekt autentisering vil du få følgende svar fra APIet:\n{ \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/my/messages\u0026quot; }, \u0026quot;find\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/my/messages/{MessageId}\u0026quot;, \u0026quot;isTemplated\u0026quot;: true } }, \u0026quot;_embedded\u0026quot;: { \u0026quot;messages\u0026quot;: [ { \u0026quot;MessageId\u0026quot;: \u0026quot;a385107\u0026quot;, \u0026quot;Subject\u0026quot;: \u0026quot;Vedr. saksnr 201301840, journalnr 2013021622 \u0026quot;, \u0026quot;Status\u0026quot;: \u0026quot;Ulest\u0026quot;, \u0026quot;LastChangedDateTime\u0026quot;: \u0026quot;2013-11-11T13:41:01.703\u0026quot;, \u0026quot;LastChangedBy\u0026quot;: \u0026quot;Kommunene\u0026quot;, \u0026quot;ServiceOwner\u0026quot;: \u0026quot;Kommunene\u0026quot;, \u0026quot;Type\u0026quot;: \u0026quot;Correspondence\u0026quot;, \u0026quot;MessageSender\u0026quot;: \u0026quot;Brønnøy Kommune\u0026quot;, \u0026quot;ServiceCode\u0026quot;: \u0026quot;2479\u0026quot;, \u0026quot;ServiceEdition\u0026quot;: 2, \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/my/messages/a385107\u0026quot; }, \u0026quot;metadata\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/metadata/correspondence/2479/2\u0026quot; }, \u0026quot;portalview\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/Pages....\u0026quot; } }, { \u0026quot;MessageId\u0026quot;: \u0026quot;a385103\u0026quot;, \u0026quot;Subject\u0026quot;: \u0026quot;Søknad om tilskudd til lokale samlivskurs\u0026quot;, \u0026quot;Status\u0026quot;: \u0026quot;Utfylling\u0026quot;, \u0026quot;LastChangedDateTime\u0026quot;: \u0026quot;2013-11-11T13:39:22.817\u0026quot;, \u0026quot;LastChangedBy\u0026quot;: \u0026quot;HÅKON TRANA\u0026quot;, \u0026quot;ServiceOwner\u0026quot;: \u0026quot;Barne-, ungdoms- og familiedirektoratet\u0026quot;, \u0026quot;Type\u0026quot;: \u0026quot;FormTask\u0026quot;, \u0026quot;ServiceCode\u0026quot;: \u0026quot;3606\u0026quot;, \u0026quot;ServiceEdition\u0026quot;: 130731, \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/my/messages/a385103\u0026quot; }, \u0026quot;print\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/my/messages/a385103/print\u0026quot;, \u0026quot;mime-type\u0026quot;: \u0026quot;application/pdf\u0026quot; }, \u0026quot;metadata\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/metadata/formtask/3606/130731\u0026quot; }, \u0026quot;portalview\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/Pages.....\u0026quot; } } }, { \u0026quot;MessageId\u0026quot;: \u0026quot;a382871\u0026quot;, \u0026quot;Subject\u0026quot;: \u0026quot;RF-1015 Lønns- og trekkopplysninger for 2012\u0026quot;, \u0026quot;Status\u0026quot;: \u0026quot;Utfylling\u0026quot;, \u0026quot;LastChangedDateTime\u0026quot;: \u0026quot;2013-11-11T13:37:48.093\u0026quot;, \u0026quot;LastChangedBy\u0026quot;: \u0026quot;HÅKON TRANA\u0026quot;, \u0026quot;ServiceOwner\u0026quot;: \u0026quot;Skatteetaten\u0026quot;, \u0026quot;Type\u0026quot;: \u0026quot;FormTask\u0026quot;, \u0026quot;ServiceCode\u0026quot;: \u0026quot;2802\u0026quot;, \u0026quot;ServiceEdition\u0026quot;: 2203, \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/my/messages/a382871\u0026quot; }, \u0026quot;print\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/my/messages/a382871/print\u0026quot;, \u0026quot;mime-type\u0026quot;: \u0026quot;application/pdf\u0026quot; }, \u0026quot;metadata\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/metadata/formtask/2802/2203\u0026quot; }, \u0026quot;portalview\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/Pages......\u0026quot; } } ] } }  Message av typen FormTask En message med type FormTask representerer en innsendingstjeneste (skjema) som ligger i sluttbrukers meldingsboks. Status parameteren angir hvilken tilstand skjemaet har (\u0026ldquo;Utfylling\u0026rdquo;, \u0026ldquo;Signering\u0026rdquo;, \u0026ldquo;Sendt og arkivert\u0026rdquo;).\nMessage av typen Correspondence En message med type Correspondence representerer en meldingstjeneste (melding fra etat til bruker) som ligger i sluttbrukers meldingsboks. Status parameteren angir hvilken tilstand meldingen har (\u0026ldquo;Ulest\u0026rdquo;, \u0026ldquo;Lest\u0026rdquo;, \u0026ldquo;Arkivert\u0026rdquo;).\nLenker Hvert enkelt message-element inneholder en hash tabell \u0026ldquo;_links\u0026rdquo; som inneholder lenker til beslektede elementer. Det er viktig at din applikasjon aktivt bruker disse lenkene, og ikke hardkoder en rekke URL-er i applikasjonen.\n\u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/my/messages/a382871\u0026quot; }, \u0026quot;print\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/my/messages/a382871/print\u0026quot;, \u0026quot;mime-type\u0026quot;: \u0026quot;application/pdf\u0026quot; } \u0026quot;metadata\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/metadata/formtask/2802/2203\u0026quot; }, \u0026quot;portalview\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/Pages......\u0026quot; } }  Feltene i _links betyr følgende:\n self - URI til representasjon av den enkelte meldingen. print - URI til utskriftsversjonen av et arkivert skjema eller et skjema under utfylling. Er kun gyldig for message elementer av typen FormTask. For print relasjoner er \u0026ldquo;mime-type\u0026rdquo; i de fleste tilfeller \u0026ldquo;application/pdf\u0026rdquo; men vil i noen tilfeller også være \u0026ldquo;application/text-html\u0026rdquo;. metadata - URI til metadata ressurs for den aktuelle meldingen. portalview - URI til portalpresentasjonen av meldingen. Ved å følge lenken får brukeren opp Altinns presentasjon av elementet i portalen. I portalen vil ressursen vises i den status den befinner seg i (Utfylling, Signering, Arkivert).  _links kan bli utvidet med ytterligere relasjoner i fremtidige oppdateringer av APIet.\n2. Hent ut liste med enheter brukeren kan representere \u0026ldquo;Reportee\u0026rdquo; representerer en avgiver den påloggede brukeren har rettighet til å representere. Ved å gå til rot-ressursen https://www.altinn.no/api/reportees/ er det mulig å få en liste over alle avgivere en pålogget bruker kan representere og derfra navigere seg fram til en liste over elementene i avgiverens meldingsboks. Avgivere kan være andre personer (type=person) eller organisasjoner (type=organization) brukeren har rettighet til å representere. For avgivere av typen organization indikerer status parameteren om organisasjonen er slettet eller fremdeles aktiv.\nParameteren ReporteeID angir en unik id for aktuell avgiver, denne IDn kan benyttes i {my} parameteren i URL strukturen i APIet til å angi hvilken avgiver som operasjonen mot APIet utføres for. Eks. https://www.altinn.no/api/{reporteeID}/messages/.\nSend følgende GET-forespørsel mot APIet, og du vil få returnert en liste over avgivere brukeren har rettighet til å representere. Resultatet er begrenset til de 50 første elementene, se punkt 7 under for informasjon om hvordan du får fram de 50 neste)\nGET https://www.altinn.no/api/reportees HTTP/1.1 Accept: application/hal+json ApiKey: myKey  Ved korrekt autentisering vil du få følgende svar fra APIet:\n{ \u0026quot;_links\u0026quot;: { \u0026quot;find\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://altinn.no/api/reportees/{reporteeId}\u0026quot;, \u0026quot;isTemplated\u0026quot;: true }, \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://altinn.no/api/reportees\u0026quot; } }, \u0026quot;_embedded\u0026quot;: { \u0026quot;reportees\u0026quot;: [ { \u0026quot;ReporteeId\u0026quot;: \u0026quot;r50170460\u0026quot;, \u0026quot;Name\u0026quot;: \u0026quot;DALEKVAM OG BORGEN\u0026quot;, \u0026quot;Type\u0026quot;: \u0026quot;Foretak\u0026quot;, \u0026quot;OrganizationNumber\u0026quot;: \u0026quot;910672991\u0026quot;, \u0026quot;Status\u0026quot;: \u0026quot;Active\u0026quot;, \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://altinn.no/api/reportees/r50170460\u0026quot; }, \u0026quot;messages\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://altinn.no/api/r50170460/messages\u0026quot; } } }, { \u0026quot;ReporteeId\u0026quot;: \u0026quot;r50165842\u0026quot;, \u0026quot;Name\u0026quot;: \u0026quot;FOTLANDSVÅG OG VERMA REGNSKAP\u0026quot;, \u0026quot;Type\u0026quot;: \u0026quot;Foretak\u0026quot;, \u0026quot;OrganizationNumber\u0026quot;: \u0026quot;910454013\u0026quot;, \u0026quot;Status\u0026quot;: \u0026quot;Active\u0026quot;, \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://altinn.no/api/reportees/r50165842\u0026quot; }, \u0026quot;messages\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://altinn.no/api/r50165842/messages\u0026quot; } } }, { \u0026quot;ReporteeId\u0026quot;: \u0026quot;r50019105\u0026quot;, \u0026quot;Name\u0026quot;: \u0026quot;HÅKON TRANA\u0026quot;, \u0026quot;Type\u0026quot;: \u0026quot;Person\u0026quot;, \u0026quot;SocialSecurityNumber\u0026quot;: \u0026quot;05116602352\u0026quot;, \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://altinn.no/api/reportees/r50019105\u0026quot; }, \u0026quot;messages\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://altinn.no/api/r50019105/messages\u0026quot; } } } ] } }  Lenker fra reportee Hvert enkelt reportee-element har en hash tabell _links som inneholder lenker til beslektede elementer. Det er viktig at din applikasjon aktivt bruker disse lenkene, og ikke hardkoder en rekke URL-er i applikasjonen.\n_links\u0026quot;: { \u0026quot;messages\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/910926551/messages\u0026quot; } }  Feltene i _links betyr følgende:\n messages - URI til liste over meldinger i meldingsboksen til den aktuelle organisasjonen.  _links kan bli utvidet med ytterligere flere relasjoner i fremtidige oppdateringer av APIet.\n3. Hent enkelt melding med vedlegg For å hente ut en enkelt melding kan applikasjonen følge _self lenken som finnnes for hvert message element. Følgende request henter en enkelt melding fra brukerens meldingsboks.\nGET https://www.altinn.no/api/my/messages/a1507495 HTTP/1.1 Accept: application/hal+json ApiKey: myKey  Eksempel respons fra API for message av typen FormTask:\n{ \u0026quot;MessageId\u0026quot;: \u0026quot;a1507495\u0026quot;, \u0026quot;Subject\u0026quot;: \u0026quot;RF-1028 Selvangivelse for aksjeselskap mv. 2012, Anonym ASA\u0026quot;, \u0026quot;Status\u0026quot;: \u0026quot;Utfylling\u0026quot;, \u0026quot;LastChangedDateTime\u0026quot;: \u0026quot;2013-11-20T19:50:54.86\u0026quot;, \u0026quot;LastChangedBy\u0026quot;: \u0026quot;HÅKON TRANA\u0026quot;, \u0026quot;ServiceOwner\u0026quot;: \u0026quot;Skatteetaten\u0026quot;, \u0026quot;Type\u0026quot;: \u0026quot;FormTask\u0026quot;, \u0026quot;ServiceCode\u0026quot;: \u0026quot;2933\u0026quot;, \u0026quot;ServiceEdition\u0026quot;: 120806, \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altin.no/api/my/messages/a1507495\u0026quot; }, \u0026quot;print\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/my/messages/a1507495/print\u0026quot;, \u0026quot;mime-type\u0026quot;: \u0026quot;application/pdf\u0026quot; }, \u0026quot;metadata\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/metadata/formtask/2933/120806\u0026quot; }, \u0026quot;portalview\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/Pages......\u0026quot; }, \u0026quot;form\u0026quot;: [ { \u0026quot;href\u0026quot;: \u0026quot;https://tt02.altinn.basefarm.net/api/my/messages/a1507495/forms/760772\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;RF-1028 Selvangivelse for aksjeselskap mv. 2012, Anonym ASA\u0026quot; }, { \u0026quot;href\u0026quot;: \u0026quot;https://tt02.altinn.basefarm.net/api/my/messages/a1507495/forms/760773\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;RF-1016 Formue av skogseiendom 2012\u0026quot; } ], \u0026quot;attachment\u0026quot;: [ { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/my/messages/a1507495/attachments/282783\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;oppgaver.txt\u0026quot;, \u0026quot;encrypted\u0026quot;: false } ] } }  Eksempel respons fra API for message av typen Correspondence:\n{ \u0026quot;MessageId\u0026quot;: \u0026quot;a385571\u0026quot;, \u0026quot;Subject\u0026quot;: \u0026quot;Vedr. saksnr 201301840, journalnr 2013021622 \u0026quot;, \u0026quot;Status\u0026quot;: \u0026quot;Ulest\u0026quot;, \u0026quot;LastChangedDateTime\u0026quot;: \u0026quot;2013-11-26T13:58:44.34\u0026quot;, \u0026quot;LastChangedBy\u0026quot;: \u0026quot;Testdepartementet\u0026quot;, \u0026quot;ServiceOwner\u0026quot;: \u0026quot;Testdepartement\u0026quot;, \u0026quot;Type\u0026quot;: \u0026quot;Correspondence\u0026quot;, \u0026quot;MessageSender\u0026quot;: \u0026quot;Brønnøy Kommune\u0026quot;, \u0026quot;Summary\u0026quot;: \u0026quot;Vedr. saksnr 201301840, journalnr 2013021622\u0026quot;, \u0026quot;Body\u0026quot;: \u0026quot;\u0026lt;p\u0026gt;Vedr. saksnr 201301840, journalnr 2013021622\u0026lt;/p\u0026gt;\\n\u0026lt;p\u0026gt;Tillatelse til tiltak. Gnr 127 bnr 506, Skarelien 35.\u0026lt;/p\u0026gt;\\n \\n\u0026lt;p\u0026gt;Klikk under for å åpne dokumentet. \u0026lt;/p\u0026gt;\\n\u0026quot;, \u0026quot;ServiceCode\u0026quot;: \u0026quot;2479\u0026quot;, \u0026quot;ServiceEdition\u0026quot;: 2, \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/my/messages/a385571\u0026quot; }, \u0026quot;metadata\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/metadata/correspondence/2479/2\u0026quot; }, \u0026quot;portalview\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/Pages......\u0026quot; } \u0026quot;attachment\u0026quot;: [ { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/my/messages/a385571/attachments/187938\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;Tiltak_201301840.pdf\u0026quot;, \u0026quot;encrypted\u0026quot;: false } ] }  Message lenker Message-element inneholder en hash tabell _links som inneholder lenker til beslektede elementer.\n\u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://tt02.altinn.basefarm.net/api/my/messages/a1507495\u0026quot; }, \u0026quot;print\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://tt02.altinn.basefarm.net/api/my/messages/a1507495/print\u0026quot;, \u0026quot;mime-type\u0026quot;: \u0026quot;application/pdf\u0026quot; }, \u0026quot;metadata\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://tt02.altinn.basefarm.net/api/metadata/formtask/2933/120806\u0026quot; }, \u0026quot;portalview\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://tt02.altinn.basefarm.net/Pages/.......\u0026quot; }, \u0026quot;attachment\u0026quot;: [ { \u0026quot;href\u0026quot;: \u0026quot;https://tt02.altinn.basefarm.net/api/my/messages/a1507495/attachments/282783\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;oppgaver.txt\u0026quot;, \u0026quot;encrypted\u0026quot;: false } ], \u0026quot;form\u0026quot;: [ { \u0026quot;href\u0026quot;: \u0026quot;https://tt02.altinn.basefarm.net/api/my/messages/a1507495/forms/760772\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;RF-1028 Selvangivelse for aksjeselskap mv. 2012, Anonym ASA\u0026quot; }, { \u0026quot;href\u0026quot;: \u0026quot;https://tt02.altinn.basefarm.net/api/my/messages/a1507495/forms/760773\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;RF-1016 Formue av skogseiendom 2012\u0026quot; } ] }  Feltene i _links betyr følgende:\n self - URI til representasjon av den enkelte meldingen. print - URI til utskriftsversjonen av et arkivert skjema eller et skjema under utfylling. Er kun gyldig for message elementer av typen \u0026ldquo;FormTask\u0026rdquo;. For \u0026ldquo;print\u0026rdquo; relasjoner er \u0026ldquo;mime-type\u0026rdquo; i de fleste tilfeller \u0026ldquo;application/pdf\u0026rdquo; men vil i noen tilfeller også være \u0026ldquo;application/text-html\u0026rdquo;. metadata - URI til metadata ressurs for den aktuelle meldingen. portalview - URI til portalpresentasjonen av meldingen. Ved å følge lenken får brukeren opp Altinns presentasjon av elementet i Portalen (www.altinn.no). I portalen vil ressursen vises i den status den befinner seg i (Utfylling, Signering, Arkivert). form - URI til skjema knyttet til message av typen FormTask. attachment - URI til brukeropplastet vedlegg knyttet til skjema under utfylling eller vedlegg knyttet til melding fra etat. encrypted-parameter angir om vedlegget er kryptert.  _links kan bli utvidet med ytterligere flere relasjoner i fremtidige oppdateringer av APIet.\n4. Filtrering av liste OData kan brukes til filtrering, paging og sortering i lister av elementer av alle typer.\nLister i APIet er begrenset i kode til å maksimalt inneholde 50 elementer.\nPaging Det er mulig å utføre paging ved å sende med OData parameteren skip (for eksempel $skip=50).\nGET https://www.altinn.no/api/my/messages?$skip=50 HTTP/1.1 Accept: application/hal+json ApiKey: myKey  Filtrering Det er også mulig å filtrere listene som returneres basert på hvilke informasjonselementer de inneholder. For eksempel vil følgende request med parameterene $filter=ServiceOwner eq 'Skatteetaten'\u0026amp; $top=3 kun returnere de siste 3 meldinger fra Skatteetaten.\nGET https://www.altinn.no/api/my/messages?$filter=ServiceOwner eq 'Skatteetaten'\u0026amp;$top=3 HTTP/1.1 Accept: application/hal+json ApiKey: myKey  5. Laste ned XML payload for skjema (Skjemadata) Man kan nå laste ned (lese) XML-representasjon av Skjemadata. Skjemadata er representert i XML og vil være en egen ressurs som er lenket fra Form-ressursen. For å laste ned XML-representasjon av et skjema/underskjema kan man ta utgangspunkt i aktuelt message element og følge lenke form.\nEksempel:\nhttps://www.altinn.no/api/910621211/messages/a1685777\nResponsen på denne vil inneholde lenke\u0026reg; til de faktiske skjema, f.eks:\n\u0026quot;form\u0026quot;: [ { \u0026quot;href\u0026quot;: https://www.altinn.no/api/910621211/messages/a1685777/forms/1049574, \u0026quot;name\u0026quot;: \u0026quot;RF-0004 Omsetningsoppgave for primærnæringene, Hovedoppgave, Årlig, 2012\u0026quot; } ]  Når du følger denne lenken vil respons inkludere en lenke til selve XML payload i form av lenke formdata:\n{ \u0026quot;Type\u0026quot;: \u0026quot;MainForm\u0026quot;, \u0026quot;DataFormatId\u0026quot;: \u0026quot;213\u0026quot;, \u0026quot;DataFormatVersion\u0026quot;: 10422, \u0026quot;ValidationStatus\u0026quot;: \u0026quot;NotValidated\u0026quot;, \u0026quot;Name\u0026quot;: \u0026quot;RF-0004 Omsetningsoppgave for primærnæringene, Hovedoppgave, Årlig, 2012\u0026quot;, \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: https://www.altinn.no/api/910621211/messages/a1685777/forms/1049574 }, \u0026quot;formdata\u0026quot;: { \u0026quot;href\u0026quot;: https://www.altinn.no/api/910621211/messages/a1685777/forms/1049574/formdata, \u0026quot;mime-type\u0026quot;: \u0026quot;application/xml\u0026quot; } } }  Lenken formdata vil returnere XML representasjon av Skjema, f.eks:\n\u0026lt;Skjema\u0026gt; ... \u0026lt;Termin-grp-2591 gruppeid=\u0026quot;2591\u0026quot;\u0026gt; \u0026lt;OppgaveType-datadef-5659 orid=\u0026quot;5659\u0026quot;\u0026gt;1\u0026lt;/OppgaveType-datadef-5659\u0026gt; \u0026lt;TerminType-datadef-20654 orid=\u0026quot;20654\u0026quot;\u0026gt;1\u0026lt;/TerminType-datadef-20654\u0026gt; \u0026lt;Termin-datadef-20655 orid=\u0026quot;20655\u0026quot;\u0026gt;011\u0026lt;/Termin-datadef-20655\u0026gt; \u0026lt;TerminAr-datadef-20656 orid=\u0026quot;20656\u0026quot;\u0026gt;2012\u0026lt;/TerminAr-datadef-20656\u0026gt; \u0026lt;/Termin-grp-2591\u0026gt; ... \u0026lt;/Skjema\u0026gt;  "
},
{
	"uri": "https://altinn.github.io/docs/api/sluttbruker/autentisering/id-porten/",
	"title": "ID-porten",
	"tags": [],
	"description": "Dersom brukeren ikke er autentisert vil API-et redirecte applikasjonen din til ID-portens påloggingsside med responsivt design. I en app vil brukeren kunne velge mellom å autentisere seg ved bruk av av MinID eller BankID. Når brukeren er autentisert i ID-porten vil brukeren bli redirected tilbake til opprinnelig URL. Dette vil fungere for alle klienter som støtter cookies og HTTP-redirect.",
	"content": " Altinn API benytter ID-porten til autentisering av brukere. ID-porten er en felles infrastruktur for å logge inn til offentlige tjenester. I ID-porten er det lagt til rette for at innbyggerene selv kan velge hvilken elektronisk ID de ønsker å benytte. Det er mulig å logge inn med elektronisk ID fra MinID, BankID, Buypass og Commfides.\nID-porten sine autentiseringsløsinger bruker OpenSSO/OpenAM som fødereringsplattform. Fødereringen baserer seg på SAML2 OASIS-standarden.\nSingle Sign-On (SSO) SSO vil si at du sømløst gjenbruker autentiseringen din. Med ID-porten/MinID betyr det i praksis at dersom du har logget inn på en tjeneste hos for eksempel NAV, vil det ikke være nødvendig å gjøre en ny pålogging for å få tilgang til Altinn, eller andre tjenester som benytter ID-porten/MinID. I utgangspunktet er alle tjenester som benytter ID-porten/MinID en del av SSO.\nVi vil nå forklare hvordan du kan implementere støtte for autentisering ved bruk av ID-porten i din applikasjon.\n1. Innebygd nettleser For at din applikasjon skal kunne benytte web-baserte autentiserings protokoller som SAML til autentisering, må du la brukerne logge inn med en innebygd nettleser.\nÅ bygge inn en nettleser i din applikasjon er enkelt på de vanligste plattformene:\n Android: bruk WebView. iOS: bruk UIWebView  Du kan peke nettleseren til starturl for Altinn API: https://www.altinn.no/api/my/messages/\nDa vil brukeren automatisk bli videreført til ID-portens påloggingsside med responsivt design. På denne siden vil brukeren få valget mellom å logge inn med MinID eller BankID. BankID har egne applikasjoner for pålogging (iOS og Android) og disse vil automatisk åpnes og lukkes ved autentisering.\n2. Hente ut påloggings-token Etter vellykket pålogging i ID-porten, vil brukeren bli ført tilbake til Altinn og Altinn oppretter et sett med tokens i form av HTTP cookies i Set-Cookie header.\nNår Altinn har opprettet disse token burde din applikasjon hente de ut og deretter lukke den innebygde nettleseren.\nHer er eksempler på hvordan du kan hente ut token i HTTP cookie på de vanligste plattformene:\n Android: CookieManager#getCookie(URL) kan brukes til å hente ut cookier satt av Altinn. Detaljert eksempelkode på denne tekikken kan du finne her. iOS: Din applikasjon kan hente ut cookies satt av Altinn ved å bruke NSHTTPCookieStorage. Dette blir ofte kalt \u0026ldquo;cookie jar.\u0026rdquo;  NSHTTPCookie *cookie; NSHTTPCookieStorage *cookieJar = [NSHTTPCookieStorage sharedHTTPCookieStorage]; for (cookie in [cookieJar cookies]) { NSLog(@\u0026quot;%@\u0026quot;, cookie); }  Detaljert eksempelkode på denne teknikken for iOS finner du her.\n3. Videreføre påloggings-token i kall til Altinn API Tokenet .ASPXAUTH legges i HTTP header som \u0026ldquo;Cookie\u0026rdquo; i videre på kall til Altinn API:\nCookie: .ASPXAUTH=2AF7F203...., etc...  API nøkkelen må også legges ved i HTTP header slik:\nApiKey: myKey  API nøkkel får du etter registrering av din applikasjon.\n4. Autentisering ved integrasjon i andre portaler Det er mulig å integrere innhold i brukernes meldingsboks i Altinn i eksterne portaler ved å bruke Altinn API. Dette krever at den eksterne portalen også fødererer mot ID-porten og er medlem av samme Circle of Trust som Altinn.\nAltinn API benytter også CORS for ekstra sikkerhet ved kryssdomene forespørsler. For å integrere brukerens meldingsboks i Altinn i en ekstern nettside må dermed domenet til denne nettsiden ligge i Altinns CORS whitelist. Det er derfor nødvendig å registrere nettsiden som skal integrere Altinns meldingsboks hos Altinn. Se denne siden for informasjon om registrering. Bruk av Altinn API i eksterne nettsider er bare tilgjengelig for offentlige etater/institusjoner som er tjenesteeiere i Altinn.\nFor at kall mot Altinns API skal fungere fra eksterne sider må brukeren ha en sesjon både hos IDporten og hos Altinn. Ved innlogging med IDporten må man derfor benytte følgende redirect-løsning for å sikre at brukeren også har sesjon i Altinn. Om man logger brukeren inn med IDporten og kaller Altinn uten å bruke redirect, vil IDporten fjerne CORS-headerne som følger med, slik at Altinn ikke lenger har mulighet for å verifisere domenet mot de som er registrert hos oss.\nPer nå fungerer redirect bare med IDportens mekanismer, ikke med Altinn-innlogging.\nFlyten for redirect-løsningen for å få sesjon i Altinn er: 1. Ekstern portal kontakter https://www.altinn.no/Pages/ExternalAuthentication/Redirect.aspx?returnUrl=https://www.minportal.no/portal\u0026amp;userToken=sha256-hash\n\u0026ldquo;sha256-hash\u0026rdquo; er hash av fødselsnummer på autentisert bruker på ekstern portal.\nUserToken er valgfri og brukes til å sikre at det ikke allerede eksisterer en sesjon i Altinn som tilhører en annen bruker enn den som er autentisert på ekstern portal.\n2. Brukeren blir sendt til Altinn\n2-1a. Med userToken angitt:\nDersom brukeren allerede er logget inn i ID-porten opprettes .ASPXAUTH cookie som inneholder sesjonsopplysninger nødvendige for REST-kall. Om det finnes en sesjon i Altinn for en annen bruker, vil denne logges ut og ny sesjon opprettes for brukeren i userToken.\n2-1b. Dersom bruker ikke er logget inn sendes bruker til innloggingsside og må logge inn.\n2-1c. Dersom samme bruker er logget inn i Altinn fra før valideres sesjon.\n2-2a. Uten userToken:\nDersom bruker allerede er logget inn i ID-porten opprettes .ASPXAUTH cookie som inneholder sesjonsopplysninger nødvendige for REST-kall.\n2-2b. Dersom bruker ikke er logget inn sendes bruker til innloggingsside 2-2c. OBS! Dersom bruker velger Altinn-innlogging vil man bli sendt tilbake til idporten for å autentisere seg med idporten.\n3\na. Bruker logger inn og det opprettes .ASPXAUTH-cookie som inneholder sesjonsopplysningene man trenger for ytterligere REST-kall\nb. Dersom bruker ikke logger inn, blir brukeren stående på innloggingsside\n4. Altinn sjekker om verdien i returnUrl (https://www.minportal.no/portal i dette eksempelet) er gyldig og ligger inne i CORS whitelist\na. Dersom domenet er gyldig gjennomføres redirect til den eksterne adressen\nb. Dersom domenet ikke er gyldig sendes bruker til «Min Meldingsboks» i Altinn Adressen eksterne portaler må bruke blir da: https://www.altinn.no/Pages/ExternalAuthentication/Redirect.aspx?returnUrl=URL_SOM_BRUKER_SKAL_SENDES_TILBAKE_TIL_ETTER_INNLOGGING\n"
},
{
	"uri": "https://altinn.github.io/docs/api/sluttbruker/innsyn/",
	"title": "Innsynstjenester",
	"tags": [],
	"description": "Oppslag i datakilder som ligger utenfor Altinn",
	"content": " Hente data ved hjelp av innsynstjeneste i Altinn URI-en bygges opp ved hjelp av avgiver og tjenestekode/tjenesteutgavekode som unikt identifiserer en spesifikk tjeneste i Altinn. Siden man i teorien kan få ut mange datatyper på mange formater, er responsen definert som streng.\nI praksis er det mulig å angi om man ønsker xml eller json i queryOptions, men det er opp til eier av tjenesten å definere mulighetsrommet siden responsen genereres av kode som tjenestens eier installerer i Altinn.\nGET https://www.altinn.no/api/{who]/lookup/{servicecode}/{serviceeditioncode}?queryOptions={options} ApiKey: myKey  Eksempelrespons:\n\u0026quot;\u0026lt;xml\u0026gt;\u0026lt;/xml\u0026gt;\u0026quot;  "
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/kanaler/",
	"title": "Kanaler",
	"tags": [],
	"description": "Gir en oversikt over hvilke alternative måter tjenesteeiere, sluttbrukersystem og andre kan integrere seg mot Altinn på.",
	"content": "Gir en oversikt over hvilke alternative måter tjenesteeiere, sluttbrukersystem og andre kan integrere seg mot Altinn på.\n\rREST-API\r\rAltinn tilbyr et REST-API med autentisering ved hjelp av ID-Porten, virksomhetssertifikat eller brukernavn og passord som gjør det mulig å bruke tjenestene i Altinn i en app eller ekstern nettside. Altinn API-et er enkelt og gratis å bruke.\n\rWeb services\r\rAltinn støtter åpne grensesnitt og har helt siden starten jobbet for størst mulig grad av integrasjon mot datasystemene som brukes i næringslivet og blant de profesjonelle brukerne.\n\rTjenesteeier\r\rTjenesteeier må etablere et grensesnitt mellom sine etatssystemer og Altinn for å sende og motta data.\n\rPortal\r\rAltinn-portalen tilbyr en felles meldingsboks til sluttbrukerne av Altinn samt standardfunksjonalitet for de forskjellige tjenestene.\n\rApps\r\rAltinn Apps er i dag tre applikasjoner som er utviklet på de tre dominerende mobile plattformene iOS, Android og Windows Phone.\n\r"
},
{
	"uri": "https://altinn.github.io/docs/api/generelt/feil-og-mangler/",
	"title": "Kjente feil og begrensninger",
	"tags": [],
	"description": "Kjente feil og funksjonalitet som ikke ennå er implementert i REST-apiet",
	"content": " Kjente feil  Ved uthenting av delegerte roller og rettigheter, vil man ikke kunne hente roller og rettigheter samlet ved hjelp av /api/{who}/authorization/delegations/{receiverid} for mer enn de første 50 innslagene i /api/{who}/authorization/delegations Sluttbruker-api-et gir ikke feilmelding ved innsending av mer enn ett hovedskjema per forsendelse Utveksling av authorization code i jwt krever feilaktig at apikey har tilgang til autorisasjonsressursen. Dette rettes i K4 2017.  Mangler  Det er ikke mulig å slette meldinger sendt til organisasjoner (verken i portal eller api) Det er ikke mulig å generere lesebekreftelse på meldinger Det er ikke mulig å arkivere meldinger (correspondence) i REST-apiet Metadata-ressursen lister ikke ut tjenester som ikke lenger er aktive, så det er ikke mulig å hente metadata for utgåtte tjenester som ligger i meldingsboks eller arkiv Virksomhetsbruker har ikke lesetilgang på tjenester som ikke er definert til å kunne sendes inn med virksomhetsbruker, selv om roller og delegeringer er utført (gjelder både REST og webservices) Det mangler createddatetime på messages   Never gonna give you up!   "
},
{
	"uri": "https://altinn.github.io/docs/guides/samtykke/datakonsument/komme-i-gang/",
	"title": "Komme i gang",
	"tags": [],
	"description": "Forutsetninger for å ta i bruk samtykketjenesten",
	"content": " Før man kan ta i bruk tjenesten må følgende være på plass:  Aktuell datakilde må ha laget en samtykketjeneste som datakonsument kan benytte. Datakonsument trenger tjenestekode (serviceCode) og tjenesteutgavekode (serviceEditionCode) for gjeldende tjeneste\n Aktuell datakilde må ha registrert organisasjonsnummeret til datakonsument i tjenesteeierstyrt rettighetsregister for ovennevnte tjeneste\u0026reg;. I dette registeret må datakilden også registrere domene som sluttbruker skal returneres til etter å ha gitt sitt samtykke. Det er kun domene/host (ikke path) som legges inn og wildcard (*) benyttes for å støtte flere sub-domener. Wildcards må benyttes på sikker måte:\n   Riktig Feil     *.domene.no domene.*    *domene.no    Domene må legges til både for test- og produksjonsmiljø (disse kan om ønskelig være like).\n For å hente token trenger man ApiKey som er knyttet til datakonsument sitt organisasjonsnummer. Dette kan bestilles hos Altinn ved å sende en hevendelse til servicedesk@altinn.no. Det vil være en ApiKey for test og en for å benytte i produksjonsmiljøet. ( NB! For Samtykkebasert lånesøknad er det Bits som administrerer dette på vegne av bankene. Se https://www.bits.no/project/sbl.)\n Man må ha fiktive testpersoner som kan benyttes i test. Dette må man få hos datakilden da dette må være testbrukere som også er lest inn i deres systemer\n  Hvis en har en policy på å stenge for utgående trafikk i brannmur må en i så fall åpne opp for trafikk mot miljøene listet under.\n   Miljø IP-adresse Navn Port     PROD 89.250.123.0 www.altinn.no 443   TT02 89.250.123.40 tt02.altinn.no 443    DNS må sjekkes. Hvis en hardkoder IP adresser i DNS må en legge inn IP adressene listet over i DNS (en vil typisk få Network error. Connection refused o.l hvis DNS ikke er oppdatert)\n"
},
{
	"uri": "https://altinn.github.io/docs/api/tjenesteeier/kontaktinformasjon/",
	"title": "Kontaktinformasjon",
	"tags": [],
	"description": "Uthenting og søk i kontaktinformasjon for virksomheter",
	"content": " Hente kontaktinformasjon for alle organisasjoner GET https://www.altinn.no/api/serviceowner/organizations?ForceEIAuthentication Accept: application/hal+json ApiKey: myKey  Eksempel på respons:\n{ \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/serviceowner/organizations\u0026quot; } }, \u0026quot;_embedded\u0026quot;: { \u0026quot;organizations\u0026quot;: [ { \u0026quot;Name\u0026quot;: \u0026quot;HERDLA OG SAULAND\u0026quot;, \u0026quot;OrganizationNumber\u0026quot;: \u0026quot;010000211\u0026quot;, \u0026quot;Type\u0026quot;: \u0026quot;IS\u0026quot;, \u0026quot;LastChanged\u0026quot;: \u0026quot;2014-11-05T00:00:00\u0026quot;, \u0026quot;LastConfirmed\u0026quot;: null, \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/serviceowner/organizations/010000211\u0026quot; }, \u0026quot;personalcontacts\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/serviceowner/organizations/010000211/personalcontacts\u0026quot; }, \u0026quot;officialcontacts\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/serviceowner/organizations/010000211/officialcontacts\u0026quot; } } } ...  Søke opp kontaktpunkt i organisasjoner ved hjelp av e-post og/eller telefon GET https://www.altinn.no/api/serviceowner/organizations?ForceEIAuthentication\u0026amp;email={email}\u0026amp;phoneNumber={phonenumber} Accept: application/hal+json ApiKey: myKey  Eksempel på respons:\n{ \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/serviceowner/organizations\u0026quot; } }, \u0026quot;_embedded\u0026quot;: { \u0026quot;organizations\u0026quot;: [ { \u0026quot;Name\u0026quot;: \u0026quot;KYSTBASEN ÅGOTNES OG ILSENG REGNSKAP\u0026quot;, \u0026quot;OrganizationNumber\u0026quot;: \u0026quot;910514318\u0026quot;, \u0026quot;Type\u0026quot;: \u0026quot;ASA\u0026quot;, \u0026quot;LastChanged\u0026quot;: \u0026quot;2015-10-27T12:43:02.23\u0026quot;, \u0026quot;LastConfirmed\u0026quot;: \u0026quot;2017-03-22T10:42:34.713\u0026quot;, \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/serviceowner/organizations/910514318\u0026quot; }, \u0026quot;personalcontacts\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/serviceowner/organizations/910514318/personalcontacts\u0026quot; }, \u0026quot;officialcontacts\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/serviceowner/organizations/910514318/officialcontacts\u0026quot; } } }, { \u0026quot;Name\u0026quot;: \u0026quot;LEINSTRAND OG HOMBORSUND\u0026quot;, \u0026quot;OrganizationNumber\u0026quot;: \u0026quot;810748532\u0026quot;, \u0026quot;Type\u0026quot;: \u0026quot;BEDR\u0026quot;, \u0026quot;LastChanged\u0026quot;: null, \u0026quot;LastConfirmed\u0026quot;: null, \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/serviceowner/organizations/810748532\u0026quot; }, \u0026quot;personalcontacts\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/serviceowner/organizations/810748532/personalcontacts\u0026quot; }, \u0026quot;officialcontacts\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/serviceowner/organizations/810748532/officialcontacts\u0026quot; } } } ] } }  Hente kontaktinformasjon for én organisasjon ({who}) GET https://www.altinn.no/api/serviceowner/organizations/{who}/?ForceEIAuthentication Accept: application/hal+json ApiKey: myKey  Eksempel på respons:\n{ \u0026quot;Name\u0026quot;: \u0026quot;HERDLA OG SAULAND\u0026quot;, \u0026quot;OrganizationNumber\u0026quot;: \u0026quot;010000211\u0026quot;, \u0026quot;Type\u0026quot;: \u0026quot;IS\u0026quot;, \u0026quot;LastChanged\u0026quot;: \u0026quot;2014-11-05T00:00:00\u0026quot;, \u0026quot;LastConfirmed\u0026quot;: null, \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/serviceowner/organizations/010000211\u0026quot; }, \u0026quot;personalcontacts\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/serviceowner/organizations/010000211/personalcontacts\u0026quot; }, \u0026quot;officialcontacts\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/serviceowner/organizations/010000211/officialcontacts\u0026quot; } } }  Hente offisiell kontaktinformasjon for én organisasjon ({who}) Dette tilsvarer Felles kontaktinformasjon for virksomheten på Altinn.no.\nGET https://www.altinn.no/api/serviceowner/organizations/{who}/officialcontacts/?ForceEIAuthentication Accept: application/hal+json ApiKey: myKey  Eksempel på respons:\n{ \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/serviceowner/organizations/910021451/officialcontacts\u0026quot; } }, \u0026quot;_embedded\u0026quot;: { \u0026quot;officialcontacts\u0026quot;: [ { \u0026quot;MobileNumber\u0026quot;: \u0026quot;22334455\u0026quot;, \u0026quot;MobileNumberChanged\u0026quot;: \u0026quot;2017-06-15T09:07:20.84\u0026quot;, \u0026quot;EMailAddress\u0026quot;: \u0026quot;34234324@gg.com\u0026quot;, \u0026quot;EMailAddressChanged\u0026quot;: \u0026quot;2017-06-15T09:07:20.84\u0026quot; }, { \u0026quot;MobileNumber\u0026quot;: \u0026quot;33445566\u0026quot;, \u0026quot;MobileNumberChanged\u0026quot;: \u0026quot;2017-06-15T09:07:20.84\u0026quot;, \u0026quot;EMailAddress\u0026quot;: \u0026quot;eeee@bb.com\u0026quot;, \u0026quot;EMailAddressChanged\u0026quot;: \u0026quot;2017-06-15T09:07:20.84\u0026quot; } ] } }  Hente personlig kontaktinformasjon for én organisasjon ({who}) Dette er en liste over det de forskjellige med roller og rettigheter i en organisasjon har registrert under Min kontaktinformasjon for virksomheten på Altinn.no.\nGET https://www.altinn.no/api/serviceowner/organizations/{who}/personalcontacts/?ForceEIAuthentication\u0026amp;roleDefinitionCode={roleDefinitionCode}\u0026amp;serviceCode={serviceCode}\u0026amp;serviceEdition={serviceEdition} Accept: application/hal+json ApiKey: myKey  Eksempel på respons:\n{ \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/serviceowner/organizations/910021451/personalcontacts\u0026quot; } }, \u0026quot;_embedded\u0026quot;: { \u0026quot;personalcontacts\u0026quot;: [ { \u0026quot;PersonalContactId\u0026quot;: \u0026quot;r50022994\u0026quot;, \u0026quot;Name\u0026quot;: \u0026quot;ROLF BJØRN \u0026quot;, \u0026quot;SocialSecurityNumber\u0026quot;: \u0026quot;06117701547\u0026quot;, \u0026quot;MobileNumber\u0026quot;: \u0026quot;12345678\u0026quot;, \u0026quot;MobileNumberChanged\u0026quot;: \u0026quot;2017-06-15T09:05:00.86\u0026quot;, \u0026quot;EMailAddress\u0026quot;: \u0026quot;eok@br.no\u0026quot;, \u0026quot;EMailAddressChanged\u0026quot;: \u0026quot;2017-06-15T09:05:00.86\u0026quot;, \u0026quot;_links\u0026quot;: { \u0026quot;roles\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/serviceowner/organizations/910021451/personalcontacts/r50022994/roles\u0026quot; } } }, { \u0026quot;PersonalContactId\u0026quot;: \u0026quot;r50041943\u0026quot;, \u0026quot;Name\u0026quot;: \u0026quot;DRAGE TARALD\u0026quot;, \u0026quot;SocialSecurityNumber\u0026quot;: \u0026quot;11106700992\u0026quot;, \u0026quot;MobileNumber\u0026quot;: \u0026quot;12345678\u0026quot;, \u0026quot;MobileNumberChanged\u0026quot;: \u0026quot;2016-06-22T14:17:11.23\u0026quot;, \u0026quot;EMailAddress\u0026quot;: \u0026quot;pubg@gg.kd\u0026quot;, \u0026quot;EMailAddressChanged\u0026quot;: \u0026quot;2016-06-22T14:17:11.23\u0026quot;, \u0026quot;_links\u0026quot;: { \u0026quot;roles\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/serviceowner/organizations/910021451/personalcontacts/r50041943/roles\u0026quot; } } } ] } }  Hente roller for person {person} med oppført kontaktinformasjon på vegne av {who} Personidentifikatoren er altinn-id-en (r{id}) kalt {PersonalContactId} fra eksempelrespons på personalcontacts.\nGET https://www.altinn.no/api/serviceowner/organizations/{who}/personalcontacts/{person}/roles Accept: application/hal+json ApiKey: myKey  Eksempel på respons:\n{ \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/serviceowner/organizations/910514318/personalcontacts/r50051516/roles\u0026quot; } }, \u0026quot;_embedded\u0026quot;: { \u0026quot;roles\u0026quot;: [ { \u0026quot;RoleType\u0026quot;: \u0026quot;Altinn\u0026quot;, \u0026quot;RoleDefinitionId\u0026quot;: 89, \u0026quot;RoleName\u0026quot;: \u0026quot;Basisrolle\u0026quot;, \u0026quot;RoleDescription\u0026quot;: \u0026quot;Rolle som følger automatisk med når en bruker får en annen Altinn-rolle\u0026quot;, \u0026quot;RoleDefinitionCode\u0026quot;: \u0026quot;ALLEA\u0026quot;, \u0026quot;_links\u0026quot;: { \u0026quot;roledefinition\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/serviceowner/roledefinitions/89\u0026quot; } } }, { \u0026quot;RoleType\u0026quot;: \u0026quot;Altinn\u0026quot;, \u0026quot;RoleDefinitionId\u0026quot;: 8, \u0026quot;RoleName\u0026quot;: \u0026quot;Begrenset signeringsrettighet\u0026quot;, \u0026quot;RoleDescription\u0026quot;: \u0026quot;Tilgang til å signere utvalgte skjema og tjenester\u0026quot;, \u0026quot;RoleDefinitionCode\u0026quot;: \u0026quot;SISKD\u0026quot;, \u0026quot;_links\u0026quot;: { \u0026quot;roledefinition\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/serviceowner/roledefinitions/8\u0026quot; } } }, { \u0026quot;RoleType\u0026quot;: \u0026quot;Altinn\u0026quot;, \u0026quot;RoleDefinitionId\u0026quot;: 12, \u0026quot;RoleName\u0026quot;: \u0026quot;Energi, miljø og klima\u0026quot;, \u0026quot;RoleDescription\u0026quot;: \u0026quot;Tilgang til tjenester relatert til energi, miljø og klima\u0026quot;, \u0026quot;RoleDefinitionCode\u0026quot;: \u0026quot;UTOMR\u0026quot;, \u0026quot;_links\u0026quot;: { \u0026quot;roledefinition\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/serviceowner/roledefinitions/12\u0026quot; } } }, { \u0026quot;RoleType\u0026quot;: \u0026quot;Altinn\u0026quot;, \u0026quot;RoleDefinitionId\u0026quot;: 131, \u0026quot;RoleName\u0026quot;: \u0026quot;Helse-, sosial- og velferdstjenester\u0026quot;, \u0026quot;RoleDescription\u0026quot;: \u0026quot;Tilgang til helse-, sosial- og velferdsrelaterte tjenester\u0026quot;, \u0026quot;RoleDefinitionCode\u0026quot;: \u0026quot;UIHTL\u0026quot;, \u0026quot;_links\u0026quot;: { \u0026quot;roledefinition\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/serviceowner/roledefinitions/131\u0026quot; } } }, { \u0026quot;RoleType\u0026quot;: \u0026quot;Altinn\u0026quot;, \u0026quot;RoleDefinitionId\u0026quot;: 15, \u0026quot;RoleName\u0026quot;: \u0026quot;Klientadministrator\u0026quot;, \u0026quot;RoleDescription\u0026quot;: \u0026quot;Tilgang til å administrere klientroller for regnskapsførere og revisorer\u0026quot;, \u0026quot;RoleDefinitionCode\u0026quot;: \u0026quot;KLADM\u0026quot;, \u0026quot;_links\u0026quot;: { \u0026quot;roledefinition\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/serviceowner/roledefinitions/15\u0026quot; } } }, { \u0026quot;RoleType\u0026quot;: \u0026quot;Altinn\u0026quot;, \u0026quot;RoleDefinitionId\u0026quot;: 134, \u0026quot;RoleName\u0026quot;: \u0026quot;Kommunale tjenester\u0026quot;, \u0026quot;RoleDescription\u0026quot;: \u0026quot;Rolle for kommunale tjenester\u0026quot;, \u0026quot;RoleDefinitionCode\u0026quot;: \u0026quot;KOMAB\u0026quot;, \u0026quot;_links\u0026quot;: { \u0026quot;roledefinition\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/serviceowner/roledefinitions/134\u0026quot; } } }, { \u0026quot;RoleType\u0026quot;: \u0026quot;Altinn\u0026quot;, \u0026quot;RoleDefinitionId\u0026quot;: 3, \u0026quot;RoleName\u0026quot;: \u0026quot;Lønn og personalmedarbeider\u0026quot;, \u0026quot;RoleDescription\u0026quot;: \u0026quot;Denne rollen gir rettighet til lønns- og personalrelaterte tjenester.\\r\\n\u0026quot;, \u0026quot;RoleDefinitionCode\u0026quot;: \u0026quot;LOPER\u0026quot;, \u0026quot;_links\u0026quot;: { \u0026quot;roledefinition\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/serviceowner/roledefinitions/3\u0026quot; } } }, { \u0026quot;RoleType\u0026quot;: \u0026quot;Altinn\u0026quot;, \u0026quot;RoleDefinitionId\u0026quot;: 5576, \u0026quot;RoleName\u0026quot;: \u0026quot;Parallell signering\u0026quot;, \u0026quot;RoleDescription\u0026quot;: \u0026quot;Denne rollen gir rettighet til å signere elementer fra andre avgivere.\\r\\n\u0026quot;, \u0026quot;RoleDefinitionCode\u0026quot;: \u0026quot;PASIG\u0026quot;, \u0026quot;_links\u0026quot;: { \u0026quot;roledefinition\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/serviceowner/roledefinitions/5576\u0026quot; } } }, { \u0026quot;RoleType\u0026quot;: \u0026quot;Altinn\u0026quot;, \u0026quot;RoleDefinitionId\u0026quot;: 87, \u0026quot;RoleName\u0026quot;: \u0026quot;Patent, varemerke og design\u0026quot;, \u0026quot;RoleDescription\u0026quot;: \u0026quot;Denne rollen gir rettighet til tjenester relatert til patent, varemerke og design.\u0026quot;, \u0026quot;RoleDefinitionCode\u0026quot;: \u0026quot;PAVAD\u0026quot;, \u0026quot;_links\u0026quot;: { \u0026quot;roledefinition\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/serviceowner/roledefinitions/87\u0026quot; } } }, { \u0026quot;RoleType\u0026quot;: \u0026quot;Altinn\u0026quot;, \u0026quot;RoleDefinitionId\u0026quot;: 5603, \u0026quot;RoleName\u0026quot;: \u0026quot;Post/arkiv\u0026quot;, \u0026quot;RoleDescription\u0026quot;: \u0026quot;Denne rollen gir rettighet til å lese meldinger som blir sendt til brukerens meldingsboks.\\r\\n\u0026quot;, \u0026quot;RoleDefinitionCode\u0026quot;: \u0026quot;A0236\u0026quot;, \u0026quot;_links\u0026quot;: { \u0026quot;roledefinition\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/serviceowner/roledefinitions/5603\u0026quot; } } }, { \u0026quot;RoleType\u0026quot;: \u0026quot;Altinn\u0026quot;, \u0026quot;RoleDefinitionId\u0026quot;: 272, \u0026quot;RoleName\u0026quot;: \u0026quot;Primærnæring og næringsmiddel\u0026quot;, \u0026quot;RoleDescription\u0026quot;: \u0026quot;Denne rollen gir rettighet til tjenester innen import, foredling, produksjon og/eller salg av primærnæringsprodukter og andre næringsmiddel, samt dyrehold, akvakultur, planter og kosmetikk.\u0026quot;, \u0026quot;RoleDefinitionCode\u0026quot;: \u0026quot;A0212\u0026quot;, \u0026quot;_links\u0026quot;: { \u0026quot;roledefinition\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/serviceowner/roledefinitions/272\u0026quot; } } }, { \u0026quot;RoleType\u0026quot;: \u0026quot;Altinn\u0026quot;, \u0026quot;RoleDefinitionId\u0026quot;: 6, \u0026quot;RoleName\u0026quot;: \u0026quot;Regnskapsmedarbeider\u0026quot;, \u0026quot;RoleDescription\u0026quot;: \u0026quot;Denne rollen gir rettighet til regnskapsrelaterte skjema og tjenester.\u0026quot;, \u0026quot;RoleDefinitionCode\u0026quot;: \u0026quot;REGNA\u0026quot;, \u0026quot;_links\u0026quot;: { \u0026quot;roledefinition\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/serviceowner/roledefinitions/6\u0026quot; } } }, { \u0026quot;RoleType\u0026quot;: \u0026quot;Altinn\u0026quot;, \u0026quot;RoleDefinitionId\u0026quot;: 85, \u0026quot;RoleName\u0026quot;: \u0026quot;Revisorattesterer - MVA kompensasjon\u0026quot;, \u0026quot;RoleDescription\u0026quot;: \u0026quot;Denne rollen gir revisor rettighet til å attestere tjenesten Merverdiavgift - søknad om kompensasjon (RF-0009).\u0026quot;, \u0026quot;RoleDefinitionCode\u0026quot;: \u0026quot;ATTST\u0026quot;, \u0026quot;_links\u0026quot;: { \u0026quot;roledefinition\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/serviceowner/roledefinitions/85\u0026quot; } } }, { \u0026quot;RoleType\u0026quot;: \u0026quot;Altinn\u0026quot;, \u0026quot;RoleDefinitionId\u0026quot;: 10, \u0026quot;RoleName\u0026quot;: \u0026quot;Samferdsel\u0026quot;, \u0026quot;RoleDescription\u0026quot;: \u0026quot;Rollen gir rettighet til tjenester relatert til samferdsel. For eksempel tjenester fra Statens Vegvesen, Sjøfartsdirektoratet og Luftfartstilsynet.\u0026quot;, \u0026quot;RoleDefinitionCode\u0026quot;: \u0026quot;UILUF\u0026quot;, \u0026quot;_links\u0026quot;: { \u0026quot;roledefinition\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/serviceowner/roledefinitions/10\u0026quot; } } }, { \u0026quot;RoleType\u0026quot;: \u0026quot;Altinn\u0026quot;, \u0026quot;RoleDefinitionId\u0026quot;: 130, \u0026quot;RoleName\u0026quot;: \u0026quot;Signerer av Samordnet registermelding\u0026quot;, \u0026quot;RoleDescription\u0026quot;: \u0026quot;Denne rollen gir rettighet til tjenester på vegne av enheter/foretak.\\r\\n\u0026quot;, \u0026quot;RoleDefinitionCode\u0026quot;: \u0026quot;SIGNE\u0026quot;, \u0026quot;_links\u0026quot;: { \u0026quot;roledefinition\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/serviceowner/roledefinitions/130\u0026quot; } } }, { \u0026quot;RoleType\u0026quot;: \u0026quot;Altinn\u0026quot;, \u0026quot;RoleDefinitionId\u0026quot;: 4, \u0026quot;RoleName\u0026quot;: \u0026quot;Tilgangsstyring\u0026quot;, \u0026quot;RoleDescription\u0026quot;: \u0026quot;Denne rollen gir administratortilgang til å gi videre rettigheter til andre.\\r\\n\u0026quot;, \u0026quot;RoleDefinitionCode\u0026quot;: \u0026quot;ADMAI\u0026quot;, \u0026quot;_links\u0026quot;: { \u0026quot;roledefinition\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/serviceowner/roledefinitions/4\u0026quot; } } }, { \u0026quot;RoleType\u0026quot;: \u0026quot;Altinn\u0026quot;, \u0026quot;RoleDefinitionId\u0026quot;: 11, \u0026quot;RoleName\u0026quot;: \u0026quot;Utfyller/Innsender\u0026quot;, \u0026quot;RoleDescription\u0026quot;: \u0026quot;Denne rollen gir rettighet til utvalgte skjema og tjenester.\\r\\n\u0026quot;, \u0026quot;RoleDefinitionCode\u0026quot;: \u0026quot;UTINN\u0026quot;, \u0026quot;_links\u0026quot;: { \u0026quot;roledefinition\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/serviceowner/roledefinitions/11\u0026quot; } } }, { \u0026quot;RoleType\u0026quot;: \u0026quot;Altinn\u0026quot;, \u0026quot;RoleDefinitionId\u0026quot;: 86, \u0026quot;RoleName\u0026quot;: \u0026quot;Økokrim rapportering\u0026quot;, \u0026quot;RoleDescription\u0026quot;: \u0026quot;Tilgang til tjenester fra Økokrim\u0026quot;, \u0026quot;RoleDefinitionCode\u0026quot;: \u0026quot;HVASK\u0026quot;, \u0026quot;_links\u0026quot;: { \u0026quot;roledefinition\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/serviceowner/roledefinitions/86\u0026quot; } } } ] } }  "
},
{
	"uri": "https://altinn.github.io/docs/api/sluttbruker/meldinger/",
	"title": "Meldinger",
	"tags": [],
	"description": "Operasjoner relatert til meldinger",
	"content": "\r\rHente\r\rOperasjoner for å lese i meldingsboks og arkiv\n\rSende inn\r\rOperasjoner for å sende inn meldinger\n\rSignere\r\rOperasjon for signere meldinger\n\rSlette\r\rOperasjoner for å slette meldinger, underskjema og vedlegg\n\r"
},
{
	"uri": "https://altinn.github.io/docs/api/sluttbruker/diverse/metadata/",
	"title": "Metadata",
	"tags": [],
	"description": "Altinn API tilbyr en ressurs som gir tilgang til metadata for tjenester tilgjengelige i Altinn.",
	"content": " Altinn API tilbyr en ressurs som gir tilgang til metadata for tjenester tilgjengelige i Altinn. Metadata ressursen er åpent tilgjengelig og krever ikke autentisering.\nHente metadata for alle tjenester GET https://www.altinn.no/api/metadata HTTP/1.1 ApiKey: myKey Accept: application/hal+json  Respons fra API:\n{ \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/metadata\u0026quot; } }, \u0026quot;_embedded\u0026quot;: { \u0026quot;metadata\u0026quot;: [{ \u0026quot;ServiceOwnerCode\u0026quot;: \u0026quot;BUF\u0026quot;, \u0026quot;ServiceOwnerName\u0026quot;: \u0026quot;Barne-, ungdoms- og familiedirektoratet\u0026quot;, \u0026quot;ServiceName\u0026quot;: \u0026quot;BUF-0021 Søknad om tilskudd til frivillige, landsomfattende barne- og ungdomsorganisasjoner - internasjonal grunnstøtte for partipolitiske ungdomsorganisasjoner\u0026quot;, \u0026quot;ServiceCode\u0026quot;: \u0026quot;3734\u0026quot;, \u0026quot;ServiceEditionCode\u0026quot;: 150114, \u0026quot;ValidFrom\u0026quot;: \u0026quot;2014-05-15T08:00:00\u0026quot;, \u0026quot;ValidTo\u0026quot;: \u0026quot;2099-01-15T00:56:00\u0026quot;, \u0026quot;ServiceType\u0026quot;: \u0026quot;FormTask\u0026quot;, \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/metadata/formtask/3734/150114\u0026quot; } } }, { \u0026quot;ServiceOwnerCode\u0026quot;: \u0026quot;BUF\u0026quot;, \u0026quot;ServiceOwnerName\u0026quot;: \u0026quot;Barne-, ungdoms- og familiedirektoratet\u0026quot;, \u0026quot;ServiceName\u0026quot;: \u0026quot;Søknad om aktivitetstilskot for å betre levekår og livskvalitet blant lesbiske, homofile, bifile og transpersonar (LHBT)\u0026quot;, \u0026quot;ServiceCode\u0026quot;: \u0026quot;3610\u0026quot;, \u0026quot;ServiceEditionCode\u0026quot;: 130802, \u0026quot;ValidFrom\u0026quot;: \u0026quot;2014-01-16T10:23:50\u0026quot;, \u0026quot;ValidTo\u0026quot;: \u0026quot;2099-02-01T00:51:00\u0026quot;, \u0026quot;ServiceType\u0026quot;: \u0026quot;FormTask\u0026quot;, \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/metadata/formtask/3610/130802\u0026quot; } } }] } }  Hente metadata for enkelt tjeneste GET https://www.altinn.no/api/metadata/formtask/3734/150114 HTTP/1.1 ApiKey: myKey Accept: application/hal+json  Respons fra API:\n{ \u0026quot;ServiceOwnerCode\u0026quot;: \u0026quot;BUF\u0026quot;, \u0026quot;ServiceOwnerName\u0026quot;: \u0026quot;Barne-, ungdoms- og familiedirektoratet\u0026quot;, \u0026quot;ServiceName\u0026quot;: \u0026quot;BUF-0021 Søknad om tilskudd til frivillige, landsomfattende barne- og ungdomsorganisasjoner - internasjonal grunnstøtte for partipolitiske ungdomsorganisasjoner\u0026quot;, \u0026quot;ServiceCode\u0026quot;: \u0026quot;3734\u0026quot;, \u0026quot;ServiceEditionCode\u0026quot;: 150114, \u0026quot;ValidFrom\u0026quot;: \u0026quot;2014-05-15T08:00:00\u0026quot;, \u0026quot;ValidTo\u0026quot;: \u0026quot;2099-01-15T00:56:00\u0026quot;, \u0026quot;ServiceType\u0026quot;: \u0026quot;FormTask\u0026quot;, \u0026quot;RestEnabled\u0026quot;: false, \u0026quot;FormsMetaData\u0026quot;: [{ \u0026quot;FormID\u0026quot;: 3686, \u0026quot;FormName\u0026quot;: \u0026quot;BUF-0021 Søknad om tilskudd til frivillige, landsomfattende barne- og ungdomsorganisasjoner - internasjonal grunnstøtte for partipolitiske ungdomsorganisasjoner\u0026quot;, \u0026quot;DataFormatProviderType\u0026quot;: \u0026quot;Seres\u0026quot;, \u0026quot;DataFormatID\u0026quot;: \u0026quot;4362\u0026quot;, \u0026quot;DataFormatVersion\u0026quot;: 36770, \u0026quot;IsOnlyXsdValidation\u0026quot;: false, \u0026quot;FormType\u0026quot;: \u0026quot;MainForm\u0026quot;, \u0026quot;_links\u0026quot;: { \u0026quot;schema\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/metadata/formtask/3734/150114/forms/4362/36770/xsd\u0026quot; } } }], \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/metadata/formtask/3734/150114\u0026quot; } } }  Metadata om den enkelte tjenesten vil for eksempel inkludere informasjon om det er mulig å sende inn skjema via REST API, samt gi tilgang til XSD for skjema (Datamodell)\n"
},
{
	"uri": "https://altinn.github.io/docs/altinncore/goals/",
	"title": "Målsettinger",
	"tags": [],
	"description": "Overordnede målsettinger for 3.0.",
	"content": " En oppsummering av de overordnede hovedmålsettingene for tjenester 3.0.\nBrukervennlige og responsive tjenester  Brukergrensesnitt som er brukervennlig, effektive og moderne (f.eks. som vist på altinn-dagen) Støtte for mobil og ulike skjermstørrelser er innebygd, såkalt responsivt design. Dette gjelder også for utviklingsverktøy. Innebygd universell utforming med støtte for WCAG 2 God ytelse og lav responstid  Effektiv og selvbetjent tjenesteutvikling  Man kan enkelt gjøre alt selv (inkl. prodsetting) når man ønsker det, uten behov for bestillinger, kursing, etc. Flaskehalser elimineres. Effektiv og reell testing, der enhetstest oppfører seg likt som testmiljøer og prod (alle miljøer baseres på samme plattform-kode) Støtte for å lage automatisert testing av tjenester Regler og logikk defineres kun en gang for alle kanaler (portal/WS/API), og på en mer robust måte enn i dag Datamodellering innebygd i det samme web-baserte verktøyet (og støtte for import fra SERES, OR, etc. ) Ikke nødvendig med Citrix for tilgang til utviklingsmiljø  Enkelt for fagpersoner, fleksibelt for utviklere  Fagpersoner har tilgang til nødvendig funksjonalitet direkte i nettleser Man gjenbruker gode og ferdig-testede komponenter/widgets Enkelt å gjøre kall mot API\u0026rsquo;er i andre systemer (hente data, kjøre logikk som ligger i egne fagsystemer) Mer tekniske utviklere kan i tillegg tilpasse alle aspekter hvis man har behov for det ved bruk av kode-editor, f.eks. lage gjenbrukbare widgets, stilark, etc. Gjenbruk av tekster og andre ressurser på det nivået som man ønsker (plattform, tjenesteeier, tjeneste), samt vilkårlig språkstøtte Git (versjonskontroll) benyttes for lagring av tjenestene som utvikles, både fra nettleser og kode-editor.  Åpen kildekode, cross-platform  Tjenester 3.0 skal baseres på åpen kildekode Tjenester 3.0 skal også deles som åpen kildekode Dette betyr at alle kan bidra til å forbedre plattformen. Altinn-organisasjonen blir mao. ikke flaskehals for utvikling. Kan kjøres lokalt på egen maskin, på egne servere og på både Windows, macOS eller Linux Alt baseres på åpne web-standarder og vanlig utviklerkompetanse (ingen \u0026ldquo;sære\u0026rdquo; eller proprietære verktøy innføres)  "
},
{
	"uri": "https://altinn.github.io/docs/api/generelt/retningslinjer/",
	"title": "Retningslinjer",
	"tags": [],
	"description": "Retningslinjer om bruk av Altinn API&#39;et.",
	"content": " Krav til merking Det må kommer frem for brukeren at data kommer fra Altinn. All bruk av Altinn API i applikasjoner skal derfor merkes med følgende tekst:\n \u0026ldquo;Data levert av Altinn\u0026rdquo; Bokmål \u0026ldquo;Data delivered by Altinn\u0026rdquo;. Engelsk  Vi har ikke krav til hvordan teksten skal vises, men den skal være godt synlig for brukeren, når vedkommende tar i bruk eller starter applikasjonen.\nAndre krav  Du har ikke lov til å lage tjenester/applikasjoner som framstår som om de er laget av Altinn. Du kan ikke endre på innholdet i data som leveres. Du har ikke lov til å bruke innholdet på nettsider med pornografisk eller rasistisk innhold, eller på nettsider som bryter norsk lov. Se dokumentasjonen for informasjon om autentisering og sikkerhet. Det kreves at applikasjonsleverandøren fyller ut egenerklæringskjema for bruk av Altinn API. Ved integrasjon av innhold fra Altinn API i andre fødererte portaler er det et krav at brukeren opplyses om bruken av Altinn API og hvilke ressurser i Altinn portalen benytter.  "
},
{
	"uri": "https://altinn.github.io/docs/api/sluttbruker/autorisasjon/rolledefinisjoner/",
	"title": "Rolledefinisjoner",
	"tags": [],
	"description": "API&#39;er relatert til rolledefinisjoner.",
	"content": " Hente rolledefinisjoner Henter ut alle rolledefinisjoner tilgjengelig for {who}.\nSe også altinn.no/api/help.\nGET https://www.altinn.no/api/{who}/authorization/roledefinitions HTTP/1.1 Accept: application/hal+json ApiKey: myKey  Eksempel på respons\n[ { \u0026quot;RoleType\u0026quot;: \u0026quot;External\u0026quot;, \u0026quot;RoleDefinitionId\u0026quot;: 82, \u0026quot;RoleName\u0026quot;: \u0026quot;Privatperson\u0026quot;, \u0026quot;RoleDescription\u0026quot;: \u0026quot;Privatperson\u0026quot; }, { \u0026quot;RoleType\u0026quot;: \u0026quot;Altinn\u0026quot;, \u0026quot;RoleDefinitionId\u0026quot;: 1525, \u0026quot;RoleName\u0026quot;: \u0026quot;UDI referanseperson\u0026quot;, \u0026quot;RoleDescription\u0026quot;: \u0026quot;Videreformidlingstjeneste UDI\u0026quot; }, { \u0026quot;RoleType\u0026quot;: \u0026quot;Altinn\u0026quot;, \u0026quot;RoleDefinitionId\u0026quot;: 2215, \u0026quot;RoleName\u0026quot;: \u0026quot;hildetest\u0026quot;, \u0026quot;RoleDescription\u0026quot;: \u0026quot;testrolle\u0026quot; } ]  Hente ut en enkelt rolle Hente ut alle rettigheter tilknyttet en spesifikk rolle angitt med roledefinitionid fra rollelisten i punktet over.\nSe også altinn.no/api/help.\nGET https://www.altinn.no/api/{who}/authorization/roledefinitions/{roledefinitionid} HTTP/1.1 Accept: application/hal+json ApiKey: myKey  Eksempel på respons:\n{ \u0026quot;RoleType\u0026quot;: \u0026quot;External\u0026quot;, \u0026quot;RoleDefinitionId\u0026quot;: 82, \u0026quot;RoleName\u0026quot;: \u0026quot;Privatperson\u0026quot;, \u0026quot;RoleDescription\u0026quot;: \u0026quot;Privatperson\u0026quot;, \u0026quot;Rights\u0026quot;: [ { \u0026quot;RightID\u0026quot;: 63, \u0026quot;RightType\u0026quot;: \u0026quot;Service\u0026quot;, \u0026quot;ServiceCode\u0026quot;: \u0026quot;SKBERG\u0026quot;, \u0026quot;ServiceEditionCode\u0026quot;: 1, \u0026quot;Action\u0026quot;: \u0026quot;Read\u0026quot;, \u0026quot;RightSourceType\u0026quot;: \u0026quot;RoleTypeRights\u0026quot;, \u0026quot;IsDelegatable\u0026quot;: false }, { \u0026quot;RightID\u0026quot;: 68, \u0026quot;RightType\u0026quot;: \u0026quot;Service\u0026quot;, \u0026quot;ServiceCode\u0026quot;: \u0026quot;SKDPSA\u0026quot;, \u0026quot;ServiceEditionCode\u0026quot;: 2, \u0026quot;Action\u0026quot;: \u0026quot;Read\u0026quot;, \u0026quot;RightSourceType\u0026quot;: \u0026quot;RoleTypeRights\u0026quot;, \u0026quot;IsDelegatable\u0026quot;: false }, { \u0026quot;RightID\u0026quot;: 70, \u0026quot;RightType\u0026quot;: \u0026quot;Service\u0026quot;, \u0026quot;ServiceCode\u0026quot;: \u0026quot;SKDSLN\u0026quot;, \u0026quot;ServiceEditionCode\u0026quot;: 1, \u0026quot;Action\u0026quot;: \u0026quot;Read\u0026quot;, \u0026quot;RightSourceType\u0026quot;: \u0026quot;RoleTypeRights\u0026quot;, \u0026quot;IsDelegatable\u0026quot;: false } ] }  Opprette lokal rolle Oppretter en egendefinert rolle med de spesifikke rettighetene til tjenester/ressurser som angis i kallet. Språk er valgfri inputparameter.\nTillatte actions er Read, Write, Delete, Sign, ReadArchive, DeleteArchive og disse angir hvilke rettigheter rollen gir for de forskjellige stegene i arbeidsflyten gjennom Altinn. Etter at den er opprettet, må rollen delegeres for faktisk gi rettighetene man har valgt.\nSe også altinn.no/api/help.\nPOST https://www.altinn.no/api/{who}/authorization/roledefinitions/ HTTP/1.1 Content-Type: application/hal+json ApiKey: myKey { \u0026quot;RoleName\u0026quot;: \u0026quot;min egen lokale rolle2\u0026quot;, \u0026quot;RoleDescription\u0026quot;: \u0026quot;en beskrivelse av rollen\u0026quot;, \u0026quot;_embedded\u0026quot;: { \u0026quot;Rights\u0026quot;: [ { \u0026quot;ServiceCode\u0026quot;: \u0026quot;3357\u0026quot;, \u0026quot;ServiceEditionCode\u0026quot;: \u0026quot;130429\u0026quot;, \u0026quot;Action\u0026quot;: \u0026quot;Read\u0026quot; } ] } }  Eksempel på respons:\nDet returneres en tom respons, men location header angir id på den nye lokale rollen dersom den ble opprettet OK.\nHTTP 201 - Created Location: https://www.altinn.no/api/my/authorization/roledefinitions/13667  Slette lokal rolle Se også altinn.no/api/help.\nDELETE https://www.altinn.no/api/my/authorization/roledefinitions/13667 HTTP/1.1 ApiKey: myKey  Eksempel på respons:\nHTTP 204 - No Content  Oppdatere rolle Oppdaterer angitt rolle for {who}. Språk er valgfri input-parameter\nSe også altinn.no/api/help.\nPUT https://www.altinn.no/api/{who}/authorization/roledefinitions/{roledefinitionid} HTTP/1.1 Content-Type: application/hal+json ApiKey: myKey { \u0026quot;RoleName\u0026quot;: \u0026quot;min egen lokale rolle5\u0026quot;, \u0026quot;RoleDescription\u0026quot;: \u0026quot;en beskrivelse av rollen\u0026quot;, \u0026quot;RoleType\u0026quot;: \u0026quot;service\u0026quot;, \u0026quot;_embedded\u0026quot;: { \u0026quot;Rights\u0026quot;: [ { \u0026quot;ServiceCode\u0026quot;: \u0026quot;3357\u0026quot;, \u0026quot;ServiceEditionCode\u0026quot;: \u0026quot;130429\u0026quot;, \u0026quot;Action\u0026quot;: \u0026quot;Read\u0026quot; } ] } }  Eksempel på respons:\nHTTP 204 - No content Location: https://www.altinn.no/api/my/authorization/roledefinitions/13667  "
},
{
	"uri": "https://altinn.github.io/docs/api/sluttbruker/autorisasjon/roller-og-rettigheter/",
	"title": "Roller og rettigheter",
	"tags": [],
	"description": "API&#39;er relatert til roller og rettigheter.",
	"content": " Hente roller Hente ut roller innlogget bruker har for {who} - kan være my, organisasjonsnummer eller andre privatpersoner der man spør ved hjelp av r{id} som hentes fra api/reportees.\nSe beskrivelse på altinn.no/api/help.\nGET https://www.altinn.no/api/{who}/authorization/roles HTTP/1.1 Host: www.altinn.no Accept: application/hal+json ApiKey: myKey  Eksempel på respons på rettigheter innlogget bruker har for 910252240:\n{ \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https:\\/\\/www.altinn.no\\/api\\/910252240\\/authorization\\/roles\u0026quot; } }, \u0026quot;_embedded\u0026quot;: { \u0026quot;roles\u0026quot;: [ { \u0026quot;RoleId\u0026quot;: 38069107, \u0026quot;RoleType\u0026quot;: \u0026quot;Altinn\u0026quot;, \u0026quot;RoleDefinitionId\u0026quot;: 3, \u0026quot;RoleName\u0026quot;: \u0026quot;L\\u00f8nn og personalmedarbeider\u0026quot;, \u0026quot;RoleDescription\u0026quot;: \u0026quot;Tilgang til l\\u00f8nns- og personalrelaterte tjenester\u0026quot;, \u0026quot;Delegator\u0026quot;: \u0026quot;ELLEN FISKE\u0026quot;, \u0026quot;DelegatedTime\u0026quot;: \u0026quot;2014-11-19T08:27:40.577\u0026quot;, \u0026quot;_links\u0026quot;: { \u0026quot;roledefinition\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https:\\/\\/www.altinn.no\\/api\\/910252240\\/authorization\\/roledefinitions\\/3\u0026quot; } } }, { \u0026quot;RoleId\u0026quot;: 38069108, \u0026quot;RoleType\u0026quot;: \u0026quot;Altinn\u0026quot;, \u0026quot;RoleDefinitionId\u0026quot;: 6, \u0026quot;RoleName\u0026quot;: \u0026quot;Regnskapsmedarbeider\u0026quot;, \u0026quot;RoleDescription\u0026quot;: \u0026quot;Tilgang til regnskapsrelaterte skjema og tjenester\u0026quot;, \u0026quot;Delegator\u0026quot;: \u0026quot;ELLEN FISKE\u0026quot;, \u0026quot;DelegatedTime\u0026quot;: \u0026quot;2014-11-19T08:27:40.577\u0026quot;, \u0026quot;_links\u0026quot;: { \u0026quot;roledefinition\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https:\\/\\/www.altinn.no\\/api\\/910252240\\/authorization\\/roledefinitions\\/6\u0026quot; } } }, { \u0026quot;RoleId\u0026quot;: 38069101, \u0026quot;RoleType\u0026quot;: \u0026quot;Altinn\u0026quot;, \u0026quot;RoleDefinitionId\u0026quot;: 8, \u0026quot;RoleName\u0026quot;: \u0026quot;Begrenset signeringsrettighet\u0026quot;, \u0026quot;RoleDescription\u0026quot;: \u0026quot;Tilgang til \\u00e5 signere utvalgte skjema og tjenester\u0026quot;, \u0026quot;Delegator\u0026quot;: \u0026quot;ELLEN FISKE\u0026quot;, \u0026quot;DelegatedTime\u0026quot;: \u0026quot;2014-11-19T08:22:21.653\u0026quot;, \u0026quot;_links\u0026quot;: { \u0026quot;roledefinition\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https:\\/\\/www.altinn.no\\/api\\/910252240\\/authorization\\/roledefinitions\\/8\u0026quot; } } }, { \u0026quot;RoleId\u0026quot;: 38069102, \u0026quot;RoleType\u0026quot;: \u0026quot;Altinn\u0026quot;, \u0026quot;RoleDefinitionId\u0026quot;: 11, \u0026quot;RoleName\u0026quot;: \u0026quot;Utfyller\\/Innsender\u0026quot;, \u0026quot;RoleDescription\u0026quot;: \u0026quot;Tilgang til utvalgte skjema og tjenester\u0026quot;, \u0026quot;Delegator\u0026quot;: \u0026quot;ELLEN FISKE\u0026quot;, \u0026quot;DelegatedTime\u0026quot;: \u0026quot;2014-11-19T08:22:21.653\u0026quot;, \u0026quot;_links\u0026quot;: { \u0026quot;roledefinition\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https:\\/\\/www.altinn.no\\/api\\/910252240\\/authorization\\/roledefinitions\\/11\u0026quot; } } }, { \u0026quot;RoleType\u0026quot;: \u0026quot;Altinn\u0026quot;, \u0026quot;RoleDefinitionId\u0026quot;: 89, \u0026quot;RoleName\u0026quot;: \u0026quot;Basisrolle\u0026quot;, \u0026quot;RoleDescription\u0026quot;: \u0026quot;Rolle som f\\u00f8lger automatisk med n\\u00e5r en bruker f\\u00e5r en annen Altinn-rolle\u0026quot;, \u0026quot;_links\u0026quot;: { \u0026quot;roledefinition\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https:\\/\\/www.altinn.no\\/api\\/910252240\\/authorization\\/roledefinitions\\/89\u0026quot; } } } ] } }  Hente rettigheter Hente ut rettigheter innlogget bruker har for {who} - kan være my, organisasjonsnummer eller andre privatpersoner der man spør ved hjelp av r{id} som hentes fra api/reportees.\nSe beskrivelse på altinn.no/api/help.\nGET https://www.altinn.no/api/{who}/authorization/rights HTTP/1.1 Host: www.altinn.no Accept: application/hal+json ApiKey: myKey  Eksempel på respons:\n{ \u0026quot;_links\u0026quot;: { \u0026quot;self\u0026quot;: { \u0026quot;href\u0026quot;: \u0026quot;https:\\/\\/www.altinn.no\\/api\\/910252240\\/authorization\\/rights\u0026quot; } }, \u0026quot;_embedded\u0026quot;: { \u0026quot;rights\u0026quot;: [ { \u0026quot;RightID\u0026quot;: 103, \u0026quot;RightType\u0026quot;: \u0026quot;Service\u0026quot;, \u0026quot;ServiceCode\u0026quot;: \u0026quot;1261\u0026quot;, \u0026quot;ServiceEditionCode\u0026quot;: 1, \u0026quot;Action\u0026quot;: \u0026quot;Read\u0026quot;, \u0026quot;RightSourceType\u0026quot;: \u0026quot;RoleTypeRights\u0026quot;, \u0026quot;IsDelegatable\u0026quot;: true }, { \u0026quot;RightID\u0026quot;: 104, \u0026quot;RightType\u0026quot;: \u0026quot;Service\u0026quot;, \u0026quot;ServiceCode\u0026quot;: \u0026quot;1238\u0026quot;, \u0026quot;ServiceEditionCode\u0026quot;: 3, \u0026quot;Action\u0026quot;: \u0026quot;Read\u0026quot;, \u0026quot;RightSourceType\u0026quot;: \u0026quot;RoleTypeRights\u0026quot;, \u0026quot;IsDelegatable\u0026quot;: false }, { \u0026quot;RightID\u0026quot;: 10481822, \u0026quot;RightType\u0026quot;: \u0026quot;Service\u0026quot;, \u0026quot;ServiceCode\u0026quot;: \u0026quot;1051\u0026quot;, \u0026quot;ServiceEditionCode\u0026quot;: 140619, \u0026quot;Action\u0026quot;: \u0026quot;Read\u0026quot;, \u0026quot;RightSourceType\u0026quot;: \u0026quot;RoleTypeRights\u0026quot;, \u0026quot;IsDelegatable\u0026quot;: true }, { \u0026quot;RightID\u0026quot;: 10481823, \u0026quot;RightType\u0026quot;: \u0026quot;Service\u0026quot;, \u0026quot;ServiceCode\u0026quot;: \u0026quot;1051\u0026quot;, \u0026quot;ServiceEditionCode\u0026quot;: 140619, \u0026quot;Action\u0026quot;: \u0026quot;Write\u0026quot;, \u0026quot;RightSourceType\u0026quot;: \u0026quot;RoleTypeRights\u0026quot;, \u0026quot;IsDelegatable\u0026quot;: true }, { \u0026quot;RightID\u0026quot;: 10481824, \u0026quot;RightType\u0026quot;: \u0026quot;Service\u0026quot;, \u0026quot;ServiceCode\u0026quot;: \u0026quot;1051\u0026quot;, \u0026quot;ServiceEditionCode\u0026quot;: 140619, \u0026quot;Action\u0026quot;: \u0026quot;ArchiveRead\u0026quot;, \u0026quot;RightSourceType\u0026quot;: \u0026quot;RoleTypeRights\u0026quot;, \u0026quot;IsDelegatable\u0026quot;: true }, { \u0026quot;RightID\u0026quot;: 10481825, \u0026quot;RightType\u0026quot;: \u0026quot;Service\u0026quot;, \u0026quot;ServiceCode\u0026quot;: \u0026quot;1051\u0026quot;, \u0026quot;ServiceEditionCode\u0026quot;: 140619, \u0026quot;Action\u0026quot;: \u0026quot;ArchiveDelete\u0026quot;, \u0026quot;RightSourceType\u0026quot;: \u0026quot;RoleTypeRights\u0026quot;, \u0026quot;IsDelegatable\u0026quot;: true }, { \u0026quot;RightID\u0026quot;: 10481843, \u0026quot;RightType\u0026quot;: \u0026quot;Service\u0026quot;, \u0026quot;ServiceCode\u0026quot;: \u0026quot;1051\u0026quot;, \u0026quot;ServiceEditionCode\u0026quot;: 140619, \u0026quot;Action\u0026quot;: \u0026quot;Sign\u0026quot;, \u0026quot;RightSourceType\u0026quot;: \u0026quot;RoleTypeRights\u0026quot;, \u0026quot;IsDelegatable\u0026quot;: true } ] } }  Slette tildelte roller Sletter en rolle for {who} (r{id} fra api/reportees, organisasjonsnummer eller brukernavn) ved hjelp av roleid fra GET.\nSe beskrivelse på altinn.no/api/help.\nDELETE https://www.altinn.no/api/{who}/authorization/roles/{rolleid} HTTP/1.1 Host: www.altinn.no ApiKey: myKey  Returnerer tom respons og statuskode/-melding.\nSlette tildelte rettigheter Sletter en rettighet for {who} (r{id} fra api/reportees, organisasjonsnummer eller brukernavn) ved hjelp av rightid fra GET rights.\nSe beskrivelse på altinn.no/api/help.\nDELETE https://www.altinn.no/api/{who}/authorization/rights/{rettighetsid} HTTP/1.1 Host: www.altinn.no ApiKey: myKey  Returnerer tom respons og statuskode/-melding.\n"
},
{
	"uri": "https://altinn.github.io/docs/guides/samtykke/",
	"title": "Samtykke",
	"tags": [],
	"description": "Dokumentasjon for samtykkeløsningen i Altinn",
	"content": " Samtykkeløsningen i Altinn gjør det mulig at sluttbruker kan samtykke til at data om dem kan deles mellom en datakilde (tjenesteeier) og en datakonsument (den som trenger data). Samtykke betyr i denne sammenhengen at brukeren gir en tredjepart midlertidig innsynsrett på et spesifikt datasett om brukeren som ligger lagret i tjenesteeiers database.\nBruker vil kunne se hva de samtykker til å dele, hvem de deler data med, hvor lenge, og innenfor hvilken kontekst dataene skal brukes.\nOm samtykkeløsningen Gjennom samtykkeløsningen i Altinn kan brukeren gi samtykke til at en tredjepart, en datakonsument, får midlertidig innsynsrett på et spesifikt sett med opplysninger om brukeren. Dette kan for eksempel være ligningsdata fra Skatteetaten. Med brukerens samtykke vil datakonsumenten bli tildelt en tidsbegrenset lese-rettighet for en eller flere definerte ressurser representert ved tjenester i Altinn.\n  Samtykkeløsningen er etablert slik at datakilde (tjenesteier) har stor fleksibiltet i hvordan data skal tilbys til datakonsument. Data kan gå via Altinn eller utenom Altinn slik at data kan tilbys via forskjellige formater og grensesnitt. Felles for flytene er at sluttbruker blir presentert samtykkesiden i Altinn hvor sluttbruker kan velge å samtykke til tilgangen.\nHer beskrives bruk av samtykkeløsningen med dataflyt direkte mellom datakilde og datakonsument med bruk av self-contained OAuth 2.0 token utstedt av Altinn. Tokenet, som blir signert med Altinns sertifikat, inneholder all informasjon knyttet til de delegerte rettighetene og benyttes av datakonsument mot datakilde slik at datakilde kan verifisere at innholdet er pålitelig.\nMålgruppe Målgruppen for denne dokumentasjonen er datakilder og datakonsumenter som skal ta i bruk samtykkeløsningen hvor selve dataflyten skal gå direkte mellom partene og hvor Altinn benyttes til tilgangskontroll.\nBruk av \u0026ldquo;Self-contained OAuth 2.0 token\u0026rdquo; Self-contained OAuth-token betyr at tokenet i seg selv inneholder all informasjon om rettigheten(e) som er blitt delegertfra sluttbruker til datakonsumenten.\nFiguren under viser prosessen med bruk av self-contained OAuth token i et lånesøknads case hvor en bank er datakonsumenten og Skatteetaten er datakilden:\n Prosess   Steg i prosessen  Lånesøker går inn på bankens nettside for å søke om lån. Lånesøker bekrefter i søknadsprosessen at han ønsker å gi banken samtykke til å innhente ligningsopplysninger og blir sendt til Altinn for å gi samtykke. Lånesøker logger inn i Altinn og gir samtykke. Altinn registrerer samtykket og delegerer rettighet. Rettighetsdelegering er utført og det sendes en autorisasjonskode tilbake. Lånesøker sendes tilbake til siden som er angitt av banken i redirect-Url. I Url sendes autorisasjonskoden samt en status som forteller om samtykke ble gitt. Autorisasjonskoden benyttes av banken mot Altinn for å få tak i Altinn-signert self-contained OAuth token. Altinn sender signert token til banken. Banken benytter signert token mot datakilden (f.eks. Skatteetaten). Tokenet verifiseres av Skatteetaten for å sjekke at innhold stemmer med ønsket utført operasjon og data returneres til banken.  Detaljerte guider \rFor sluttbruker\r\rHvordan samtykke oppleves for sluttbruker\n\rFor datakilde\r\rUtføres av datakilde/tjenesteeier\n\rFor datakonsument\r\rUtføres av datakonsument\n\rBegrepsliste\r\rBegrepsliste samtykke\n\r"
},
{
	"uri": "https://altinn.github.io/docs/api/sluttbruker/meldinger/sende-inn/",
	"title": "Sende inn",
	"tags": [],
	"description": "Operasjoner for å sende inn meldinger",
	"content": " Sende skjema til Altinn Gjøre POST operasjoner på Message elementet i Altinn API Man kan sende inn skjema med vedlegg. Skjema er i API-et Message av type FormTask.\nGenerelt om innsendingstjenester i Altinn I Altinn er bygget inn mye funksjonalitet får å tilby brukere skjema med ulike behov og krav. Ved bruk av REST-apiet kan man opprette en skjemainstans for å få en messageid, og deretter legge til, endre eller slette underskjema og vedlegg som man ønsker.\nI Altinn kan tjenesteeier selv angi hvilke innsendingskanaler som er gyldige. REST API må derfor angis av tjenesteeier som en gyldig kanal.Metadata ressursen som lister alle produksjonsatte tjenester i Altinn vil indikere om aktuell tjeneste er tilgjengelig for innsending fra REST API.\nSkjema i Altinn er bygget på en XSD datamodell (http://en.wikipedia.org/wiki/XSD), som igjen er knyttet til en overordnet semantisk modell. Denne XSD angir de tekniske valideringene for et skjema. Andre typer valideringsregler (kalkyler, forretningsregler) kan angis som en del av utviklingen av skjema. XSD for aktuell tjeneste kan lastes ned fra metadata ressursen.\nSkjema må sees på som en payload \u0026ldquo;Blob\u0026rdquo; representert i XML, og må representeres som XML også i JSON, se eksempel under.\nPOST operasjon for innsending av skjema til arkiv Følgende request sender inn skjema med vedlegg til Arkivet i brukerens meldingsboks. Adressen til det arkiverte skjemaet vil returneres i Location respons header.\nHeader\nPOST https://www.altinn.no/api/{who}/messages HTTP/1.1 Content-Type: application/hal+json ApiKey: myKey  Body\n{ \u0026quot;Type\u0026quot;: \u0026quot;FormTask\u0026quot;, \u0026quot;ServiceCode\u0026quot;: \u0026quot;1029\u0026quot;, \u0026quot;ServiceEdition\u0026quot;: 64, \u0026quot;_embedded\u0026quot; : { \u0026quot;forms\u0026quot; : [ { \u0026quot;Type\u0026quot;: \u0026quot;MainForm\u0026quot;, \u0026quot;DataFormatId\u0026quot;: \u0026quot;1232\u0026quot;, \u0026quot;DataFormatVersion\u0026quot;: \u0026quot;10123\u0026quot;, \u0026quot;FormData\u0026quot;: \u0026quot;\u0026lt;Skjema\u0026gt;...\u0026lt;/Skjema\u0026gt;\u0026quot; } ], \u0026quot;attachments\u0026quot; : [ { \u0026quot;FileName\u0026quot;: \u0026quot;string example 43\u0026quot;, \u0026quot;AttachmentType\u0026quot;: \u0026quot;string example 43\u0026quot;, \u0026quot;Data\u0026quot;: \u0026quot;base64 encoded\u0026quot; } ] } }  POST operasjon for innsending av skjema til arbeidslisten (mellomlagring) Det er også mulig å sende inn skjema til arbeidslisten i Altinn. Da vil skjema få status \u0026ldquo;Utfylling\u0026rdquo;. Skjema kan så fylles ut ferdig i Altinn portal eller fullføres med ny PUT operasjon på meldingen. At skjemaet skal få status \u0026lsquo;Utfylling\u0026rsquo; angis ved å inkludere URL-parameter complete=false. Adressen til skjemaet i arbeidslisten returneres i Location respons header.\nHeader\nPOST https://www.altinn.no/api/{who}/messages?complete=false HTTP/1.1 Content-Type: application/hal+json ApiKey: myKey  Body\n{ \u0026quot;Type\u0026quot;: \u0026quot;FormTask\u0026quot;, \u0026quot;ServiceCode\u0026quot;: \u0026quot;123\u0026quot;, \u0026quot;ServiceEdition\u0026quot;: 64, \u0026quot;_embedded\u0026quot; : { \u0026quot;forms\u0026quot; : [{ \u0026quot;Type\u0026quot;: \u0026quot;MainForm\u0026quot;, \u0026quot;DataFormatId\u0026quot;: \u0026quot;1023\u0026quot;, \u0026quot;DataFormatVersion\u0026quot;: \u0026quot;1\u0026quot;, \u0026quot;FormData\u0026quot;: \u0026quot;\u0026lt;Skjema\u0026gt;...\u0026lt;/Skjema\u0026gt;\u0026quot; }], \u0026quot;attachments\u0026quot; : [{ \u0026quot;FileName\u0026quot;: \u0026quot;string example 43\u0026quot;, \u0026quot;AttachmentType\u0026quot;: \u0026quot;string example 43\u0026quot;, \u0026quot;Data\u0026quot;: \u0026quot;base64 encoded\u0026quot; }] } }  POST operasjon for å opprette preutfylt skjema Det er også mulig å sende tom payload for å opprette et tomt skjema med preutfylling. Da vil skjema bli opprette med data satt av tjenesteeier. Skjemaet vil få status \u0026ldquo;Utfylling\u0026rdquo;, og kan så fylles ut ferdig i Altinn portal eller fullføres med ny PUT operasjon. Den samme operasjonen kan gjenbrukes på underskjema.\nHeader\nPOST https://www.altinn.no/api/{who}/messages?complete=false HTTP/1.1 Content-Type: application/hal+json ApiKey: myKey  Body\n{ \u0026quot;Type\u0026quot;: \u0026quot;FormTask\u0026quot;, \u0026quot;ServiceCode\u0026quot;: \u0026quot;123\u0026quot;, \u0026quot;ServiceEdition\u0026quot;: 64, \u0026quot;_embedded\u0026quot; : { } }  POST-operasjon for å legge til underskjema til en aktiv skjema-instans For innsendingstjenester som har er definert med hovedskjema og underskjema kan man legge til underskjema etter at instansen er opprettet. Id-en til skjemaet returneres i location response header.\nHeader\nPOST https://www.altinn.no/api/{who}/messages/{messageid}/forms HTTP/1.1 Content-Type: application/hal+json ApiKey: myKey  Body\n{ \u0026quot;Type\u0026quot;: \u0026quot;SubForm\u0026quot;, \u0026quot;DataFormatId\u0026quot;: \u0026quot;string example 36\u0026quot;, \u0026quot;DataFormatVersion\u0026quot;: \u0026quot;string example 38\u0026quot;, \u0026quot;FormData\u0026quot;: \u0026quot;\u0026lt;Skjema xmlns:xsi=\\\u0026quot;http://www.w3.org/2001/XMLSchema-instance\\\u0026quot;...\u0026gt;...\u0026lt;/Skjema\u0026gt;\u0026quot; }  PUT-operasjon for å endre et eksisterende underskjema For innsendingstjenester som har er definert med hovedskjema og underskjema kan man legge til underskjema etter at instansen er opprettet. Id-en til skjemaet returneres i location response header.\nHeader\nPUT https://www.altinn.no/api/my/messages/{messageid}/forms/{formid} HTTP/1.1 Content-Type: application/hal+json ApiKey: myKey  Body\n{ \u0026quot;Type\u0026quot;: \u0026quot;SubForm\u0026quot;, \u0026quot;DataFormatId\u0026quot;: \u0026quot;string example 36\u0026quot;, \u0026quot;DataFormatVersion\u0026quot;: \u0026quot;string example 38\u0026quot;, \u0026quot;FormData\u0026quot;: \u0026quot;\u0026lt;Skjema xmlns:xsi=\\\u0026quot;http://www.w3.org/2001/XMLSchema-instance\\\u0026quot;...\u0026gt;...\u0026lt;/Skjema\u0026gt;\u0026quot; }  POST operasjon for innsending av skjema til signering Det er også mulig å sende inn skjema til signering i Altinn. Da vil skjema få status \u0026ldquo;Signering\u0026rdquo;. Skjema kan så signeres i Altinn portal eller fullføres med ny PUT operasjon på meldingen. At skjemaet skal få status \u0026lsquo;Signering\u0026rsquo; angis ved å inkludere URL-parameter Sign=false. Adressen til skjemaet i arbeidslisten returneres i Location respons header.\nHeader\nPOST https://www.altinn.no/api/{who}/messages?sign=false HTTP/1.1 Content-Type: application/hal+json ApiKey: myKey  Body\n{ \u0026quot;Type\u0026quot;: \u0026quot;FormTask\u0026quot;, \u0026quot;ServiceCode\u0026quot;: \u0026quot;123\u0026quot;, \u0026quot;ServiceEdition\u0026quot;: 64, \u0026quot;_embedded\u0026quot; : { \u0026quot;forms\u0026quot; : [{ \u0026quot;Type\u0026quot;: \u0026quot;MainForm\u0026quot;, \u0026quot;DataFormatId\u0026quot;: \u0026quot;1023\u0026quot;, \u0026quot;DataFormatVersion\u0026quot;: \u0026quot;1\u0026quot;, \u0026quot;FormData\u0026quot;: \u0026quot;\u0026lt;Skjema\u0026gt;...\u0026lt;/Skjema\u0026gt;\u0026quot; }], \u0026quot;attachments\u0026quot; : [{ \u0026quot;FileName\u0026quot;: \u0026quot;string example 43\u0026quot;, \u0026quot;AttachmentType\u0026quot;: \u0026quot;string example 43\u0026quot;, \u0026quot;Data\u0026quot;: \u0026quot;base64 encoded\u0026quot; }] } }  Oppdatere Gjøre PUT operasjoner på Message element i Altinn API. Det er mulig å oppdatere skjema med vedlegg som ligger i arbeidslisten til brukeren.\nOppdatering utføres ved å gjøre PUT operasjoner på den enkelte message som skal oppdateres. Alle skjema og vedlegg må inkluderes i hver oppdatering, da tidligere data på message vil overskrives.\nFølgende URL parametere styrer hva som utføres på skjemaet etter oppdatering:\n complete = [true|false] sign = [true|false]  Defaultverdi for complete og sign er true, så om ingen av parameterne er satt til false vil skjemaet signeres og arkiveres etter oppdatering. complete=false vil sette status \u0026ldquo;Utfylling\u0026rdquo; etter oppdatering, mens sign=false sender skjema til signering etter oppdatering.\nHeader\nPUT https://www.altinn.no/api/{who}/messages/{messageid} HTTP/1.1 Content-Type: application/hal+json ApiKey: myKey  Body\n{ \u0026quot;Type\u0026quot;: \u0026quot;FormTask\u0026quot;, \u0026quot;ServiceCode\u0026quot;: \u0026quot;123\u0026quot;, \u0026quot;ServiceEdition\u0026quot;: 64, \u0026quot;_embedded\u0026quot; : { \u0026quot;forms\u0026quot; : [{ \u0026quot;Type\u0026quot;: \u0026quot;MainForm\u0026quot;, \u0026quot;DataFormatId\u0026quot;: \u0026quot;1023\u0026quot;, \u0026quot;DataFormatVersion\u0026quot;: \u0026quot;1\u0026quot;, \u0026quot;FormData\u0026quot;: \u0026quot;\u0026lt;Skjema\u0026gt;...\u0026lt;/Skjema\u0026gt;\u0026quot; }], \u0026quot;attachments\u0026quot; : [{ \u0026quot;FileName\u0026quot;: \u0026quot;string example 43\u0026quot;, \u0026quot;AttachmentType\u0026quot;: \u0026quot;string example 43\u0026quot;, \u0026quot;Data\u0026quot;: \u0026quot;base64 encoded\u0026quot; }] } }  Vedleggstyper Hva slags vedlegg man kan legge til en tjeneste kan være begrenset av regler definert på tjenesten i Altinn. Disse finner man ved å bruke metadata-ressursen i api-et.\nLegge til vedlegg For å legge til mindre vedlegg til en aktiv skjemainstans kan man poste base64-encodet data direkte mot attachments. Vedleggs-id returneres i location header på responsen.\nHeader\nPOST https://www.altinn.no/api/{who}/messages/{messageid}/attachments/?language={languageid} HTTP/1.1 Content-Type: application/hal+json ApiKey: myKey  Body\n{ \u0026quot;FileName\u0026quot;: \u0026quot;string example 43\u0026quot;, \u0026quot;AttachmentType\u0026quot;: \u0026quot;string example 43\u0026quot;, \u0026quot;Data\u0026quot;: \u0026quot;base64 encoded payload\u0026quot; }  Legge til vedlegg med streaming For å legge til større vedlegg til en aktiv skjemainstans kan man bruke en streamingvariant mot attachment der requestbody er en binær strøm. Vedleggs-id returneres i location header på responsen.\nHeader\nPOST https://www.altinn.no/api/{who}/messages/{messageId}/attachments/streamedattachment?fileName={fileName}\u0026amp;attachmentType={attachmentType}\u0026amp;language={language} HTTP/1.1 Content-Type: application/hal+json ApiKey: myKey  "
},
{
	"uri": "https://altinn.github.io/docs/api/sluttbruker/meldinger/signere/",
	"title": "Signere",
	"tags": [],
	"description": "Operasjon for signere meldinger",
	"content": " Signering utføres med PUT operasjoner på Message elementet i Altinn API Skjema med vedlegg kan signeres samlet og det er mulig å signere enkelte skjema/vedlegg enkeltvis.\nPUT operasjon for signering av skjema med status signering Følgende request signerer det aktuelle skjemaet og skjemaet blir lagret i Arkivet i brukerens meldingsboks. Adressen til det signerte og arkiverte skjemaet vil returneres i Location respons header.\nHeader\nPUT https://www.altinn.no/api/{who}/messages/{messageid}?complete=true\u0026amp;sign=true HTTP/1.1 Content-Type: application/hal+json ApiKey: myKey  Body\n{ \u0026quot;Type\u0026quot;: \u0026quot;FormTask\u0026quot;, \u0026quot;ServiceCode\u0026quot;: \u0026quot;1029\u0026quot;, \u0026quot;ServiceEdition\u0026quot;: 64 }  PUT operasjon for signering av enkelte skjema i skjemasett og enkelte vedlegg Det er også mulig å kun signere enkelte skjema i et skjemasett og kun enkelte av vedleggene. Parameteren signinglocked angir om skjemaet/vedlegget må signeres. Dersom signinglocked=true må det aktuelle skjemaet/vedlegget signeres, signinglocked=false angir at signering er valgfritt. Hvilke skjema og vedlegg som skal signeres angis i SignatureSpec. Id for aktuelt skjema og Attachments må hentes fra message-ressursen før signering og angis i PUT operasjonen.\nHeader\nPUT https://www.altinn.no/api/{who}/messages/{messageid}?complete=true\u0026amp;sign=true HTTP/1.1 Content-Type: application/hal+json ApiKey: myKey  Body\n{ \u0026quot;Type\u0026quot;: \u0026quot;FormTask\u0026quot;, \u0026quot;ServiceCode\u0026quot;: \u0026quot;123\u0026quot;, \u0026quot;ServiceEdition\u0026quot;: 64, \u0026quot;_embedded\u0026quot; : { \u0026quot;SignatureSpec\u0026quot;: { \u0026quot;FormIds\u0026quot;: [12121,1232], \u0026quot;AttachmentIds\u0026quot;: [1123,1123] } } }  Get operasjon for å hente signeringstekst Signeringsteksten spesifisert for signerinssteget skal presenters for brukeren før signering. Teksten kan lastes ned ved å følge lenken signingtest\nHeader\nGET https://www.altinn.no/api/{who}/messages/{messageid}/signingtext HTTP/1.1 Accept: application/hal+json ApiKey: myKey  "
},
{
	"uri": "https://altinn.github.io/docs/api/sluttbruker/meldinger/slette/",
	"title": "Slette",
	"tags": [],
	"description": "Operasjoner for å slette meldinger, underskjema og vedlegg",
	"content": " Sletting utføres med DELETE operasjoner på Message elementet i Altinn Følgende request sletter den aktuelle meldingen eller skjema. Når slettingen er utført returneres HTTP 204 - No Content.\nSletting av meldinger av typen correspondence sendt til organisasjoner er ikke mulig, verken i api-ene eller portal.\nHeader\nDELETE https://www.altinn.no/api/{who}/messages/{messageid} HTTP/1.1 Content-Type: application/hal+json ApiKey: myKey  Slette vedlegg på en aktiv skjemainstans Følgende request sletter det angitte vedlegget på en aktiv skjemainstans.\nHeader\nDELETE https://www.altinn.no/api/{who}/messages/{messageid}/attachments/{attachmentid} HTTP/1.1 Content-Type: application/hal+json ApiKey: myKey  Når slettingen er utført returneres HTTP 204 - No Content.\nDELETE-operasjon for å slette et eksisterende underskjema Følgende request sletter det angitte underskjemaet på en aktiv skjemainstans.\nHeader\nDELETE https://www.altinn.no/api/{who}/messages/{messageid}/forms/{formid} HTTP/1.1 Content-Type: application/hal+json ApiKey: myKey  Når slettingen er utført returneres HTTP 204 - No Content.\n"
},
{
	"uri": "https://altinn.github.io/docs/api/sluttbruker/",
	"title": "Sluttbrukere",
	"tags": [],
	"description": "Dokumentasjon for sluttbrukerdelen av Altinns REST-api",
	"content": "Altinn tilbyr et REST-API med autentisering via ID-porten, brukernavn og passord eller virksomhetssertifikat som gjør det mulig å bruke tjenestene i Altinn i en app eller ekstern nettside.\nPå disse sidene finner du praktisk informasjon om hvordan API-et kan tas i bruk. Altinn API-et er enkelt og gratis å bruke.\nTeknisk dokumentasjon av API\u0026rsquo;et for sluttbrukere.\n\rAltinn API-et er ikke en ny tjeneste eller funksjonalitet - det er et nytt grensesnitt mellom brukerne og komponentene som allerede finnes i Altinn.\nDette grensesnittet muliggjør å bruke Altinn-innhold i for eksempel smartphone-apps og andre nettportaler enn altinn.no.\nFor å komme i gang med å bruke API-et må du først registrere løsningen din hos Altinn.\n\rKom i gang!\r\rDenne guiden vil hjelpe deg med å komme igang med bruk av Altinns REST API.\n\rAutentisering\r\rFor å få tilgang til Altinn API-et må brukeren først autentisere seg. Altinn API støtter tre ulike autentiseringsmetoder.\n\rAutorisasjon\r\rFor å få tilgang til Altinn API-et må brukeren være autorisert.\n\rInnsynstjenester\r\rOppslag i datakilder som ligger utenfor Altinn\n\rMeldinger\r\rOperasjoner relatert til meldinger\n\rDiverse\r\rForskjellige andre ting man kan benytte API\u0026#39;et til.\n\r"
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/support/",
	"title": "Support",
	"tags": [],
	"description": "Består av generelle tjenester som veiledning, kurs, support og rapportering fra Altinn Sentralforvaltning mot Tjenesteeiere, Sluttbrukere, Sluttbrukersystemer og andre samarbeidspartnere i markedet. ",
	"content": "Består av generelle tjenester som veiledning, kurs, support og rapportering fra Altinn Sentralforvaltning mot Tjenesteeiere, Sluttbrukere, Sluttbrukersystemer og andre samarbeidspartnere i markedet.\n\rBrukersupport\r\rAltinn Brukerservice tilbyr veiledningstjenster omkring spørsmål som gjelder innlogging, hvordan finne fram til riktig tjeneste, forståelse av felles funksjonalitet og teknisk veiledning til skjemautfylling, innsending, signering og mye mer.\n\rKurs og seminar\r\rAltinn Sentralforvaltning har som krav at alle som skal utvikle tjenester mot Altinn, må gjennomføre grunnkurs i tjenesteutvikling.\n\rOperativ veiledning\r\rAltinn Sentralforvaltning tilbyr rådgivning og veiledning for å kunne supportere tjenesteiere, sluttbrukersystemer og sluttbrukere.\n\rRammeavtale konsulentbistand\r\rBrønnøysundregistrene har inngått rammeavtaler på konsulentbistand for tjenesteutvikling i Altinn, som tjenesteeierne kan benytte seg av.\n\rSluttbrukersystem\r\rAltinn tilbyr støtte for åpne grensesnitt, og har helt siden starten i 2003 jobbet for størst mulig grad av integrasjon mot datasystemene som brukes i næringslivet og blant de profesjonelle brukerne.\n\rStatistikk og rapporter\r\rAltinn leverer ulike statistikker og rapporter til Tjenesteeiere.\n\r"
},
{
	"uri": "https://altinn.github.io/docs/api/tjenesteeier/",
	"title": "Tjenesteeiere",
	"tags": [],
	"description": "Dokumentasjon for tjenesteeierdelen av Altinns REST-apier",
	"content": "Altinns REST-api for tjenesteeiere er bare tilgjengelig med bruk av virksomhetssertifikat og krever at man har en apinøkkel med tilgang til \u0026ldquo;serviceowner\u0026rdquo;-ressursene.\nOrganisasjonsnummeret i sertifikatet må matche det som er oppført på etaten som tjenesteeier i Altinns databaser.\nFor å trigge autentisering med virksomhetssertifikat, legger man på parameteren ?ForceEIAuthentication i URI-en.\nTeknisk dokumentasjon av API\u0026rsquo;et for tjenesteeiere.\n\r\rRegistrering\r\rHvordan registrere din applikasjon.\n\rAutorisasjon\r\rSpørringer mot Altinns autorisasjonskomponent\n\rKontaktinformasjon\r\rUthenting og søk i kontaktinformasjon for virksomheter\n\r"
},
{
	"uri": "https://altinn.github.io/docs/api/sluttbruker/autentisering/virksomhetssertifikat/",
	"title": "Virksomhetssertifikat",
	"tags": [],
	"description": "Dersom brukeren skal representere en virksomhet som har et virksomhetssertifikat, kan dette benyttes sammen med en virksomhetsbruker opprettet på Altinn.no til å autentisere seg mot Altinns REST-api.",
	"content": " For å kunne tilby en autentiseringsmekanisme uten personlig bruker/pin-koder, tilbyr Altinns REST-api støtte for bruk av virksomhetssertifikat. Autentiseringen gir sikkerhetsnivå 3 og kan brukes mot alle API-ets ressurser på vegne av organisasjonen sertifikatet tilhører og andre som organisasjonen har rettigheter på vegne av.\nDersom man utvikler en ekstern portalløsning der brukerne er innlogget med f.eks. ID-porten, kan IKKE sertifikatet brukes til å sende inn på vegne av disse. Virksomhetssertifikatet er en maskin-til-maskin-integrasjon på vegne av innehaverorganisasjon og andre den har rettigheter for, og må ikke forveksles med en mulighet til backend-integrasjon mot Altinn på vegne av brukere på ekstern portal.\n1. Sette opp virksomhetsbruker Etter at man har installert sertifikat fra utsteder, må man registrere sertifikatet i Altinn og opprette en såkalt virksomhetsbruker. Dette er beskrevet her.\n2. Tildele roller og rettigheter Når man logger inn med en virksomhetsbruker første gang, har ikke denne tilstrekkelig med roller og rettigheter for en organisasjon til å kunne verken se aktive skjema eller sende inn nye før roller/rettigheter har blitt delegert.\n3. Autentisere seg mot Altinn API Send følgende POST-request mot APIet med brukernavn/passord for virksomhetsbruker opprettet i 1.\nPOST https://www.altinn.no/api/authentication/authenticatewithpassword?ForceEIAuthentication HTTP/1.1 Host: www.altinn.no Content-Type: application/hal+json ApiKey: myKey { \u0026quot;UserName\u0026quot;: \u0026quot;MyUsername\u0026quot;, \u0026quot;UserPassword\u0026quot;: \u0026quot;MyPassword\u0026quot; }  Dersom requesten genereres fra ekstern webside, vil brukeren få beskjed om å velge sertifikat av nettleser (trigges av parameteren ?ForceEIAuthentication).\nVed programmatisk bruk fra f.eks. Java eller .NET legger man ved sertifikatet i HttpRequest.ClientCertificates.\nEksempelkode ligger her.\nNår man autentiserer seg mot REST-apiet ved hjelp av sertifikat, bruker man hele sertifikatet (eks .p12) - ikke .cer som man eksporterer for å opprette virksomhetsbruker i portal.\n"
},
{
	"uri": "https://altinn.github.io/docs/guides/samtykke/datakonsument/be-om-samtykke/",
	"title": "Be om samtykke",
	"tags": [],
	"description": "Hvordan sende sluttbruker til samtykkesiden i Altinn",
	"content": " Sende sluttbruker til samtykkesiden Datakonsument må sende sluttbruker til samtykkesiden med en parameter som sier at den ønsker en autorisasjonskode tilbake etter at samtykke er gitt. Autorisasjonskoden benyttes til å hente token, som er nøkkelen som datakonsumenten benytter for å få tilgang til data hos datakilden. Når låntaker for eksempel underveis i en søknadsprosess har angitt at han ønsker å gi samtykke til at opplysninger om han kan innhentes så må datakonsumenten sende brukeren til samtykkesiden i Altinn.\nNedenfor er et eksempel på URL til samtykkeside i produksjonsmiljøet i Altinn. Dette er bare et eksempel som viser oppbyggingen. URL må tilpasses tjenesten som skal benyttes. Skal samtykkesiden vises på f.eks. engelsk må parametre som DelegationContext og eventuelle metadata være på engelsk og verdi for engelsk må legges i LanguageCode.\nURL https://www.altinn.no/ui/AccessConsent/?Resources=4629_2.4630_2\u0026amp;CoveredBy=910514458\u0026amp;RedirectUrl=https://www.altinn.no\u0026amp;ValidToDate=2019-09-30%2010:30:00\u0026amp;LanguageCode=nb-NO\u0026amp;DelegationContext=Ved%20%C3%A5%20samtykke,%20gir%20du%20Skatteetaten%20rett%20til%20%C3%A5%20utlevere%20opplysninger%20om%20deg%20direkte%20til%20Banken%20AS.%20Banken%20f%C3%A5r%20opplysningene%20for%20%C3%A5%20behandle%20s%C3%B8knaden%20din%20om%20finansiering.\u0026amp;ResponseType=code\u0026amp;4629_2_inntektsaar=2016\u0026amp;4630_2_fraOgMed=2017-06\u0026amp;4630_2_tilOgMed=2017-08\nForklaring til parameterne i url:\n   Parameter Format Obligatorisk/valgfri Beskrivelse     Resources xxxx_x Obligatorisk Tjenestekode og tjenesteutgavekode på tjenesten som datakilde har definert som samtykketjeneste. Kan også være flere tjenester dersom det skal samtykkes til å dele data fra flere datasett hos en eller flere datakilder. Tjenestekode og tjenesteutgavekode separeres med underscore og ved bruk av flere tjenester separeres disse med punktum (eks. Resources=4629_2.4630_1) Kodene må man få hos datakilde   CoveredBy organisasjonsnummer Obligatorisk Organisasjonsnummeret til datakonsument.\nPå samtykkesiden er det navnet som er knyttet til organisasjonsnummeret som presenteres.   RedirectUrl gyldig url Obligatorisk Url som sluttbruker blir sendt tilbake til etter å ha samtykket/ikke samtykket til innsyn i data   ValidToDate YYYY-MM-DD hh:mm:ss Obligatorisk Dato og tidspunkt for når samtykket opphører   LanguageCode en\nnb-NO\nnn-NO Valgfri Angir hvilket språk sluttbruker skal få opp samtykkesiden på. Kan velge mellom engelsk (en), bokmål (nb-NO) og nynorsk (nn-NO). Sendes ikke språkkode med kommer samtykkesiden opp på språket som er satt av bruker i profilen i Altinn   DelegationContext tekst Obligatorisk Beskrivelse fra datakonsument på hva som er formålet med samtykket. Det kan hende at det finnes føringer fra datakilde på utformingen av denne teksten. Sjekk med datakilde.   ResponseType code Obligatorisk Vil alltid være «code». Angir at man skal ha en autorisasjonskode i retur som skal benyttes for å hente token   Metadata tjenestekode_tjenesteutgavekode\n_parameternavn=verdi Valgfri For å gi ekstra metadata kan det defineres en eller flere samtykkeparameter som generelt er valgfri men kan påtvinges av utformingen av samtykketeksten som er definert av datakilde (eks. 4629_2_inntektsaar=2016)    I figuren nedenfor kan man se sammenhengen mellom det som ligger i url og det som presenteres for sluttbrukeren på samtykkesiden.\n Sammenheng mellom opplysninger i url og samtykkesiden   Autorisasjonskode Når sluttbruker har fått opp samtykkesiden og gitt samtykke vil han sendes tilbake til siden som er angitt i RedirectUrl.\nI denne url vil det sendes med autorisasjonskode og status.\nEksempel på url hvor status er OK:\nhttps://www.eksempel.no/?AuthorizationCode=0435d832-193b-4a13-a6d1-d172c18e18c7\u0026amp;Status=OK  Eksempel på url hvor sluttbruker har valgt å trykke på knappen for \u0026ldquo;Nei, jeg vil ikke gi samtykke\u0026rdquo;:\nhttps://www.eksempel.no/?Status=Failed\u0026amp;ErrorMessage=User%2520did%2520not%2520give%2520consent  "
},
{
	"uri": "https://altinn.github.io/docs/api/sluttbruker/diverse/",
	"title": "Diverse",
	"tags": [],
	"description": "Forskjellige andre ting man kan benytte API&#39;et til.",
	"content": "\r\rProfil\r\rAltinn API tilbyr tilgang til profil-data.\n\rMetadata\r\rAltinn API tilbyr en ressurs som gir tilgang til metadata for tjenester tilgjengelige i Altinn.\n\rSamtykke\r\rAltinns REST-funksjonalitet for samtykke\n\rFormidling\r\rAltinns REST-funksjonalitet for formidlingstjenester\n\rBetaling\r\rAltinns REST-funksjonalitet for betalingssteg\n\rReferanse-app\r\rAltinn har tilgjengeliggjort referansekode for å gjøre det enklere å lage applikasjoner med Altinn-funksjonalitet.\n\r"
},
{
	"uri": "https://altinn.github.io/docs/api/sluttbruker/diverse/samtykke/",
	"title": "Samtykke",
	"tags": [],
	"description": "Altinns REST-funksjonalitet for samtykke",
	"content": " En mer utfyllende beskrivelse av samtykke kommer etter hvert under Guider.\nUtveksle authorization code \u0026lsquo;{authcode}\u0026rsquo; i Json Web Token Denne ressursen krever ikke noen sesjon i Altinn, men apikey og authcode må være utstedt til samme organisasjonsnummer. Authorization code er en guid som sendes med som URL-parameter når brukeren returnerer til nettsiden der man ba om samtykke.\nGET https://www.altinn.no/api/authorization/token?authCode={authCode} ApiKey: myKey Accept: application/hal+json  Eksempelrespons:\neyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6IkthUGxpMFJUdVVUcl9yUXJWSmhzQkNXQS0yayJ9.eyJTZXJ2aWNlQ29kZXMiOiI0NjI5LDEiLCJBdX Rob3JpemF0aW9uQ29kZSI6IjQ2N2M3MGRhLWY3MDMtNGM5My1hODY0LTYwNDVkMzNjNWEwYSIsIk9mZmVyZWRCeSI6IjA2MTE3NzAxNTQ3Iiw iQ292ZXJlZEJ5IjoiOTEwNTE0NDU4IiwiRGVsZWdhdGVkRGF0ZSI6IjI0LjExLjIwMTYgMTM6MjM6NTYiLCJWYWxpZFRvRGF0ZSI6IjA1LjAxLjIwMTcg MTA6MzA6MDAiLCJpc3MiOiJhbHRpbm4ubm8iLCJleHAiOjE0Nzk5OTAzMTYsIm5iZiI6MTQ3OTk5MDI4Nn0.OygB9BmEzo2WPF3qUYUcAka0Nm339VW f94MAGPZ8u1bjNAaDAs2dsw0qruA-BJuPxeuHtASmyuBTTdCPGV_tL17LlmcMvlJ1lS1-CWjuw6a_dHlMCFx8oI3Vsu1gahlFxoCNQNUIuYD5ZLYZa8wwmD OpI2kwlZcz5tiLkOr6L0Sw3HPzlYS8wF03yPngYysf82OemqMa9OFXoHgKNszA756fqGzg5wHm9qOTUYVCf3I89CAfOUIv8D2YBiNGA5wgAeYW3YetatHiK SrvRqh9_D7Q2XHIYA397tiSYKeqq0KPNpIAXYBqkLNkg6216tdzRMNMpQK7208BfPRkzG45hg  Les mer om json web tokens her.\nLogge at samtykke er brukt til å hente data (kommer k4 2017) Denne operasjonen kalles etter man har hentet data fra datakilde ved hjelp av samtykke. Dersom samtykket er definert som \u0026ldquo;engangs\u0026rdquo; vil samtykkedelegeringen bli slettet i Altinn. Informasjonen fra loggeoperasjonen blir synlig for brukeren på altinn.no.\nGET ApiKey: myKey Accept: application/hal+json  Eksempelrespons:\n "
},
{
	"uri": "https://altinn.github.io/docs/altinncore/status/",
	"title": "Status",
	"tags": [],
	"description": "Status på arbeidet med 3.0.",
	"content": "Dette er siste overordnede status for utviklingen av tjenester 3.0.\nStatus vil oppdateres etter hvert som ny informasjon er tilgjengelig.\nArbeid med konsepter, arkitektur og veivalg (2015-2016) Teknisk PoC utviklet for å verifisere konsepter og veivalg (april-juni 2016) Presentere PoC og konsepter for tjenesteutviklere og arkitekter for å få feedback (juni-september 2016) Presentasjon og demo på servicelederseminar med tjenesteeierne (14. september 2016) Levert satsingsforslag for 2018, tjenester 3.0 sentral del av satsing (november 2016) Altinndagen 2016, der presentasjon om satsingsområde \u0026ldquo;Brukerorientering\u0026rdquo; viste hvordan en fremtidig tjeneste kan fungere (28. november 2016) Tjenester 3.0 som produkt i Altinn produktstrategi (versjon 1.0 var ferdig 10. januar 2017, versjon 1.1 ble ferdigstilt 2. mars) Altinn Design System utvikles med målsetting om å kunne gjenbruke UI-patterns på tvers av tekniske løsninger (ferdigstilles frem mot sommeren 2017) Målbilde og arkitekturarbeid og arbeid med løsningsdesign, involvering av tjenesteeiere (høsten 2017) Utvikle en begrenset alpha slik at man kan lage enkle tjenester. Starte Enkeltpersonforetak brukes som case (utvikling tentativt sommeren 2017, alpha tilgjengelig tidligst vinteren 2017-2018) Avklaringer finansiering satsingsforslag for 2018, tjenester 3.0 sentral del av satsing (oktober 2017)  "
},
{
	"uri": "https://altinn.github.io/docs/api/sluttbruker/diverse/formidling/",
	"title": "Formidling",
	"tags": [],
	"description": "Altinns REST-funksjonalitet for formidlingstjenester",
	"content": " Per nå er det bare uthenting av filer lastet opp på formidlingstjenesten som er tilgjengelig via REST.\nEn mer utfyllende beskrivelse av formidlingstjenester i Altinn kommer etter hvert under Guider.\nLaste ned filer fra formidlingstjeneste GET https://www.altinn.no/api/{who]/brokerservice/files/{filereference} ApiKey: myKey Accept: application/hal+json  Eksempelrespons:\n "
},
{
	"uri": "https://altinn.github.io/docs/guides/samtykke/datakonsument/hente-token/",
	"title": "Hente token",
	"tags": [],
	"description": "Hvordan veksle inn autorisasjonskode i token",
	"content": " Veksle inn autorisasjonskode i token Autorisasjonskoden som datakonsument mottar fra Altinn når sluttbruker har samtykket benyttes til å hente token. Altinn plattformen støtter at man kan veksle inn autorisasjonskoden via REST med ApiKey. Det krever at man har ApiKey som er registrert på organisasjonsnummer som matcher mottaker av samtykke. Bestilling av nye nøkler, eller oppdatering av eksisterende, gjøres ved henvendelse til servicedesk@altinn.no.\nTokenet som returneres vil være en streng bestående av et base64-encodet Json Web Token.\nFor å hente ut token ved hjelp av autorisasjonskode over REST gjør man GET på\nhttps://www.altinn.no/api/authorization/token?authcode={AuthorizationCode}\nmed header ApiKey: {apikey}\nEksempel på response (encoded token):\neyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6IkthUGxpMFJUdVVUcl9yUXJWSmhzQkNXQS0yayJ9.eyJTZXJ2aWNlQ29kZXMiOi I0NjI5LDEiLCJBdXRob3JpemF0aW9uQ29kZSI6ImY0NTQ5NDNlLTNiNTctNGI0YS1iYjRjLTNkZjY0YTgwMmQ4NyIsIk9mZmVyZWRCeSI6I jA2MTE3NzAxNTQ3IiwiQ292ZXJlZEJ5IjoiOTEwNTE0MzE4IiwiRGVsZWdhdGVkRGF0ZSI6IjI3LjEwLjIwMTYgMjE6MTE6MTciLCJWYWxp ZFRvRGF0ZSI6IjA1LjAxLjIwMTcgMTA6MzA6MDAiLCJpc3MiOiJhbHRpbm4ubm8iLCJleHAiOjE0Nzc1OTU1MTcsIm5iZiI6MTQ3NzU5NTQ 4N30.S9RBNazx2Ml0R93cSEf_LC5YP2UcYtFf7w6JH_OPy_MK1HhVIxA2e-5DQjPV53HmKBhlHmL3Wxz36KzIXddfz1olKLEK7Xqn61FJFL TCiReKcySRcvDtRhLtFVH8zT-VcaEEXyA9_tTUumUVKTqy9vPMDOYAhmih55uT__Ghs5UQbxDZXLJ08f-SDUq-wlcbU8TFLfBnrQBxF53Sf L3BvmjYTg_xm69mBRkGuW431fZnMiY_U3Omrd0gHniu8ri33lpEaL3ip1Lq65QC_jVzy2WHN1RdQCA5WiYGJ89GoSZL2eAtCS8d7qngsMUu zBPpcn4hDiI7MkK4RWrAc2drTw  Se her for eksempel på decoded token.\nREST-tjenesten returnerer 403 dersom authcode er ugyldig eller Apikeyen ikke har tilgang til angitt autorisasjonskode:\n403 The API key is not authorized for this operation, or the supplied authorization code is either expired or invalid.  Hente data fra datakilden ved hjelp av Altinn-signert token Når datakonsument har mottatt Altinn-signert token benyttes dette i request mot datakilden for å få tilgang til data. Formatet på hvordan denne informasjonen overføres må avtales mellom datakilde og datakonsument, og styres ikke av Altinn.\nToken har 30 sekunders varighet og datakonsument må be om nytt token når det har gått ut (benytt samme autorisasjonskode om igjen).\n"
},
{
	"uri": "https://altinn.github.io/docs/altinncore/satsingsforslag/",
	"title": "Satsingsforslag 2018",
	"tags": [],
	"description": "Kort oppsummering av satsingsforslag for 2018.",
	"content": " Oppsummering For å nå målsettingene i Regjeringens satsingsområde Konkurransekraft for norske arbeidsplasser, Digital agenda og å nå målene i Altinn-strategien, foreslås det å modernisere Felleskomponenten Altinn. Videreutvikling av Altinn legger til rette for økt realiseringstakt av helhetlige digitale offentlige sluttbrukertjenester, og muliggjør prinsippet om at informasjon til det offentlige skal leveres kun én gang. Selvbetjente verktøy for tjenesteproduksjon skal forenkle, og det skal legges bedre til rette for samhandling, innovasjon og informasjonsdeling ved bruk av Altinn.\nFormålet med tiltaket er:\n Helhetlig offentlige sluttbrukertjenester med brukeren i sentrum Informasjon til det offentlige skal leveres kun én gang  "
},
{
	"uri": "https://altinn.github.io/docs/altinncore/dev-in-code/",
	"title": "Utvikling i kode-editor",
	"tags": [],
	"description": "Hvordan 3.0 kan tilpasses med bruk av kode-editorer.",
	"content": "TODO\n"
},
{
	"uri": "https://altinn.github.io/docs/altinncore/dev-in-browser/",
	"title": "Utvikling i nettleser",
	"tags": [],
	"description": "Hvordan 3.0 kan benyttes av fagpersoner via nettleser.",
	"content": "TODO\n"
},
{
	"uri": "https://altinn.github.io/docs/altinncore/architecture/",
	"title": "Arkitektur",
	"tags": [],
	"description": "Beskrivelse av arkitekturen til 3.0.",
	"content": " Under arbeid\u0026hellip;\nGit Det distribuerte versjonskontrollsystemet Git er nå det klart mest brukte versjonskontrollsystemet for utvikling av programvare.\nDet er derfor naturlig å benytte Git også for lagring og versjonering av tjenestene som utvikles.\nHver tjeneste vil leve i et eget Git-repository, og vil inneholde en eller flere utgaver. En målsetting er å kunne la tjenesteeier velge hvor de utviklede tjenestene skal lagres, f.eks. GitHub, Team Services eller en Git-server som Altinn drifter.\nBåde tjenesteutvikling i nettleser og tjenesteutvikling i kode-editor vil jobbe mot de samme versjonskontrollerte filene, og ha fullt innsyn i de filene som en tjeneste består av.\n Git som back-end   Dokumentasjon Dokumentasjon av tjenester 3.0 vil ligge åpent tilgjengelig på GitHub slik at alle kan bidra og foreslå forbedringer.\nMarkdown vil benyttes som format både for dokumentasjon, men også for tekst-ressurser og dokumentasjon for den enkelte tjeneste som utvikles.\nÅpen kildekode, cross platform Tjenester 3.0 skal være basert på fri programvare og ikke benytte proprietær programvare.\nSe også fjerde målsetting.\nProgramvare PoC\u0026rsquo;en som er utviklet er basert på følgende programvare. Dette er ikke en uttømmende liste, og den kan endre seg.\n   Programvare Beskrivelse     .NET Core Rask, modulær og åpen plattform for moderne applikasjoner. Neste generasjon .NET.   ASP.NET Core MVC Rammeverk for å utvikle web applikasjoner og API\u0026rsquo;er   Bootstrap 4 CSS/JS rammeverk for responsive web-applikasjoner. Benyttes også av Altinn og i designsystemet.   Git Distribuert versjonskontroll-system   Monaco Editor Nettleserbasert kodeeditor, den samme som også benyttes av vs code.   Markdig Bibliotek for håndtering av markdown   Roslyn Kompilatorer og API for avansert kodeanalyse   Visual Studio Code Fantastisk cross-platform kode-editor som bare blir bedre for hver måned.    "
},
{
	"uri": "https://altinn.github.io/docs/api/sluttbruker/diverse/betaling/",
	"title": "Betaling",
	"tags": [],
	"description": "Altinns REST-funksjonalitet for betalingssteg",
	"content": " Ved bruk av Altinns REST-api kan man videresende brukeren til betalingssteget i portal på altinn.no\nFremgangsmåte  GET på elementet som skal betales (f.eks. https://www.altinn.no/api/my/messages/aXXXXX) Hente ut verdi fra link med navn payment Redirecte brukeren til linken, alternativt med parameteret returnurl for å hente brukeren tilbake til samme side etter at betaling er utført.  Domenet på returnurl må være registrert sammen med apikey for å ikke bli stoppet av CORS. \u0026ndash; Når brukeren kommer tilbake vil URL-en ha en ny parameter, kalt resource som inneholder link til elementet (etter arkivering vil elementet få nytt navn - bXXXXX) Hvis man ikke bruker returnurlvil siste respons i prosessen ha status 204 og location header inneholder URI til arkivert element.   "
},
{
	"uri": "https://altinn.github.io/docs/guides/samtykke/datakonsument/test-tjeneste/",
	"title": "Test av samtykke",
	"tags": [],
	"description": "Test av samtykketjeneste i Altinn sitt testmiljø",
	"content": " Tjenesten må testes ut i Altinn sitt testmiljø TT02: https://tt02.altinn.no\nFør man kan teste må punktene under Komme i gang være på plass.\nTeste samtykkesiden For å få brukt tjenesten og for å få opp samtykkesiden i Altinn kan man benytte URL nedenfor. (Dette er også bare et eksempel så den må tilpasses til den tjenesten, organisasjonen osv. som er aktuell for deres test.)\nhttps://tt02.altinn.no/ui/AccessConsent/?Resources=4629_2.4630_2\u0026amp;CoveredBy=910514458\u0026amp;RedirectUrl=https://www.altinn.no\u0026amp;ValidToDate=2019-09-30%2010:30:00\u0026amp;LanguageCode=nb-NO\u0026amp;DelegationContext=Ved%20%C3%A5%20samtykke,%20gir%20du%20Skatteetaten%20rett%20til%20%C3%A5%20utlevere%20opplysninger%20om%20deg%20direkte%20til%20Banken%20AS.%20Banken%20f%C3%A5r%20opplysningene%20for%20%C3%A5%20behandle%20s%C3%B8knaden%20din%20om%20finansiering.\u0026amp;ResponseType=code\u0026amp;4629_2_inntektsaar=2016\u0026amp;4630_2_fraOgMed=2017-06\u0026amp;4630_2_tilOgMed=2017-08\nNærmere beskrivelse av parametre i url finner her.\nURL fører sluttbruker til innloggingen til ID-Porten. Man må ha tilgang til en fiktiv testbruker for å logge inn.\nNår man har fått opp samtykkesiden og gitt samtykke vil testbruker sendes tilbake til siden som er angitt i RedirectUrl. I denne url vil det sendes med autorisasjonskode og status.\nEksempel på url hvor status er OK:\nhttps://www.altinn.no/?AuthorizationCode=0435d832-193b-4a13-a6d1-d172c18e18c7\u0026amp;Status=OK  Eksempel på url hvor sluttbruker har valgt å trykke på knappen for «Nei, jeg vil ikke gi samtykke»:\nhttps://www.altinn.no/?Status=Failed\u0026amp;ErrorMessage=User%2520did%2520not%2520give%2520consent  Autorisasjonskoden benyttes til å hente token signert av Altinn. Se Informasjon om token.\nTeste å veksle inn autorisasjonskode i token Altinn plattformen støtter at man kan veksle inn autorisasjonskoden via REST med ApiKey. Det krever at man har ApiKey som er registrert på organisasjonsnummer som matcher mottaker av samtykke. Ingen annen form for autentisering er nødvendig. Som nevnt gjøres bestilling av nye nøkler, eller oppdatering av eksisterende, ved henvendelse til servicedesk@altinn.no.\nTokenet som returneres vil være en streng bestående av et base64-encodet Json Web Token.\nFor å hente ut token ved hjelp av autorisasjonskode over REST gjør man GET på https://tt02.altinn.no/api/authorization/token?authcode={AuthorizationCode} med header ApiKey: {apikey}\nEksempel på response (encoded token):\neyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6IkthUGxpMFJUdVVUcl9yUXJWSmhzQkNXQS0yayJ9.eyJTZXJ2aWNlQ29kZXMiOi I0NjI5LDEiLCJBdXRob3JpemF0aW9uQ29kZSI6ImY0NTQ5NDNlLTNiNTctNGI0YS1iYjRjLTNkZjY0YTgwMmQ4NyIsIk9mZmVyZWRCeSI6I jA2MTE3NzAxNTQ3IiwiQ292ZXJlZEJ5IjoiOTEwNTE0MzE4IiwiRGVsZWdhdGVkRGF0ZSI6IjI3LjEwLjIwMTYgMjE6MTE6MTciLCJWYWxp ZFRvRGF0ZSI6IjA1LjAxLjIwMTcgMTA6MzA6MDAiLCJpc3MiOiJhbHRpbm4ubm8iLCJleHAiOjE0Nzc1OTU1MTcsIm5iZiI6MTQ3NzU5NTQ 4N30.S9RBNazx2Ml0R93cSEf_LC5YP2UcYtFf7w6JH_OPy_MK1HhVIxA2e-5DQjPV53HmKBhlHmL3Wxz36KzIXddfz1olKLEK7Xqn61FJFL TCiReKcySRcvDtRhLtFVH8zT-VcaEEXyA9_tTUumUVKTqy9vPMDOYAhmih55uT__Ghs5UQbxDZXLJ08f-SDUq-wlcbU8TFLfBnrQBxF53Sf L3BvmjYTg_xm69mBRkGuW431fZnMiY_U3Omrd0gHniu8ri33lpEaL3ip1Lq65QC_jVzy2WHN1RdQCA5WiYGJ89GoSZL2eAtCS8d7qngsMUu zBPpcn4hDiI7MkK4RWrAc2drTw  Se her for eksempel på decoded token.\nREST-tjenesten returnerer 403 dersom authcode er ugyldig eller Apikeyen ikke har tilgang til angitt autorisasjonskode:\n403 The API key is not authorized for this operation, or the supplied authorization code is either expired or invalid.  Man kan laste ned Postman for å teste henting av token: https://www.getpostman.com/apps\n Hente token ved hjelp av Postman   Når man har mottatt Altinn-signert token benyttes dette i request mot datakilden for å få tilgang til data. Formatet på hvordan denne informasjonen overføres må avtales mellom datakilde og datakonsument, og styres ikke av Altinn.\nToken har 30 sekunders varighet og datakonsument må be om nytt token når det har gått ut (benytt samme autorisasjonskode om igjen).\n"
},
{
	"uri": "https://altinn.github.io/docs/altinncore/faq/",
	"title": "FAQ",
	"tags": [],
	"description": "Ofte stilte spørsmål.",
	"content": " Her er svar på de vanligste spørsmålene om tjenester 3.0:\nFinnes det en beskrivelse av tjenester 3.0?  Ja, på overordnet nivå så har vi fire målsettinger, og en beskrivelse av arkitekturen.\n Når kan vi ta i bruk tjenester 3.0?  Vi er avhengig av finansiering for å få realisert tjenester 3.0 innen rimelig tid. Så lenge finansieringen ikke er plass så vil ikke målsettingene for 3.0 kunne realiseres.\nVi ønsker likevel å forsøke å levere en frittstående \u0026ldquo;alpha-versjon\u0026rdquo; med begrenset funksjonalitet høsten 2017. Denne vil være basert på en \u0026ldquo;proof-of-concept\u0026rdquo; som har blitt laget for å bekrefte tekniske veivalg.\nDet å tilgjengeliggjøre og oppdatere tjenester 3.0 fortløpende fremover, for å få kontinuerlig feedback, er ønsket måte å jobbe på.\nSe siste status for detaljer.\n Kan man gjenbruke noe fra skjema basert på InfoPath, eller må man starte helt på nytt?  Tjenester 3.0 vil støtte eksisterende dataformater (XSD) fra SERES og OR, noe som betyr at alle grensesnitt (mottak, preutfylling, innsending, etc) vil kunne gjenbrukes uten endringer i tjenesteeiers fagsystemer eller sluttbrukersystemer. Kall mot dagens \u0026ldquo;mappere\u0026rdquo; og interne tjenester skal også fortsatt fungere, selv om vi på sikt ønsker å fase ut mappere til fordel for noe bedre.\nVi har også vurdert muligheten for å lage et verktøy som automatisk konverterer fra InfoPath til tjenester 3.0, helt eller delvis.\nEtter diskusjoner med diverse tjenesteutviklere, så har det kommet frem at man sannsynligvis uansett vil ønske å forbedre brukergrensesnitt, og forenkle tekster og logikk når man går over til responsive tjenester som skal fungere også på mobil. Det å utvikle et konverteringsverktøy er ikke utelukket, men det må gi en reell verdi.\n Finnes det noen retningslinjer for å lette overgangen fra InfoPath?   Lag enkle og fornuftige modeller (XSD) som inneholder så mye som mulig av datatyper, begrensninger, etc. istedenfor å kode disse selv. Benytt regelmotor (XML) istedenfor C# i InfoPath for logikk (særlig for kompliserte skjema). Lag gode og korte tekster som har en større sjanse for å fungere også på små skjermer. Vurder om store tabeller (antall kolonner) egentlig er nødvendig.   Vil vi fortsatt kunne utvikle eget brukergrensesnitt og kun benytte API\u0026rsquo;ene i Altinn?  Ja. API\u0026rsquo;ene til Altinn vil fortsatt fungere som før, og tjenester 3.0 vil løfte API\u0026rsquo;ene til en kanal som er likestilt med portal også ved utvikling og testing av tjenester. Det vil også legges til rette for å eksponere alle ressurser som utvikles som API, f.eks. tekst-ressurser, metadata, semantiske koblinger, valideringer, etc.\n Vil det forsvinne funksjonalitet som finnes i dagens plattform?  I utgangspunktet nei, så fremt det ikke er funksjonalitet som ikke benyttes, eller som ikke gir mening lengre.\nDe første versjon av tjenester 3.0 vil nok ikke inneholde all funkjsonalitet, da de viktigste egenskapene vil leveres først og videre utvikling vil gjøres basert på feedback.\n Er tjenester 3.0 egentlig prioritert?  Ja. Tjenester 3.0 er helt sentral for å kunne realisere de fire satsingsområdene i Altinn-strategien. I tillegg er tjenester 3.0 definert som ett av hovedproduktene i Altinn, og er dermed sentral også i Altinn produktstrategi.\n Hva slags teknologi benyttes i tjenester 3.0?  Se oversikten over programvare.\n Hvorfor kjøper dere ikke bare inn noe ferdig hyllevare for skjema?  Det finnes rett og slett ikke hyllevare som dekker alle behovene som Altinn sine brukere og tjenesteeiere har til ytelse, funksjonalitet og sikkerhet.\nBruk av hyllevare, først Adobe Form Server (Altinn I) og så Microsoft Forms Server (Altinn II), har vist at det er en veldig stor risiko å ikke selv ha kontroll over kjernefunksjonalitet i en stor løsning som skal leve lenge. Det har også vist seg å være ekstremt dyrt og krevende å forsøke å tilpasse hyllevare til å dekke behovene.\nDerfor velger vi heller å utvikle en løsning på toppen av åpen kildekode, og så dele det vi lager med alle.\nNår vi forbedrer åpen kildekode som vi benytter, så vil også alle andre som baserer seg på de samme prosjektene nyte godt av det.\n Når vil den gamle InfoPath-løsningen fases ut?  Enten når alle tjenester er migrert over eller når support for InfoPath avsluttes (2020, ev. 2026 hvis vi bruker tid/penger på å oppgradere).\nVi håper på å unngå å måtte leve lenge med dagens løsning, men det er naturlig nok avhengig av finansiering.\nRent økonomisk så vil det være store gevinster ved å fase ut den gamle løsningen så fort som mulig.\n "
},
{
	"uri": "https://altinn.github.io/docs/guides/tjenesteeier/",
	"title": "Tjenesteeier",
	"tags": [],
	"description": "Implementasjonsguide for tjenesteeier",
	"content": "  Denne dokumentasjonen beskriver de tjenester Altinn tilbyr alle tjenesteeiere og hvordan deres systemer kan integrere seg mot disse. Det er lagt vekt på å beskrive både det funksjonelle aspektet i forhold til hva integrasjonene tilbyr rent funksjonelt, og en teknisk detaljering av grensesnittene som tilbys av Altinn.\nEventuelle tjenester/grensesnitt som er spesifikke for en tjenesteeier er ikke med her.\nInnhold \r\rInnledning\r\rBeskrivelse av de tjenester Altinn tilbyr alle tjenesteeiere og hvordan deres systemer kan integrere seg mot disse.\n\rGrensesnitt – web services\r\rWebservice operasjoner med beskrivelse\n\rGrensesnitt – batch\r\rWebservice operasjoner med beskrivelse\n\rFunksjonelle Scenario\r\rWebservice operasjoner med beskrivelse\n\rIntegrasjonspunkter\r\rTilgjengelige integrasjonspunkter på Altinn plattformene\n\rKodeeksempler SPI\r\rFeilkoder i Altinn\n\rFeilhåndtering\r\rWebservice operasjoner med beskrivelse\n\rFeilkoder\r\rFeilkoder i Altinn\n\r"
},
{
	"uri": "https://altinn.github.io/docs/releases/2015/15-3/",
	"title": "15.3",
	"tags": [],
	"description": "Støtte for virksomhetssertifikat i REST API, tekniske forbedringer, EIR, innlogging med utenlandsk id (eIDAS), +++",
	"content": " Release 15.3, produksjonssatt uke 46, 2015.\nOmfanget av denne versjonen er litt mindre enn vanlig. Hovedtyngden er forbedringer av grensesnitt og feilrettinger.\nAutentisering Støtte for innlogging med utenlandsk identifikasjon (18497) Altinn får støtte for føderering av brukere på tvers av landegrenser innenfor eIDAS (EU-prosjekt). Kun brukere med D-nummer vil få tilgang til Altinn.\nNB! Denne endringen vil ikke være aktiv i produksjonsmiljøet rett etter produksjonssetting, men vil aktiveres når bakenforliggende systemer er klare for det.\n\rBrukskvalitet Mindre feilrettinger – Min profil (18829) Flere mindre feilrettinger i den nye versjonen av Min profil lansert i versjon 15.2.\nEksterne grensesnitt Støtte for sertifikat-autentisering i REST-grensesnittet (18311) REST-grensesnittet får støtte for autentisering via virksomhetssertifikat, slik det allerede er støtte for i webservice og i portal.\nServiceEditionCode som frivillig parameter i GetShipmentStatus (18677) Støtte for å bruke GetShipmentStatus uten å definere en bestemt ServiceEditionCode – det vil si få en oversikt over alle innsendinger for en tjeneste, uavhengig av versjon.\nGetShipmentStatus - mulig å hente ut full shipment status historikk på et element (18727) Alle statusendringer og tidspunkt logges for å kunne returnere disse på listeformat, istedenfor å bare ha ett felt som har siste verdi.\nVerifisering av signeringsrettigheter via eksternt grensesnitt (18728) AuthorizeAccessExternal skal kunne brukes til å verifisere at en bruker har signeringsrettigheter på en gitt tjeneste.\nFeilretting – GetShipmentStatus (18812) Retting av feil der GetArchiveShipmentStatus-kallet sammen med sekvensnummer på immediategrensesnitt, ikke får treff basert på dette.\nFlere mindre endringer på REST-grensesnitt (18767) Mindre feilrettinger på REST-grensesnittet – blant annet økt app-vennlighet.\nIntegrasjonsplattform og grensesnitt Automatisering av oppsett av BizTalk (18213) Oppsett av BizTalk skal kunne gjøres automatisert, slik at blant annet unngår problemer med etablering/reetablering av integrasjonsløsningene i de ulike miljøene ved deploy.\nBedre unntakshåndtering og logging i SendShipmentToEndpoint (18486) Mer intelligent håndtering av feil i SendShipmentToEndpoint – blant annet vurdering av om retry har noe for seg.\nUtvidelser av støtteverktøyet EIR (18489) Støtteverktøyet EIR får funksjonalitet for å kjøre forhåndsgodkjente lagrede prosedyrer og SQL-script.\nDriftsrutiner og registerintegrasjon Standardisert prosedyre for deaktivering og sanering av grensesnitt (17690) Det blir mulig for driftsleverandør på bestilling fra tjenesteeier på en forutsigbar og effektiv måte å kunne deaktivere et grensesnitt midlertidig eller sanere det permanent.\nFeilretting – Enhetsregisterinnlesing for enheter med lange navn I enkelte tilfeller blir mellomrom fjernet i enhetsnavn som er lengre enn 35 tegn – rettes slik at de leses inn korrekt.\nTeknisk arkitektur Bedre logging og oppgradering av EntLib (18370) Det gjøres en del forbedringer på logging i løsningen, blant annet for å redusere mengden logginger uten verdi (\u0026ldquo;falske positive\u0026rdquo;).\nPartisjonering av databaser (18497) Data i Altinn fordeles på en mer hensiktsmessig måte for å minske tid og lagringsbehov ved backup/restore.\nInformasjonsportal Feilretting - Søkeindeksering (18777) Retting av flere små svakheter i søkeløsningen for innhold før innlogging.\nTjenesteutvikling Forbedring av uthenting av familiemedlemmer (18200) Webservicen for å hente ut familieforhold får forbedringer, slik at alle medlemmer av en familie kan hente ut familiedata.\nFeilretting – GetPersonRegisterData og adresser (18366) Denne webservicen gir i dag en blanding av bostedsadresse og postadresse – rettes slik at begge adresser hentes hver for seg.\n"
},
{
	"uri": "https://altinn.github.io/docs/releases/2017/",
	"title": "2017",
	"tags": [],
	"description": "Endringer innført i 2017",
	"content": "Releaser av Altinn i løpet av 2017\n\r17.2 (under utvikling)\r\rNy meldingsboks, designsystem, automatisert testing, \u0026#43;\u0026#43;\u0026#43;\n\r17.1.1\r\r500 MB på REST og webservices, forbedringer av samtykke samt utvidet API for forms og attachments\n\rEtablering\r\rBytte av leverandører, nye avtaler, ny teknisk driftsplattform\n\r17.1\r\rDigital post til virksomheter, dialog med egenregistrerte brukere, nye sider for pålogging, heving av sikkerhetsnivå for SMS, \u0026#43;\u0026#43;\u0026#43;\n\r"
},
{
	"uri": "https://altinn.github.io/docs/api/",
	"title": "API",
	"tags": [],
	"description": "Dokumentasjon for for Altinns REST-apier",
	"content": "Altinn tilbyr to seperate REST-apier - ett for sluttbrukere som alle kan registrere seg for å bruke, og ett som utelukkende kan brukes av tjenesteeiere i Altinn.\n API konseptskisse   \rGenerelt\r\rGenerelt om Altinns REST-apier\n\rSluttbrukere\r\rDokumentasjon for sluttbrukerdelen av Altinns REST-api\n\rTjenesteeiere\r\rDokumentasjon for tjenesteeierdelen av Altinns REST-apier\n\r"
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/sikkerhet/autentisering/",
	"title": "Autentisering",
	"tags": [],
	"description": "Altinnplattformen har innebygd en rekke mekanismer for autentisering.",
	"content": " Altinnplattformen har innebygd en rekke mekanismer for autentisering.\nFordeler og muligheter Altinnplattformen er føderert med ID-porten noe som gir at 4 millioner brukere allerede kan bruke Altinn uten å måtte registrere seg utover det å logge inn med ID-Porten.\nVia ID-porten kan brukerne logge inn på nivå 3 og 4 med alternativer som MinID, BankID, Buypass\nAltinn tilbyr også egne påloggingsalternativer for brukere som ikke har d-nummer eller f-nummer.\nProdukter som tilbys  Autentisering via ID-Porten (MinID, BankID, Buypass, Commfides, BankID på mobil) Autentisering for selvregistrerte brukere Altinn SMS og Altinn Pin Autentisering for virksomhetsbrukere Autentisering for sluttbrukersystem via web service  Hvordan komme i gang Autentisering håndteres automatisk av plattformen.\nRåd og tips  Krev riktig autentiseringsnivå på tjenester som matcher kanalene  Kanaler  REST-API Sluttbrukersystem Portal  Avhengigheter Under utvikling\nTeknisk dokumentasjon Under utvikling\n"
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/sikkerhet/autorisasjon/",
	"title": "Autorisasjon",
	"tags": [],
	"description": "Autorisasjonskomponenten i Altinn er svært funksjonsrik og gir et kraftig verktøy til tjenesteeiere for å kunne styre tilgang til tjenester.",
	"content": " Autorisasjonskomponenten i Altinn er svært funksjonsrik og gir et kraftig verktøy til tjenesteeiere for å kunne styre tilgang til tjenester.\nTjenesteutvikler kan definere hvilke roller som kreves for å brukes en tjeneste og Altinn sikrer at brukerne tilfredsstiller kravene. I Altinn kan også sluttbruker delegere videre rettighetene slik at for eksempel andre personer i en organisasjon kan utføre oppgaver.\nFordeler og muligheter Altinn har integrert Folkeregister og Enhetsregister noe som gjør at man som tjenesteeier i Altinn får god tilgangskontroll på tjenester som skal benyttes av private eller organisasjon.\nSluttbrukere har gode muligheter til å administrere sine rettigheter videre til andre innad eller utenfor sin organisasjon, noe som sikrer at de riktige personer får benyttet seg av tjenestene.\nFor tjenesteeier tilbyr også Altinn grensesnitt som gjør det mulig å hente ut autorisasjonsinformasjon som for eksempel informasjon om hvilke roller en person har for en organisasjon. Dette kan brukes for å styre tilgang i eksterne løsninger.\nTjenesteeier kan også benytte seg av et teknisk grensesnitt for å spørre om en bruker har tilgang til å utføre operasjoner på en gitt tjeneste.\nProdukter som tilbys  Styring av tilgang på tjenester basert på roller i Enhetsregisteret/Altinn Styring på mulige avgivere via tjenesteierstyrt register Ekstern bruk av Altinns autorisasjonskomponent  Råd og tips  Knytt tjenester til roller som funksjonelt passer andre tilsvarende tjenester Oppfordre til enkeltdelegering av rettigheter over det å opprette lokale roller  Kanaler  REST-API Sluttbrukersystem Portal  Avhengigheter Mye av funksjonaliteten som er tilgjengelig for sluttbruker er knyttet til at man som tjenesteeier har tjenester i Altinn plattformen.\nTeknisk dokumentasjon  Implementasjonsguide for tjenesteeier Brukerveiledning TUL  "
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/dialog/betaling/",
	"title": "Betaling",
	"tags": [],
	"description": "I enkelte offentlige tjenester inngår betaling som en del av saksbehandlingen. Altinn har støtte for betaling med tre av de største betalingsleverandørene på det norske markedet.",
	"content": " I enkelte offentlige tjenester inngår betaling som en del av saksbehandlingen. Altinn har støtte for betaling med tre av de største betalingsleverandørene på det norske markedet. Det er opp til tjenesteeier å lage avtale med den leverandøren de ønsker å bruke av alternativene Nets, Payex og DIBS.\nFordeler og muligheter Betalingsløsningen i Altinn kan benyttes i tilknytning til en innsendingstjeneste og være en del av arbeidsflyten til en innsending på fire ulike måter:\n I parallell med innsendingssteget – det vil si at man fyller ut et skjema, og fra siden der man skal bekrefte innsending velger man «Send inn og betal». Man sendes videre til en av betalingsleverandørene, og så snart betaling er utført er man tilbake på kvitteringen på innsending i Altinn Betaling før signering – der man etter utfylling først gjennomfører en betaling, og deretter signerer på innsendingen Betaling etter signering – der man får fylle ut og signere en innsending før man sendes videre til betalingsløsningen Forhåndsutfylt betaling – det vil si at det ikke kreves noen aktiv utfylling av et skjema. Brukeren sendes direkte til et betalingssteg  Altinn vil ha støtte for betaling med tre av de største betalingsleverandørene på det norske markedet. Tjenesteeier inngår avtale med den leverandøren de ønsker å bruke av alternativene Nets, Payex og DIBS. Altinn vil også ha funksjonalitet for å begrense hvilke betalingsalternativer som er tilgjengelig – for eksempel hvis det er uønsket at betaling skal skje med enkelte typer kort.\nDet trenger ikke være et forhåndsbestemt beløp som skal betales per innsending. Tjenester med betaling kan defineres slik at hvor mye som skal betales avhenger av hva som fylles ut i skjemaet. Det går også an å definere at det kun er bestemte data som skal medføre betaling.\nUtfyllingen trenger ikke skje i Altinn. Betaling er også tilgjengelig til bruk i for eksempel apper eller tjenesteeiernes egne nettsteder via Altinns REST-API. Brukeren trenger med andre ord ikke vite at det er Altinns betalingsløsning som benyttes som del av en tjenesteeier sin tjeneste.\nFordeler  Tjenesteeier kan helautomatisere sine prosesser (raskere, enklere og mer effektiv prosess) Redusert behandlingstid for bruker Sikkerhet  Produkter som tilbys  REST-api Kvittering Arkivtjenester Meldingsboks  Hvordan komme i gang Under arbeid\nRåd og tips  Bruk en god betalingsbeskrivelse  Kanaler  Portal REST-API (forutsetter at betalingsvindu åpnes i browser)  Avhengigheter Betaling kan kun benyttes sammen med innsendingstjenester. Over tid vil dette utvides til andre tjenestettyper.\nTeknisk dokumentasjon Under arbeid\n"
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/support/brukersupport/",
	"title": "Brukersupport",
	"tags": [],
	"description": "Altinn Brukerservice tilbyr veiledningstjenster omkring spørsmål som gjelder innlogging, hvordan finne fram til riktig tjeneste, forståelse av felles funksjonalitet og teknisk veiledning til skjemautfylling, innsending, signering og mye mer.",
	"content": " Altinn Brukerservice tilbyr veiledningstjenster omkring spørsmål som gjelder innlogging, hvordan finne fram til riktig tjeneste, forståelse av felles funksjonalitet og teknisk veiledning til skjemautfylling, innsending, signering og mye mer.\nAltinn Brukerservice (ABS) Altinn brukerservice bygger på Brønnøysundregistrenes mangeårige erfaring med dataassistert planlegging av nødvendig bemanning foran etatens egne skjemafrister.\nFaglige spørsmål om besvarelse av det enkelte skjemaet eller forhold i den enkelte tjenesten, sendes videre til faglig brukerstøtte hos etatene ut fra klare grensedragninger i avtale med hver enkelt etat.\n 146 000 henvendelser på telefon og 45 000 e-poster i 2015 Tilgjengelig på telefon, e-post og sosiale medier kl 08.00 til 15.30 på hverdager. Utvidet åpningstid kan bestilles ved frister og spesielle hendelser Ca 40 veiledere opplært til å besvare henvendelser fra Altinn i første- og andrelinje Grundig og systematisk opplæring med fadderordning for veilederne Fokus på jevnlig faglig oppdatering Benytter brukerkunnskapen til å forbedre hjelpesidene på altinn.no, for å få brukeren selvhjulpen på nett Kort ventetid og kyndig veiledning ifølge brukertester  Altinn Servicedesk (SD) Altinn Servicedesk(SD) er en tjeneste som rettet mot Sluttbrukersystemer og Tjensteeiere, samt understøtte 2 linje hos brukerservice (ABS).\nServicedesk er opprettet for mottak og registrering av saker som:\n Support Feil Bestillinger  Som Altinn sine leverandører eller interne ressurser må bistå tjenesteeiere og sluttbrukersystemer å utføre.\nServicedesken skal følge opp alle saker kontinuerlig til de er løst, og sikre for at informasjon blir gitt innmelder underveis i prosessen.\nServicedesken vil være Leverandørenes førstelinje og kan nås på telefon eller e-post.\nDriftsvarsel Altinn Sentralforvaltning har som standard tjeneste å sikre kontinuerlig varsling av driftshendelser eller planlagt vedlikehold, som kan påvirke bruken av Altinn sitt produksjon og testmiljøer for tjenesteeiere, sluttbrukere og sluttbrukersystemer.\n"
},
{
	"uri": "https://altinn.github.io/docs/guides/mapperutvikling/utviklingshandbok/bruksomrader/",
	"title": "Bruksområder",
	"tags": [],
	"description": "Beskrivelse av hva en mapper er og hvordan man går fram for å lage en",
	"content": " Utvikling av mappere Om mappere En mapper er en komponent som muliggjør integrasjon mellom Altinn og tjenesteeiersystemer. Denne integrasjonen vil la en skjemautvikler kunne benytte seg av et rikt etatsspesifikt datasett. Dette muliggjør dermed en stor variasjon av tjenester som ellers ikke ville kunne utvikles på Altinn-plattformen.\nBruksområder Tilgjengeliggjøring av data fra tjenesteeier til Altinn gjør det mulig å utvikle mange ulike tjenester som gir brukere tilgang til etatsspesifikk informasjon. En mapper kan tilby sin informasjon til både innsyns-, innsendings-, og samhandlingstjenester.\nEt vanlig bruksområde er å tilgjengliggjøre etats-registre som innsynstjenester. Dette lar brukeren se informasjon som er registrert om seg selv eller sin virksomhet\nAlternativt kan en mapper benyttes til å hente informasjon som skal benyttes i en innsendingstjeneste slik at brukeren ikke trenger å fylle ut allerede registrert informasjon.\nBåde innsynstjeneste og innsendingstjeneste kan inngå som en del av en større samhandlingstjeneste.\nEn mapper tilbyr to-veis kommunikasjon slik at skjematjenesten kan overføre spørreparametere for å hente ut spesifikk informasjon som så returneres tilbake. Det er ikke hensikten at en mapper skal benyttes til å sende inn data. Til dette skal fortsatt innsendingstjenester benyttes slik at sporbarheten og ikke-benekt-funksjonaliteten i Altinn er ivaretatt.\nUtviklingsprosessen Prosessen fra idé til produksjonssatt tjeneste i Altinn er ikke veldig komplisert. Den følger et vanlig utviklingsløp der Altinn til slutt kvalitetssikrer og produksjonssetter mappere og produksjonssetter tilhørende tjenester.\nDesign Første steg i enhver utviklingsprosess er å designe løsningen som skal lages. For en mapper vil det si å identifisere de tjenestene som skal benytte mapperen og hvilke datasett som disse trenger. Her bør både utviklere som skal lage tjenestene i Altinn, mappere og etatstjenestene komme med innspill på dataformat slik at mapperen, og dermed også utviklingsjobben, blir så enkel som mulig.\nUtvikling Utviklingen av en mapper er godt beskrevet i dette dokumentet, med bakgrunnsinformasjon i kapittel 3 og selve utviklingsjobben i kapittel 4. En mapper er i all hovedsak en proxy-tjeneste som er skrevet ved bruk av .NET-rammeverket Windows Communication Foundation.\nSom utviklingsmiljø benyttes Visual Studio-serveren i Tjenesteutviklingsløsningen (TUL) i Altinn. Her er de nødvendige verktøy og versjonskontrollsystem klargjort for utvikleren. Alternativt kan man sette opp et eget utviklingsmiljø med Visual Studio installert slik at man får bedre ytelse og egne favoritt-verktøy. Lokalt utviklingsmiljø kan medføre noen vanskeligheter knyttet til tilganger dersom etaten begrenser tilgangen til sine tjenester slik at kun Altinn har tilgang. Utviklede mappere må også testes og verifiseres i TUL av tjenesteeier før de kan kvalitetssikres og installeres.\nTest Testing av programvare er en svært viktig del i all utviklingsarbeid. Det er av betydning at man har satt seg ned og tenkt over hvilke kriterier man har over alle tjenestene man ønsker å tilby.\nTesting kan innføres i et hvilket som helst tidspunkt under utviklingen av mapperen. Tradisjonelt har man startet med testing etter at kriteriene er satt og kodingen er ferdig. I mer smidige prosjekter er det vanlig å starte med tester parallelt med at man koder. På den måten kan man hele tiden sjekke at koden møter de kriteriene som er satt, og man kan dermed enkelt gjøre endringer og tilpasse seg.\nEnhetstesting er en metode hvor man kan utføre tester på en spesifikk bit av programmeringskoden, og foregår som regel parallelt med at man utvikler koden. Man kan lett kjøre testene, og se om noe feiler i koden, man får også en fin oversikt over at alt er som forventet og kjører feilfritt. Om det i senere tid blir gjort endringer på den utviklede koden, vil man kunne dra nytte av enhetstestene. De vil enten passere eller feile om man ikke møter kriteriene.\nKriteriene kan for eksempel være:\n Data kommer i riktig format. At man får forventet resultat. Håndtering av feilmeldinger. Programmet bør returnere fornuftige meldinger.  Altinn krever at mapperenes tjenester er testet ved bruk av enhetstester, både positive og negative, før de kan gjennomgå kvalitetssikring og installasjon.\nEn mapper bør også testes ved kodegjennomgang. Det vil si å la en annen utvikler gå igjennom koden. På den måten kan logiske brister, sikkerhets og ytelsesproblemer fangens opp før de rekker å oppstå i et kjøretidsmiljø.\nKvalitetssikring Etter at en ny mapper har vært igjennom en grundig test av tjenesteeier, vil Altinn gå igjennom koden og forsikre seg om at mapperen møter de kravene som stilles til en mapper.\nOm Altinn finner noen mangler blir den sendt i retur til tjenesteeier, med en beskrivelse om hva som må endres. Det er tjenesteeirs oppgave å ordne opp i manglene. Denne prosessen gjentas inntil mapperen møter kravene til Altinn.\nInstallasjon Når en mapper er kvalitetssikret kan man gå til neste steg som er installasjon. Når man skal installere en mapper i Altinn må man påse at det er åpnet for tilgang til tjenesteeier sitt system gjennom både Altinn1 og tjenesteeier sin brannmur i forkant av installasjonen. Altinn sin driftsleverandør vil verifisere dette under installasjon av mappere. Deretter vil de installere mapperen det spesifiserte miljøet på Altinn. Dersom mapperen skal installeres i produksjonsmiljøet vil den først installeres og verifiseres i et testmiljø.\nDersom det oppstår feil under installasjon vil det kunne måtte være nødvendig med kontakt mellom driftsleverandør og tjenesteeier sine utviklere og driftere. Det er derfor viktig å ha tilgjengelige ressurser på tjenesteeier sin side under installasjonen.\nInstallasjonstest Etter at en mapper er installert må installasjonen verifiseres av tjenesteier. Dette gjøres gjerne ved bruk av en eller flere tjenester som benytter den installerte mapperen. Dette sikrer både at tjenestene får kontakt med mapperen og at mapperen får kontakt med tjenesteeier sitt system.\n"
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/dialog/formidling/",
	"title": "Formidling av data",
	"tags": [],
	"description": "Formidlingstjenesten er en maskin-til-maskin formidling av store datamengder mellom ulike offentlige og private virksomheter.",
	"content": " Formidlingstjenesten er en maskin-til-maskin formidling av store datamengder mellom ulike offentlige og private virksomheter. Det blir ikke foretatt noe sjekk på innhold i dataene, men Altinn garanterer levering og sporbarhet for transport av data.\nFordeler og muligheter Formidlingstjenesten muliggjør trygg og sikker maskin-til-maskin formidling av datamengder på inntil 1 GB mellom ulike offentlige og private virksomheter. Informasjon hentes fra virksomhetenes saksbehandlingsløsninger/registre og distribueres til en eller flere offentlige eller private mottakere gjennom Altinn. Tjenestetypen kan også benyttes for større overføringer fra private aktører i tilfeller hvor det ikke er behov for funksjonaliteten i innrapporteringstjenestene. Formidlingstjenesten har også en kvitteringsfunksjonalitet som gir kunden muligheten for å sende spørring om status for meldingen.\nBruk av en formidlingstjeneste styres av tjenesteeier selv gjennom tjenesteeierstyrt rettighetsregister. Dette betyr at det er tjenesteeier selv som kan styre hvem som har rettighet til å benytte tjenesten. Oppsett av formidlingstjeneste og administrasjon av brukere skal kunne gjøres på egen hånd av tjenesteeiere og brukere uten involvering fra AAS.\nFormidlingstjenesten overføres fra avsender til mottaker, og tjenesteeiere benytter derfor ikke egne grensesnitt kun for tjenesteeiere for formidlingstjenesten, men benytter i stedet de samme grensesnitt som er tilgjengelig for alle brukere av Altinn.\nFor å kunne ta i bruk formidlingstjenesten må tjenesteeier registrere et virksomhetssertifikat og påloggingen blir knyttet til organisasjonsnummer istedenfor fødselsnummer.\nFordeler  Håndterer stor datamengder Sikker overføring Tjenesteeierstyrt rettighetsregister Innloggingsmetode knyttet til organisasjonsnummer  Produkter som tilbys  Kvitteringersfunksjonaliteten Virksomhetssertifikat  Hvordan komme i gang Her kan du få informasjon om hvordan man kommer i gang med å lage en formidlingstjeneste.\nRåd og tips  Før man starter med utforming av tjenester er det lurt å gjøre seg kjent med Altinn-plattformen og mulighetene som ligger der For å få en god tjeneste kan det være hensiktsmessig å jobbe sammen med en eller flere kunder for at tjenestene skal dekke deres ønsker og behov Sette av god til utforming av god kravspesifikasjon, sette opp tjenestefunksjonalitet, samt innhold i meldinger som skal formidles Vær oppmerksom på at i tillegg til utvikling av tjenesten skal man ha på plass et mottakssystem og en integrasjon mellom tjenesteeier og Altinn. Erfaring viser at dette er mer tidkrevende enn man tror  Kanaler  Web service  Avhengigheter Bruk av formidlingstjenester forutsetter bruk av Altinn autentisering og autorisasjon.\nTeknisk dokumentasjon  Implementasjonsguide for sluttbrukere Implementasjonsguide for tjenesteeier  "
},
{
	"uri": "https://altinn.github.io/docs/guides/",
	"title": "Guider",
	"tags": [],
	"description": "Altinn implementasjonsguider",
	"content": " I Altinn har vi flere guider, som er vår dokumentasjon av hvordan man tar i bruk Altinn.\nI første omgang så konverterer vi eksisterende dokumentasjon, før vi splitter opp, forenkler og forbedrer.\nTilgjengelige guider \rSamtykke\r\rDokumentasjon for samtykkeløsningen i Altinn\n\rTjenesteeier\r\rImplementasjonsguide for tjenesteeier\n\rMapperutvikling\r\rImplementasjonsguide for mapperutvikling i Altinn\n\rSluttbrukersystemer\r\rDokumentasjon for hvordan sluttbrukersystemer kan ta i bruk Altinn.\n\rIntegrasjon\r\rImplementasjonsguide for integrasjon mot Altinn.\n\rLenketjenester\r\rImplementasjonsguiden for lenketjenester gir en teknisk beskrivelse av hvordan lenketjenester i Altinn skal implementeres.\n\r"
},
{
	"uri": "https://altinn.github.io/docs/guides/tjenesteeier/innledning/",
	"title": "Innledning",
	"tags": [],
	"description": "Beskrivelse av de tjenester Altinn tilbyr alle tjenesteeiere og hvordan deres systemer kan integrere seg mot disse.",
	"content": "  Hva er Altinn Altinn er myndighetenes løsning for innrapportering og dialog med næringslivet. Alle tjenester fra det offentlige til næringslivet skal gjøres tilgjengelige her. Målet er at næringslivet bare skal behøve å forholde seg til én nettportal for all rapportering og kommunikasjon med forvaltningen, og at Altinn skal bli et samhandlingsnav for offentlig norsk e-forvaltning. Videre skal Altinn som et transaksjonsnav sørge for håndtering av sluttbrukertjenester som innsendings-, meldings-, samhandlings-, formidlings- og innsynstjenester.\nValg av grensesnitt Flere av tjenestene tilbys med både web service– og batch-grensesnitt. Som en tommelfingerregel kan man si at skal man overføre færre enn 100 elementer (alternativt mindre enn 30 MB) kan man benytte web service grensesnitt, men for store datamengder bør batch-grensesnitt benyttes. Tommelfingerregelen er scenarioavhengig og ingen absoluttgrense. AltinnII plattformen er bygget på siste versjon av Microsoft software og teknologi, og er ikke en begrensning for transport av data. For overføring av store datamengder er det vel så viktig at eksterne systemer er optimalt konfigurert iht. ønsket grensesnitt.\nLesehenvisning Dette dokumentet bør leses i sammen med dokumentene \u0026ldquo;Funksjonell spesifikasjon – Sluttbrukerløsningen\u0026rdquo;, som gir en funksjonell beskrivelse av sluttbrukerløsningen, og \u0026ldquo;Integrasjon\u0026rdquo;, som er den overordnede guiden for alle som skal integrere seg mot Altinn. I tillegg refereres leser til Tjenestekatalogen (Service Inventory) som en kontinuerlig oppdatert liste over tilgjengelige tjenester, med tilhørende funksjonell og tekniske informasjon, samt tjenestens WSDL tilgjengelig på endepunktet for den tekniske spesifikasjonen. Tjenestekatalogen vil gi en komplett liste over hvilke tjenester som er tilgjengelig for tjenesteeiere gjennom egen visning av listen (Tjenesteeier tjenester): https://altinnett.brreg.no/no/Tjenester/\nLike operasjoner med forskjellige protokoller og endepunkter Alle operasjonene er tilgjengelig på to protokoller (bindings). Operasjoner som benytter SOAP 1.1 er kjennetegnet med navnendelsen –Basic. Operasjoner som benytter SOAP 1.2 er kjennetegnet med navnendelsen –WS. Operasjoner som benytter SOAP 1.2 og sertifikat er kjennetegnet med navnendelsen –EC. Sertifikatet er knyttet til avgiver, slik at flere brukere kan benytte samme sertifikat. Utfyllende beskrivelse kommer senere i dokumentet. For tjenesteeiere blir EC grensesnitt autentisert ved bruk av et sertifikat og agency system brukernavn og passord. AEC grensesnitt benytter SOAP 1.2 og sertifikat, men krever ikke bruk av agency systemer, med brukernavn og passord. I stedet hentes Organisasjonsnummer direkte fra sertifikatet som brukes til autentisering, som så valideres opp mot registrerte tjenesteeiere.\nVersjonering av operasjoner Flere av operasjonene i dette dokumentet vil kunne eksistere i flere versjoner. Dette for å være tilbakekompatibel med eventuelt eksisterende klienter. Når en endring blir gjort for en gitt operasjon opprettes det en ny operasjon med tilsvarende navn som ender med et versjonsnummer, for eksempel V2. Dette gjør at gamle klienter vil kunne fortsette å benytte gammel metode og WSDL, mens nye klienter kan (og oppfordres til) benytte nyeste metode og WSDL.\nMerk at ikke alle grensesnitt nødvendigvis vil benytte denne endelsen. Dette gjelder i de tilfeller hvor operasjonen ikke tidligere er tilgjengeliggjort og dermed ikke har noen forgjenger, for eksempel gjelder dette for mange av EC grensesnittene.\nDette dokumentet vil dokumentere den nyeste versjonen av operasjonene. For dokumentasjon av tidligere versjoner henvises det til tidligere dokumentversjoner.\nRegistrering For å kunne sende og/eller motta data til/fra Altinn må tjenesteeier registrere sitt system og motta passord som skal benyttes ved overføring(ene). Registrering gjøres ved at tjenesteeier bestiller tilgang via skjema som finnes på Brønnøysundregistrenes selvbetjeningsportal (krever innlogging). Driftsleverandør registrerer systemet basert på registrert skjema, og passord kommuniseres tilbake til tjenesteeier. System og passord brukes da som henholdsvis systemUserName og systemPassword i kall mot Altinn.\nAutentisering og autorisering Når tjenesteeier via egne systemer benytter tjenester mot Altinn blir det registrerte systemet autentisert og autorisert før det kan utføre operasjoner mot Altinn. Tjenesteeiers system må være registrert i Altinn og passord mottatt før tjenestene kan benyttes.\nVed bruk av batch grensesnitt blir tjenesteeier autentisert gjennom FTP/SFTP protokollen på vanlig vis. Eller Altinn autentiserer seg ved henting på FTP/SFTP.\nVarselsmaler Altinn har mulighet til å sende ut predefinerte varsler til sluttbrukerne når tjenesteeier sender meldinger (8.2.1), legger inn prefill (8.1.1), og ved sending av frittstående varsel (8.8). Disse varslene må være definert i Altinn før de kan benyttes av tjenesteeier.\nVarsel sendes basert på informasjon om konkret angitte adresser, mobiltelefonnummer og/eller e-post adresse, som sendes Altinn, eller ved å oppgi enten fødselsnummer eller organisasjonsnummer. I de to siste tilfellene vil Altinn slå opp i informasjon lagret i Altinn for å sende varsel: for fødselsnummer i brukerens kontaktinformasjon i det private samtykket, for organisasjonsnummer i organisasjonens profilside. Profilsiden til en organisasjon vil inneholde både kontaktinformasjonen som er angitt i Enhetsregisteret i tillegg til informasjon lagt inn av organisasjonen selv.\nFor å opprette en ny varslingsmal må tjenesteeier bestille dette ved å benytte skjema som finnes på Brønnøysundregistrenes eksternnett . Her kan det velges hvilke språk (norsk, nynorsk og engelsk) og varslingsmetoder (e-post og SMS) varslesmalen skal støtte. Når varselsmalen skal benyttes i web services eller batch vil kombinasjonen av navn på varslingsmalen (NotificationType), varslingsmetode (TransportType) og språk angi hvilken tekst som sendes ut. Varselsmalen kan også opprettes med såkalte tokens/substitusjonsvariabler angitt ved {0}, {1} osv. som lar tjenesteeier sende inn egendefinerte tekststrenger. Disse angis i rekkefølge ved å benytte parameteren TokenValue.\nSMS varsler kan ikke inneholder mer enn 140 tegn. Et SMS varsel kuttes automatisk på 140 tegn dersom tjenesteeier forsøker å sende et varsel på mer enn 140 tegn.\nVarselsmakroer Det er en del varslings-makroer tilgjengelig for bruk i Notification løsninger for tjenesteeier. En makro er en kort tekst som byttes ut med data fra Altinns Register. Register data blir hentet ut basert på ReporteeNumber eller ReporteeElementId koblet til en Notification.\nMakroer legges inn som en del av NotificationTemplate, men kan også leveres i en text-token. Makroer er case-sensitive.\n   Makro Beskrivelse     $reporteeFirstName$ Fornavn til Reportee   $reporteeMiddleName$ Mellomnavn til Reportee   $reporteeLastName$ Etternavn til Reportee   $reporteeName$ Fullt navn til Reportee.   $reporteeNumber$ Gir organisasjonsnummer for en organisasjon, gir en tom streng ikke noe for en person.   $reporteeBirthMonth$ $reporteeBirthDay$ $reporteeBirthYear$ $reporteeBirthDay(dd/mm/yy)$ $reporteeBirthDay(yyyy-mm-dd)$ $reporteeBirthDay(yy/dd/mm)$ $reporteeBirthDay(dd.mm)$ Forskjellige utgaver av en persons fødselsdag. Dersom man bruker $reporteeBirthDay(#)$, så vil fødsels-dato avgis på formatet som er avgitt av #, med en kombinasjon av yyyy, yy, mm og dd. Så om man gir $reporteeBirthDay(yyyy-mm-dd)$ vil man for eksempel få ut 1977-11-23.   $reporteePostalCode$ $reporteePostalArea$ $reporteePostalAddress1$ $reporteePostalAddress2$ $reporteePostalAddress3$ Post-addresse data til Reportee.   $reporteeEmail$ $reporteeMobileNumber$ Telefonnavn eller Email til Reportee.   $servicename$ Tjenestenavn på ReporteeElement som er koblet til en Notification. Brukes i Prefill/Correspondence sammenheng.    Tjenesteutvikling og samspill med integrasjon Tjenester for innsendinger, meldinger, formidling, innsyn og samhandling etableres i tjenesteutviklingsløsningen (TUL), og benyttes i sluttbrukerløsningen (SBL), dvs. Altinn portalen og integrerte systemer (sluttbrukersystemer og systemer hos tjenesteeiere). Samspillet mellom en tjeneste i TUL og integrasjonspunkter er etablert gjennom å benytte:\n   Begrep i TUL Begrep i AltinnII Begrep i AltinnI Beskrivelse     Tjenestekode ServiceCode (noen steder også angitt som ExternalServiceCode N/A Angir tjenestekode for Altinn tjenesten, for eksempel \u0026ldquo;MT0001\u0026rdquo; (innsendingstjeneste). Alfanumerisk verdi. Oppstår i TUL. Kombinasjonen av Tjenestekode og Tjenesteutgavekode er unik i Altinn.   Tjenesteutgavekode ServiceEdition (noen steder også angitt som ServiceEditionCode eller ExternalServiceEditionCode N/A Angir utgaven på tjenestekoden, for eksempel 12311 (for tjenestekode \u0026ldquo;MT0001\u0026rdquo;). Tallverd. Oppstår i TUL. Kombinasjonen av Tjenestekode og Tjenesteutgavekode er unik i Altinn.   N/A DataFormatId Skjemanummer Angir id som metadatakilde har satt på dataenheten (skjema), for eksempel \u0026ldquo;268\u0026rdquo;. Alfanumerisk verdi. Benyttes i Skjema elementet som omkranser faktiske skjemadata (xml). Metadatakilde kan for eksempel være Oppgaveregisteret (OR). Kombinasjonen av DataFormatId og DataFormatVersion er unik.   N/A DataFormatVersion Spesifikasjonsnummer Angir versjon som metadatakilde har satt på dataenheten (skjema), for eksempel 6370. Tallverdi. Benyttes i Skjema elementet som omkranser faktiske skjemadata (xml). Metadatakilde kan for eksempel være Oppgaveregisteret (OR). Kombinasjonen av DataFormatId og DataFormatVersion er unik.   Metode for oversending ShipmentDefinition N/A Angir forsendelsesoppsett, dvs. unik alfanumerisk id som peker til informasjon om hva slags data som sendes/mottas, og hvordan det skal pakkes/settes sammen før utsending. Oppstår ved etablering av grensesnitt mellom Altinn og system som vil integrere seg med Altinn.   N/A ReporteeElementID N/A Angir den unike identifikatoren for en spesifikk tjeneste (innsendings-, meldings-, innsyns-, eller samhandlingstjeneste)   N/A CaseID N/A Angir den unike identifikatoren for en spesifikk samhandlingstjeneste, benyttes blant annet til å knytte andre tjenester opp mot samhandlingstjenesten.    "
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/dialog/innsending/",
	"title": "Innsending",
	"tags": [],
	"description": "Er en tjeneste der bruker fyller ut, signerer og sender inn et skjema",
	"content": " Er en tjeneste der bruker fyller ut, signerer og sender inn et skjema på www.altinn.no. Skjemaet kan også fylles ut og signeres/sendes inn via applikasjoner (med REST-API) eller sluttbrukersystem. Med REST-API kan skjema integreres på tjenesteeier sine egne nettsider og sendes inn derfra. Innsendingstjenesten kan bestå av et enkeltstående skjema eller et skjemasett med eller uten filvedlegg.\nFordeler og muligheter I innsendingstjenester kan informasjon fra Folkeregisteret, Enhetsregisteret og brukerens profil preutfylles i skjema. Det er også mulig å hente inn informasjon fra eksterne systemer. Tjenesteeier kan legge skjema klart i sluttbrukerens meldingsboks i Altinn (abonnement) og det er mulig for tjenesteeier å sende inn data som skal forhåndsutfylles i skjema (preutfylling). Sluttbruker kan varsles på sms og/eller e-post om at det ligger et skjema klart til utfylling i Altinn.\nDet kan legges inn omfattende valideringsregler i skjema med tilhørende feilmeldinger. Det kan også legges inn Hjelp-knapper som gir tilgang til hjelpeinformasjon under utfyllingen dersom sluttbruker ønsker hjelp.\nEn innsendingstjeneste kan presenteres på flere språk. Altinn har foreløpig språkstøtte for bokmål, nynorsk og engelsk.\nTjenesteeier definerer hvilken flyt tjenesten skal følge i Altinn (prosessflyt). Med dette menes at man velger hvilke steg skjema skal gjennom hos utfyller. En prosessflyt kan bestå av utfylling, et gitt antall signeringer, betaling og innsending.\nData registrert av sluttbruker sendes til eller hentes av tjenesteeier over valgt grensesnitt. Det er også mulig å tilrettelegge for at alle eller deler av dataene skal distribueres til en eller flere andre tjenesteeiere.\nHvis det er ønskelig kan innsendingstjenester lagres i tjenesteeiers arkiv i Altinn. I dette arkivet kan tjenesteeier søke opp innsendte tjenester gjennom et nettlesergrensesnitt. Disse søkene tilbys også som webservices slik at tjenesteeier sitt system kan hente ut informasjon fra dette arkivet.\nFordeler ved bruk av tjenesten  Sikker identifikasjon av bruker Sikker dialog med bruker Elektronisk signering Bruker får veiledning og hjelp til utfylling Validering av data under utfylling gir tjenesteeier bedre data Skjema kan preutfylles med informasjon om bruker både fra interne systemer og eksterne registre som Enhetsregisteret og Folkeregisteret Skjema kan legges klart i meldingsboksen til aktuelle brukere og det kan sendes varsel på e-post og/eller sms om dette Tjenesten kan benyttes sammen med andre tjenester i samspill for å realisere en dialog mellom sluttbruker og tjenesteeier Språkstøtte Generering av PDF for utskrift og arkivering Håndtering av prosessflyter (mulig med flere signeringer, betaling)  Produkter som tilbys  Preutfylling Oppslag i egne register Abonnement Varsel Kryptering Prosessflyt Betaling Splitt av data Tjenesteeiers arkiv  Hvordan komme i gang Informasjon om hvordan man kommer i gang med å lage en innsendingstjeneste\nRåd og tips  Før man starter med utforming av tjenester er det lurt å gjøre seg kjent med Altinn-plattformen og mulighetene som ligger der Sett av god tid til planlegging og design av tjenesten Få avklart at Altinn har alt av funksjonalitet som tjenesten krever Vær oppmerksom på at i tillegg til utvikling av tjenester skal man ha på plass et mottakssystem og en integrasjon mellom tjenesteeier og Altinn. Erfaring viser at dette er mer tidkrevende enn man tror Planlegger man omfattende bruk av Altinn kan det være hensiktsmessig å starte med en enkel tjeneste for å gjøre seg kjent med og få kompetanse på løsningen Preutfyll skjema med opplysninger fra Enhetsregisteret eller Folkeregisteret og også med opplysninger fra egne systemer. Ikke spør etter data dere allerede har tilgang til Se gjerne en innsendingstjeneste i kombinasjon med andre tjenestetyper, som for eksempel meldingstjeneste, for å oppnå toveis kommunikasjon og en mer helhetlig prosess for sluttbrukeren  Kanaler  REST-Api Altinn-portalen Sluttbrukersystem  Avhengigheter Innsendingstjenesten er en frittstående tjenestetype som kan benyttes i kombinasjon med andre tjenestetyper, som meldingstjenester og varsling, eller som et element i en samhandlingstjeneste. Det kan hentes inn informasjon i tjenesten fra tjensteeiers interne registre ved hjelp av webservice oppslag. Kall til eksterne webservices skal gå gjennom en mapper (proxy).\nTeknisk dokumentasjon  Funksjonell spesifikasjon – Sluttbrukerløsningen Implementasjonsguide for tjenesteeier  "
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/dialog/innsyn/",
	"title": "Innsyn",
	"tags": [],
	"description": "Er en tjeneste som benyttes for å gi bruker innsyn i data som er registrert i tjenesteeier sitt system, for eksempel saksbehandlingsløsninger eller elektroniske arkiv.",
	"content": " Er en tjeneste som benyttes for å gi bruker innsyn i data som er registrert i tjenesteeier sitt system, for eksempel saksbehandlingsløsninger eller elektroniske arkiv. En innsynstjeneste kan gi innsyn i flere forskjellige systemer hos tjenesteeier.\nFordeler og muligheter Innsynstjenester er tjenester som brukes til å hente data fra en tjenesteeier til Altinn ved å kalle en eller flere web services. Forretningslogikk og data ligger hos tjenesteeier, mens presentasjonen av dataene ligger i Altinn. Tjenesteeiere kan gjøre informasjon i egne registre (for eksempel saksbehandlingsløsninger eller elektroniske saksarkiv/saksmapper) tilgjengelig for den enkelte brukeren eller dennes representant. Dataene kan også gjøres tilgjengelig for sluttbrukersystem.\nInnholdet i en innsynstjeneste vil på samme måte som for innsendingstjenester være alt som har med skjema, datainnholdet og selve interaksjonen med sluttbruker i sluttbrukerløsningen å gjøre. Uthenting av data fra tjenesteeiers systemer håndteres gjennom en såkalt mapper, som er en komponent for fleksibel integrasjon mellom Altinn og andre systemer.\nInnsynstjenesten består av følgende hoveddeler\n Mappere mot eksterne webtjenester- For utarbeidelse av Web Service mappere av innsynstjenester så er dette kode som tjenesteeier utvikler i Visual Studio InfoPath-skjema – visningen av innsynsoppslaget  Tjenesteeier definerer tjenesten som skal supplere dataene, og definerer så et InfoPath-skjema som viser dataene for brukeren. Tjenesteeier kan definere om brukerne skal kunne lagre innsynstjenesten i min meldingsboks. Dette for at sluttbruker kan velge om de vil lagre en signert kopi av en innsynstjeneste. Den signerte innsynstjenesten lagres da i brukers arkiv i Altinn. En innsynstjeneste som ikke er signer og arkivert vil ikke være tilgjengelig i Altinn etter at den er benyttet. Sluttbruker kan også videresende Altinn-signert innsynstjeneste på e-post.\nProdukter som tilbys  Kvitteringersfunksjonaliteten Virksomhetssertifikat  Hvordan komme i gang Under utvikling\nRåd og tips Under utvikling\nKanaler  Portal Web service  Avhengigheter Innsynstjeneste i Altinn forutsetter bruk av autentisering og autorisasjon i Altinn.\nTeknisk dokumentasjon  Brukerdokumentasjon TUL Implementasjonsguide for tjenesteeier  "
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/support/kurs-og-seminar/",
	"title": "Kurs og seminar",
	"tags": [],
	"description": "Altinn Sentralforvaltning har som krav at alle som skal utvikle tjenester mot Altinn, må gjennomføre grunnkurs i tjenesteutvikling.",
	"content": " Altinn Sentralforvaltning har som krav at alle som skal utvikle tjenester mot Altinn, må gjennomføre grunnkurs i tjenesteutvikling. Der en lærer å bruke tjenesteutviklingsløsningen (TUL) og SERES Domeneklient.\nAltinn sentralforvaltning gjennomfører regelmessige kurs i innføring i tjenesteutvikling i Altinn.\nInformasjon om når neste kurs er satt opp og påmeldingsinformasjon finner du på www.brreg.no.\nInnføring i tjenesteutvikling i Altinn (2- dagers kurs) Målgruppe Alle som på vegne av en offentlig virksomhet skal utvikle tjenester i Altinn, f.eks. saksbehandlere, IT-personell og konsulenter. Det kreves ingen formell IT-kompetanse, men det er en fordel med erfaring i bruk av IKT-verktøy, som f.eks. programmer som inngår i Microsoft Office.\nInnhold  Presentasjon av tjenesteutviklingsprosessen i Altinn Overordnet informasjon om SERES og tjenesteutviklingsløsningen (TUL) Bruk av Domeneklienten (SERES) til å modellere informasjonselementer i en tjeneste Bruk av tjenesteutviklingsløsningen for utvikling av innsendingstjeneste (skjema) og meldingstjeneste  Opplæringen gjennomføres primært ved praktisk bruk av verktøyene og er kun ment for personer som planlegger å utvikle tjenester i Altinn. Kurset vil ikke omhandle avansert tjenesteutvikling.\nFormål Gjøre tjenesteutvikler i stand til å utvikle gode innsendings- og meldingstjenester i Altinn.\nMeld deg på kurs her\nAltinndagen Dette er en konferanse som Altinn Sentralforvaltning arrangere hvert år for sluttbrukere, tjenesteiere, sluttbrukersystemer og andre aktuelle aktører i markedet.\nInformasjon om tidligere og kommende konferanse finner du på Altinnett.\n"
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/dialog/lenketjeneste/",
	"title": "Lenketjeneste",
	"tags": [],
	"description": "En lenketjeneste utfører autorisasjon i Altinn før brukeren sendes til et annet nettsted der selve tjenesten kjører.",
	"content": " En lenketjeneste utfører autorisasjon i Altinn før brukeren sendes til et annet nettsted der selve tjenesten kjører.\nFordeler og muligheter Ved å utvikle en lenketjeneste vil tjenesteeier beholde sin egen tjenestemotor for utvikling av tjenesten. Altinn blir kun benyttet til tilgjengeliggjøring av tjenesten, samt til autorisering av etatens egenutviklede tjenester.\nNår en bruker benytter lenketjenester ved å starte tjenesten fra Altinn eller fra tjenesteeiers nettside vil man bli sendt til autentisering hos ID-porten. Sluttbruker foretar valg av avgiver i Altinn og det det utføres en autorisasjonskontroll og en tjenestekontrollfør brukeren blir sendt til lenketjenesten på ekstern løsning. Autorisasjonskrav til lenketjenester defineres i Altinn. Det er bare sikkerhetsnivåene som er tilgjengelig i IdPorten som kan benyttes på tjenesten.\nLenketjenester blir ikke instansiert i Altinn og er derfor ikke å finne i «min meldingsboks» i Altinn. For å kunne identifisere hvilken avgiver brukeren valgte å starte tjenesten med, sendes det med en nøkkel som den eksterne tjenesteportalen kan benytte for å spørre Altinn om informasjon om valgt avgiver.\nTjenesteeier kan gi tilbakemelding til brukeren via Altinn sin meldingstjeneste. Graden av integrasjon mellom Altinn og det eksterne nettstedet kan variere fra tjeneste til tjeneste.\nTjenesteeier må ha satt opp føderering mot IDPorten og lenken (tjenesten hos tjenesteeier) må være en beskyttet ressurs.\nDet er 3 aktører i lenketjenesten:\n IDPorten, som er Identity Provider og foretar autentisering av sluttbruker Altinn foretar autorisasjonskontroll, tjenestekontroller og viderefører sluttbruker til tjeneste i ekstern portal. Tjenesteeier for ekstern tjeneste som tilbyr tjenesten til sluttbruker.\n  Fordeler  Sikkert Tjenesteeier har full kontroll på utvikling av tjenesten på sin side  Produkter som tilbys  Meldingstjeneste Autorisasjon  Hvordan komme i gang Informasjon om hvordan man kommer i gang med å lage en lenketjeneste\nRåd og tips  Husk ved bruk av lenketjeneste får ikke sluttbruker data i sitt felles arkiv. Det vil være opp til tjenesteeier å etablere eget arkiv for sluttbruker.  Kanaler  Portal  Avhengigheter Lenketjenester forutsetter at man tar i bruk Autentisering og Autorisasjon i Altinn.\nTeknisk dokumentasjon  Guide for lenketjeneste Implementasjonsguide for tjenesteeier  "
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/sikkerhet/logging/",
	"title": "Logging",
	"tags": [],
	"description": "Altinnplattformen logger bruk av plattformen på en rekke måter. Logging av hendelser i løsningen skjer både i applikasjoner, databaser, i operativsystemet og i infrastrukturkomponenter.",
	"content": " Altinnplattformen logger bruk av plattformen på en rekke måter. Logging av hendelser i løsningen skjer både i applikasjoner, databaser, i operativsystemet og i infrastrukturkomponenter. Ulike komponenter har ulik rotasjonstid (sletting) basert på nødvendigheten for loggingen. Loggdata som ikke er relevant vil bli slettet.\nFordeler og muligheter Fordelen med å ta i bruk Altinn som plattform for tjenester er at man får med forskjellige type loggefunksjonalitet.\nAlle innlogginger av brukere blir logget med informasjon om tidspunkt og IP-adresse. Tilgang til data blir logget med tidspunkt og med informasjon om bruker og hvilke data som ble aksessert.\nHendelser som utfylling, signering, innsending blir logget i eventloggen og gir sluttbrukerne mulighet til selv se informasjon.\nVed behov kan Altinn teamet analysere logger for å hjelpe tjenesteeier.\nLoggene i Altinn er benyttes også til rettslige tvister.\nProdukter som tilbys  Autentiseringslogg Autorisasjonslogg Hendelseslogg (event)  Hvordan komme i gang? Logging er automatisk en del av tjenester i plattformen.\nKanaler  REST-API Web Service Portal  Avhengigheter Logging er ingen tjeneste man kan kjøre for seg selv, det er en del av andre tjenester man benytter i plattformen.\nTeknisk dokumentasjon  Funksjonell spesifikasjon – Sluttbrukerløsningen  "
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/dialog/melding/",
	"title": "Melding",
	"tags": [],
	"description": "Er en tjeneste som lar tjenesteeier sende informasjon i form av en melding som brukerne kan lese i Altinn-portalen eller laste ned til sitt datasystem.",
	"content": " Er en tjeneste som lar tjenesteeier sende informasjon i form av en melding som brukerne kan lese i Altinn-portalen eller laste ned til sitt datasystem. Meldingen kan også leses på etatens eget nettsted ved hjelp av Altinn sitt REST-API. Det er støtte i Altinn for at meldinger til privatpersoner kan videresendes til Digital postkasse for innbygger istedenfor eller i tillegg til at den legges i Altinn. Det kan sendes varsel på e-post og/eller sms til sluttbruker om at informasjon er gjort tilgjengelig.\nFordeler og muligheter Hvilke muligheter gir den\nMeldinger kan typisk være brev, vedtak, kvitteringer eller annen informasjon tjenesteeier ønsker å formidle til sine sluttbrukere. Meldingene støtter HTML og vedlegg og en melding kan:\n Være HTML basert (formatert visning i nettleser) Være XML basert med referanse til tilhørende visningsskjema (sende inn skjemadata som rendres med et InfoPath-skjema) Inneholde et eller flere binære vedlegg Være en kombinasjon av de over  Maks størrelse pr vedlegg for opplastning i portalen er 10 MB pr vedlegg.\nMeldinger kan sendes til en gitt person eller virksomhet basert på fødsels- eller organisasjonsnummer, og bruker(e) kan varsles med e-post og/eller sms om at informasjon er gjort tilgjengelig. Hvis ikke mottakeradresse/telefonnummer spesifiseres vil dette hentes hos Difi sitt Kontakt- og reservasjonsregister hvis meldingen er til en privatperson, og i Altinn sitt kontaktregister for virksomheter dersom meldingen er til en virksomhet. Hvis man ønsker så kan det sendes ut et påfølgende varsel (purring) dersom meldingen ikke er åpnet innen et gitt tidspunkt som er bestemt av tjenesteeier.\nTjenesteeier kan få informasjon om hvilke utsendte meldinger som er åpnet og kan eventuelt kreve at brukeren bekrefter mottaket innen en fastsatt frist.\nEn meldingstjeneste kan presenteres på flere språk. Altinn har foreløpig språkstøtte for bokmål, nynorsk og engelsk.\nHvis det er ønskelig kan meldingstjenester lagres i tjenesteeiers arkiv i Altinn. I dette arkivet kan tjenesteeier søke opp utsendte meldinger gjennom et nettlesergrensesnitt. Disse søkene tilbys også som webservices slik at tjenesteeier sitt system kan hente ut informasjon fra dette arkivet.\nFordeler  Sikker identifikasjon av mottaker Sikker dialog med bruker Bruker kan varsles på e-post og/eller sms om meldingen Altinn har oversikt over hvem som skal varsles - hvis ønskelig En og samme meldingstjeneste kan benyttes i flere sammenhenger Kan gi stor økonomisk gevinst sammenlignet med andre transportkanaler Tjenesteeier kan be om bekreftelse på at meldingen er lest Tjenesteeier kan få tilbakemelding på om meldinger er åpnet eller ikke Tjenesten kan benyttes sammen med andre tjenester i samspill for å realisere en dialog mellom sluttbruker og tjenesteeier Språkstøtte  Produkter som tilbys  Vedlegg Varsling Tjenesteeiers arkiv  Hvordan komme i gang Informasjon om hvordan man kommer i gang med å lage en meldingstjeneste\nRåd og tips Under utvikling\nKanaler  REST API Sluttbrukersystem  Avhengigheter Meldingstjenesten er en frittstående tjenestetype som kan benyttes i kombinasjon med andre tjenestetyper som innsendingstjenester eller som et element i en samhandlingstjeneste. Kan inneholde ulike typer vedlegg og kan kombineres med varslingsfunksjonalitet.\nTeknisk dokumentasjon  Funksjonell spesifikasjon – Sluttbrukerløsningen Implementasjonsguide for tjenesteeier  "
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/support/operativ-veiledning/",
	"title": "Operativ veiledning",
	"tags": [],
	"description": "Altinn Sentralforvaltning tilbyr rådgivning og veiledning for å kunne supportere tjenesteiere, sluttbrukersystemer og sluttbrukere.",
	"content": " Altinn Sentralforvaltning tilbyr rådgivning og veiledning for å kunne supportere Tjenesteiere, sluttbrukersystemer og sluttbrukere.\nDette er team med gode og kvalitative kunnskaper rundt produktene som benyttes i Altinn, de skal sikre en god og fremoverlent service for å gjøre det enkelt å ta i bruk Altinn med tilhørende produkter og tjenester.\nTa kontakt med ServiceDesken via selvbetjeningsportalen eller på tjenesteeier@altinn.no for å komme i dialog med oss\nServiceleder Er operativt ansvarlig for alle tjenesteeiere, sluttbrukersystemleverandører og andre utviklere/sluttbrukere som benytter Altinn løsningen med tilhørende grensesnitt.\nHva kan serviceleder bidra med?  kontaktpunkt ved kundedialog kontaktpunkt ved eskalerte hendelser kontaktpunkt ved klager er ansvarlig for drift og forvaltning av tjenestene i Altinn. er hovedansvarlig for å sikre totalleveransen i Altinn-samarbeidet (kontraktuelt, merkantilt og kvalitetsmessig  Tjenesteutviklingsveileder Målgruppe Tjenesteeiere og/eller konsulenter, som på vegne av en tjenesteeier trenger bistand knyttet til tjenesteutvikling i Altinn og Seres.\nHva kan tjenesteutviklingsveiledere bistå med: Tjenesteeier kan etter eget ønske få en tjenesteutviklingsveileder hos Altinn og Seres som bistår i tjenesteutviklingsprosessen slik at vi sammen kan realisere tjenesteeier sin tjeneste på en mest mulig effektiv måte. Tjenesteutviklingsveileder kan bidra med: - gjennomføring av oppstarts-workshop - behandling av løpende henvendelser underveis i prosjektet - å avholde jevnlig statusmøter - råd og veiledning knyttet til tjenesteutviklingsverktøyene\nLøsningsarkitekt Målgruppe: Tjenesteeiere som trenger bistand for å kunne se mulighetsrommet slik at de får en optimal utnyttelse av Altinn-plattformen.\nHva kan løsningsarkitektene bidra med?  bistand og rådgivning knyttet til analyse av forretningsprosesser bistand og rådgivning knyttet til tjenesteeiers behov bistand og rådgivning knyttet til utarbeidelse av løsninsforslag for hvordan løsningen kan brukes til å dekkes tjenesteeieres behov. følge opp tekniske spørsmål  "
},
{
	"uri": "https://altinn.github.io/docs/guides/mapperutvikling/prosessen/",
	"title": "Prosessen",
	"tags": [],
	"description": "Beskrivelse av hva man må gjøre for å utvikle, teste og produksjonssette en mapper",
	"content": " Generelt Dette dokumentet beskriver prosessene rundt utvikling og forvaltning av mapper.\nOm mapper En mapper er en komponent som muliggjør integrasjon mellom Altinn og tjenesteeiersystemer. Denne integrasjonen vil la en skjemautvikler kunne benytte seg av et rikt etatsspesifikt datasett. Dette muliggjør dermed en stor variasjon av tjenester som ellers ikke ville kunne utvikles på Altinn-plattformen.\nForutsetninger For å kunne utvikle en mapper er det en del forutsetninger som ligger til grunn.\n Brukernavn og passord for tilgang til selvbetjeningsportal ( https://selvbetjening.brreg.no) for bestilling av brannmuråpninger, produksjonssetting av mapper og andre tilganger. Dersom du ikke har brukernavn på selvbetjeningsportal, så kan dette bestilles ved å sende e-post til tjenesteeier@altinn.no\n Tilgang til utviklingsserver for mapper. Utviklere som har gjennomført Tjenesteutviklings- eller mapperkurs kan bestille tilgang til utviklingsserver for mappere. Bestilling gjøres i selvbetjeningsportal via bestillingsskjema «Tilgang til TUL og/eller SERES». I skjemaet må det avkrysses for «Ønskes det tilgang til avanserte tjenesteutviklingsverktøy (Visual studio og Team Foundation Server)?»\n Tilgang til TFS All mapperkode skal sjekkes inn og vedlikeholdes i TFS. Dette betinger at utvikler også har en brukerkonto i Altinns utviklingsmiljø AI-DEV. Bestilling av brukerkonto gjøres i selvbetjeningsportal via bestillingsskjema «Tilgang til Altinns utviklingsmiljø AI-DEV». I feltet «beskrivelse spesielle behov» så må det angis hvilke tjenesteeier(e) man skal utføre utviklingsoppdrag for.\n Åpning i brannmur hos altinn og tjenesteeier. For å kunne teste og bruke mapper, så må tjenesteeier åpne for trafikk inn fra mapper- og utviklingsserver. Informasjon om hvilke IP-adresser som trafikken vil komme fra, er distribuert til de respektive tjenesteeiere. I tillegg må det bestilles åpning for utgående trafikk fra Altinn til tjenesteeier. Bestilling av åpninger gjøres i selvbetjeningsportal via bestillingsskjema «Åpning i brannmur». I feltet Miljø anbefaler vi at det velges annet, og at man legger inn «Produksjon, TT02 og TUL» i feltet Spesifisér miljø. Man sikrer da at man får alle nødvendige åpninger på plass i en bestilling. For Tjenesteeiere som skal teste mappere i AT-Miljø, så må man også legge til dette. I feltet «Hva gjelder brannmuråpningen?», velges Mapper/ekstern tjeneste. For å sikre at man også får åpnet fra utviklingsserver bør man spesifisere i Andre opplysninger, at det også skal åpnes for trafikk fra utviklingsserver «VDEV»\n  Prosesser Utvikling Når nødvendige forutsetninger er oppfylt logger man på utviklingsserver via TUL og starter «Visual Studio Server». Du får da opp en RDP sesjon mot utviklingsserver. På utviklingsserver startes så opp Visual Studio, og man kan så koble seg til TFS på adressen http://tfs.ai-dev.brreg.no. Det er port 80 som benyttes.\nTesting Forutsatt at nødvendige brannmuråpninger er på plass hos altinn og tjenesteeier, så skal man kunne kjøre mapper på utviklingsserver, og utføre eventuelle enhetstester.\nProduksjonssetting Når mapper er ferdig testet bestilles produksjonssetting via selvbetjeningsportal.\nHer benyttes skjema «Produksjonsetting av tjenester, kodelister og mappere».\nI bestilling er det viktig at man angir navn på mapper, hvilket miljø man vil ha mapperen instalert i, teknisk kontaktperson med telefonnummer og hvor det er sjekket inn master/ branch, vi henter fra master om ikke annet er angitt.\nMapper blir sjekket ut og bygget, og installasjonsprosjektet blir testkjørt av oss før det oversendes leverandør for installasjon i respektive miljøer. Dette for å unngå åpenbare feilkilder i prodsettingen.\n"
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/kanaler/altinn-api/",
	"title": "REST-API",
	"tags": [],
	"description": "Altinn tilbyr et REST-API med autentisering ved hjelp av ID-Porten, virksomhetssertifikat eller brukernavn og passord som gjør det mulig å bruke tjenestene i Altinn i en app eller ekstern nettside. Altinn API-et er enkelt og gratis å bruke.",
	"content": " Altinn tilbyr et REST-API med autentisering ved hjelp av ID-Porten, virksomhetssertifikat eller brukernavn og passord som gjør det mulig å bruke tjenestene i Altinn i en app eller ekstern nettside. Altinn API-et er enkelt og gratis å bruke.\nFordeler og muligheter Altinn API-et er et grensesnitt mellom brukerne og komponentene som allerede finnes i Altinn. Dette grensesnittet muliggjør å bruke Altinn-innhold i for eksempel apper på smarttelefoner og andre nettportaler enn altinn.no. Altinn API benytter REST arkitekturstil, og baserer seg på en semantisk definisjon av innholdet. Strukturen i responsen fra API-et kan endre seg, men betydningen av elementene er den samme. Dette blir som når man navigerer seg inn på en vanlig nettside. Da kan en klient navigere seg inn i API-et ved å følge lenker med en definert betydning. Det er ikke sikkert at URL-en man var på sist fortsatt eksisterer, men det vil være mulig å bla eller søke seg tilbake til det samme innholdet fra forsiden. Fordelen med dette er at Altinn har mulighet til å bygge ut og omstrukturere innholdet i API-et uten at dette hindrer en klient fra å finne frem til innholdet den brukte fra før.\nLes mer om Altinn-API her\nProdukter som tilbys Ekstern tilgang til «Min Meldingsboks»  Hente ut skjema og meldinger\n Slette skjema og meldinger Filtrere skjema og meldinger  Sende inn fra eksterne skjema  Fylle ut og mellomlagre skjema Signere skjema Legge ved vedlegg eller benytte underskjema Hente preutfyllingsdata  Tilgang til innsynstjenester  Hente ut informasjon fra tjenesteeiers fagsystemer  Ekstern rolle- og rettighetsadministrasjon  Hente ut avgiverliste Administrere roller Administrere rettigheter Utføre delegeringer Hente informasjon om samtykkegivere  Ekstern tilgang til profilinformasjon  Hente kontaktinformasjon for virksomheter Hente kontaktinformasjon for privatpersoner  Hvordan komme i gang Beskrivelser av hvordan man får api-nøkkel og benytter API-et finner du her\nRåd og tips  Ved bruk av REST-API via portal er man avhengig av en gyldig ID-port sesjon både på Altinn og tjenesteiers portal. Nettlesere har i dag i større grad lagt inn sperre for cookies på tvers av domener. Legg derfor til rette for at bruker kan via sendt via Altinn under pålogging (vises ikke for sluttbruker) - beskrevet her. Skal dere utvikle egne apper for tjenester kan Altinns referanseapp være til inspirasjon på hvordan integrasjon kan gjøres.  Kanaler API-et baserer seg på de mekanismene som allerede finnes i HTTP-standarden og meldingshoder som brukes av vanlige nettlesere og webservere i dag. Altinn API støtter følgende formater:\n application/HAL+json application/HAL+xml application/xml application/json  Avhengigheter Altinns REST-api kan benyttes for innsendingstjenester, meldingstjenester, og innsynstjenester.\nHvilke tjenester som er mulig å sende inn data på over api-et er styrt av tjenesteeier. Tjenester som kan sendes inn over REST har flagget RestEnabled satt til true i metadata-ressursen.\nMer informasjon om det ligger her.\nTeknisk dokumentasjon Dokumentasjon om bruk av Altinn-API finnes her:\n https://altinn.no/api/help/ https://altinn.github.io/docs/api/  Altinn har tilgjengeliggjort referansekode for å gjøre det enklere for ulike tilbydere å lage applikasjoner med Altinn-funksjonalitet. Referansekoden ligger på Altinns repository på GitHub: https://github.com/Altinn/AltinnApp\n"
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/support/rammeavtale-konsulentbistand/",
	"title": "Rammeavtale konsulentbistand",
	"tags": [],
	"description": "Brønnøysundregistrene har inngått rammeavtaler på konsulentbistand for tjenesteutvikling i Altinn, som tjenesteeierne kan benytte seg av.",
	"content": " Brønnøysundregistrene har med virkning fra 10.05.2016 inngått rammeavtaler på konsulentbistand for tjenesteutvikling i Altinn. Disse rammeavtalene er etablert slik at i tillegg til Brønnøysundregistrene som oppdragsgiver, vil tjenesteeierne i Altinn-samarbeidet kunne avrope tjenester på disse rammeavtalene. Det er en forutsetning at det er etablert Altinn samarbeidsavtale med virksomheten og at bistand må være knyttet til tjenesteutvikling i Altinn (tjenesteutviklingsløsningen) med evt tilhørende tilleggstjenester.\nRammeavtalene har en varighet på 1 år, med opsjon for å forlenge avtalene med inntil 1+1+1 år.\nAvtale inngått av Brønnøysundregistrene Følgende leverandører er etter konkurransen tildelt kontrakt innenfor de enkelte fagområdene som konkurransen omfattet:\n    Accenture Knowit Dataess Sopra Steria Arkitektum     Fagområde 1 (tjeneste-/ skjemautvikling) x x x x   Fagområde 2 (tilleggstjenester innenfor mottakssystem utvikling/ implementering) x x x x   Fagområde 3 (tilleggstjenester innenfor kursgjennomføring) x x x x   Fagområde 4 (tilleggstjenester innenfor planlegging av tjenester) x x x x    Nærmere spesifisering av fagområdene – se konkurransegrunnlag\nDet er altså etablert parallelle rammeavtaler med flere leverandører. Avrop skal skje etter minikonkurranser.\nMinikonkurranse En rammeavtale er en avtale inngått mellom en eller flere oppdragsgivere og en eller flere leverandører, og som har til formål å fastsette vilkårene for de kontraktene som skal tildeles i løpet av en gitt periode særlig med hensyn til pris og eventuelt planlagte mengder.\nDet endelige valget av leverandør forutsetter en ny (forenklet) konkurranse mellom alle rammeavtaleleverandørene, i samsvar med nærmere angitte prosedyrer som sikrer gjennomsiktighet, likebehandling og objektive kriterier. Dette benevnes som minikonkurranse.\nGjennomføring av minikonkurranse skal bidra til å ivareta den enkelte tjenesteeiers egne og spesifikke behov knyttet til ønsket utført tjeneste innenfor avtalens ramme. Leverandørens leveranse innenfor et avrop skal bygge på avtaleverket. Tjenesteeiernes valg av leverandør skal foretas ut fra de samme tildelingskriterier som er gitt i konkurransen ifm etablering av rammeavtalene og med samme vektlegging, jfr konkurransegrunnlagets kap 13.3.\nHvordan ta i bruk avtalen Gjennomføring av minikonkurranse Prosedyrer for tildelinger av kontrakt (gjennomføring av minikonkurranse) finnes i bilag 2 til rammeavtalen. Tjenesteeier er selv ansvarlig for gjennomføringen av minikonkurransen og at anskaffelsen skjer iht forskrift om offentlige anskaffelser. Det forutsettes at tjenesteeier benytter og rådfører seg med sitt eget innkjøpsfaglige personell i denne sammenheng.\nVi ønsker å presisere følgende grunnleggende prosesser\n Før tjenesteeier starter gjennomføring av minikonkurransen må det bes om fullmakt ved å sende en henvendelse via selvbetjeningsportalen (benytt skjema for support) eller via e-post til tjenesteeier@altinn.no I henvendelsen gir dere en kort beskrivelse av bistandsbehovet hos tjenesteeier. Tjenesteeier skal starte gjennomføringen av minikonkurransen ved å henvende seg til samtlige leverandører (se etterfølgende kontaktliste). I henvendelsen skal tjenesteeier beskrive sitt konkrete behov til bistand (kravspesifikasjon) og be om tilbud på kompetanse, kapasitet og pris iht etablert rammeavtale. Tjenesteeier har ikke anledning til å utelate en eller flere av leverandørene. Tjenesteeier skal ikke foreta utlysning, verken i DOFFIN eller TED-Luxembourg. Tjenesteeier gir leverandørene en frist på minimum 10 virkedager for å besvare henvendelsen. Tjenesteeier skal motta skriftlig svar fra leverandørene i form av brev, faks eller e-post. Det er viktig at korrespondansen er sporbar og kan dokumenteres i ettertid. Tjenesteeierne må kontrollere at prisene som benyttes ved valg av leverandør, ikke overstiger rammeavtalens maksimalpriser. (jf. vedlegg 5 til avtalene). Det er anledning til å avtale lavere priser enn de som inngår i rammeavtalene. Tjenesteeier velger den leverandør som har det beste tilbudet på grunnlag av de to tildelingskriteriene som er beskrevet i konkurransegrunnlagets kap 13.3.     Tildelingskriterier Vekting     Pris 35%   Kvalitet (de tilbudte konsulenters kompetanse og erfaring) 65%     Tjenesteeier har ikke anledning til å benytte andre tildelingskriterier enn disse. Tjenesteeier skal vurdere sitt valg av leverandør(er) gjennom en protokoll. Brønnøysundregistrene anbefaler at den enkle protokollen for anskaffelser, som følger forskrift om offentlige anskaffelser, benyttes.  Dersom du har spørsmål angående rammeavtalen er det bare å ta kontakt på tjenesteeier@altinn.no\nKontaktpunkter hos leverandørene    Leverandør Kontaktinformasjon     Accenture Tonje Sandberg\ntonje.sandberg@accenture.com\n906 06 491   Arkitektum Hallstein Søvik\nhallstein@arkitektum.no\n982 200 07   Knowit Dataess Bjørn Deverill-Mathissen\nbjorn.deverill-mathisen@knowit.no\n993 63 100   Sopra Steria Bjørn von der Fehr\nbjorn.fehr@soprasteria.com\n928 86 222    Nyttig informasjon knyttet til avtalen  Avtalene er tilgjengelige på Altinn dokumentsenter. Prisbilagene ligger ikke tilgjengelige på Altinn dokumentsenter. Ved behov kan disse forespørres levert fra tjenesteeier@altinn.no. Prisene gitt fra leverandørene i avtalene er maksimalpriser. Når leverandørene skal levere tilbud på konkrete oppdrag i avtaleperioden (Avrop etter minikonkurranse), vil leverandørene kunne tilby lavere priser. Rammeavtalen som er etablert inneholder områder for aktiviteter som kan gjøres forut for en tjenesteutvikling, f.eks bistand til planlegging og utvikling/implementering av mottakssystem.  "
},
{
	"uri": "https://altinn.github.io/docs/api/sluttbruker/diverse/referanse-app/",
	"title": "Referanse-app",
	"tags": [],
	"description": "Altinn har tilgjengeliggjort referansekode for å gjøre det enklere å lage applikasjoner med Altinn-funksjonalitet.",
	"content": "Altinn har tilgjengeliggjort referansekode for å gjøre det enklere å lage applikasjoner med Altinn-funksjonalitet.\nReferansekoden ligger på Altinns repository på GitHub: https://github.com/Altinn/AltinnApp/\nLisensen for denne koden er type BSD 3-klausul-lisens, noe som gir et godt grunnlag for de som ønsker å tilpasse koden til den bruken de måtte ønske. For å sikre at API-et som er brukt i referansekoden ikke misbrukes, krever Altinn at de som ønsker å benytte det registrerer sin applikasjon.\n"
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/dialog/samhandling/",
	"title": "Samhandling",
	"tags": [],
	"description": "Er en sammensetning av flere enkeltstående tjenester til en helhetlig prosess mellom en eller flere sluttbrukere og en eller flere offentlige virksomheter.",
	"content": " Er en sammensetning av flere enkeltstående tjenester til en helhetlig prosess mellom en eller flere sluttbrukere og en eller flere offentlige virksomheter. De ulike enkelttjenestene grupperes og presenteres for sluttbruker på en arbeidsflate. Arbeidsflaten kan samtidig gi veiledning og støtte i prosess og regelverk.\nFordeler og muligheter En samhandlingstjeneste styrer sluttbruker gjennom en naturlig arbeidsflyt/prosess der definerte hendelser flytter samhandlingstjenesten fra steg til steg. Logging og sporing gjør at prosessforløpet kan spores uten avbrudd tilbake til utgangspunktet selv om prosessen går over tid og ulike aktører utfører sine steg én eller flere ganger.\nI sin enkleste form kan en samhandlingstjeneste samle tjenester som inngår i en enkel sekvensiell prosess mellom én avgiver og én tjenesteeier. Et eksempel på dette kan være at man sender inn søknad, mottar svar, sender eventuelt klage og mottar svar.\nI mer komplekse tilfeller kan samhandlingstjenesten involvere flere tjenesteeiere og/eller tillate svært mange alternative løp, avhengig av sluttbrukers handlinger kombinert med utfallet av enkelttjenestene som inngår i den.\nFordeler  Sikkerhet Flere aktører kan involveres i samme tjeneste Valideringer og hjelp om man ønsker Elektronisk signering Realisere en dialog mellom sluttbruker og tjenesteeier(e) Språkstøtte Generering av PDF for utskrift og arkivering Håndtering av prosessflyter (mulig med flere signeringer, betaling)  Produkter som tilbys Under utvikling\nHvordan komme i gang Under utvikling\nRåd og tips Under utvikling\nKanaler Under utvikling\nAvhengigheter Under utvikling\nTeknisk dokumentasjon  Funksjonell spesifikasjon – Sluttbrukerløsningen Brukerdokumentasjon TUL Implementasjonsguide for tjenesteeier  "
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/dialog/samtykke/",
	"title": "Samtykke",
	"tags": [],
	"description": "Gjennom samtykkeløsningen i Altinn kan personer/organisasjoner gi samtykke til at en tredjepart (offentlige og private virksomheter) får midlertidig innsynsrett på et spesifikt sett med opplysninger om dem som tidligere er innhentet.",
	"content": " Gjennom samtykkeløsningen i Altinn kan personer/organisasjoner gi samtykke til at en tredjepart (offentlige og private virksomheter) får midlertidig innsynsrett på et spesifikt sett med opplysninger om dem som tidligere er innhentet. Dette kan for eksempel være ligningsdata fra Skatteetaten.\nMed sluttbrukerens samtykke vil tredjepart automatisk bli tildelt en tidsbegrenset lese-rettighet for en eller flere sett av opplysninger representert ved tjenester i Altinn.\nFordeler og muligheter Samtykkeløsningen gir datakilder tilgang til å dele data de allerede har samlet inn på en person eller en organisasjon med en tredjepart som trenger de samme opplysningene. Løsningen kan utnyttes i en pågående prosess hos tredjepart hvor brukeren må gi samtykke til å innhente gitte opplysninger som en del av prosessen. Dette skjer ved at bruker sendes til en egen samtykkeside i Altinn. Siden støtter videreføring tilbake til tredjepart etter at bruker har gitt samtykke. For å kunne gi et samtykke må brukeren først identifisere seg med en elektronisk ID i den felles offentlige innloggingsløsningen ID-porten.\nTredjepart angir hvilke opplysninger det ønskes midlertidig innsyn i, hvor lenge innsynet skal vare og i hvilken kontekst opplysningene skal benyttes. Dette angir tredjepart som input til samtykkesiden. Datakilden har på forhånd navngitt settet av opplysninger og angitt overordnet og detaljert beskrivelse av opplysningene det vil bli gitt tilgang til.\nDet er frivillig for brukeren om han ønsker å samtykke så han kan også velge å ikke gi samtykke. I Altinn vil alle samtykker logges slik at brukeren til en hver tid har oversikt over avgitte, slettede og opphørte samtykker. Bruker har her også muligheten til å trekke et samtykke han tidligere har gitt slik at innsynsretten stoppes.\nDet er støtte for to ulike dataflyter for overføringen av data etter at samtykket er gitt. Dataflyten kan gå gjennom Altinn eller den kan gå direkte mellom datakilde og tredjepart. Dersom overføringen av data skal gå gjennom Altinn benyttes en innsynstjeneste i Altinn. Tredjepart vil da knytte seg til Altinn for å be om data fra datakilden. Altinn autoriserer og videreformidler forespørselen til datakildene og returnerer datasettet ved autorisert tilgang. Dersom innsynet skjer direkte mellom datakilde og tredjepart benyttes en lenketjeneste. Her vil tredjepart etter at bruker har avgitt samtykke få en autorisasjonskode, som igjen kan brukes til å motta et signert autorisasjons-token. Tokenet gir informasjon om samtykket som er gitt, varighet og hvilke datasett det gjelder og benyttes overfor datakilde for å hente ut data.\nFordeler for tredjepart:  Enklere å kunne hente data direkte og strukturert Kundeinformasjonen er valid og krever ikke kontroll Gir økt effektivitet til ulike prosesser. Digital tilgang til brukerens data i en begrenset periode for å kunne utnytte dataene i en digital prosess med et avgrenset formål  Fordeler for sluttbruker:  Enklere og ukomplisert «avlevering» av etterspurt informasjon Gir større trygghet i situasjonen for kunden, - ikke krevende, forvirrende eller tidkrevende Vil kunne se hvilke data man har delt med hvem og når  Fordeler for datakilde:  Slipper henvendelser fra brukerne på å få f.eks. ligningspapirer, regnskapsopplysninger En sikker og brukerautorisert måte kunne gi eksterne parter tilgang til brukers data  Råd og tips  Samtykke kan knyttes til alle tjenester som har definert samtykketekst Utform samtykketeksten slik at sluttbruker forstår hva man gir samtykke til. Hvis du lar datakonsument aksessere data gjennom Altinn kan Altinn håndtere autorisasjonen. Dette sparer kompleksitet på datakonsument siden som kan velge å stole på Altinn.  Kanaler  Samtykke gis i portal og data kan aksesseres via REST eller webservice. Flyt utenom Altinn er også mulig. Varslingstjenesten  Avhengigheter Samtykke knyttes til innsyn eller lenketjenester.\nTeknisk dokumentasjon Samtykkeløsning med bruk av token\n"
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/sikkerhet/signering/",
	"title": "Signering",
	"tags": [],
	"description": "Altinn støtter signering av data som bruker skal sende inn. Dette sikrer at brukeren bekrefter innholdet før tjenesteeier mottar data.",
	"content": " Altinn støtter signering av data som bruker skal sende inn. Dette sikrer at brukeren bekrefter innholdet før tjenesteeier mottar data.\nFordeler og muligheter Altinn støtter signeringsfunksjonalitet på innsendingstjenester. Dette betyr at tjenesteeier kan sette opp at som del av arbeidsflyten for utfylling av en innsendingstjeneste skal det signeres en eller flere ganger.\nKravet vil typisk knyttes opp mot en gitt rolle i Altinn for at tjenesteeier skal kunne på en god må definere hvem som må signere en innsending.\nSigneringen kan styres av innhold i skjema slik at man f.eks. kan tvinge at revisor signerer i tilfeller hvor et gitt beløp overstiger en grense. Dette kalles betinget signering.\nAltinn støtter også at tjenesteeier definerer deler av skjema som kilde til hvem som skal signere. Dette kan f.eks. bety at bruker fyller ut informasjon om en person eller organisasjon i skjema og at basert på dette så må disse signere på skjema. Dette kalles automatisk parallell signering.\nHvis du har ekstra høye krav til sikkerhet kan du kreve at signering skjer med BankID eller Buypass.\nProdukter som tilbys  Enkel signering Betinget signering Parallell signering Automatisk parallell signering Nivå 4 signering med BankID og Buypass.  Hvordan komme i gang? I utviklingshåndboken er det beskrevet hvordan man setter opp signering på innsendingstjenester.\nRåd og tips Hvis du har behov for å kunne sende inn via sluttbrukersystem må sikkerhetsnivå settes til nivå 2 for signering.\nKanaler  REST-API Web Services Portal  Avhengigheter Signering kan kun brukes sammen med innsendingstjenester.\nTeknisk dokumentasjon  Funksjonell spesifikasjon – Sluttbrukerløsningen  "
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/sikkerhet/",
	"title": "Sikkerhet",
	"tags": [],
	"description": "Altinn tilbyr omfattende sikkerhetsfunksjonalitet for å gi en trygg og sikker opplevelse både for tjenesteeiere og sluttbrukere.",
	"content": "Altinn tilbyr omfattende sikkerhetsfunksjonalitet for å gi en trygg og sikker opplevelse både for tjenesteeiere og sluttbrukere.\n\rAutentisering\r\rAltinnplattformen har innebygd en rekke mekanismer for autentisering.\n\rAutorisasjon\r\rAutorisasjonskomponenten i Altinn er svært funksjonsrik og gir et kraftig verktøy til tjenesteeiere for å kunne styre tilgang til tjenester.\n\rLogging\r\rAltinnplattformen logger bruk av plattformen på en rekke måter. Logging av hendelser i løsningen skjer både i applikasjoner, databaser, i operativsystemet og i infrastrukturkomponenter.\n\rSignering\r\rAltinn støtter signering av data som bruker skal sende inn. Dette sikrer at brukeren bekrefter innholdet før tjenesteeier mottar data.\n\r"
},
{
	"uri": "https://altinn.github.io/docs/altinncore/slide/",
	"title": "Slide",
	"tags": [],
	"description": "En presentasjon om målsettinger og konsepter for tjenester 3.0",
	"content": " Tjenester 3.0 Status Se siste status her.\nHva er tjenester 3.0? 4 overordnede målsettinger\u0026hellip;\nModerne tjenester  Brukervennlige og effektive tjenester Responsivt design Universell utforming God ytelse og lav responstid Basert på moderne og åpne web-standarder  Effektiv tjenesteutvikling  100% selvbetjening Effektiv og automatisert testing Parallell utvikling (basert på Git) Enkel datamodellering Åpen plattform med API\u0026rsquo;er  Enkelt for fagperson, fleksibelt for utvikler  Fagpersoner benytter nettleser Utviklere kan også bruke kode-editor Kan utvides av andre systemer  Åpen kildekode, cross-platform  Basert på åpen kildekode Deles som åpen kildekode Alle kan gjenbruke, og bidra til forbedringer Raskere videreutvikling Støtter Windows, macOS og Linux  Konsepter 6 konsepter\u0026hellip;\nGit som back-end  Alt som utvikles får full versjonshistorikk Enkel og rask deploy Ekte distribuert og parallell utvikling Back-end både for nettleser og kode-editor Git støttes av veldig mange verktøy  Nærhet til web-teknologi  Alt er basert på standard web-teknologi Verktøy blir aldri \u0026ldquo;i veien\u0026rdquo; eller utdatert Standard utviklerkompetanse Ingen proprietære verktøy som må læres  Effektiv testing  Støtte for automatisert testing Behøver ikke migrere for å få reell test Gjenbruker gjennomtestede komponenter Endringer i plattform gjøres kun ett sted  Enkelt å tilpasse  Alle deler av løsningen skal kunne \u0026ldquo;byttes ut\u0026rdquo; Kan utvides med egne widgets, maler, stilark, etc. Gjenbruk og overstyrbare defaults på alle nivåer API\u0026rsquo;er og Git som back-end gjør det enkelt å integrere andre systemer  Åpen kildekode  Tjenester 3.0 skal være åpen kildekode Vi skal benytte programvare med fri lisensiering, type MIT, Apache 2 eller BSD Vi skal bidra tilbake til prosjekter som vi benytter Ingen lisensutgifter  Cross-platform  Kan kjøre på både Windows, Linux og macOS Unngår låsing mot en enkelt plattform Kan kjøre lokalt på en laptop Muliggjør distribuert lokal utvikling og testing  Motivasjon Se Archimate arkitekturmodell.\nThe End Tilbake\n"
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/support/sluttbrukersystem/",
	"title": "Sluttbrukersystem",
	"tags": [],
	"description": "Altinn tilbyr støtte for åpne grensesnitt, og har helt siden starten i 2003 jobbet for størst mulig grad av integrasjon mot datasystemene som brukes i næringslivet og blant de profesjonelle brukerne.",
	"content": "Altinn tilbyr støtte for åpne grensesnitt, og har helt siden starten i 2003 jobbet for størst mulig grad av integrasjon mot datasystemene som brukes i næringslivet og blant de profesjonelle brukerne.\nMer informasjon om integrasjon av datasystemer mot Altinn\n"
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/support/statistikk/",
	"title": "Statistikk og rapporter",
	"tags": [],
	"description": "Altinn leverer ulike statistikker og rapporter til Tjenesteeiere.",
	"content": " Altinn leverer ulike statistikker og rapporter til Tjenesteeiere. Se beskrivelsen under menyvalget Statistikk eller Rapporter, over hva som er en del av leveranser for de tjenesteiere som har avtale med Altinn.\nAndre spesialrapporter må bestilles særskilt.\nStatistikk I Altinn tilbyr vi ulike typer statistikker.\n Transaksjoner. Denne statistikken viser en oversikt over alle transaksjoner siste måned. Disse kan sorteres og filtreres blant annet per tjenesteeier, per tjeneste, per sluttbrukersystem osv. Grensesnitt. Denne daglige statistikken viser status, inkludert antall overføringer, for abonnement og batch. Påloggings. Denne statistikken viser bruken av Altinns egne innloggingsmetoder, og har sammenligning mot fjoråret. PSA. Statistikk rundt bruk av selvangivelsesskjemaene.  Alle statistikker finner du på statstikkområdet på dokumentsenteret.\nAndre spesifikke kundenære statistikker må bestilles særskilt.\nRapportering Standard rapporter som leveres Tjenesteeiere er: - Månedlig Service Rapport\n"
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/",
	"title": "Tjenestekatalog",
	"tags": [],
	"description": "Oversikt over funksjonaliteten som tilbys av Altinn-plattformen og Altinn-organisasjonen.",
	"content": "Tjenestekatalogen skal gi en samlet oversikt over tjenestene vi tilbyr til enhver tid, samt sikre at våre samarbeidspartnere, tjenesteeiere, sluttbrukere og sluttbrukersystemer har en omforent forståelse av nytteverdien av tjenestene som Altinn-samarbeidet tilbyr.\nNB! Tjenestekatalogen er fortsatt under utvikling.\n\r\rDigital dialog\r\rGir en oversikt over de tjenestenetypene som Altinn tilbyr samt annen funksjonalitet som understøtter digital dialog.\n\rKanaler\r\rGir en oversikt over hvilke alternative måter tjenesteeiere, sluttbrukersystem og andre kan integrere seg mot Altinn på.\n\rSupport\r\rBestår av generelle tjenester som veiledning, kurs, support og rapportering fra Altinn Sentralforvaltning mot Tjenesteeiere, Sluttbrukere, Sluttbrukersystemer og andre samarbeidspartnere i markedet. \rSikkerhet\r\rAltinn tilbyr omfattende sikkerhetsfunksjonalitet for å gi en trygg og sikker opplevelse både for tjenesteeiere og sluttbrukere.\n\r"
},
{
	"uri": "https://altinn.github.io/docs/altinncore/",
	"title": "Tjenester 3.0",
	"tags": [],
	"description": "Dette er levende dokumentasjon (under arbeid) for tjenester 3.0, neste generasjon av offentlige tjenester.",
	"content": "Dette er levende dokumentasjon (under arbeid) for tjenester 3.0, neste generasjon av offentlige tjenester.\nEtter hvert vil også kildekoden for 3.0 legges ut åpent på github.com/altinn.\n\rMålsettinger\r\rOverordnede målsettinger for 3.0.\n\rStatus\r\rStatus på arbeidet med 3.0.\n\rSatsingsforslag 2018\r\rKort oppsummering av satsingsforslag for 2018.\n\rArkitektur\r\rBeskrivelse av arkitekturen til 3.0.\n\rFAQ\r\rOfte stilte spørsmål.\n\rSlide\r\rEn presentasjon om målsettinger og konsepter for tjenester 3.0\n\r"
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/dialog/varsling/",
	"title": "Varsling",
	"tags": [],
	"description": "Er en tjeneste som kan benyttes til å varsle brukere på e-post og/eller sms når en melding eller et skjema er gjort tilgjengelig i meldingsboksen i Altinn.",
	"content": " Er en tjeneste som kan benyttes til å varsle brukere på e-post og/eller sms når en melding eller et skjema er gjort tilgjengelig i meldingsboksen i Altinn. Det kan også sendes frittstående varsel som ikke er knyttet til en tjeneste.\nFordeler og muligheter Varsel sendes basert på informasjon om konkret angitte adresser, mobiltelefonnummer og/eller e-post adresse eller ved å oppgi kun fødselsnummer eller organisasjonsnummer. For fødselsnummer hentes informasjonen fra Difi sitt kontakt- og reservasjonsregister og for organisasjonsnummer benyttes informasjonen som ligger på enheten i Altinn sitt kontaktregister. Dette inneholder både kontaktinformasjonen som er angitt i Enhetsregisteret i tillegg til informasjon lagt inn av organisasjonen selv.\nVarslene kan sendes ut både på e-post og SMS.\nAltinn har mulighet til å sende ut varsler til sluttbrukerne når tjenesteeier sender meldinger eller legger ut helt eller delvis forhåndsutfylte skjema i sluttbrukers meldingsboks. Det kan også sendes ut frittstående varsel som ikke er knyttet til en bestemt melding eller skjema.\nVarslene må være definert i Altinn før de kan benyttes av tjenesteeier. Altinn har flere generelle varselmaler som kan benyttes. I tillegg er det mulig å bestille egne maler.\nTjenesteeier må selv spesifisere type mottakeradresse, tidspunkt for varsel, språk for varsel og hvilken varselmal som skal benyttes. Varslene sendes innenfor gitte tidspunkter. Som hovedregel sendes det ikke ut varsler på helligdager eller utenfor vanlig arbeidstid.\nFordeler ved bruk av tjenesten  Sikker dialog med bruker Tjenesteeier varsler når han ønsker Altinn har oversikt over hvem som skal varsles - hvis ønskelig Dialog: benytte tjenesten sammen med andre tjenester i samspill for å realisere en dialog mellom sluttbruker og tjenesteeier Språkstøtte  Produkter som tilbys  Varsling på e-post Varsling på sms Påfølgende varsel (purring) dersom meldingen ikke er åpnet innen et gitt tidspunkt  Hvordan komme i gang Under utvikling\nRåd og tips Under utvikling\nKanaler Under utvikling\nAvhengigheter Under utvikling\nTeknisk dokumentasjon  Implementasjonsguide for tjenesteeier  "
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/kanaler/grensesnitt-sluttbrukersystem/",
	"title": "Web services",
	"tags": [],
	"description": "Altinn støtter åpne grensesnitt og har helt siden starten jobbet for størst mulig grad av integrasjon mot datasystemene som brukes i næringslivet og blant de profesjonelle brukerne.",
	"content": " Altinn støtter åpne grensesnitt og har helt siden starten jobbet for størst mulig grad av integrasjon mot datasystemene som brukes i næringslivet og blant de profesjonelle brukerne. For datasystemer er det webservices som tilbys som integrasjonsgrensesnitt inn mot de tjenester Altinn tilbyr.\nFordeler og muligheter Tilgang til tjenester og generell funksjonalitet i Altinn tilbys sluttbrukere uten at man trenger å være pålogget i portalen. Regnskapsførere, revisorer og andre større virksomheter som utfører mesteparten av sitt arbeid i et datasystem sender direkte fra systemet over til Altinn. Det har også blitt vanlig blant mindre aktører å bruke datasystem i forbindelse med innsending til Altinn da dette støtter opp om arbeidsprosessen til brukerne.\nFor sluttbrukersystemer er det webservices som tilbys som integrasjonsgrensesnitt inn mot de tjenestene Altinn tilbyr. Det tilbys flere tjenester innenfor flere funksjonelle områder og en egen Implementasjonsguide for sluttbrukersystemer beskriver hvilken funksjonalitet som finnes med referanser til hvilke webservices som benyttes.\nEieren av et sluttbrukersystem må registrere dette i Altinn slik at Altinn har mulighet til å autentisere og autorisere systemet på vegne av en avgiver. Ved registrering i portalen opprettes en unik sluttbrukersystemidentifikator og denne identifikatoren sendes med i alle webservice kall som gjøres mot Altinn.\nKvitterings- og sporingsmekanismer ivaretar behov for tilbakemelding på det som er utført og sporing av data som er utvekslet gjennom plattformen.\nProdukter som tilbys  Autentisering og autorisasjon av sluttbrukersystem og brukere Benytte innsendingstjeneste Benytte meldingstjeneste Benytte formidlingstjeneste Benytte innsynstjeneste Benytte samhandlingstjeneste  Hvordan komme i gang Informasjon om hvordan man integrerer et sluttbrukersystem mot Altinn finnes her.\nRåd og tips Under utvikling\nKanaler Under utvikling\nAvhengigheter Under utvikling\nTeknisk dokumentasjon  Implementasjonsguide for sluttbrukersystemer  "
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/kanaler/grensesnitt-tjenesteeier/",
	"title": "Tjenesteeier",
	"tags": [],
	"description": "Tjenesteeier må etablere et grensesnitt mellom sine etatssystemer og Altinn for å sende og motta data.",
	"content": " Tjenesteeier må etablere et grensesnitt mellom sine etatssystemer og Altinn for å sende og motta data. Altinn tilbyr to forskjellige grensesnitt for de fleste funksjonelle integrasjonpunkter. Via webservice hvor tjenestekontrakter beskriver format for data og via batch på definerte standardformater. I tillegg er det mulig å velge at data fra en innsendingstjeneste legges i en DownloadQueue som tjenesteeier kan hente ut ved å sende en forespørsel til Altinn.\nFordeler og muligheter Integrasjon via webservice muliggjør umiddelbar kommunikasjon og tilbakemelding på forespørsler. Formater for integrasjon i Altinn er nesten utelukkende basert på bruk av XML. Ved bruk av webservicer blir tjenesteeier sitt system autentisert og autorisert før det kan utføre operasjoner mot Altinn. Tjenesteeiers system må være registrert i Altinn og passord mottatt før tjenestene kan benyttes.\nVed bruk av batch grensesnitt/filbasert integrasjon med Altinn benyttes FTP protokollen, fortrinnsvis SFTP (FTP over SSH), og det finnes to fremgangsmåter. Altinn kan hente data fra tjenesteeier sitt system eller tjenesteeier kan levere data på et definert Altinn område, dvs. SFTP server må etableres av ekstern part. Detaljer og tilpasning av den filbaserte overføringen avklares ved etablering.\nSom en tommelfingerregel kan man si at skal man overføre færre enn 100 elementer (alternativt mindre enn 30 MB) kan man benytte web service grensesnitt, men for store datamengder bør batch-grensesnitt benyttes. Tommelfingerregelen er scenarioavhengig og ingen absoluttgrense. For overføring av store datamengder er det vel så viktig at eksterne systemer er optimalt konfigurert iht. ønsket grensesnitt.\nVed bruk av DownloadQueue tar tjenesteeier initiativet og henter data fra en innsendingstjeneste fra Altinn. En slik løsning stiller mindre krav til tjenesteeier sitt system. DownloadQueue anbefales for mindre tjenesteordninger uten stort trykk ved innsendingsfrister. Dersom det er ønskelig å bruke DownloadQueue på større tjenesteordninger må dette avklares med Altinn først.\nProdukter som tilbys Innsendingstjenester  innsending av prefilldata innsending av abonnementsdata mottak av ferdig utfylte innsendinger fra Altinn uthenting av innsendte data fra tjenesteeiers eget arkiv uthenting av kvittering for status på innsending  Meldingstjenester  sende inn meldingstjenester motta meldingsbekreftelse sjekke status på meldingstjenester  Lenketjeneste  identifisere avgiver etterspørre informasjon om hvilke avgivere en bruker kan representere  Formidlingstjeneste  transportere data via web service eller SFTP kanal, både for opp- og nedlasting benytte tjenesteeierstyrt rettighetsregister for å begrense hvem som har tilgang til opp- og nedlasting av spesifikke tjenester kvittering for status på overførte data  Innsynstjenester  motta informasjon om brukere som har aktivert en innsynstjeneste  Samhandlingstjeneste  instansier en samhandlingstjeneste hente ut kjørende instanser av samhandlingstjenester knytte innsendingstjeneste til sak knytte meldingstjeneste til sak sett merknad på sak eller underliggende tjeneste sende hendelse til sak  Kvitteringer  hente kvitteringer for innsendte data kvittere for mottak av data hente lister med kvitteringer  Frittstående varsel  sende varsel til fødselsnummer eller organisasjonsnummer uten at varselet trenger å være tilknyttet en tjeneste  Autorisasjon  importere eksterne ressurser og regler for å avgjøre tilgang ved hjelp av tilgangsmekanismen i Altinn etter å ha importert eksterne regler kan det gjøres kall mot Altinn for å benytte Altinns autorisasjonskomponent hente roller  Uthenting av tiltrodd tredjeparts logg  tjenesteeiere vil ha muligheten til å hente ut logg over alle hendelser for innsendte innsendingstjenester  Hvordan komme i gang Under utvikling\nRåd og tips Under utvikling\nKanaler  Webservices: Overføring av data i sanntid. Tjenesteeier må etablere dedikert webservice angitt av Altinn på egen plattform, og motta innsendinger automatisk etter hvert som de arkiveres. Batch: Satsvis overføring av data. Kan leveres til en tjenesteeiers mottakssystem dersom det er etablert, eller tjenesteeier kan hente data på et definert Altinn område. DownloadQueue: Tjenesteeier henter data fra en kø ved bruk av webservice.  Avhengigheter Under utvikling\nTeknisk dokumentasjon  Implementasjonsguide for tjenesteeier  "
},
{
	"uri": "https://altinn.github.io/docs/releases/2015/15-2/",
	"title": "15.2",
	"tags": [],
	"description": "Ny formidlingstjeneste, forenklet registrering av kontaktinformasjon, forbedret parallell signering, delegering via REST API, +++",
	"content": " Release 15.2, produksjonssatt 11. juni, 2015.\nDenne versjonen inneholder flere store endringer, blant annet en ny tjenestetype, og store forandringer i registrering av kontaktinformasjon.\nEndringene for kontaktinformasjon gjøres for å sikre at Altinn skal være godt egnet for tjenesteeiere som benytter tjenester til virksomheter som krever varsling. Her gjøres det endringer både på brukersiden med et forenklet, moderne design, og mot tjenesteeierne for å sikre kontroll på at varsel sendes ut til de riktige varslingsadressene.\nTjenester Ny tjenestetype for transport av data (16230) Vi gjør det mulig å lage tjenester for utveksling av store datafiler mellom ulike aktører. En avsender vil laste opp data til Altinn, som vil sørge for at dataene blir tilgjengelig for nedlasting for de angitte mottakerne. Det skal være mulig å bruke de nye tjenestene både via webservice og SFTP.\nParallell signering – bedret informasjon ved signering av flere (17528) Justering av hvilken informasjon som vises i situasjoner der man selv har signert, mens man venter på at andre skal signere.\nStyring av parallell signering (18230) Forbedring av funksjonaliteten for parallell signering, slik at det blir mulig å styre hva de ulike signererne skal signere. Dette er nødvendig for den planlagte tjenesten for elektronisk stiftelse av aksjeselskap.\nInstansiering av innsendingstjenester fra dialogsider i samhandlingstjeneste (16151) Det innføres mulighet for eier av samhandlingstjenester å definere at tjenester som startes mens man er inne i samhandlingstjenesten må sendes inn av aktøren som har samhandlingstjenesten.\nFeilretting: Regelmotor og SERES ved like felter (18075) Feilretting for å få regelmotoren til å håndtere at felter som er definert i SERES kan ha samme navn.\nFeilretting: Problem med caching i regelmotor (18442) Regelmotor får støtte for at ulike tjenester/tjenesteutgaver skal kunne bruke ulike versjoner av samme skjema. Dette ble tidligere ikke unikt identifisert ved lasting fra cache.\nTilgangsstyring og kontaktinformasjon Forenklet/forbedret registrering av kontaktinformasjon (17415) Dagens \u0026ldquo;Min profil\u0026rdquo; erstattes med en ny side for registrering av kontaktinformasjon. Denne siden vil ha et mer moderne, responsivt design (som tilpasser seg ulike skjermstørrelser). I tillegg vil det innføres mulighet for personlige varsel for en virksomhet (for tjenester man har tilgang til). Det legges også opp til større grad av validering av kontaktinformasjonen som legges inn.\nOppdatert 19.05.15: Denne endringen leveres med nytt design og funksjonalitet for personlige varsel i versjon 15.2. Det gjøres også relevante endringer i grensesnittet mot tjenesteeierne for å sikre oversikt over hvem som har fått varsel både for meldingstjenester og ved frittstående varsel.\nForenklet/forbedret tilgangsstyringsfunksjonalitet (17593) Dagens \u0026ldquo;Tilgangsstyring\u0026rdquo; integreres med ny side for registrering av kontaktinformasjon. Denne siden vil gjøre det mer intuitivt å finne ut av hvem som har tilgang til hva for en virksomhet, og å delegere disse tilgangene videre. Den vil også ha et mer moderne, responsivt design (som tilpasser seg ulike skjermstørrelser).\nOppdatert 19.05.15: Endringer på tilgangsstyringsområdet vil ikke bli produksjonssatt i versjon 15.2. Det leveres kun et konsept på hvordan dette kan løses.\nVarsler (sms/e-post) Prioritet på varsler (sms/e-post) (17330) Forbedring av funksjonaliteten for å prioritere varsler (sms/e-post) ved utsending av store mengder varsler, slik at ikke en masseutsending av (mindre tidskritiske) varslinger fører til at mer akutte varsel blir liggende lenge i kø i påvente av at massevarslene sendes ut.\nUtvidelse av standardmakroer for varsling (18101) Vi utvider hvilke mulige identifikatorer som kan være del av et varsel, slik at man kan sende ut varsel der det er tydelig hvem varselet gjelder uten at man sender ut for mye identifiserende informasjon i en uegnet kanal.\nEksterne grensesnitt Delegeringsmulighet i REST-grensesnittet (17668) Vi innfører mulighet til å bruke REST-grensesnittet til å hente ut og administrere tilganger/rettigheter i Altinn. Dette gjøres ved først å forbedre autorisasjonskomponenten med mer robuste og gjenbrukbare tjenester, og deretter å implementere dette i REST-grensesnittet. Endringen gjør det mulig for utviklere å inkludere rettighetsstyring i eksterne portaler og applikasjoner.\nIntegrasjonsplattform og grensesnitt Forbedret håndtering av items som feiler i batchinnlesing (17621) Vi innfører mellomlagring, logging til database og automatisk retry-funksjonalitet i batcher som leses inn i Altinn. Dette vil både redusere behovet for manuell oppfølging, og gi bedre oversikt og kontroll over de feilene som krever manuell oppfølging.\nInnfasing av ny CreateShipment-funksjonalitet for immediate-overføringer (17622) I versjon 14.3 tok vi i bruk ny logikk for pakking av forsendelser for batch-overføringer. Nå skal den samme logikken også brukes for grensensitt med umiddelbare overføringer (immediate). Dette vil forbedre ytelse og kapasitet i løsningen, og gi mer konsistent kode av høyere kvalitet.\nOppsplitting av PrepareShipmentPart-orkestrering basert på outbound ShipmentType (17626) Forbedring av orkestrering av forsendelser, slik at ulike typer forsendelser kan behandles ulikt. Dette gjør det mulig å styre ressursbruken for ulike typer forsendelser. I tillegg er det en forenkling av løsningen som gjør den enklere å vedlikeholde.\nStore meldinger og ESB Excetion database (17659) Retting av et problem ved feilhåndteringen i PrepareShipmentPart-orkestreringen. Store meldinger vil ikke lenger legges ved til ESB faults.\nFeilretting: Kolonnenavn i BAM observasjonsmodellen stemmer ikke overens med faktisk verdi (17757) Feilretting for å sørge for bedre datakvalitet fra BAM. Det vil nå være samsvar mellom data i løsning og det som vises i view.\nCustom Pipeline for Inbound Receive Porter (17619) Forbedring av håndtering av inkommende batch-filer for å redusere belastningen på BizTalkmeldingsboksen. Innkommende batch vil nå håndteres mer likt som utgående ved at selve filen skrives til disk, mens det kun er en melding med referanse til filplassering som legges i BizTalkmeldingsboksen.\nNy makro for metadata-informasjon i generic batch (18099) Mulighet for å inkludere informasjon om hvilke sluttbrukersystem som var brukt i de enkelte innsendingene i xml-filene som mottas i batch.\nTeknisk arkitektur Oppgradering av PDF-bibliotek (18216) Mindre teknisk oppgradering i forbindelse med PDF-print.\nTjenesteutviklingsløsning Forbedringer av tjenesteutviklingsløsningen (17778) Rammeendring for forbedringer. Detaljer om endringene som gjøres vil tilgjengeliggjøres når omfanget er avklart.\nOppdatert 19.05.15: Det leveres et nytt, forenklet design for utgaveparameter-siden, preutfylling av bostedsadresse blir mulig (tidligere kun postadresse) og det innføres en automatisk sjekk av om tjenesteeierrolle er satt før migrering av tjeneste (for tilgang til tjenesteeiers arkiv). I tillegg utføres det noe bugfixing, og det gjøres endringer for å forenkle synkronisering mellom TUL- og TUT-miljøer.\n"
},
{
	"uri": "https://altinn.github.io/docs/releases/2017/17-2/",
	"title": "17.2 (under utvikling)",
	"tags": ["TODO"],
	"description": "Ny meldingsboks, designsystem, automatisert testing, +++",
	"content": "Release 17.2, planlagt produksjonssetting november 2017.\nNB: Dette er en fremtidig release av Altinn. Funksjonaliteten som beskrives kan ikke tas i bruk ennå.\n\r"
},
{
	"uri": "https://altinn.github.io/docs/releases/2016/",
	"title": "2016",
	"tags": [],
	"description": "Endringer innført i 2016",
	"content": "Releaser av Altinn i løpet av 2016\n\r16.1\r\rSamtykkebasert datadeling, betalingsløsning, nytt design for roller og rettigheter, videresending av post til innbygger, \u0026#43;\u0026#43;\u0026#43;\n\r"
},
{
	"uri": "https://altinn.github.io/docs/releases/",
	"title": "Endringslogg",
	"tags": [],
	"description": "En oversikt over endringer i Altinn",
	"content": "  \r\r2017\r\rEndringer innført i 2017\n\r\r17.2 (under utvikling)\r\rNy meldingsboks, designsystem, automatisert testing, \u0026#43;\u0026#43;\u0026#43;\n\r17.1.1\r\r500 MB på REST og webservices, forbedringer av samtykke samt utvidet API for forms og attachments\n\rEtablering\r\rBytte av leverandører, nye avtaler, ny teknisk driftsplattform\n\r17.1\r\rDigital post til virksomheter, dialog med egenregistrerte brukere, nye sider for pålogging, heving av sikkerhetsnivå for SMS, \u0026#43;\u0026#43;\u0026#43;\n\r\r2016\r\rEndringer innført i 2016\n\r\r16.1\r\rSamtykkebasert datadeling, betalingsløsning, nytt design for roller og rettigheter, videresending av post til innbygger, \u0026#43;\u0026#43;\u0026#43;\n\r\r2015\r\rEndringer innført i 2015\n\r\r15.3\r\rStøtte for virksomhetssertifikat i REST API, tekniske forbedringer, EIR, innlogging med utenlandsk id (eIDAS), \u0026#43;\u0026#43;\u0026#43;\n\r15.2\r\rNy formidlingstjeneste, forenklet registrering av kontaktinformasjon, forbedret parallell signering, delegering via REST API, \u0026#43;\u0026#43;\u0026#43;\n\r15.1\r\rSplitt av data, automatisert deploy, ny prosess-komponent, mastertjenester, ny startside i TUL, type-ahead i klientliste, \u0026#43;\u0026#43;\u0026#43;\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/guides/samtykke/sluttbruker/",
	"title": "For sluttbruker",
	"tags": [],
	"description": "Hvordan samtykke oppleves for sluttbruker",
	"content": "Samtykkeløsningen gir sluttbrukere mulighet til å gi samtykke til innsyn i sine data eller data for organisasjoner sluttbruker har rettighet for.\nSamtykke kan gis av sluttbruker når denne er i en prosess eller når andre kan bruke hans data i en prosess. Sluttbruker blir i prosessen presentert for samtykkesiden i Altinn hvor han kan velge å gi samtykke.\nEt samtykke skal for sluttbruker være:\n Informert - du har fått informasjon som gjør at du kan forstå hva du samtykker til Frivillig - du skal kunne velge å ikke samtykke Uttrykkelig - du skal gjøre en aktiv handling for å gi samtykke  Sluttbruker vil i Altinn ha oversikt over hvem som har fått samtykke og en aktivitetslogg viser all aktivitet over samtykker som sluttbruker har gitt eller slettet og samtykker som har opphørt på grunn av at gyldig dato er passert.\n\rInnlogging\r\rHvordan logge inn for å gi samtykke\n\rSamtykkesiden\r\rPresentasjon av samtykkesiden\n\rOversikt samtykker\r\rOversikt over gitte samtykker\n\rTrekke samtykke\r\rHvordan trekke et samtykke som er gitt\n\rAktivitetslogg\r\rAktivitetslogg\n\r"
},
{
	"uri": "https://altinn.github.io/docs/guides/mapperutvikling/utviklingshandbok/generelt/",
	"title": "Generelt om mappere",
	"tags": [],
	"description": "Beskrivelse av hva en mapper er og hvordan man går fram for å lage en",
	"content": " Utviklingsprosessen Prosessen fra idé til produksjonssatt tjeneste i Altinn er ikke veldig komplisert. Den følger et vanlig utviklingsløp der Altinn til slutt kvalitetssikrer og produksjonssetter mappere og produksjonssetter tilhørende tjenester.\nDesign Første steg i enhver utviklingsprosess er å designe løsningen som skal lages. For en mapper vil det si å identifisere de tjenestene som skal benytte mapperen og hvilke datasett som disse trenger. Her bør både utviklere som skal lage tjenestene i Altinn, mappere og etatstjenestene komme med innspill på dataformat slik at mapperen, og dermed også utviklingsjobben, blir så enkel som mulig.\nUtvikling Utviklingen av en mapper er godt beskrevet i dette dokumentet, med bakgrunnsinformasjon i kapittel 3 og selve utviklingsjobben i kapittel 4. En mapper er i all hovedsak en proxy-tjeneste som er skrevet ved bruk av .NET-rammeverket Windows Communication Foundation.\nSom utviklingsmiljø benyttes Visual Studio-serveren i Tjenesteutviklingsløsningen (TUL) i Altinn. Her er de nødvendige verktøy og versjonskontrollsystem klargjort for utvikleren. Alternativt kan man sette opp et eget utviklingsmiljø med Visual Studio installert slik at man får bedre ytelse og egne favoritt-verktøy. Lokalt utviklingsmiljø kan medføre noen vanskeligheter knyttet til tilganger dersom etaten begrenser tilgangen til sine tjenester slik at kun Altinn har tilgang. Utviklede mappere må også testes og verifiseres i TUL av tjenesteeier før de kan kvalitetssikres og installeres.\nTest Testing av programvare er en svært viktig del i all utviklingsarbeid. Det er av betydning at man har satt seg ned og tenkt over hvilke kriterier man har over alle tjenestene man ønsker å tilby.\nTesting kan innføres i et hvilket som helst tidspunkt under utviklingen av mapperen. Tradisjonelt har man startet med testing etter at kriteriene er satt og kodingen er ferdig. I mer smidige prosjekter er det vanlig å starte med tester parallelt med at man koder. På den måten kan man hele tiden sjekke at koden møter de kriteriene som er satt, og man kan dermed enkelt gjøre endringer og tilpasse seg.\nEnhetstesting er en metode hvor man kan utføre tester på en spesifikk bit av programmeringskoden, og foregår som regel parallelt med at man utvikler koden. Man kan lett kjøre testene, og se om noe feiler i koden, man får også en fin oversikt over at alt er som forventet og kjører feilfritt. Om det i senere tid blir gjort endringer på den utviklede koden, vil man kunne dra nytte av enhetstestene. De vil enten passere eller feile om man ikke møter kriteriene.\nKriteriene kan for eksempel være:\n Data kommer i riktig format. At man får forventet resultat. Håndtering av feilmeldinger. Programmet bør returnere fornuftige meldinger.  Altinn krever at mapperenes tjenester er testet ved bruk av enhetstester, både positive og negative, før de kan gjennomgå kvalitetssikring og installasjon.\nEn mapper bør også testes ved kodegjennomgang. Det vil si å la en annen utvikler gå igjennom koden. På den måten kan logiske brister, sikkerhets og ytelsesproblemer fangens opp før de rekker å oppstå i et kjøretidsmiljø.\nKvalitetssikring Etter at en ny mapper har vært igjennom en grundig test av tjenesteeier, vil Altinn gå igjennom koden og forsikre seg om at mapperen møter de kravene som stilles til en mapper.\nOm Altinn finner noen mangler blir den sendt i retur til tjenesteeier, med en beskrivelse om hva som må endres. Det er tjenesteeirs oppgave å ordne opp i manglene. Denne prosessen gjentas inntil mapperen møter kravene til Altinn.\nInstallasjon Når en mapper er kvalitetssikret kan man gå til neste steg som er installasjon. Når man skal installere en mapper i Altinn må man påse at det er åpnet for tilgang til tjenesteeier sitt system gjennom både Altinn1 og tjenesteeier sin brannmur i forkant av installasjonen. Altinn sin driftsleverandør vil verifisere dette under installasjon av mappere. Deretter vil de installere mapperen det spesifiserte miljøet på Altinn. Dersom mapperen skal installeres i produksjonsmiljøet vil den først installeres og verifiseres i et testmiljø.\nDersom det oppstår feil under installasjon vil det kunne måtte være nødvendig med kontakt mellom driftsleverandør og tjenesteeier sine utviklere og driftere. Det er derfor viktig å ha tilgjengelige ressurser på tjenesteeier sin side under installasjonen.\nInstallasjonstest Etter at en mapper er installert må installasjonen verifiseres av tjenesteier. Dette gjøres gjerne ved bruk av en eller flere tjenester som benytter den installerte mapperen. Dette sikrer både at tjenestene får kontakt med mapperen og at mapperen får kontakt med tjenesteeier sitt system.\n"
},
{
	"uri": "https://altinn.github.io/docs/guides/tjenesteeier/grensesnitt-web-services/",
	"title": "Grensesnitt – web services",
	"tags": [],
	"description": "Webservice operasjoner med beskrivelse",
	"content": "  Her følger et uttrekk over hvilke web services som tilbys i Altinn. Tjenestene er beskrevet uavhengig av hvilken autentiseringsmetode den enkelte tjenesteeier ønsker å benytte. Se avsnitt om Autentisering og autorisering, for informasjon om metodenavn.\nFor ytterligere informasjon for web services henvises leser også til Tjenestekatalogen og de enkelte tekniske spesifikasjoner tilgjengelig som WSDL’er fra respektive endepunkt.\nSe Vedlegg A: Feilkoder i Altinn for en liste over mulige feilkoder i Altinn.\nArchiveCommon Tjenesten ArchiveCommon inneholder operasjoner for uthenting av arkivdata fra tjenesteeiers arkiv.\nPåfølgende kapittel beskriver tjenesteoperasjonen for denne arkivtjenesten.\nGetServiceOwnerArchiveReporteeElementsV2 Denne operasjonen benyttes for å hente ut data for en gitt avgiver (privatperson eller foretak) fra en tjenesteeiers arkiv. Data kan være skjemasett arkivert i nåværende eller tidligere versjoner av Altinn, eller meldinger sendt fra tjenesteeier til avgiver. Merk at siden samhandlingstjenester og innsynstjenester ikke arkiveres til tjenesteeiers arkiv vil de ikke kunne hentes ut på denne måten. Kun elementer som innlogget bruker har tilgang til returneres, typisk ikke elementer for tjenester tilknyttet andre tjenesteeiere.\nDet er for eksempel nødvendig å kunne ha direkte tilgang til disse dataene i tilfeller hvor tjenesteeier ønsker å veilede en avgiver i sanntid basert på avgivers arkiverte data.\nTjenesteeier får rutinemessig tilsendt alle arkiverte elementer for alle avgivere via batch-grensesnittet Innsendingstjenester.\nOperasjonen er versjonert, gjeldende versjon er V2.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     SearchServiceOwnerArchive Objektet av typen ExternalSOASearchBE, som inneholder søkeparametre for uthenting av elementer fra tjenesteeiers arkiv.   languageID Språk id: 1033 Engelsk 1044 Bokmål 2068 Nynorsk. Språk angitt på arkivert element benyttes uavhengig av hva som settes.       Returverdi Beskrivelse     ServiceOwnerArchiveReporteeElementList Liste med objektet av typen ServiceOwnerArchiveReporteeElementBEV2, som inneholder elementer fra tjenesteeiers arkiv som tilfredsstiller angitte søkeparametre.    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten. ExternalSOASearchBE\n   Property Beskrivelse     SSNOrOrgNumber Fødselsnummer eller organisasjonsnummer   ReferenceId Unik referanse id   Subject Hvilket emne søket gjelder   DateFrom Fra dato i arkivet   DateTo Til dato i arkivet   CaseID Identifikator for samhandlingstjeneste elementet skal tilhøre   UserName Søk basert på brukernavn    ServiceOwnerArchiveReporteeElementBEV2\n   Property Beskrivelse     Subject Emne for elementet   IsSubjectMessageTitle Angir om tittel er satt av MessageTitle   LastChangedDate Dato for siste endring   DatReporteeId Intern id   SSNOrOrganizationNumber Fødselsnummer eller organisasjonsnummer tilknyttet arkivert element   ReporteeName Navn på avgiver som eier arkivert element   ReporteeElementId Intern id   Altinn1ArchiveUnitId Intern id fra AltinnI arkivet. Kan være tomt   Altinn1AMReference AM referansen fra AltinnI arkivet. Kan være tomt   Altinn1FormCode Skjemanummer fra AltinnI arkivet. Kan være tomt   EndUserSystemId Id for sluttbrukersystem. Kan være tomt   SendComplete Hvorvidt forsendelsen er komplett eller ikke for elementet. Kan være tomt   ElementType Element type: Archive, Active, Correspondence, ArchiveCorrespondence, LookUp, Collaboration   IsAltinn1 Flagg som indikerer om elementet eksisterer i AltinnI   IsCorrespondenceConfirmationRequired Hvorvidt meldingsbekreftelse er påkrevd eller ikke   ArchiveReference Referansen fra Altinn arkivet.   SystemTypeName Typenavn på sluttbrukersystem. Kan være tomt   ExpiryDate Angir eventuelt når elementet er planlagt slettet    ServiceOwnerArchive Tjenesten ServiceOwnerArchive inneholder operasjoner for uthenting av elementer fra tjenesteeiers arkiv (ikke tilgang til arkiverte elementer fra tidligere versjoner av Altinn).\nPåfølgende kapitler beskriver operasjonen for denne tjenesten.\nGetArchivedFormTaskV2 Denne operasjonen benyttes for å hente ut alle skjemaer og vedlegg som tilhører et gitt skjemasett. Operasjonen er versjonert, gjeldende versjon er V2.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     reporteeElementId Unik identifikator for skjemasettet som skal hentes. Identifikatoren er obligatorisk input til tjenesten   languageID Språk kode: 1033 Engelsk, 1044 Bokmål, 2068 Nynorsk       Returverdi Beskrivelse     ArchivedFormTask Objektet av typen ArchivedFormTaskBEV2 som skjemasettet som tilfredsstilte det gitte søkekriteriet.    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\nArchivedFormTaskBEV2\n   Property Beskrivelse     reporteeElementId Unik identifikator for skjemasettet.   LastChanged Tidspunkt for når det sist ble gjort endringer på skjemasettet   ReporteeID Intern id.   ArchivedDateTime Tidspunkt for når skjemasettet ble arkivert   ServiceOwner Unik identifikator for tjenesteeier for skjemasettet   InvoiceInformation Eventuell betalingsinformasjon som er vedlagt skjemasettet   ArchivedFormList Liste med ArchivedFormBE-objekter (nærmere beskrevet nedenfor), som inneholder alle skjemaene i skjemasettet   ExternalServiceCode Tjenestekode   ExternalServiceEditionCode Tjenesteutgavekode   ssnOrgNumber Fødselsnummer eller organisasjonsnummer tilhørende skjemasettet   PasswordEncryptedSymmetricKey Passordkryptert symmetrisk nøkkel for å dekryptere eventuell sensitive felter   SOEncryptedSymmetricdKey Samme symmetriske nøkkel som over, men kryptert med tjenesteeiers sertifikat. Tjenesteeier kan da bruke privat nøkkel til å dekryptere denne nøkkelen   ArchiveTaskList Liste med arkiv-objekter av typen ArchiveTaskBEV2    ArchivedFormBE\n   Property Beskrivelse     FormID Intern id   FormName Navn på skjema   FormDataXML Innhold i skjema. Må legges i en CDATA blokk   ParentReference Referanse til hovedskjema. Denne referansen er kun satt dersom gjeldende skjema er et underskjema   FormPresentationFieldValue Presentasjonsfelt for skjemaet, dersom dette finnes.   PaymentInformationE2B Betalingsinformasjon på E2B-format   PaymentInformationHTML Betalingsinformasjon på XML-format   DataFormatId Id til skjema fra metadata kilde   DataFormatVersion Betalingsinformasjon vedlagt skjema   FormPaymentInfo Skjemabeskrivelse    ArchivedAttachmentBEV2\n   Property Beskrivelse     AttachmentID Intern Id   AttachmentFunctionType Angir hvilken funksjonstype vedlegget utgjør: Invoice, Unspecified   AttachmentName Navn på vedlegg   MimeTypeName Angir MIME-typen for vedlegget: application_none, application_pdf, application_msword, application_vnd_ms_excel, application_vns_oasis_opendocument_text, application_vnd_oasis_opendocument_presentation, application_vnd_oasis_opendocument_spreadsheet, application_rtf, application_vnd_ms_powerpoint, application_postscript, application_zip, text_plain, text_html, text_xml, text_rtf, text_richtext, binary_octet_stream, not_Applicable   CreatedByUserID Intern Altinn identifikator på bruker som har lagt til vedlegget   CreatedDateTime Dato for når vedlegget ble opprettet   IsAddedAfterFormFillin Angir om vedlegget ble lagt til i løpet av signeringen (etter utfylling)   IsEncrypted Angir om vedlegget er kryptert    ArchivedFormTaskSigningStepBEV2\n   Property Beskrivelse     SignatureID Intern Id   SignedByUser Intern id bruker som har signert skjemasettet   SignedByUserSSN Fødselsnummer til bruker som har signert   SignedByUserName Navn på bruker som har signert skjemasettet.   CreatedDateTime Dato og tidspunkt for når skjemasettet ble signert   Signature Signaturen, binært format   SignatureText Signeringsteksten   RequiresGroupSigning Angir om signatur gjelder for alle elementer i skjemasettet   AuthenticationLevelID Intern id for autentiseringsnivået for bruker når signering ble gjort   AuthenticationMethod Autentiseringsnivået for bruker når signering ble gjort   CertificateIssuedByName Navnet sertifikatet er utstedt til   CertificateIssuedForName Navnet signaturen er utstedt til   CertificateValidFrom Tidspunkt (dato og klokkeslett) for når sertifikatet er gyldig   CertificateValidTo Tidspunkt (dato og klokkeslett) for når sertifikatet blir ugyldig   SignedAttachmentList Liste over signerte vedlegg.   SignedFromList Liste over signerte skjemaer   IsSigningAllRequired Angir om signering er utført for alle elementer i skjemasett: YES – signering på alle skjema, NO – valgfri signering på skjema, SET_PER_FORM – valg for signering satt på skjema nivå   ProcessStepID Den unike identifikatoren for steget signaturen gjelder for    ArchiveTaskBEV2\n   Property Beskrivelse     EndUserSystemID Sluttbrukersystem identifikator   LastChanged Angir dato for sist endring   NumberOfSignaturesAdded Antall signaturer som er lagt til   ProcessStepID_FK Intern ID for prosessteg   SentComplete Angir om element ble sent som komplett fra sluttbrukersystem   TaskID Identifikator for elementet, samme som ReporteeElementID   UserDefinedNumberOfSignaturesRequired Antall signaturer krevd for et evt brukerstyrt signeringssteg   WorkflowReference Intern ID forarbeidsflyt    GetArchiveShipmentStatusV2 Denne operasjonen benyttes for å hente ut status på oversending fra Altinn til Tjenesteeier for et arkivert skjema. Man kan hente ut status ved å bruke enten ArchiveReference eller ServiceReference. Disse kan ikke brukes samtidig. Operasjonen er versjonert, gjeldende versjon er V2. Tabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     ArchiveReference (string) Tar inn en ArkivReferanse for et arkivert element. Når dette elementet er brukt skal ikke ServiceReference brukes.   ServiceReference (objekt) Inneholder en liste med ArchiveShipmentStatusExternalV2 objekter. Hvert objekt representerer et elementen som ble funnet av tjenesten, og har en egen liste over statuser registrert på elementet.    ServiceReference   ServiceCode Unik identifikator. Dette er en mandatory parameter når man bruker ServiceReference til å hente ut status data.   ServiceEditionCode Unik identifikator. Dette er en mandatory parameter når man bruker ServiceReference til å hente ut status data. Unik identifikator. Dette er en mandatory parameter når man bruker ServiceReference til å hente ut status data.   DateFrom Definerer dato og tidspunkt tjenesten skal hente ut status data fra.   DateTo Definerer dato og tidspunkt tjenesten skal hente ut status data til    ArchiveShipmentStatusExternalBEV2List   LimitReached Når dette flagget er satt ble det funnet flere arkiverte elementer enn det som det er returnert statuser for   ArchiveShipmentStatusList Liste over de returnerte arkiv elementene som en liste av ArchiveShipmentStatusExternalV2-entiteter    ArchiveShipmentStatusExternalV2   ArchiveReference Unik arkiv referanse   TimeOfArchiving Tidspunkt for arkivering   ServiceCode Tjenestekode   ServiceEditionCode Tjeneste utgave kode   ShipmentStatusLog Liste over arkiv elementets status endringer som en liste av ShipmentStatusLogEntry-entiteter.    ShipmentStatusLogEntry   ShipmentDescription En beskrivelse av Shipment relatert til statusen, som inneholder navnet på ShipmentDefinition og TransportSekvensNummeret for shipmentet til tjenesteeier. Disse blir adskilt med et pipe-tegn   ShipmentStatus En beskrivelse av Shipment relatert til statusen, som inneholder navnet på ShipmentDefinition og TransportSekvensNummeret for shipmentet til tjenesteeier. Disse blir adskilt med et pipe-tegn ShipmentStatus ShipmentStatus for arkiv elementet. Kan være: NotSet - Elementet er ikke gjort klar til oversendelse. NotSent – Elementet er ikke sendt til tjenesteeier. Sent – Element er sent til tjenesteeier. Error – Overførsel til tjenesteeier feilet. Correlated – Correspondence er opprettet som er knyttet til denne ArkivReferansen   ShipmentStatusDateTime Dato og klokkeslett for når statusen ble satt på arkiv elementet    GetAttachmentDataStreamed Denne operasjonen benyttes for å hente ut data for ett gitt vedlegg in den tilfelle vedlegg er større en 30MB. GetArchivedFormTaskV2 må kalles for å få detailene om den binær filen returnerte av denne metoden.\nTabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     AttachmentID Unik identifikator for et vedlegg   Returverdi Beskrivelse   Attachment Stream som inneholder et binært vedlegg    Receipt Tjenesten Receipt inneholder operasjoner for å oppdatere og hente kvitteringer i Altinn.\nPåfølgende kapitler beskriver tjenesteoperasjonene for denne tjenesten.\nGetReceiptV2 Denne operasjonen henter en kvittering basert på enten unik identifikator for kvitteringen eller en referanse for kvitteringen. Kvitteringen kan være knyttet til et skjemasett innsendt via Altinn fra sluttbruker eller sluttbrukersystem, data sendt fra tjenesteeier til Altinn (meldinger, PIN-koder, abonnement eller prefilldata) eller data sendt fra Altinn til tjenesteeier.\nNavnet på operasjonen kan variere noe fra grensesnitt til grensesnitt. Operasjonen heter for eksempel GetReceiptBasicV2 på basic (SOAP 1.1) grensesnittet. En eldre versjon av operasjonen med navn GetReceipt finnes fortsatt, men kan i fremtiden bli fjernet.\nSe aliasoversikt (9.19) for informasjon om endepunkter.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     ReceiptSearch Objekt av typen ReceiptSearch som inneholder nødvendige søkeparametre for å hente ut en kvittering   Returverdi Beskrivelse   Receipt Objekt av typen Receipt som inneholder alle data for en kvittering som tilfredsstilte det gitte søkekriteriet    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse      ReceiptSearch   ReceiptId Unik identifikator en kvittering i Altinn   References Liste med referansen som skal brukes i søket. I praksis er det kun en referanse som benyttes i søket. Følgende referansetyper kan benyttes i søk: ArchiveReference, OutboundShipmentReference, BatchReference, EndUserSystemReference, ExternalShipmentReference, SendersReference    Receipt   ReceiptId Unik identifikator kvitteringen i Altinn.   ReceiptText Tekst i kvitteringen   ReceiptHistory Når en kvittering oppdateres så vil den gamle kvitteringsteksten flyttes og legges til øverst i denne historikken   LastChanged Dato og tidspunkt for når kvitteringen sist ble endret (yyyy-MM-ddThh:mm:ss)   ReceiptType Angir hva kvittering gjelder. Mulige verdier: NotSet – Brukes når type er ukjent, FormTask – Skjemasett innsending, Correspondence – Innlesning av meldinger, PINCODE – bestilling av PIN-koder, Subscription – Innelsning av abonnementer, Outbound – Forsendelse sendt fra Altinn, PreFill – Innlesning av prefill, RegisterDLS – DLS registerdata, RegisterDSF – DSF registerdata, RegisterER – ER registerdata, RegisterDSFProperty, RegisterDSFStreet, RegisterDSFCountry, RegisterDSFUser, LookUp – Innsynstjeneste, RegisterDSFStreetAdd, RegisterDSFPropertyAdd, BrokerService – Overføring av fil på en Formidlingstjeneste   ReceiptTemplate Angir malen (XML) som skal benyttes for kvittering. (IKKE I BRUK)   ReceiptStatus Status for forsendelse som kvitteringen gjelder: NotSet – Status er ukjent, OK, UnExpectedError, ValidationFailed, Rejected   ParentReceiptId Dersom denne kvitteringen er en av flere kvitteringer i et hierarki vil ParentReceiptId vise til ReceiptId for hovedkvitteringen i hierarkiet   References Liste med referanser   SubReceipts Liste med tilhørende kvitteringer. Dersom denne kvitteringen er en hovedkvittering med barn. Et hierarki kan ha kun 2 nivåer. (En kvittering som selv er et barn skal ikke ha barn.)    Reference   ReferenceType Angir type referanse: ExternalShipmentReference - Referansen viser til en referanse satt av sluttbrukersystem for en forsendelse. EndUserSystemReference - Referanse satt av avsender for del av en forsendelse. For eksempel vedlegg. Brukes sjeldent da referanser fra sluttbruker ofte lagres som SendersReference. SendersReference - Referanse satt av avsender for del av en forsendelse. ParentReference - Referansen viser til et hovedskjema. WorkFlowReference - Arbeidsflytreferanse. BatchReference - Referanse til en forsendelse mottatt i eller sendt fra Altinn. OutboundShipmentReference - Referanse til en forsendelse sendt fra Altinn. ReceiversReference - Mottakers referanse hvis kvitteringen blir oppdatert av mottaker av en forsendelse. OwnerPartyReference - Organisasjonsnummer eller personnummer til eier av kvitteringen, typisk den som har sendt inn en forsendelse. Settes av Altinn og kan ikke endres. PartyReference - Organisasjonsnummer eller personnummer til en part som får rettigheter til å hente og oppdatere kvitteringen. Altinn legger automatisk til mottaker av en forsendelse som en part på kvitteringen. ArchiveReference - Arkivreferanse.   Feilkode Beskrivelse   30008 Ingen kvittering funnet for angitt kvitterings ID eller referanse    GetReceiptListV2 Denne operasjonen kan kalles for å hente ut alle kvitteringer av en gitt kvitteringstype. I tillegg kan søket begrenses ved hjelp av en til og fra dato. Dette vil gi en liste med kvitteringer som ble sist endret i tidsrommet. Kvitteringstyper er obligatorisk, mens datoer er valgfritt.\nNavnet på operasjonen kan variere noe fra grensesnitt til grensesnitt. Operasjonen heter for eksempel GetReceiptListBasicV2 på basic (SOAP 1.1) grensesnittet. En eldre versjon av operasjonen med navn GetReceiptList finnes fortsatt, men kan i fremtiden bli fjernet.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     receiptTypeName Angir hva kvittering gjelder. Mulige verdier: FormTask –Skjemasett innsending. Correspondence – Innlesning av meldinger. PINCODE – Bestilling av PIN-koder. Subscription – Innelsning av abonnementer. Outbound – Forsendelse sendt fra Altinn. PreFill – Innlesning av prefill. RegisterDLS – DLS registerdata. RegisterDSF – DSF registerdata, RegisterER – ER registerdata, RegisterDSFProperty, RegisterDSFStreet, RegisterDSFCountry, RegisterDSFUser, LookUp – Innsynstjeneste, RegisterDSFStreetAdd, RegisterDSFPropertyAdd BrokerService – Overføring av fil på en Formidlingstjeneste   dateFrom Finner kvitteringer endret etter angitt dato   dateTo Finner kvitteringer endret før angitt dato   Returverdi Beskrivelse   ReceiptList Liste med kvitteringer av typen Receipt. (Vil være en tom liste hvis ingen kvitteringer ble funnet.)    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     Receipt    ReceiptId Unik identifikator kvitteringen i Altinn   ReceiptType Angir hva kvittering gjelder. Mulige verdier:NotSet – Brukes når type er ukjent FormTask – Skjemasett innsending Correspondence – Innlesning av meldinger PINCODE – Bestilling av PIN-koder.Subscription – Innelsning av abonnementer Outbound – Forsendelse sendt fra Altinn PreFill – Innlesning av prefill RegisterDLS – DLSregisterdata RegisterDSF – DSF registerdata RegisterER – ER registerdata RegisterDSFProperty RegisterDSFStreet RegisterDSFCountry RegisterDSFUser LookUp – Innsynstjeneste RegisterDSFStreetAdd RegisterDSFPropertyAddBrokerService – Overføring av fil på en Formidlingstjeneste   ReceiptTemplate Angir malen (XML) som skal benyttes for kvittering. (IKKE I BRUK)   ReceiptStatus Status for forsendelse som kvitteringen gjelder: NotSet – Status er ukjent OK UnExpectedError ValidationFailed Rejected   ParentReceiptId Dersom denne kvitteringen er en av flere kvitteringer i et hierarki vil ParentReceiptId vise til ReceiptId for hovedkvitteringen i hierarkiet   References Liste med referanser   SubReceipts Liste med tilhørende kvitteringer. Dersom denne kvitteringen er en hovedkvittering med barn. Et hierarki kan ha kun 2 nivåer. (En kvittering som selv er et barn skal ikke ha barn)   Reference    ReferenceType Angir type referanse: ExternalShipmentReference - Referansen viser til en referanse satt av sluttbrukersystem for en forsendelse. EndUserSystemReference - Referanse satt av avsender for del av en forsendelse. For eksempel vedlegg. Brukes sjeldent da referanser fra sluttbruker ofte lagres som SendersReference. SendersReference - Referanse satt av avsender for del av en forsendelse. ParentReference - Referansen viser til et hovedskjema. WorkFlowReference - Arbeidsflytreferanse BatchReference - Referanse til en forsendelse mottatt i eller sendt fra Altinn OutboundShipmentReference - Referanse til en forsendelse sendt fra Altinn ReceiversReference - Mottakers referanse hvis kvitteringen blir oppdatert av mottaker av en forsendelse OwnerPartyReference - Organisasjonsnummer eller personnummer til eier av kvitteringen, typisk den som har sendt inn en forsendelse. Settes av Altinn og kan ikke endres. PartyReference - Organisasjonsnummer eller personnummer til en part som får rettigheter til å hente og oppdatere kvitteringen. Altinn legger automatisk til mottaker av en forsendelse som en part på kvitteringen. ArchiveReference - Arkivreferanse   ReferenceValue Selve referansen (verdien). Vil variere basert på type referanse. Se over.    Tabellen under angir mulige feilkoder for operasjonen.\n   Feilkode Beskrivelse     30101 Kan ikke utføre et søk etter kvitteringer av typen NotSet. (NotSet er default verdi hvis receiptTypeName parameteret ikke oppgis)   30102 Oppgitt fra dato er høyere en oppgitt til dato    UpdateReceipt Operasjonen UpdateReceipt kan benyttes når tjenesteeier har behov for å oppdatere en kvittering i Altinn. Dette gjøres typisk når Altinn har sendt en batch forsendelse til tjenesteeier. Kvitteringen skal da oppdateres med at tjenesteeier har mottatt batch forsendelsen.\nAltinn vil endre kvitteringsteksten til å inneholde informasjon om hvem som utførte oppdateringen. For eksempel: \u0026ldquo;Receipt updated by AgencySystem: ACN. \u0026ldquo;\nNavnet på operasjonen kan variere noe fra grensesnitt til grensesnitt. Operasjonen heter for eksempel UpdateReceiptBasic på basic (SOAP 1.1) grensesnittet. En eldre versjon av operasjonen med navn SaveReceipt finnes fortsatt, men kan i fremtiden bli fjernet.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     ReceiptSave Informasjon om hvilken kvittering som skal oppdateres samt den nye informasjonen som skal legges på kvitteringen. Objektet må minimun inneholde ny statuskode og tekst. ReceiptId eller ArchiveReference brukes til å identifisere kvitteringen.   Returverdi Beskrivelse   Receipt Kvitteringen slik den frermstår etter oppdateringen    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     ReceiptSave:    ReceiptId Unik identifikator for kvittering i Altinn. Kan benyttes for å spesifisere hvilken kvittering som skal oppdateres   ArchiveReference Arkivreferanse i Altinn. Kan benyttes for å spesifisere hvilken kvittering som skal oppdateres. Hvis det finnes flere kvitteringer som har samme arkivreferanse, så vil den nyeste (den med høyest ReceiptId) bli valgt   ReceiptText Oppdateringstekst for kvittering. Obligatorisk   ReceiptStatus Status for forsendelse som kvitteringen gjelder.Obligatorisk: OK, UnExpectedError, ValidationFailed, Rejected   References Liste med referanser man eventuelt ønsker å legge til på kvitteringen. Alle referansetyper utenom NotSet og OwnerPartyReference er gyldige, men det bør begrenses til følgende (Unntak kan gjøres etter avtale med forvaltning): BatchReference - Referanse til en forsendelse mottatt i eller sendt fra Altinn.ReceiversReference - Mottakers referanse hvis kvitteringen blir oppdatert av mottaker av en forsendelse.(Det er mulig fremtidige versjoner av UpdateReceipt vil ha strengere validering/begrensninger.)   SubReceipts Liste med barnekvitteringer som også ønskes oppdatert i tillegg til hovedkvitteringen. Barne kvitteringer MÅ identifiseres med ReceiptId. Dette kan ikke benyttes til å lage nye barnekvitteringer   SubReceipts Liste med barnekvitteringer som også ønskes oppdatert i tillegg til hovedkvitteringen. Barne kvitteringer MÅ identifiseres med ReceiptId. Dette kan ikke benyttes til å lage nye barnekvitteringer   Receipt    ReceiptId Unik identifikator kvitteringen i Altinn   ReceiptText Tekst i kvitteringen   ReceiptHistory Når en kvittering oppdateres så vil den gamle kvitteringsteksten flyttes og legges til øverst i denne historikken   LastChanged Dato og tidspunkt for når kvitteringen sist ble endret (yyyy-MM-ddThh:mm:ss)   ReceiptType Angir hva kvittering gjelder. Mulige verdier: NotSet – Brukes når type er ukjent, FormTask – Skjemasett innsending, Correspondence – Innlesning av meldinger, PINCODE – Bestilling av PIN-koder, Subscription – Innelsning av abonnementer, Outbound – Forsendelse sendt fra Altinn, PreFill – Innlesning av prefill, RegisterDLS – DLS registerdata, RegisterDSF – DSF registerdata, RegisterER – ER registerdata, RegisterDSFProperty, RegisterDSFStreet, RegisterDSFCountry, RegisterDSFUser, LookUp – Innsynstjeneste, RegisterDSFStreetAdd, RegisterDSFPropertyAdd, BrokerService – Overføring av fil på en Formidlingstjeneste   ReceiptTemplate Angir malen (XML) som skal benyttes for kvittering. (IKKE I BRUK)   ReceiptStatus Status for forsendelse som kvitteringen gjelder: NotSet – Status er ukjent, OK, Status for forsendelse som kvitteringen gjelder: NotSet – Status er ukjent, OK, UnExpectedError, ValidationFailed, Rejected   ParentReceiptId Dersom denne kvitteringen er en av flere kvitteringer i et hierarki vil ParentReceiptId vise til ReceiptId for hovedkvitteringen i hierarkiet   References Liste med referanser   SubReceipts Liste med tilhørende kvitteringer. Dersom denne kvitteringen er en hovedkvittering med barn. Et hierarki kan ha kun 2 nivåer. (En kvittering som selv er et barn skal ikke ha barn)   Reference    ReferenceType Angir type referanse: ExternalShipmentReference - Referansen viser til en referanse satt av sluttbrukersystem for en forsendelse. EndUserSystemReference - Referanse satt av avsender for del av en forsendelse. For eksempel vedlegg. Brukes sjeldent da referanser fra sluttbruker ofte lagres som SendersReference.SendersReference - Referanse satt av avsender for del av en forsendelse. ParentReference - Referansen viser til et hovedskjema. WorkFlowReference - Arbeidsflytreferanse BatchReference - Referanse til en forsendelse mottatt i eller sendt fra Altinn OutboundShipmentReference - Referanse til en forsendelse sendt fra Altinn ReceiversReference - Mottakers referanse hvis kvitteringen blir oppdatert av mottaker av en forsendelse OwnerPartyReference - Organisasjonsnummer eller personnummer til eier av kvitteringen, typisk den som har sendt inn en forsendelse. Settes av Altinn og kan ikke endres. PartyReference - Organisasjonsnummer eller personnummer til en part som får rettigheter til å hente og oppdatere kvitteringen. Altinn legger automatisk til mottaker av en forsendelse som en part på kvitteringen. ArchiveReference - Arkivreferanse   ReferenceValue Selve referansen (verdien). Vil variere basert på type referanse. Se over    Tabellen under angir mulige feilkoder for operasjonen:\n   Feilkode Beskrivelse     30008 Fant ikke noen kvittering som kunne oppdateres   0 Kan ikke ha både kvitterings id og arkivreferanse som input. (Feilkode blir ikke angitt grunnet en bug)   0 Kan ikke ha både kvitterings id og arkivreferanse som input. (Feilkode blir ikke angitt grunnet en bug)   0 System/bruker har ikke tilgang til kvitteringen som forsøkes   oppdatert. (Feilkode blir ikke angitt grunnet en bug)     Correspondence Det finnes to tjenestegrensesnitt relatert til meldinger:\nCorrespondence - Operasjonene er skreddersydd for siste versjon av Altinn. Oppdateres etter hvert som Altinn videreutvikles. Skal benyttes av alle nye tjenesteeiere. Altut - Operasjoner fra tidligere versjon av Altinn. Tilbys kun for bakoverkompatibilitet for eksisterende tjenesteeiere, og det vil ikke bli oppdatert etter hvert som Altinn videreutvikles. Grensesnittet inneholder elementer som ikke lenger er i bruk i Altinn, og enkelte elementer har fått ny funksjonalitet som betyr at eksisterende grensesnitt må endres. Siste versjon av Altinn har funksjonalitet som ikke støttes av Altut formatet. Tjenesten Correspondence inneholder operasjoner relatert til meldinger. Påfølgende kapittel beskriver tjenesteoperasjonen for denne tjenesten.\nInsertCorrespondenceV2 Operasjonen InsertCorrespondenceV2 benyttes av en tjenesteeier for å sende meldinger til avgivere i Altinn. Operasjonen er versjonert, gjeldende versjon er V2. Tabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     SystemUserCode Kode som unikt representerer kildesystem, f.eks. \u0026ldquo;ABC-123\u0026rdquo;. Format: XXX_YYYY. De tre første bokstavene er påkrevd og representerer tjenesteeier. De etter understreken representerer avdeling/system, og er valgfritt hvis det ikke finnes flere avdelinger/systemer innenfor samme tjenesteeier   ExternalShipmentReference Referanse satt av tjenesteeier. Benyttes ved utsending av meldingsbekreftelser og kvittering. Setter feltet SendersReference på meldingen blant annet brukt til oppslag   Correspondence Objekt av typen InsertCorrespondenceBEV2 med meldinger som skal lagres   Returverdi Beskrivelse   Receipt Kvittering for forsendelsen (ReceiptBE)    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     InsertCorrespondenceBEV2    ServiceCode Tjenestekode, f.eks. \u0026ldquo;PSA\u0026rdquo;   ServiceEdition Tjenesteutgavekode, f.eks. \u0026ldquo;2009\u0026rdquo;   Reportee Fødselsnummer eller organisasjonsnummer eller brukernavn på selvregistrert bruker for den meldingen gjelder   Content Objekt med meldingsdetaljer (ExternalContentBEV2)   VisibleDateTime Tidspunkt for når meldinger blir synlig i portal   AllowSystemDeleteDateTime Angir når Altinn kan slette meldingen   DueDateTime Tidspunkt for forfall svar   ArchiveReference Referanse til arkivert element. Benytt dette til å indikere at meldingen er et svar på en konkret innsending.   ReplyOptions Objekt med linker til skjema/Altinn tjeneste/arkivelement (CorrespondenceInsertLinkBE). Bruk dette til å indikere hvordan avgiver kan svare på en melding   Notifications Liste av objekt med varsler som skal sendes mottaker ifbm meldingen (NotificationBE)   AllowForwarding Angir om meldingen skal kunne videresendes av bruker i portalen   Case Id ID som identifiserer saken som meldingen skal knyttes til   MessageSender Avsender som skal vises for sluttbruker, kan være forskjellig fra etat, hvis den ikke fylles ut brukes etaten som eier tjenesten   IsReservable I sammenheng med KRR (Kontakt og reservasjons registeret) kan en sluttbruker reservere seg imot å motta meldinger. IsReservable verdien kan brukes til å indikere om det er mulig å reservere seg mot meldingen eller ikke. Det er valgfritt å angi en verdi og standard (default) verdi er False (0). Denne verdien må derfor aktivt settes til True (1) om tjeneste eier ønsker og respektere reservasjoner.   SdpOptions Inneholder informasjon om hvordan en melding skal sendes til Digital postkasse til innbygger istedenfor eller i tillegg til at det opprettes correspondence. Hvis det ikke oppgis noe informasjon (null) så vil ikke videresending aktiveres. Har også mulighet for å bestille varsel og revarsel fra postkasseleverandør. (Klasse: SdpOptions)   OnBehalfOfOrgNr Gjør det mulig å levere Correspondence på vegne av en annen organisasjon. Krever et valid Organisasjonsnummer som input.   ExternalContentBEV2    LanguageCode 1033 - English, 1044 - Bokmål, 2068 - Nynorsk   MessageTitle Tittel på melding   MessageSummary Tekst som beskriver meldingen   MessageBody Selve meldingen   Attachments Liste av vedlegg til meldingen, binære eller xml vedlegg (AttachmentBEV2)   CustomMessageData Felt for angivelse av attributter spesifikke for den gitte Altinn tjeneste. For eksempel for å angi kommunenummer på selvangivelsen. Bruk av spesifikke attributter må avtales spesielt for de(n) aktuelle Altinn-tjenestene   AttachmentBEV2    BinaryAttachments Liste med objekter av binære vedlegg (BinaryAttachmentBEV2)   XmlAttachmentList Liste med objekt med xml vedlegg (XmlAttachmentBEV2). Benyttes hvis det er definert at i TUL at melding skal vises i Infopath skjema. Infopath-skjema må være utviklet som en del av meldingstjenesten i TUL   BinaryAttachmentBEV2    FileName Filnavn for det binære vedlegget   Name Dette er navnet på vedlegget, som det vises i portalen   Encrypted Sier om vedlegget er kryptert. True/False   Data Data for det binære vedlegget, byte array   SendersReference Referanse for vedlegget, som ennå ikke er tatt i bruk. Settes av tjenesteeier. Feltet er ikke påkrevd   FunctionType Hvilken funksjonstype vedlegget utgjør: Invoice - Faktura, Unspecified - Uspesifisert   DestinationType Hvor vedlegget er tilgjengelig: Default/ShowToAll – tilgjengelig i portal og for sluttbrukersystem. PortalOnly – kun tilgjengelig fra portal. EndUserSystemOnly – kun tilgjengelig fra sluttbrukersystem   XmlAttachmentBEV2    SendersReference Referanse for vedlegget. Settes av tjenesteeier, bør være unikt   FormDataXml XML data. Må legges i en CDATA blokk   DataFormatId Identifikator for XSD fra den valgte leverandøren, definert i TUL (XSD id)   DataFormatVersion Versjonen av XSD\u0026rsquo;en som er brukt i dette InfoPath-skjemaet, definer i TUL (XSD versjon)   DataFormatVersion Versjonen av XSD\u0026rsquo;en som er brukt i dette InfoPath-skjemaet, definer i TUL (XSD versjon).   CorrespondenceInsertLinkBE    Service Objekt med info om service (InsertCorrespondenceLinkServiceCodeBE)   URL Objekt med info om url (InsertCorrespondenceLinkServiceURLBE)   ArchiveReference Objekt med info om arkivert element (InsertCorrespondenceLinkArchiveRefBE)   InsertCorrespondenceLinkServiceCodeBE    ServiceCode Angir den tjenestekoden for svarmeldingen   ServiceEdition Angir tjenesteutgavekoden for svarmeldingen   InsertCorrespondenceLinkServiceURLBE    LinkURL Angir en link til en webside for svarmelding   LinkText Beskrivelse av link   InsertCorrespondenceLinkArchiveRefBE    ArchiveRef Elementet benyttes hvis man kan svare vha. et arkivert element. Referanse til element i arkiv   NotificationBE    ShipmentDateTime Når varsel skal sendes til mottaker   LanguageCode Språk kode: 1033 English, 1044 Bokmål, 2068 Nynorsk   FromAddress Avsender adresse (e-post). Hvis ikke satt benyttes avsenderadresse satt i varselmalen   NotificationType En unik streng som definerer en referanse til predefinerte varslingstekster   ReceiverEndPoints Liste av mottaker adresser (ReceiverEndPointBE)   TextTokens Liste av tekster som skal erstatte maltekst i varselmal   ReceiverEndPoint    ReceiverAddress Adressen (telefonnummer eller e-postadresse) for mottakspunktet   TransportType Type varsling: Email, SMS, Instant Message (IM), Both email \u0026amp; SMS   TextTokenSubstitutionBE    TokenNum Ikke i bruk, kan utelates.   TokenValue Tekst som skal ersatte maltekst. Substitusajonen gjøres i samme rekkefølge som parameterene er angitt. Varselmal må bestilles og lages på forhånd   SdpOptions    SdpSetting Her styres det om Altinn skal ha en kopi eller ikke. CopyAltinn – Det opprettes en correspondence i tillegg til det digitale brevet. ForwardOnly – Det opprettes ikke noen kopi i Altinn   BackupAltinn Dette styrer hva som skal skje hvis avgiver ikke har en digital postkasse. (BackupAltinn har ingen effekt hvis avgiver har en digital postkasse.). BackupAltinn = false – Det lages aldri noen correspondence. Isteden gis det en feilmelding i kvitteringen som returneres. BackupAltinn = true – Det vil alltid lages en correspondence. Kvitteringen som returneres vil ha en underkvittering med info om at det ikke kunne sendes noe digitaltbrev da postkassen er ukjent   PrimaryDocumentFileName For SDP må det være med minst ett binært vedlegg under Attachments. Dette vedlegget må ha angitt et filnavn (FileName) og navnet må stemme perfekt med innholdet i dette feltet. Vedlegget vil da benyttes som hoveddokument i det digitale brevet   SdpNotifications Container for varsel. Kan ha 0 eller ett epostvarsel og/eller 0 eller smsvarsel. (Klasse: SdpNotifications)   SdpNotifications    EmailNotification Varseldetaljer for epostvarsel. (Klasse: SdpEmailNotification)   SmsNotification Varseldetaljer for smsvarsel. (Kallse: SmsNotification)   SdpEmailNotification    NotificationText Varselteksten som skal med i meldingen til bruker. Maks 500 tegn.   EmailAddress Epostaddressen til mottaker. Altinn vil forsøke finne brukerens adresse fra KRR hvis etat ikke har dette. Hvis hverken etat eller Altinn finner noen noen adresse vil det gi feilmelding.   Repititions Varsel repetisjoner. Flere verdier vil produsere påminnelser   SdpSmsNotification    NotificationText Varselteksten som skal med i meldingen til bruker. Maks 160 tegn   MobileNumber Mobilnummeret til mottaker. Altinn vil forsøke finne brukerens mobilnummer fra KRR hvis etat ikke har dette. Hvis hverken etat eller Altinn finner noen noe mobilnummer vil det gi feilmelding.   Repititions Varsel repetisjoner. Flere verdier vil produsere påminnelser   DaysDelayedList    DaysDelayed Et tall mellom 0 og 25 som angir antall dager relativt til dagen hvor det digitale brevet ble gjort tilgjengelig for bruker. Tallet 0 vil gi varsel samme dag   ReceiptBE    ReceiptId Unik identifikator kvitteringen i Altinn. Benyttes for eksempel ved senere oppdatering av kvittering   ReceiptText Tekst i kvitteringen   ReceiptHistory Når en kvittering oppdateres så vil den gamle kvitteringsteksten flyttes og legges til øverst i denne historikken   LastChanged Dato og tidspunkt for når kvitteringen sist ble endret (yyyy-MM-ddThh:mm:ss)   ReceiptTypeName Angir hva kvittering gjelder. Mulige verdier: FormTask - Skjemasett, Correspondence - Melding, PINCODE - PIN-koder, Subscription - Abonnement, Outbound - Forsendelse sendt fra Altinn, PreFill - Preutfyllingsdata, Broker - Formidlingstjeneste, RegisterDLS - DLS registerdata, RegisterDSF - DSF registerdata, RegisterER - ER registerdata, RegisterDSFProperty, RegisterDSFStreet, RegisterDSFCountry, RegisterDSFUser, LookUp - Innsynstjeneste   ReceiptTemplate Angir malen (XML) som skal benyttes for kvittering   ReceiptStatusCode Status for forsendelse som kvitteringen gjelder: NotSet (standardverdi som brukes når status ikke er satt – skal ikke kunne mottas som verdi), OK, UnExpectedError, ValidationFailed, Rejected   ParentReceiptId Dersom denne kvitteringen er en av flere kvitteringer for en forsendelse vil ParentReceiptId vise til ReceiptId som gjelder for hele forsendelsen (hovedkvittering)   References Liste med ReferenceBE-objekter for kvitteringen   SubReceipts Liste med tilhørende Receipt-objekter (dersom denne kvitteringen er en hovedkvittering)   ReferenceBE    ReferenceValue Selve referansen (verdien) satt på kvitteringen. Typisk forsendelsesreferansen   ReferenceTypeName Angir type referanse: ExternalShipmentReference - Referansen viser til en referanse satt av sluttbrukersystem for en forsendelse, EndUserSystemReference - Benyttes ikke, SendersReference - Referanse satt av avsender for del av en forsendelse, ParentReference - Referansen viser til et hovedskjema, WorkFlowReference - Arbeidsflytreferanse, BatchReference - Referanse til en forsendelse mottatt i eller sendt fra Altinn, OutboundShipmentReference - Referanse til en forsendelse sendt fra Altinn, ReceiversReference - Mottakers referanse hvis kvitteringen blir oppdatert av mottaker av en forsendelse, OwnerPartyReference - Organisasjonsnummer eller personnummer til eier av kvitteringen, typisk den som har sendt inn en forsendelse. Settes av Altinn og kan ikke endres, PartyReference - Organisasjonsnummer eller personnummer til en part som får rettigheter til å hente og oppdatere kvitteringen. Altinn legger automatisk til mottaker av en forsendelse som en part på kvitteringen, ArchiveReference -Arkivreferanse    CreateSimpleCorrespondenceService CreateSimpleCorrespondenceService er en operasjon som vil opprette en enkel meldingstjeneste (correspondence) basert på en mal. Malen (template) er i utgangspunktet en vanlig meldingstjeneste som er definert av ASF (Altinn sentralforvaltning). Malen blir gitt en midlertidig kode og versjonsnummer og disse verdiene kan senere benyttes av en tjenesteeier slik at de kan opprette sin egen unike tjeneste basert på malen.\nOperasjonen oppretter en fullverdig tjeneste, men siden malen skal kunne brukes som utgangspunkt for alle tjenesteeiere er den veldig enkel. Det er flere begrensninger. Tjenesten har ingen skjema, og det er ikke mulig å spesifisere at lesebekreftelser sendes på batch til tjenesteeier.\nI returen fra operasjonen kommer informasjon om den unike tjenesten for den spesifikke tjenesteeieren. Dette er ExternalServiceCode og ExternalServiceEditionCode som tjenesteeieren senere kan benytte i kall til operasjonen InsertCorrespondenceV2.\nFor flere detaljer om de ulike malene må man kontakte Altinn. De har også oversikt over eksisterende maler med koder og versjonsnummer.\n   Input Beskrivelse     templateServiceCode ServiceCode for malen man ønsker benytte   templateServiceEditionCode ServiceEditionCode for malen man ønsker benytte   Returverdi Beskrivelse   CorrespondenceServiceInfo Et dataobjekt med detaljer om tjenesten som ble laget. (se under.)    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     CorrespondenceServiceInfo    ExternalServiceCode Dette er koden for den nye unike tjenesten som operasjonen har laget for tjenesteeieren som kalte tjenesten   ExternalServiceEditionCode Dette er \u0026ldquo;editioncode\u0026rdquo; for den nye tjenesten    GetCorrespondenceStatusDetails Denne metoden bør helst ikke benyttes. Benytt isteden versjon 3.\nÅrsaken til versjonering av denne operasjonen er endring av kontrakten. Ved innføring av Kontakt og reservasjonsregisteret til difi ble det innført en ny status på Correspondence. Dette er en status som indikerer at mottaker har reservert seg mot å motta elektronisk kommunikasjon.\nGetCorrespondenceStatusDetailsV2 Denne metoden bør helst ikke benyttes. Benytt isteden versjon 3.\nÅrsaken til denne versjoneringen er ny funksjonalitet knyttet til Sikker Digital Post.\nGetCorrespondenceStatusDetailsV3 Operasjonen GetCorrespondenceStatusDetails benyttes av en tjenesteeier for å sjekke status på et sett av meldinger knyttet til en spesifisert tjeneste.\nTabellen under beskriver datakontrakten for operasjonen: Request entiteter:\n   Input Beskrivelse     CorrespondenceStatusFilter Entitet for å angi filter for søket   Returverdi Beskrivelse   CorrespondenceStatusResult Entitet med liste over meldingstjenestene som matcher søket    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     CorrespondenceStatusFilterV3    CreatedAfterDate Dato og klokkeslett som filtrere ut meldinger opprettet før angitt dato   CreatedBeforeDate Dato og klokkeslett som filtrere ut meldinger opprettet tidligere enn angitt dato   CurrentStatus Filter for å hente ut meldinger i en angitt status. Mulige verdier er: Created, Read, Confirmed   NotificationSent Filter for hvorvidt varsel er sendt for meldingene eller ei   Reportee Filter for å returnere melding for en gitt avgiver, angitt av fødselsnummer eller organisasjonsnummer   SendersReference Filter for meldinger med en gitt SendersReference fra tjenesteeier. SendersReference på meldingstjenesten settes av feltet ExternalShipmentReference ved bruk av web service InsertCorrespondenceV2 og feltet SendersReference i correspondence.2010.10.xsd for batch   ServiceCode Tjenestekode for meldingene som skal returneres – pålagt parameter   ServiceEditionCode Tjenesteutgavekode for meldingene som skal returneres – pålagt parameter   SdpSearchOptions Tilleggsinnstillinger for Digital postkasse til innbygger. Hvis det ikke oppgis noe her så vil tjenesten ikke inkludere SDP status detaljer   SdpStatusSearchOptions    IncludeCorrespondence Dette er et flag som styrer hvorvidt søkeresultatet skal inkludere correspondence status information   SdpStatusSearchOptions    IncludeCorrespondence Dette er et flag som styrer hvorvidt søkeresultatet skal inkludere correspondence status information    Respons entiteter:\n   Property Beskrivelse     CorrespondenceStatusResultV3    ServiceCode Tjenestekode for meldingene returnert   ServiceEditionCode Tjenesteutgavekode for meldingene returnert   CorrespondenceStatusInformation Status informasjon om meldinger i Altinn (CorrespondenceStatusInformation)   SdpStatusInformation Status informasjon om digitale brev som Altinn har videresendt til løsningen for «Digital postkasse til innbygger (SdpStatusInformation)   CorrespondenceStatusInformation    CorrespondenceStatusDetailsList Liste over meldinger og deres status historikk (StatusV2)   LimitReached Dette er et flag som indikerer hvorvidt listen er komplett eller ikke. Hvis dette feltet er true så betyr det at søkekriteriene bør endres slik at det er mer begrensende   StatusV2 (correspondence)    CorrespondenceID Meldingens unike id   CreatedDate Dato for når meldingen ble opprettet   Notifications Liste over varsler knyttet til meldingen angitt som en liste med Notification-entiteter (Notification)   Reportee Avgiver meldingen tilhører. Fødselsnummer eller organisasjonsnummer   SendersReference Verdien av referansen SendersReference hvis angitt av tjenesteeier   StatusChanges Liste over meldingens statusendringer som en liste av StatusChange-entiteter   Notification    Recipient Varselets mottaksadresse. E-postadresse eller telefonnummer   SentDate Dato og klokkeslett for når varselet er sendt. Om feltet er tomt (null) betyr det at varselet ikke er sendt   TransportType Typer varsling: Email, SMS, IM (Instant Message),Both (email og SMS)   StatusChange    StatusDate Dato og klokkeslett for når statusen endret   StatusType Statusen meldingen endret til. Mulige verdier er: Created – meldingen ble opprettet av tjenesteeier, Read – meldingen ble lest av en bruker, Confirmed – meldingen ble bekreftet lest av en bruker, Reserved – mottaker har reservert seg mot elektronisk kommunikasjon. Meldingen er ikke synlig for mottaker   SdpStatusInformation    SdpStatusDetailsList Liste over digitale brev laget gjennom Altinn og deres status historikk (SdpStatusDetails)   LimitReached Dette er et flag som indikerer hvorvidt listen er komplett eller ikke. Hvis dette feltet er true så betyr det at søkekriteriene bør endres slik at det er mer begrensende   SdpStatusDetails    SdpId En unik ID for elementet definert i Altinn   CorrespondenceId Unik ID for correpondence hvis Altinn har fått kopi eller har fungert som backup   CreatedDateTime Tidspunktet for når det digitale brevet først ble registrert i Altinn   LastChangedDateTime Tidspunktet for når status på elementet ble sist oppdatert   Reportee Avgiver i form av personnummer eller organisasjonsnummer (Brevets mottaker)   Reference En referanseverdi som tjenesteeier kan gi alle digitale brev. Kan brukes hvis det lages mange brev samtidig for å identifisere alle som ble opprettet sammen   StatusHistory Brevets status historikk. Dette er en liste med de statuser brevet har hatt(SdpStatusChange)   SdpStatusChange    Status Unknown – Ukjent status, Sent_Meldingsformidler – Altinn har laget brevet og sendt det inn i SDP systemet, Delivered_EndUser – Brevet har gått gjennom systemet og blitt levert til sluttbruker, Delivery_EndUser_Failed – Brevet kunne ikke leveres, Reserved – Altinn lagde ikke noe brev fordi sluttbruker har reservert seg mot digital post, NoMailBox – Altinn lagde ikke noe brev fordi sluttbruker ikke har registrert noen postboks i kontakt og reservasjonsregisteret   StatusDateTime Tidspunktet for når statusen ble satt    GetCorrespondenceStatusHistory Operasjonen GetCorrespondenceStatusHistory benyttes av en tjenesteeier for å sjekke status på et sett av meldinger basert på SendersReference på meldingene.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     CorrespondenceStatusHistoryRequest Entitet for å angi filter for søket   Returverdi Beskrivelse   CorrespondenceStatusHistoryResult Entitet med liste over meldingstjenestene som matcher søket    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\nRequest entiteter:\n   Property Beskrivelse     CorrespondenceStatusHistoryResult    CorrespondenceStatusInformation Status informasjon om meldinger i Altinn. (CorrespondenceStatusInformation   SdpStatusInformation Status informasjon om digitale brev som Altinn har videresendt til løsningen for «Digital postkasse til innbygger (SdpStatusInformation)   CorrespondenceStatusInformation    CorrespondenceStatusDetailsList Liste over meldinger og deres status historikk (StatusV2)   LimitReached Dette er et flag som indikerer hvorvidt listen er komplett eller ikke. Hvis dette feltet er true så betyr det at søkekriteriene bør endres slik at det er mer begrensende   StatusV2 (correspondence)    CorrespondenceID Meldingens unike id   CreatedDate Dato for når meldingen ble opprettet   Notifications Liste over varsler knyttet til meldingen angitt som en liste med Notification-entiteter (Notification)   Reportee Avgiver meldingen tilhører. Fødselsnummer eller organisasjonsnummer.   SendersReference Verdien av referansen SendersReference hvis angitt av tjenesteeier   StatusChanges Liste over meldingens statusendringer som en liste av StatusChange-entiteter   Notification    Recipient Varselets mottaksadresse. E-postadresse eller telefonnummer   SentDate Dato og klokkeslett for når varselet er sendt. Om feltet er tomt (null) betyr det at varselet ikke er sendt   TransportType Typen varsling: Email, SMS, IM (Instant Message), Both (email og SMS)   StatusChange    StatusDate Dato og klokkeslett for når statusen endret   StatusType Statusen meldingen endret til. Mulige verdier er: Created – meldingen ble opprettet av tjenesteeier, Read – meldingen ble lest av en bruker,Confirmed – meldingen ble bekreftet lest av en bruker, Reserved – mottaker har reservert seg mot elektronisk kommunikasjon. Meldingen er ikke synlig for mottaker   SdpStatusInformation    SdpStatusDetailsList Liste over digitale brev laget gjennom Altinn og deres status historikk (SdpStatusDetails)   LimitReached Dette er et flag som indikerer hvorvidt listen er komplett eller ikke. Hvis dette feltet er true så betyr det at søkekriteriene bør endres slik at det er mer begrensende   SdpStatusDetails    SdpId En unik ID for elementet definert i Altinn   CorrespondenceId Unik ID for correpondence hvis Altinn har fått kopi eller har fungert som backup   CreatedDateTime Tidspunktet for når det digitale brevet først ble registrert i Altinn   LastChangedDateTime Tidspunktet for når status på elementet ble sist oppdatert   Reportee Avgiver i form av personnummer eller organisasjonsnummer. (Brevets mottaker)   Reference En referanseverdi som tjenesteeier kan gi alle digitale brev. Kan brukes hvis det lages mange brev samtidig for å identifisere alle som ble opprettet sammen.   StatusHistory Brevets status historikk. Dette er en liste med de statuser brevet har hatt (SdpStatusChange)   SdpStatusChange    Status Unknown – Ukjent status, Sent_Meldingsformidler – Altinn har laget brevet og sendt det inn i SDP systemet, Delivered_EndUser – Brevet har gått gjennom systemet og blitt levert til sluttbruker, Delivery_EndUser_Failed – Brevet kunne ikke leveres, Reserved – Altinn lagde ikke noe brev fordi sluttbruker har reservert seg mot digital post, NoMailBox – Altinn lagde ikke noe brev fordi sluttbruker ikke har registrert noen postboks i kontakt og reservasjonsregisteret   StatusDateTime Tidspunktet for når statusen ble satt    AltUt For bakoverkompatibilitet tilbys AltUt grensesnittet for registrering av meldinger til eksisterende tjenesteeiere. Nye tjenesteeiere skal benytte nytt tjenestegrensesnitt. AltUt grensesnittet vil ikke bli oppdatert ettersom Altinn videreutvikles.\nSubmitAltutMessagePw Operasjonen SubmitAltutMessagePw benyttes av eksisterende tjenesteeiere for å sende meldinger til avgivere i Altinn.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     altutMessage Meldingen som skal sendes til Altinn. Må være i henhold til AltUt.xsd (versjon 6.0)   Password Tjenesteeiers passord   Returverdi Beskrivelse   submitAltutMessagePwResult Kvittering for innsendingen. Er i henhold til GovOrganReceipt.xsd (versjon 6.0)    Se avsnitt Batch grensesnitt – Altut format for bilde av xml struktur i Altut.xsd.\nTabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten\n   Property Beskrivelse     altutMessage (AltUt.xsd)    Se definisjonen på xsd i avsnittet Batch grensesnitt – Altut format        Element Beskrivelse     GovOrganReceipt Rotnode   schemaVersion Versjon på kvittering   GovOrganReceipt.DataUnitInReceipt Elementet inneholder status på og tidspunkt for forsendelse, samt elementer for melding til kallende system   receiptType Kvitteringstype (valgfritt): PREFILL, ALTUT   status Status på innsending   timeReceived Tidspunkt for innsending   GovOrganReceipt.DataUnitInReceipt.Message Overordnet element   GovOrganReceipt.DataUnitInReceipt.Message.MessageEntry Elementet inneholder melding som beskriver resultat for forsendelse    Prefill Denne tjenesten inneholder operasjoner som benyttes av tjenesteeier for å sende inn preutfylte oppgavesett for avgivere. Det finnes tre typer preutfyllingsinformasjon: • Preutfylling av oppgavesett Hele oppgavesettet (hoved- og underskjema) sendes inn med preutfyllingsinformasjon. Tjenesteeier kan også velge å legge til binære vedlegg (Base64) for preutfylte oppgavesett. • Preutfyllingsinformasjon angitt som felt/verdi Feltet viser til en unik id som benyttes i skjemaer, og det angis verdi for feltet. • Registerdata Statisk informasjon som sendes inn fra nasjonale registre.\nPrefilltjenesten benyttes kun for preutfyllingsinformasjon som angis per skjemasett. For preutfyllingsinformasjon for felt/verdi og registerdata benyttes et batchgrensesnitt. Batch-grensesnittet kan også benyttes dersom mengden med preutfyllingsinformasjon er for stort for et tjenestekall, eller for tjenesteeiere som ikke ønsker å benytte tjenestegrensesnittet. Det alternative batch-grensesnittet er beskrevet i avsnittet Preutfylling.\nTjenestene for skjemasettet må være definert i tjenesteutviklingsløsningen og migrert til Altinn før en tjenesteeier kan sende inn preutfyllingsinformasjon for tjenesten. Operasjon GetAvailableServices kan kalles for å sjekke om skjemasettet eksisterer i Altinn.\nPåfølgende kapitler beskriver tjenesteoperasjonene for denne tjenesten. #####9.6.1 SubmitAndInstantiatePrefilledFormTask Denne operasjonen benyttes av tjenesteeiere for å preutfylle et oppgavesett for en avgiver, og umiddelbart aktivere oppgavesettet i brukers arbeidsliste. Ett oppgavesett kan preutfylles og instansieres per kall til SubmitAndInstantiatePrefilledFormTask. Kvittering til tjenesteeier vil angi om mottak, validering, lagring til prefilldatabase (dersom dette er valgt) og instansiering av skjema i portal (dersom dette er valgt) ble gjennomført.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     externalBatchId Unik id for forsendelse. Denne defineres og settes av tjenesteeier. Returneres i kvittering. Identifikatoren kan senere benyttes av tjenesteeier for å hente ut kvittering for den gitte forsendelsen   preFillFormTask Dette objektet av typen PrefillFormTaskBE inneholder prefilldata for de ulike skjema i et oppgavesett   doSaveFormTask Angir om det preutfylte oppgavesettet skal lagres i databasen for senere bruk   doinstantiateFormTask Angir om det preutfylte oppgavesettet umiddelbart skal instansieres i brukers arbeidsliste   caseId Referanse til samhandlingstjeneste preutfylt skjema skal knyttes til   Returverdi Beskrivelse   Receipt ReceiptBE-objekt. Kvittering for forsendelsen    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     PrefillFormTaskBE    ServiceOwnerCode Feltnavnet er misvisende. Verdien skal ikke være ServiceOwnerCode, men en kode som unikt representerer kildesystem. For eksempel: \u0026ldquo;ABC-123\u0026rdquo;. Format: XXX_YYYY. De tre første bokstavene er påkrevd og representerer tjenesteeier. De etter understreken representerer avdeling/system, og er valgfritt hvis det ikke finnes flere avdelinger/systemer innenfor samme tjenesteeier   ExternalShipmentReference Unik referanse som settes av tjenesteeier for å identifisere forsendelsen   Reportee Fødselsnummer eller organisasjonsnummer organisasjonsnummer eller brukernavn på selvregistrert bruker som identifiserer hvem dataene gjelder   ExternalServiceCode Angir den unike tjenestekoden dataene gjelder   ExternalServiceEditionCode Angir tjenesteutgavekode dataene gjelder   ValidFromDate Angir fra når preutfyllingsdata er gyldig (yyyy-MM-dd)   ValidToDate Angir til når preutfyllingsdata er gyldig (yyyy-MM-dd)   IdentityFieldHashCode Settes ikke av tjenesteeier. Brukes internt i Altinn   SendersReference Referanse på preutfylt skjemasett som settes av tjenesteeier   ReceiversReference Referanse som settes av Altinn. Denne returneres i kvittering til tjenesteeier   PrefillFormList Liste (PrefillFormBE-objekter) som inneholder preutfylte skjema og metadata for et oppgavesett, ett skjema per objekt   PrefillAttachmentList Liste (PrefillAttachmentBE-objekter) som inneholder binære for oppgavesettet   PreFillIdentityFieldList Liste (PrefillIdentityFieldBE-objekter) som inneholder identifiserende felter for det preutfylte oppgavesettet   NotificationList Liste (NotificationBE-objekter) med varsler for det preutfylte oppgavesettet   PrefillFormBE    DataFormatID Id til skjema fra metadata kilde   DataFormatVersion Versjon til skjema fra metadata kilde   SendersReference Unik referanse for skjemaet satt av tjenesteeier   FormDataXML Preutfyllingsdata for skjemaet. Må legges i en CDATA blokk   PrefillAttachmentBE    AttachmentName Dette er navnet på vedlegget, som det vises i portalen   FileName Navn på fil for det binære vedlegget   AttachmentData Data for det binære vedlegget   AttachmentType Angir MIME-typen for vedlegget: application_none - ingen MIME type angitt, application_pdf - PDF format, application_msword - Microsoft Word, application_vnd_ms_excel - Microsoft Excel, application_vns_oasis_opendocument_text - Open document type Text, application_vnd_oasis_opendocument_presentation - Open docment type Presentation, application_vnd_oasis_opendocument_spreadsheet - Open docment, type Spreadsheet, application_rtf - Rich text format type, application_vnd_ms_powerpoint - Microsoft PowerPoint, application_postscript, application_zip - Type zip, text_plain, text_html, text_xml, text_rtf - Rich text format type, text_richtext - Rich text, binary_octet_stream - Binary format, not_Applicable   SendersReference Referanse for vedlegget. Settes av tjenesteeier   PrefillIdentityFieldBE    FieldValue Verdi for identifiserende feltet. Må settes når det skal være mer enn ett preutfylt skjemasett for samme tjeneste og avgiver. Se avsnitt Identifiserende felter for mer info   NotificationBE    ShipmentDateTime Når varsel skal sendes til mottaker   LanguageCode Språk kode: 1033 - English, 1044 - Bokmål, 2068 - Nynorsk   FromAddress Avsender adresse (e-post). Hvis ikke satt benyttes avsenderadresse satt i varselmalen   NotificationType En unik streng som definerer en referanse til predefinerte varslingstekster   ReceiverEndPoints Liste av mottaker addresser (ReceiverEndPointBE)   TextTokens Liste av tekster som skal erstatte maltekst i varselmal   ReceiverEndPoint    ReceiverAddress Adressen (telefonnummer eller e-postadresse) for mottakspunktet   TransportType Type varsling: Email, SMS, Instant Message (IM), Both email \u0026amp; sms   TextTokenSubstitutionBE    TokenNum Ikke i bruk, kan utelates   TokenValue Tekst som skal ersatte maltekst. Substitusajonen gjøres i samme rekkefølge som parameterene er angitt. Varselmal må bestilles og lages på forhånd   ReceiptBE    ReceiptId Unik identifikator kvitteringen i Altinn. Benyttes for eksempel ved senere oppdatering av kvittering   ReceiptText Tekst i kvitteringen   ReceiptHistory Når en kvittering oppdateres så vil den gamle kvitteringsteksten flyttes og legges til øverst i denne historikken   LastChanged Dato og tidspunkt for når kvitteringen sist ble endret (yyyy-MM-ddThh:mm:ss)   ReceiptTypeName Angir hva kvittering gjelder. Mulige verdier: FormTask -Skjemasett, Correspondence - Melding, PINCODE - PIN-koder, Subscription - Abonnement, Outbound - Forsendelse sendt fra Altinn, PreFill - Preutfyllingsdata, Broker - Formidlingstjeneste, RegisterDLS - DLS registerdata, RegisterDSF - DSF registerdata, RegisterER - ER registerdata, RegisterDSFProperty, RegisterDSFStreet, RegisterDSFCountry, RegisterDSFUser, LookUp -Innsynstjeneste   ReceiptTemplate Angir malen (XML) som skal benyttes for kvittering   ReceiptStatusCode Status for forsendelse som kvitteringen gjelder: NotSet (standardverdi som brukes når status ikke er satt – skal ikke kunne mottas som verdi), OK, UnExpectedError, ValidationFailed, Rejected   ParentReceiptId Dersom denne kvitteringen er en av flere kvitteringer for en forsendelse vil ParentReceiptId vise til ReceiptId som gjelder for hele forsendelsen (hovedkvittering)   References Liste med ReferenceBE-objekter for kvitteringen   SubReceipts Liste med tilhørende Receipt-objekter (dersom denne kvitteringen er en hovedkvittering)   ReferenceBE    ReferenceValue Selve referansen (verdien) satt på kvitteringen. Typisk forsendelsesreferansen   ReferenceTypeName Angir type referanse: ExternalShipmentReference - Referansen viser til en referanse satt av sluttbrukersystem for en forsendelse, EndUserSystemReference - Benyttes ikke, SendersReference - Referanse satt av avsender for del av en forsendelse, ParentReference - Referansen viser til et hovedskjema, WorkFlowReference - Arbeidsflytreferanse, BatchReference - Referanse til en forsendelse mottatt i eller sendt fra Altinn, OutboundShipmentReference - Referanse til en forsendelse sendt fra Altinn, ReceiversReference - Mottakers referanse hvis kvitteringen blir oppdatert av mottaker av en forsendelse, OwnerPartyReference -Organisasjonsnummer eller personnummer til eier av kvitteringen er typisk den som har sendt inn en forsendelse. Settes av Altinn og kan ikke endres, PartyReference - Organisasjonsnummer eller personnummer til en part som får rettigheter til å hente og oppdatere kvitteringen. Altinn legger automatisk til mottaker av en forsendelse som en part på kvitteringen, ArchiveReference - Arkivreferanse    SubmitPrefilledFormTasks SubmitPrefilledFormTasks kalles av tjenesteeier for å lagre et preutfylt oppgavesett for en avgiver i Altinn. Ett eller flere oppgavesett kan sendes inn ved et kall til tjenesten.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     externalBatchId Unik id for forsendelse. Denne defineres og settes av tjenesteeier. Returneres i kvittering. Identifikatoren kan senere benyttes av tjenesteeier for å hente ut kvittering for den gitte forsendelsen   Returverdi Beskrivelse   Receipt ReceiptBE-objekt. Kvittering for forsendelsen    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     PreFillFormTaskDetails    SystemUserCode Kode som unikt representerer kildesystem, f.eks. \u0026ldquo;ABC-123\u0026rdquo;. Format: XXX_YYYY. De tre første bokstavene er påkrevd og representerer tjenesteeier. De etter understreken representerer avdeling/system, og er valgfritt hvis det ikke finnes flere avdelinger/systemer innenfor samme tjenesteeier   PreFillFormTaskList Liste med metadata og preutfyllingsdata (PreFillFormTaskBE-objekter) for skjemaene i oppgavesettet   PrefillFormTaskBE    ServiceOwnerCode Unik kode på tjenesteeier som er kilde for preutfyllingsdata   ExternalShipmentReference Unik referanse som settes av tjenesteeier for å identifisere skjemaet i forsendelsen   Reportee Fødselsnummer eller organisasjonsnummer organisasjonsnummer eller brukernavn på selvregistrert bruker som identifiserer hvem dataene gjelder   ExternalServiceCode Angir den unike tjenestekoden dataene gjelder   ExternalServiceEditionCode Angir tjenesteutgavekode dataene gjelder   ValidFromDate Angir fra når preutfyllingsdata er gyldig (yyyy-MM-dd)   ValidToDate Angir til når preutfyllingsdata er gyldig (yyyy-MM-dd)   IdentityFieldHashCode Settes ikke av tjenesteeier. Brukes internt i Altinn   SendersReference Referanse på preutfylt skjemasett som settes av tjenesteeier   ReceiversReference Referanse som settes av Altinn. Denne returneres i kvittering til tjenesteeier   PrefillFormList Liste (PrefillFormBE-objekt) som inneholder preutfylte skjema og metadata for et oppgavesett, ett skjema per objekt   PrefillAttachmentList Liste (PrefillAttachmentBE-objekt) som inneholder binære for oppgavesettet   PreFillIdentityFieldList Liste (PrefillIdentityFieldBE-objekt) som inneholder identifiserende felter for det preutfylte oppgavesettet   NotificationList Liste (NotificationBE -objekt) med varsler for det preutfylte oppgavesettet   PrefillFormBE    DataFormatID Id til skjema fra metadata kilde   DataFormatVersion Versjon til skjema fra metadata kilde   SendersReference Referanse for skjemaet satt av tjenesteeier, bør være unikt   FormDataXML Preutfyllingsdata for skjemaet. Må legges i en CDATA blokk   PrefillAttachmentBE    AttachmentName Dette er navnet på vedlegget, som det vises i portalen   FileName Navn på fil for det binære vedlegget   AttachmentData Data for det binære vedlegget   AttachmentType Angir MIME-typen for vedlegget: application_none - ingen MIME type angitt, application_pdf - PDF format, application_msword - Microsoft Word, Application_vnd_ms_excel - Microsoft Excel, application_vns_oasis_opendocument_textOpen document av type Text, application_vnd_oasis_opendocument_presentation - Open docment av type Presentation, application_vnd_oasis_opendocument_spreadsheet - Open docment av type Spreadsheet, application_rtf - Rich text format type, application_vnd_ms_powerpoint - Microsoft PowerPoint, application_postscript, application_zip - Type zip, text_plain, text_html, text_xml, text_rtf - Rich text format type, text_richtext - Rich text, binary_octet_stream - Binary format, not_Applicable   SendersReference Referanse for vedlegget. Settes av tjenesteeier   PrefillIdentityField    FieldValue Verdi for identifiserende feltet. Må settes når det skal være mer enn ett preutfylt skjemasett for samme tjeneste og avgiver. Se avsnitt Identifiserende felter for mer info   NotificationBE    ShipmentDateTime Når varsel skal sendes til mottaker   LanguageCode Språk kode: 1033 - English, 1044 - Bokmål, 2068 - Nynorsk   FromAddress Avsender adresse (e-post). Hvis ikke satt benyttes avsenderadresse satt i varselmalen   NotificationType En unik streng som definerer en referanse til predefinerte varslingstekster   ReceiverEndPoints Liste av mottaker addresser (ReceiverEndPointBE)   TextTokens Liste av tekster som skal erstatte maltekst i varselmal   ReceiverEndPoint    ReceiverAddress Adressen (telefonnummer eller e-postadresse) for mottakspunktet   TransportType Type varsling: Email, SMS, Instant Message (IM), Both email \u0026amp; sms   TextTokenSubstitution    TokenNum Ikke i bruk, kan utelates   TokenValue Tekst som skal ersatte maltekst. Substitusajonen gjøres i samme rekkefølge som parameterene er angitt. Varselmal må bestilles og lages på forhånd   ReceiptBE    ReceiptId Unik identifikator kvitteringen i Altinn. Benyttes for eksempel ved senere oppdatering av kvittering   ReceiptText Tekst i kvitteringen   ReceiptHistory Når en kvittering oppdateres så vil den gamle kvitteringsteksten flyttes og legges til øverst i denne historikken   LastChanged Dato og tidspunkt for når kvitteringen sist ble endret (yyyy-MM-ddThh:mm:ss)   ReceiptTypeName Angir hva kvittering gjelder. Mulige verdier: FormTask -Skjemasett, Correspondence - Melding, PINCODE - PINkoder, Subscription - Abonnement, Outbound - Forsendelse sendt fra Altinn, PreFill - Preutfyllingsdata, Broker - Formidlingstjeneste, RegisterDLS - DLS registerdata, RegisterDSF - DSF registerdata, RegisterER - ER registerdata, RegisterDSFProperty, RegisterDSFStreet, RegisterDSFCountry, RegisterDSFUser, LookUp - Innsynstjeneste   ReceiptTemplate Angir malen (XML) som skal benyttes for kvittering   ReceiptStatusCode Status for forsendelse som kvitteringen gjelder: NotSet (standardverdi som brukes når status ikke er satt – skal ikke kunne mottas som verdi), OK, UnExpectedError, ValidationFailed, Rejected   ParentReceiptId Dersom denne kvitteringen er en av flere kvitteringer for en forsendelse vil ParentReceiptId vise til ReceiptId som gjelder for hele forsendelsen (hovedkvittering)   References Liste med ReferenceBE-objekter for kvitteringen   SubReceipts Liste med tilhørende Receipt-objekter (dersom denne kvitteringen er en hovedkvittering)   ReferenceBE    ReferenceValue Selve referansen (verdien) satt på kvitteringen. Typisk forsendelsesreferansen   ReferenceTypeName Angir type referanse: ExternalShipmentReference - Referansen viser til en referanse satt av sluttbrukersystem for en forsendelse, EndUserSystemReference - Benyttes ikke, SendersReference - Referanse satt av avsender for del av en forsendelse, ParentReference - Referansen viser til et hovedskjema, WorkFlowReference - Arbeidsflytreferanse, BatchReference - Referanse til en forsendelse mottatt i eller sendt fra Altinn, OutboundShipmentReference - Referanse til en forsendelse sendt fra Altinn, ReceiversReference - Mottakers referanse hvis kvitteringen blir oppdatert av mottaker av en forsendelse, OwnerPartyReference - Organisasjonsnummer eller personnummer til eier av kvitteringen som typisk er den som har sendt inn en forsendelse. Settes av Altinn og kan ikke endres, PartyReference - Organisasjonsnummer eller personnummer til en part som får rettigheter til å hente og oppdatere kvitteringen. Altinn legger automatisk til mottaker av en forsendelse som en part på kvitteringen, ArchiveReference - Arkivreferanse    Håndtering av Etatid attribut i skjemadefinasjon fra OR ved Prefil Skjema definert av oppgaveregisteret har ofte en valgfri attributt kalt etatid som er en enum med gyldige etater for skjemadefinasjon. Denne verdien er ikke i bruk i Altinn 2 og kan ikke benyttes. Hvis verdi settes i XML som sendes inn fra etatssystem vil skjema ikke validere.\nSubscription Subscription inneholder operasjoner relatert til abonnement på tjenester i Altinn.\nPåfølgende kapittel beskriver tjenesteoperasjonen for denne tjenesten.\nSubmitSubscription SubmitSubscription kalles for å lagre abonnement for ett eller flere skjemasett i Altinn. Det er mulig å sende abonnementsdata for mer enn ett oppgavesett i ett kall til SubmitSubscription. Skjemasettet må være definert som en tjeneste i tjenesteutviklingsløsningen og migrert til Altinn før en tjenesteeier kan sette opp abonnement for et skjemasett. Operasjon GetAvailableServices kan kalles for å sjekke om tjenesten for skjemasettet eksisterer i Altinn.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     externalBatchId Unik id for forsendelse. Denne defineres og settes av tjenesteeier. Returneres i kvittering. Identifikatoren kan senere benyttes av tjenesteeier for å hente ut kvittering for den gitte forsendelsen   SubscriptionDetails Liste med SubscriptionDetailsBE-objekter som inneholder metadata og abonnement   Property Beskrivelse   SubscriptionDetailsBE    SubscriptionList Liste med abonnement (SubscriptionBE-objekter)   SystemUserCode Kode som unikt representerer kildesystem, f.eks. \u0026ldquo;ABC-123\u0026rdquo;. Format: XXX_YYYY. De tre første bokstavene er påkrevd og representerer tjenesteeier. De etter understreken representerer avdeling/system, og er valgfritt hvis det ikke finnes flere avdelinger/systemer innenfor samme tjenesteeier   SubscriptionBE    ReporteeId Fødselsnummer eller organisasjonsnummer som identifiserer hvem dataene gjelder   StartDate Dato for når abonnementet skal aktiviseres (yyyy-MM-dd)   ExpirationDate Dato for når abonnementet opphører (yyyy-MM-dd)   NextScheduleDate Dato for når abonnementet skal instansieres neste gang (yyyy-MM-dd). Første dato settes av tjenesteeier, neste kalkuleres av runtiejobb i Altinn (basert på periodetype)   NextDueDate Dato for når abonnementet/innsendingstjenesten må være fylt ut av bruker i portal/sluttbrukersystem (yyyy-MM-dd). Første dato settes av tjenesteeier, neste kalkuleres av runtiejobb i Altinn (basert på periodetype)   VisibleDate Dato for når abonnementet skal være synlig i portal/for sluttbrukersystemer (yyyy-MM-dd)   SubscriptionPeriodType Angir hvor ofte abonnementet skal instansieres (obligatorisk): Annual - årlig, Semiannual - to ganger årlig, Quarterly - tre ganger årlig, Tertiary - fire ganger årlig, Bimonthly - annenhver måned, Monthly - hver måned, Fortnightly - hver 15. dag, Weekly - hver uke, Daily - hver dag, Once -abonnementet instansieres én gang   IdentityFields Liste (SubscriptionIdentityField-objekt) som inneholder identifiserende felter for det abonnementet. Settes kun hvis abonnementet skal kobles til et gitt preutfylt skjemasett   ExternalServiceEditionCode Utgave av tjenesten det skal opprettes abonnement for   ExternalServiceCode Unik identifikator for tjenesten det skal opprettes abonnement for   CaseId Valgfri referanse til samhandlingstjeneste skjema skal knyttes til   SubscriptionIdentityField    FieldValue Verdi for identifiserende feltet. Må angis hvis abonnement skal kobles til et preutfylt skjemasett. Se avsnitt Identifiserende felter for mer info   ReceiptBE    ReceiptId Unik identifikator kvitteringen i Altinn. Benyttes for eksempel ved senere oppdatering av kvittering   ReceiptText Tekst i kvitteringen   ReceiptHistory Når en kvittering oppdateres så vil den gamle kvitteringsteksten flyttes og legges til øverst i denne historikken   LastChanged Dato og tidspunkt for når kvitteringen sist ble endret (yyyy-MM-ddThh:mm:ss)   ReceiptTypeName Angir hva kvittering gjelder. Mulige verdier: FormTask - Skjemasett, Correspondence - Melding, PINCODE - PIN-koder, Subscription - Abonnement, Outbound - Forsendelse sendt fra Altinn, PreFill - Preutfyllingsdata, Broker - Formidlingstjeneste, RegisterDLS - DLS registerdata, RegisterDSF - DSF registerdata, RegisterER - ER registerdata, RegisterDSFProperty, RegisterDSFStreet, RegisterDSFCountry, RegisterDSFUser, LookUp - Innsynstjeneste   ReceiptTemplate Angir malen (XML) som skal benyttes for kvittering   ReceiptStatusCode Status for forsendelse som kvitteringen gjelder: NotSet (standardverdi som brukes når status ikke er satt – skal ikke kunne mottas som verdi), OK, UnExpectedError, ValidationFailed, Rejected   ParentReceiptId Dersom denne kvitteringen er en av flere kvitteringer for en forsendelse vil ParentReceiptId vise til ReceiptId som gjelder for hele forsendelsen (hovedkvittering)   References Liste med ReferenceBE-objekter for kvitteringen   SubReceipts Liste med tilhørende Receipt-objekter (dersom denne kvitteringen er en hovedkvittering)   ReferenceBE    ReferenceValue Selve referansen (verdien) satt på kvitteringen. Typisk forsendelsesreferansen   ReferenceTypeName Angir type referanse: ExternalShipmentReference - Referansen viser til en referanse satt av sluttbrukersystem for en forsendelse, EndUserSystemReference - Benyttes ikke, SendersReference - Referanse satt av avsender for del av en forsendelse, ParentReference - Referansen viser til et hovedskjema, WorkFlowReference - Arbeidsflytreferanse, BatchReference - Referanse til en forsendelse mottatt i eller sendt fra Altinn, OutboundShipmentReference - Referanse til en forsendelse sendt fra Altinn, ReceiversReference - Mottakers referanse hvis kvitteringen blir oppdatert av mottaker av en forsendelse, OwnerPartyReference - Organisasjonsnummer eller personnummer til eier av kvitteringen, typisk den som har sendt inn en forsendelse. Settes av Altinn og kan ikke endres, PartyReference - Organisasjonsnummer eller personnummer til en part som får rettigheter til å hente og oppdatere kvitteringen. Altinn legger automatisk til mottaker av en forsendelse som en part på kvitteringen, ArchiveReference - Arkivreferanse    AuthorizationAdministration AuthorizationAdministration er tjenesten i Altinn II for import av eksterne regler og ressurser brukt til å ta avgjørelser der Altinns autorisasjonskomponent benyttes. Er tilknyttet tjenesten AuthorizationDecisionPointExternal som benytter importert informasjon.\nPåfølgende kapitler beskriver tjenesteoperasjonene for denne tjenesten.\nImportAuthorizationPolicy Operasjon for å importere XACML regler for ekstern autorisering.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     authorizationRulesXml XML på XACML standard som inneholder autorisasjonsreglene   Returverdi Beskrivelse   Boolsk Returnere status for regelimporten, true, vellykket eller false, feilet    Altinn spesifikke elementer XACML-forespørselen:\n   Foreldrenode AttributeId AttributeValue verdier     Subject urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:rolecode Kode for rollen   Subject urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:authenticationlevel Autentiseringsnivå 0, 1, 2, 3, 4. Hvilke nivå som skal kreves for en resurs.   Subject urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:delegatable true / false kan rettigheten delegeres videre   Subject urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:external-resource Ekstern ressursdefinisjon   Subject urn:oasis:names:tc:xacml:2.0:action:urn:altinn:action-id Read Write Sign ArchiveRead ArchiveDelete ServiceOwnerArchiveRead Delegate   Subject urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:rolecode Kode for rollen    Følgende er et eksempel på valid XACML for eksterne regler: AuthorizationPolicy\n\u0026lt;?xml version=\u0026quot;1.0\u0026quot; encoding=\u0026quot;utf-8\u0026quot;?\u0026gt; \u0026lt;xacml:Policy xmlns:xacml=\u0026quot;urn:oasis:names:tc:xacml:2.0:policy:schema:os\u0026quot; xmlns:xsi=\u0026quot;http://www.w3.org/2001/XMLSchema-instance\u0026quot; xsi:schemaLocation=\u0026quot;urn:oasis:names:tc:xacml:2.0:policy:schema:os http://docs.oasis-open.org/xacml/2.0/access_control-xacml-2.0-policy-schema-os.xsd\u0026quot; PolicyId=\u0026quot;#1\u0026quot; Version=\u0026quot;1.0\u0026quot; RuleCombiningAlgId=\u0026quot;urn:oasis:names:tc:xacml:1.0:rule-combiningalgorithm:deny-overrides\u0026quot;\u0026gt; \u0026lt;xacml:Description\u0026gt;This is an example RolePolicy XACML and how it should be sent from external systems to add external rules\u0026lt;/xacml:Description\u0026gt; \u0026lt;xacml:Target/\u0026gt; \u0026lt;xacml:Rule RuleId=\u0026quot;#1\u0026quot; Effect=\u0026quot;Permit\u0026quot;\u0026gt; \u0026lt;xacml:Description\u0026gt;This is a rule giving a person with DAGL READ for the external resource NAVRF1030\u0026lt;/xacml:Description\u0026gt; \u0026lt;xacml:Target\u0026gt; \u0026lt;xacml:Subjects\u0026gt; \u0026lt;xacml:Subject\u0026gt; \u0026lt;xacml:SubjectMatch MatchId=\u0026quot;urn:oasis:names:tc:xacml:2.0:function:string-equal\u0026quot;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt;DAGL\u0026lt;/xacml:AttributeValue\u0026gt; \u0026lt;xacml:SubjectAttributeDesignator AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:rolecode\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;/\u0026gt; \u0026lt;/xacml:SubjectMatch\u0026gt; \u0026lt;xacml:SubjectMatch MatchId=\u0026quot;urn:oasis:names:tc:xacml:2.0:function:string-equal\u0026quot;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#integer\u0026quot;\u0026gt;2\u0026lt;/xacml:AttributeValue\u0026gt; \u0026lt;xacml:SubjectAttributeDesignator AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:authenticationlevel\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;/\u0026gt; \u0026lt;/xacml:SubjectMatch\u0026gt; \u0026lt;xacml:SubjectMatch MatchId=\u0026quot;urn:oasis:names:tc:xacml:2.0:function:string-equal\u0026quot;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#boolean\u0026quot;\u0026gt;false\u0026lt;/xacml:AttributeValue\u0026gt; \u0026lt;xacml:SubjectAttributeDesignator AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:delegatable\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;/\u0026gt; \u0026lt;/xacml:SubjectMatch\u0026gt; \u0026lt;/xacml:Subject\u0026gt; \u0026lt;/xacml:Subjects\u0026gt; \u0026lt;xacml:Resources\u0026gt; \u0026lt;xacml:Resource\u0026gt; \u0026lt;xacml:ResourceMatch MatchId=\u0026quot;urn:oasis:names:tc:xacml:2.0:function:string-equal\u0026quot;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#integer\u0026quot;\u0026gt;NAVRF1030\u0026lt;/xacml:AttributeValue\u0026gt; \u0026lt;xacml:ResourceAttributeDesignator AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:external-resource\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;/\u0026gt; \u0026lt;/xacml:ResourceMatch\u0026gt; \u0026lt;/xacml:Resource\u0026gt; \u0026lt;/xacml:Resources\u0026gt; \u0026lt;xacml:Actions\u0026gt; \u0026lt;xacml:Action\u0026gt; \u0026lt;xacml:ActionMatch MatchId=\u0026quot;urn:oasis:names:tc:xacml:2.0:function:string-equal\u0026quot;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt;Read\u0026lt;/xacml:AttributeValue\u0026gt; \u0026lt;xacml:ActionAttributeDesignator AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:action:urn:altinn:action-id\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string \u0026quot;/\u0026gt; \u0026lt;/xacml:ActionMatch\u0026gt; \u0026lt;/xacml:Action\u0026gt; \u0026lt;/xacml:Actions\u0026gt; \u0026lt;/xacml:Target\u0026gt; \u0026lt;/xacml:Rule\u0026gt; \u0026lt;/xacml:Policy\u0026gt;  GetRoles Operasjon for å hente ut en liste over roller etter angitte søkekriterier\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     systemUserName Org.nummer for enheter, fødselsnummer for enkeltpersoner   systemPassword Passord   roleSearchBE ExternalRoleSearchBE-objekt   Returverdi Beskrivelse   ExternalRoleBEList Liste med ExternalRoleBE-objekter   Returverdi Beskrivelse    ExternalRoleBE   RoleTypeSource    RoleCode Rollekode   RoleName Navn på rolle   OfferedBy Enhet/bruker som rollen gjelder for   Enhet/bruker som innehar rollen Enhet/bruker som innehar rollen   DelegatedBy Enhet/bruker som har delegert rollen    ExternalRoleSearchBE   CoveredByParty Enhet som innehar rollen   CoveredByUser Bruker som innehar rollen   LanguageID Språkid (English 1033, Bokmål 1044, Nynorsk 2068)   OfferedByParty Enhet som rollen gjelder for   RoleCodeFilter Filtrer med spesific rollekode. Støtte for kun 1 rolle om gangen    Dersom man sender med verdi i søket (RoleSearch-objektet) for OfferedByParty, kan man ikke samtidig sende med verdier for både CoveredByUser og CoveredByParty, og man kan heller ikke søke på OfferedParty uten å sende med verdi for enten CoveredByUser eller CoveredByParty.\nEksempelkall:\n\u0026lt;soap:Envelope xmlns:soap=\u0026quot;http://www.w3.org/2003/05/soap-envelope\u0026quot; xmlns:ns=\u0026quot;http://www.altinn.no/services/Authorization/Administration/2010/10\u0026quot; xmlns:ns1=\u0026quot;http://schemas.altinn.no/services/Authorization/Administration/2009/10\u0026quot;\u0026gt; \u0026lt;soap:Header/\u0026gt; \u0026lt;soap:Body\u0026gt; \u0026lt;ns:GetRoles\u0026gt; \u0026lt;ns:roleSearchBE\u0026gt; \u0026lt;ns1:CoveredByParty\u0026gt;orgnummer1\u0026lt;/ns1:CoveredByParty\u0026gt; \u0026lt;ns1:CoveredByUser\u0026gt;\u0026lt;/ns1:CoveredByUser\u0026gt; \u0026lt;ns1:LanguageID\u0026gt;1044\u0026lt;/ns1:LanguageID\u0026gt; \u0026lt;ns1:OfferedByParty\u0026gt;orgnummer2\u0026lt;/ns1:OfferedByParty\u0026gt; \u0026lt;ns1:RoleCodeFilter\u0026gt;\u0026lt;/ns1:RoleCodeFilter\u0026gt; \u0026lt;/ns:roleSearchBE\u0026gt; \u0026lt;/ns:GetRoles\u0026gt; \u0026lt;/soap:Body\u0026gt; \u0026lt;/soap:Envelope\u0026gt;  GetReportees Operasjon for å hente ut en liste over mulige avgivere for et gitt fødselsnummer.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     userSSN Fødselsnummeret til brukeren det skal hentes avgivere for – pålagt parameter   retrieveInActiveReportee Flagg for å sette om også inaktive avgivere skal returneres, standard False – valgfri parameter   RetrieveSubEnitiy Flagg for å sette om også underenheter skal returneres, standard False – valgfri parameter   maximumReporteeCount Verdi for maksimum antall avgivere som skal returneres, standard satt til alle – valgfri parameter   Returverdi Beskrivelse   ExternalReporteeBEList Liste med ExternalReporteeBE-objekter   Returverdi Beskrivelse   ExternalReporteeBEList Liste med ExternalReporteeBE-objekter   Returverdi Beskrivelse    ExternalReporteeBE   Name Avgivers navn   OrganizationNumber Organisasjonsnummer for denne avgiveren hvis dette er en organisasjon   SSN Fødselsnummer for denne avgiveren hvis dette er en person   ReporteeType Typebeskrivelse for hvilken type avgiver dette er: None, Person, Organization, eller SelfIdentified (ikke et praktisk mulig scenario i denne sammenhengen)    GetReporteeByTempKey Operasjon for å hente ut informasjon om avgiver basert på nøkkel opprettet for lenketjenesten. Nøkkelen er kun gyldig i en tidsbegrenset periode, og kan kun benyttes en gang.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     tempKey Nøkkel som angitt i lenketjenestens request URL, vil utgå etter at informasjon er hentet ut – pålagt parameter   Returverdi Beskrivelse   ExternalReporteeBE ExternalReporteeBE-objekt   Returverdi Beskrivelse    ExternalReporteeBE   Name Avgivers navn   OrganizationNumber Organisasjonsnummer for denne avgiveren hvis dette er en organisasjon.   SSN Fødselsnummer for denne avgiveren hvis dette er en person   ReporteeType Typebeskrivelse for hvilken type avgiver dette er: None, Person, Organization, eller SelfIdentified (ikke et praktisk mulig scenario i denne sammenhengen)    AuthorizationDecisionPointExternal AuthorizationDecisionPointExternal er en tjeneste Altinn tilbyr til tjenesteeiere som ønsker å benytte Altinns autorisasjonskomponent. Tjenesten kan benyttes til autorisasjon både for eksterne resurser og for tjenester. Autorisasjons regler settes henholdsvis ved hjelp av AuthorizationAdministration tjenesten og i TUL.\nPåfølgende kapitler beskriver tjenesteoperasjonene for denne tjenesten.\nAuthorizeAccessExternalV2 Operasjon som benytter XACML standarden og regler lagret i Altinn til å returnere en autorisasjonsbeslutning.\nBesluttningsgrunnlaget til autorisasjon for eksterne resurser er de regler som tjenesteeier selv setter ved hjelp av tjenesten AutorizationAdministration når resursen defineres. Besluttningsgrunnlaget til autorisasjon for tjenester er de regler som tjenesteeier har satt på tjenesten i TUL.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     XACMLRequest XACML standardisert forespørsel   Returverdi Beskrivelse   Resultat XACML standardisert svar    Tjenesten benytter en XSD til å validere input.\nI tillegg er det en del regler relatert til utfylling som XSD ikke klarer fange opp. XACML-forespørselen skal inneholde en kombinasjon av følgende elementer:\n   Foreldrenode AttributeId AttributeValue verdier     Subject urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:ssn Utførende brukers fødselsnummer   Subject urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:orgno Utførende organisasjons organisasjonsnummer   Subject urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:oauth-accesstoken Referanse token for et spesifikk samtykke utførende bruker/org skal benytte. Må hentes fra AuthorizationExternal/TokenExternalEC.svc tjenesten.   Resource urn:oasis:names:tcurn:oasis:names:tc:xacml:2.0:resource:urn:altinn:reportee-orgno:xacml:2.0:resource:urn:altinn:reportee-ssn Avgivers fødselsnummer   Resource urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:reportee-orgno Avgivers organisasjonsnummer   Resource urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:external-resource Ekstern ressursdefinisjon   Resource urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:externalservicecode Eksterne tjenestekode   Resource urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:externalserviceeditioncode Ekstern utgavekode (tilhørende overnevnte tjenestekode)   Resource urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:reporteeelementid Den unike id\u0026rsquo;en til et reportee element   Action urn:oasis:names:tc:xacml:2.0:action:urn:altinn:action-id Read Write Sign ArchiveRead ArchiveDelete ServiceOwnerArchiveRead Delegate   Environment urn:oasis:names:tc:xacml:2.0:action:urn:altinn:environment De ulike miljøer    Mulige Subject kombinasjoner: 1. Utførende brukers fødselsnummer (urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:ssn) eller utførende oranisasjons org.nummer (urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:orgno) 2. Utførende brukers fødselsnummer (urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:ssn) eller utførende oranisasjons org.nummer (urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:orgno), og referanse token for relatert samtykke (urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:oauth-accesstoken).\nMulige Resource kombinasjoner: 1. Avgivers fødselsnummer (urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:reportee-ssn) eller avgivers organisasjonsnummer (urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:reportee-orgno), og ekstern tjenestekode og utgavekode (urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:externalservicecode og urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:externalserviceeditioncode) 2. Avgivers fødselsnummer (urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:reportee-ssn) eller avgivers organisasjonsnummer (urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:reportee-orgno), og ekstern ressursdefinisjon (urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:external-resource). 3. Avgivers fødselsnummer (urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:reportee-ssn) eller avgivers organisasjonsnummer (urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:reportee-orgno), og ReporteeElementId (urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:reporteeelementid).\nSigneringsrettigheter oppfører seg noe annerledes enn de andre. Signering er en rettighet som kun kan gis på konkrete prosesssteg i livsløpet til et element. For å kunne gi helt korrekt svar på om en person har lov til å signere er Altinn derfor avhengig av å få oppgitt id til et reporteeelement.\nUnntaket fra dette er om en tjeneste har kun ett signeringssteg. I et slikt tilfelle kan Altinn anta at når det endelig skal signeres så vil aktivt prosesssteg være dette ene steget. På slike tjenester er det derfor trygt å oppgi tjenestekoder istedenfor reporteeelementid.\nHvis en tjeneste har flere signeringssteg vil Altinn velge det første signeringssteget i prosessen. Dette kan i enkelte tilfeller føre til feil konklusjon. Hvis for eksempel en revisor skal signere et element i signeringssteg 2 (etter regnskapsfører), så kan Altinn svare negativt på spørsmål om revisor kan signere (benytter sign steg 1) selv om revisor vil få lov når elementet endelig kommer til revisors signeringssteg i prosessen.\nAltinn selv har ikke mulighet til å sjekke signeringsrettighet uten å ha id til et reporteeelement. Sjekk av signeringsrettighet basert på tjenestekoder er logikk laget spesielt for AuthorizeAccessExternalV2.\nDet må også angis hvilke miljø det gjelder (urn:oasis:names:tc:xacml:2.0:action:urn:altinn:environment)\nNedenfor vises eksempler på gyldige forespørsler:\nAuthorizationRequest\n\u0026lt;?xml version=\u0026quot;1.0\u0026quot; encoding=\u0026quot;UTF-8\u0026quot;?\u0026gt; \u0026lt;Request xmlns=\u0026quot;urn:oasis:names:tc:xacml:2.0:context:schema:os\u0026quot; xmlns:xsi=\u0026quot;http://www.w3.org/2001/XMLSchema-instance\u0026quot; xsi:schemaLocation=\u0026quot;urn:oasis:names:tc:xacml:2.0:context:schema:os http://docs.oasis-open.org/xacml/access_control-xacml-2.0-context-schema-os.xsd\u0026quot;\u0026gt; \u0026lt;!-- Altinn Sample Request. --\u0026gt; \u0026lt;!-- This authorization request tries to verify if user 07037612345 is allowed to --\u0026gt; \u0026lt;!-- perform read operation on external resource belonging to reportee 010203401944 --\u0026gt; \u0026lt;!-- there is a registered consent for the record. --\u0026gt; \u0026lt;Subject\u0026gt; \u0026lt;Attribute AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:ssn\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;AttributeValue\u0026gt;07037512345\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt; \u0026lt;/Subject\u0026gt; \u0026lt;Resource\u0026gt; \u0026lt;Attribute AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:reportee-ssn\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;AttributeValue\u0026gt;010203401944\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt; \u0026lt;Attribute AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:external-resource\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;AttributeValue\u0026gt;RF1080NAV\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt; \u0026lt;/Resource\u0026gt; \u0026lt;Action\u0026gt; \u0026lt;Attribute AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:action:urn:altinn:action-id\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;AttributeValue\u0026gt;Read\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt; \u0026lt;/Action\u0026gt; \u0026lt;Environment\u0026gt; \u0026lt;Attribute AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:action:urn:altinn:environment\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;AttributeValue\u0026gt;AT6\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt; \u0026lt;/Environment\u0026gt; \u0026lt;/Request\u0026gt;  \u0026lt;?xml version=\u0026quot;1.0\u0026quot; encoding=\u0026quot;UTF-8\u0026quot;?\u0026gt; \u0026lt;Request xmlns=\u0026quot;urn:oasis:names:tc:xacml:2.0:context:schema:os\u0026quot; xmlns:xsi=\u0026quot;http://www.w3.org/2001/XMLSchema-instance\u0026quot; xsi:schemaLocation=\u0026quot;urn:oasis:names:tc:xacml:2.0:context:schema:os http://docs.oasis-open.org/xacml/access_control-xacml-2.0-context-schema-os.xsd\u0026quot;\u0026gt; \u0026lt;!-- Altinn Sample Request. --\u0026gt; \u0026lt;!-- This authorization request tries to verify if user --\u0026gt; \u0026lt;!-- 06069460079 is allowed to perform sign operation --\u0026gt; \u0026lt;!-- on behalf of reportee 910453777 --\u0026gt; \u0026lt;!-- on service 2298, edition 60804 --\u0026gt; \u0026lt;Subject\u0026gt; \u0026lt;Attribute AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:ssn\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;AttributeValue\u0026gt;06069460079\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt; \u0026lt;/Subject\u0026gt; \u0026lt;Resource\u0026gt; \u0026lt;Attribute AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:reportee-orgno\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;AttributeValue\u0026gt;910453777\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt; \u0026lt;Attribute AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:externalservicecode\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;AttributeValue\u0026gt;2298\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt; \u0026lt;Attribute AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:externalserviceeditioncode\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;AttributeValue\u0026gt;60804\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt; \u0026lt;/Resource\u0026gt; \u0026lt;Action\u0026gt; \u0026lt;Attribute AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:action:urn:altinn:action-id\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;AttributeValue\u0026gt;Sign\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt; \u0026lt;/Action\u0026gt; \u0026lt;Environment\u0026gt; \u0026lt;Attribute AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:action:urn:altinn:environment\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;AttributeValue\u0026gt;TT02\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt; \u0026lt;/Environment\u0026gt; \u0026lt;/Request\u0026gt;  Operasjonen returnerer XML som også følger XACML standarden. Under vises et eksempel på en response.\nAuthorizationResponse\n\u0026lt;xacml:Response xmlns:tns=\u0026quot;urn:oasis:names:tc:xacml:2.0:policy:schema:os\u0026quot; xmlns:xacml=\u0026quot;urn:oasis:names:tc:xacml:2.0:context:schema:os\u0026quot; xmlns:xsi=\u0026quot;http://www.w3.org/2001/XMLSchema-instance\u0026quot; xsi:schemaLocation=\u0026quot;urn:oasis:names:tc:xacml:2.0:context:schema:os http://docs.oasis-open.org/xacml/2.0/access_control-xacml-2.0-context-schema-os.xsd\u0026quot;\u0026gt; \u0026lt;xacml:Result ResourceId=\u0026quot;\u0026quot;\u0026gt; \u0026lt;xacml:Decision\u0026gt;Permit\u0026lt;/xacml:Decision\u0026gt; \u0026lt;xacml:Status\u0026gt; \u0026lt;xacml:StatusCode Value=\u0026quot;urn:oasis:names:tc:xacml:2.0:response:urn:altinn:ok\u0026quot; /\u0026gt; \u0026lt;xacml:StatusMessage\u0026gt;\u0026lt;/xacml:StatusMessage\u0026gt; \u0026lt;/xacml:Status\u0026gt; \u0026lt;tns:Obligations\u0026gt; \u0026lt;tns:Obligation FulfillOn=\u0026quot;Permit\u0026quot; ObligationId=\u0026quot;\u0026quot;\u0026gt; \u0026lt;tns:AttributeAssignment AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:obligation:urn:altinn:authenticationlevel\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;tns:AttributeValue DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#integer\u0026quot;\u0026gt;3\u0026lt;/tns:AttributeValue\u0026gt; \u0026lt;/tns:AttributeAssignment\u0026gt; \u0026lt;/tns:Obligation\u0026gt; \u0026lt;/tns:Obligations\u0026gt; \u0026lt;/xacml:Result\u0026gt; \u0026lt;/xacml:Response\u0026gt;  CaseAgencySystem Case er tjenesten i Altinn II for administrering av Samhandlingstjenester for tjenesteeiere. For mer informasjon se Tjenestekatalog (Service Inventory) og WSDL tilgjengelig på endepunkt.\nPåfølgende kapitler beskriver tjenesteoperasjonene for denne tjenesten.\nInstantiateCollaborationAgencySystem Denne operasjonen brukes av tjenesteeier til å instansiere samhandlingstjenester for en gitt person eller organisasjon.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     externalServiceCode Angir tjenestekoden for samhandlingstjeneste som skal instansieres   externalServiceEditionCode Angir tjenesteutgavekoden for samhandlingstjenesten som skal instansieres   reporteeNumber Fødselsnummer eller organisasjonsnummer som saken skal opprettes for   visibleDateTime Angir når samhandlingstjenesten skal være synlig (yyyy-MM-dd / yyy-MM-ddThh:mm:ss)   dueDate Angir når samhandlingstjenesten skal være ferdig (yyyy-MM-dd / yyy-MM-ddThh:mm:ss)   Returverdi Beskrivelse   CaseId Unike identifikator for samhandlingstjenesten    Tabellen under angir mulige feilkoder for operasjonen\n   Feilkode Beskrivelse     60002 Tjenestekode og tjenesteutgavekode er ikke angitt   60012 Angitt avgiver er ikke gyldig   60024 Angitt tjenesteeier er ikke autorisert for valgt tjeneste    GetCaseListAgencySystem Denne operasjonen brukes av tjenesteeier til å hente informasjon om eksisterende samhandlingstjenester.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     caseID Enten: Unike identifikator for samhandlingstjenesten som skal hentes   externalServiceCode Eller: Tjenestekoden for samhandlingstjenesten det skal slås opp mot   externalServiceEditionCode Og: Tjenesteutgavekoden for samhandlingstjenesten det skal slås opp mot   languageID Språk id: 1033 - English, 1044 - Bokmål, 2068-Nynorsk   reporteeNumber Fødselsnummer eller organisasjonsnummer det skal hentes for   Returverdi Beskrivelse   CaseList Liste med ExternalCaseBE objekter    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse      ExternalCaseBE   CaseID Unik identifikator for samhandlingstjenesten   CaseName Samhandlingstjenestens navn definert i TUL1   CurrentStateFriendlyName Visningsvennlig navn for samhandlingstjenestens tilstand basert på languageID parameter, satt i TUL   CurrentStateID Unik identifikator for samhandlingstjenestens tilstand, som satt i TUL   CurrentStateName Navn for samhandlingstjenestens tilstand, som satt i TUL   NoticeTemplateID Unik identifikator for eventuell merknad satt på samhandlingstjenesten    Tabellen under angir mulige feilkoder for operasjonen:\n   Feilkode Beskrivelse     60001 Angitt CaseID er ikke gyldig   60002 Tjenestekode og tjenesteutgavekode er ikke angitt, eller er ikke en gyldig tjeneste   60012 Angitt avgiver er ikke gyldig   60014 Angitt CaseID er arkivert   60015 Angitt CaseID er slettet   60024 Angitt tjenesteeier er ikke autorisert for valgt tjeneste    NotifyEventAgencySystem Denne operasjonen benyttes for å registrere en hendelse på en eksisterende samhandlingstjeneste.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     notificationInfo Objekt av typen StateMachineEventNotificationBE som angir hendelse og hva hendelsen gjelder for   Returverdi Beskrivelse   StateMachineNotificationResultBEList Liste av typen StateMachineNotificationResultBE som angir resultat av hendelsen    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     CaseID Enten: Unik identifikator for bestemt samhandlingstjeneste hendelsen gjelder for   ExternalServiceCode Eller: Tjenestekoden for samhandlingstjenestene hendelsen gjelder for   ExternalServiceEditionCode Og: Tjenesteutgavekoden for samhandlingstjenestene hendelsen gjelder for   Event Hendelsen som skal registreres   ReporteeElementID Eventuell id til sub-element som trigger hendelsen, benyttes kun i logg sammenheng    StateMachineNotificationResultBE   CaseID Identifikator for samhandlingstjenesten hendelsen ble registrert for   IsStateChanged Boolsk verdi som angir om en tilstandsendring skjedde   ConditionName Navn på betingelsen som er assosiert   ConditionEvaluationResult Boolsk verdi som angir resultatet for betingelsen hvis en betingelse er tilknyttet (satt til True om ingen betingelse er involvert)   CurrentStateName Samhandlingens nåværende tilstand   HasException Boolsk parameter som antyder om det oppstod en feil i tilstandsmaskinen   ExceptionDetail Inneholder feilinformasjon for en eventuell feil i tilstandsmaskinen   ErrorCode Inneholder feilkoden for en eventuell feil i tilstandsmaskinen    Tabellen under angir mulige feilkoder for operasjonen:\n   Feilkode Beskrivelse     60001 Angitt CaseID er ikke gyldig   60002 Tjenestekode og tjenesteutgavekode er ikke angitt, eller er ikke en gyldig tjeneste   60014 Angitt CaseID er arkivert   60015 Angitt CaseID er slettet   60022 Hendelsesinformasjon er ikke angitt   60023 Hendelse er ikke angitt   60032 Hendelsen kunne ikke registreres for valgt tjeneste    SetNoticeAgencySystem Denne operasjonen lar tjenesteeier sette en merknad på en instans av en samhandlingstjeneste, eller en underliggende instans av meldingstjeneste, innsendingstjeneste, eller arkivert innsynstjeneste.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     reporteeElementID Identifikator for elementet merknaden skal settes på: 1. Saks identifikator – caseId. 2. Arkivert element tilknyttet samhandlingstjenesten – reporteeElementID prefikset med AR 3. Aktivt element tilknyttet samhandlingstjenesten – reporteeElementID   noticeInfo Objekt av typen NoticeBE som inneholder mal og eventuelle substitusjoner   Returverdi Beskrivelse   N/A N/A    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse      NoticeBE   NoticeTemplateID Identifikator for merknadsmalen opprettet i TUL.   NoticeTokens Liste av typen NoticeTokenBE objekter som inneholder key-value par for substitusjoner    NoticeTokenBE   TokenKey Nøkkel for substitusjon   TokenValue Verdi for substitusjonen    Tabellen under angir mulige feilkoder for operasjonen:\n   Feilkode Beskrivelse     60005 Angitt element er ikke på gyldig format   60014 Angitt saks identifikator er arkivert   60015 Angitt saks identifikator er slettet   60016 Angitt element eksisterer ikke   60017 Angitt element er ikke assosiert til en samhandlingstjeneste   60018 Angitt element er slettet   60019 Angitt element er arkivert, benytt valid arkivreferanse   60024 Angitt tjenesteeier er ikke autorisert for valgt tjeneste    NotificationAgencyExternal Notification er en tjeneste i Altinn II for sending av frittstående varsler til bruker. For mer informasjon se Tjenestekatalog (Service Inventory) og WSDL tilgjengelig på endepunkt.\nPåfølgende kapitler beskriver tjenesteoperasjonene for denne tjenesten.\nSendStandaloneNotificationV3 Denne operasjonen benyttes til å sende frittstående varsel – varsel som ikke nødvendigvis er tilknyttet tjenester.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     standaloneNotifications List med StandaloneNotificationBE objekter som inneholder varslene   Returverdi Beskrivelse   sentStandaloneNotificationResult Liste med Notification og EndPoint resultater. Det blir opprettet et Notification og EndPoint resultat per EndPoint per Notification som blir sendt    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse      StandaloneNotificationBE   FromAddress Fra adresse brukt når melding blir sent på e-post. Må være en valid e-post adresse. Hvis utelatt vil standard Altinn adresse benyttes   LanguageID Språk kode: 1033 - English, 1044 - Bokmål, 2068 - Nynorsk   ReceiverEndPoints Liste med ReceiverEndPoint objekter som definerer mottaker adresse og varslingsmåte   ReporteeNumber Fødselsnummer eller organisasjonsnummer det skal sendes varsel til   ShipmentDateTime Dato for når varselet ønskes sent (yyyy-MM-dd / yyy-MM-ddThh:mm:ss)   TextTokens Liste med TextTokens objekter som angir substitusjoner i varslingsteksten   NotificationType En unik streng som definerer en referanse til predefinerte varslingstekster   IsReservable I sammenheng med KRR (Kontakt og reservasjons registeret) kan en sluttbruker reservere seg imot å motta meldinger. IsReservable verdien kan brukes til å indikere om det er mulig å reservere seg mot meldingen eller ikke. Det er valgfritt å angi en verdi og standard (default) verdi er False (0). Denne verdien må derfor aktivt settes til True (1) om tjeneste eier ønsker og respektere reservasjoner   Roles Liste med navn på bruker-roller. Disse verdiene blir ikke brukt av løsningen   Service ServiceCode og ServiceEdition. Sett disse for å sende ut varlser til alle kontakter som er satt opp for en bedrift og som har satt seg opp for å motta for denne tjenesten    ReceiverEndPoint   TransportType Angir hvordan varslingen skjer: SMS, Varsel vha. mobiltelefon, Email, Varsel vha. e-post, Both. Plukker epost-adresse og mobilnummer fra profil. Ved bruk av denne må ReceiverAddress under være null   ReceiverAddress Mottakers adresse for valgt varslingsmetode (TransportType). Om denne ikke angis brukes ReceiverID til å slå opp i brukerens kontaktprofil (privat samtykke) eller organisasjonens profil    TextTokens   TokenNum Ikke i bruk, kan utelates   TokenValue Tekst som skal ersatte maltekst. Substitusajonen gjøres i samme rekkefølge som parameterene er angitt. Varselmal må bestilles og lages på forhånd    SendStandaloneNotificationResult   EndPoints Liste med EndPoint resultater for Notification   NotificationType NotificationType for notification. Brukes for å kunne se hvilken Notification resultatet gjelder   ReporteeNumber Mottaker som ble brukt til å generere mottakere. Brukes for å kunne se hvilken Notification resultatet gjelder   Message En melding om status på kall. Mulige verdier: 1. Varsel er sendt ut til brukeren. 2. Utsending av varsel til brukeren var mislykket. {0} Dette kan være fordi brukeren har reservert seg fra å få varsel. 3. BM_Partial success. Notification is not sent to the {0} as the user may have opted out from receiving any notification. 4. NB_No notifications received – Dette er resultatet hvis listen med Notifications var tom    EndPointResult   Name Navn på person som har mottatt melding. Dette blir hentet enten fra Organisasjonens mottaker-liste, eller fra brukerens innslag i Register databasen   ReceiverAddress Hvilken addresse meldingen er sendt til   RetrieveFromProfile Satt til true dersom informasjonen er hentet fra en Organisasjons eller brukers profil   TransportType Type endepunkt varsel er sendt til    Tabellen under angir mulige feilkoder for operasjonen:\n   Feilkode Beskrivelse     1 Elementene FromAddress og ShipmentDateTime kan ikke være tomme om definert   40014 Angitt antall varsler overstiger konfigurert grense   40015 TransportType må være enten SMS eller Email   40016 Angitt fødselsnummer er ikke gyldig   40020 Parameter FromAddress må være en gyldig e-post adresse    9.12 TTPArchiveAgencyExternal TTPArchiveAgency er en tjeneste som muliggjør tjenesteeiere å hente ut data for elementer fra TTP Arkivet. For mer informasjon se Tjenestekatalog (Service Inventory) og WSDL tilgjengelig på endepunkt.\nPåfølgende kapitler beskriver tjenesteoperasjonene for denne tjenesten.\nGetAuditTrail Denne operasjonen henter ut loggdata basert på søkeparametere.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     ReporteeNumber Enten: Fødselsnummer eller organisasjonsnummer det skal søkes på   Username Eller: Brukernavn det skal søkes på   FromDate Fra dato det søkes på, angitt for å kunne begrense søket (yyyy-MM-dd / yyy-MM-ddThh:mm:ss)   ToDate Til dato det skal søkes på, angitt for å kunne begrense søket (yyyy-MM-dd / yyy-MM-ddThh:mm:ss)   ExternalServiceCode Angi tjenestekode for å begrense søket   ExternalServiceEditionCode Angi tjenesteutgavekode for å begrense søket   Returverdi Beskrivelse   TTPElementBEList Resultatliste av TTPElementBE objekter som hver inneholder loggdata for et element    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse      TTPElementBE   IntegrityCheck Angir om integritetssjekk av data var vellykket   ReporteeElementID Identifikator for elementet loggdata er hentet fra   TTPData Selve loggdata for elementet i XML    ReporteeElementList Tjenesten ReporteeElementList inneholder operasjoner for uthenting av elementer fra sluttbrukers meldingsboks. Elementer kan ligge i arbeidsliste eller i arkiv, fra nåværende eller tidligere versjoner av Altinn.\nTjenesten benyttes fra tjenesteeiers portal/selvbetjeningsløsning på vegne av en autentisert sluttbruker.\nPåfølgende kapittel beskriver operasjonen for denne tjenesten.\nGetReporteeElementListV2 Denne operasjonen benyttes for å hente ut data for en gitt avgiver (privatperson eller virksomhet) fra en autentisert sluttbrukers meldingsboks. Data kan være alle tjenestetyper i nåværende eller tidligere versjoner av Altinn: Innsendingstjenester, meldingstjenester, samhandlings¬tjenester og arkiverte innsynstjenester. Kun elementer som innlogget bruker har tilgang til, returneres.\nOperasjonen returnerer en liste med tjenesteelementer fra arbeidsliste og arkiv. Listen inneholder detaljer for hvert element, tilstrekkelig for presentasjon i ekstern portal og dyplenking tilbake til elementet i Altinn. Utvalget bestemmes av inngitte søkekriterier, samt sluttbrukerens rettigheter i Altinn. Operasjonen er versjonert, gjeldende versjon er V2. Tabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     autentiseringsinfo vil defineres når tjeneste/operasjon settes opp    Search Objekt av typen ExternalSearchBEV2 som inneholder søkekriterier for utvalget elementer man ønsker å hente ut   languageID Språk kode: 1033 - English, 1044 - Bokmål, 2068 - Nynorsk (Hvis ikke språk er spesifisert kan 0 angis som vil returnere standard språk for denne meldingen.)   Returverdi Beskrivelse   reporteeElementList En liste med ReporteeElementBEV2-objekter som inneholder detaljer for ett element for en avgiver    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse      ExternalSearchBEV2   ToDate Startdato for perioden man ønsker å hente ut elementer for (yyyy-MM-dd / yyy-MM-ddThh:mm:ss)   FromDate Sluttdato for perioden man ønsker å hente ut elementer for (yyyy-MM-dd / yyy-MM-ddThh:mm:ss)   SearchName Navn på søk. Benyttes kun dersom dette er et lagret søk   ToBeProcessed Boolsk verdi som, hvis satt til true, angir at man ønsker å filtrere på tjenester som er ufullstendige/ikke-komplett   SearchString Fritekstsøk som kan brukes for å matche hele eller deler av tjenestenavnet på elementer man ønsker å hente ut   ServiceCodeList Liste med tjenester (string) som man ønsker å filtrere på   SentAndArchived Boolsk verdi som, hvis satt til true, angir at man ønsker å filtrere på tjenester som er sendt og arkivert   ToBeProcessedByOthers Filter for å angi at man bare ønsker å se sine elementer som i øyeblikket er til behandling hos andre aktører   ServiceOwnerCode Tjenesteeier som man ønsker å filtrere utrekket på   Reportee Fødselsnummer/organisasjonsnummer for avgiver som man ønsker å hente ut elementer for   ArchiveReference Fritekstfelt hvor man kan angi hele eller deler av en arkivreferanse som man ønsker å filtrere på   CaseID Begrenser søket mot bestemt samhandlingstjenesteinstans   CollectionPages Benyttes for å begrense resultatet til samlesider (samhandlingstjeneste)   EDialogue Benyttes for å begrense resultatet til e-dialoger (samhandlingstjeneste)    ReporteeElementBEV2   AllowDelete En boolsk verdi som angir om bruker som hentet elementet fra arkiv har rettighet til å slette elementet   AllowNewCopy Boolsk verdi som sier om man kan opprette kopi av elementet   Altinn1ArchiveUnitId Unik identifikator for elementet i arkivet dersom dette er et element som er arkivert i Altinn I. Behøver ikke settes   Altinn1FormCode Angir skjema id i AltinnI. Behøver ikke settes   Altinn1FormId Angir skjema versjon AltinnI. Behøver ikke settes   Altinn1FormInstanceID Angir element id i AltinnI. Behøver ikke settes   Altinn1FormORNo Angir OR-id i AltinnI. Behøver ikke settes   Altinn1ParticipantID Angir unik id for tilhørende AltinnI bruker. Behøver ikke settes   Altinn1ReferenceType Angir referansetype satt i AltinnI. Behøver ikke settes   Altinn1WorkflowProcessId Arbeidsflytreferanse for elementet dersom elementet er arkivert i AltinnI. Behøver ikke settes   ArchiveId Unik identifikator for elementet i arkiv. ReporteeElementId, ArchiveId eller Altinn1ArchiveUnitId må settes, men bare en av gangen   ArchiveReference Unik arkivreferanse som vises for elementet på avgivers hovedside   CaseID Eventuelt referanse til samhandlingstjeneste elementet er knyttet opp mot   CorrespondenceStatus Angir status for elementet (dersom elementet er av type meldingstjeneste). Mulige statuser er: Created - Meldingen er opprettet, Read - Meldingen er lest, Replied - Sluttbruker har svart på meldingen, ChangedByGovAgency - Tjenesteeier har gjort endringer på meldingen, ChangedByUser - Sluttbruker har gjort endringer på meldingen, Confirmed - Meldingen er bekreftet, DeletedByUser - Meldingen er slettet av sluttbruker, DeletedByAltinn - Altinn har slettet meldingen (for eksempel ved sanering), Archived - Meldingen er arkivert   DueDate Frist på elementet. Ikke satt for elementer i arkiv   EndUserSystemID Id som benyttes for å hente navn på sluttbrukersystem   ExternalServiceCode Tjenestekode for elementet, for eksempel \u0026ldquo;PSA\u0026rdquo;   IsCaseArchived Angir om samhandlingstjenesten er arkivert.   IsMatched Intern parameter   LastChangedBy Unik identifikator for bruker/sluttbrukersystem eller tjenesteeier som sist endret elementet   LastChangedByID Unik identifikator for bruker/sluttbrukersystem eller tjenesteeier som sist endret elementet   LastChangedDate Dato for når elementet sist ble endret (yyyy-MM-dd)   LastChangeType Type endring som ble gjort sist elementet ble endret: Sent, Saved, Archived   Notice Eventuell merknad på elementet tilhørende en samhandlingstjeneste   ParentCaseName Eventuelt navn på samhandlingstjenesten elementet er knyttet mot   ReporteeElementCode Angir element id hvor forkortelse for element typen er lagt til som prefiks. Mulige prefiks for element typer er:Altinn 1 - aktivt: A1E, Altinn 1 - arkivert: A1A, Altinn 2 - aktivt: A2E, Altinn 2 - arkivert: A2A   ReporteeElementId Unik identifikator for elementet. ReporteeElementId, ArchiveId eller Altinn1ArchiveUnitId må settes, men bare en av gangen   ReporteeElementOwner Unik identifikator for avgiver som elementet tilhører   ReporteeElementType Type element: Correspondence - meldingstjeneste, FormTask - Innsendingstjeneste, Collaboration - samhandlingstjeneste, LookUp - innsynstjeneste   ReporteeName Navn på avgiver som vises for elementet i avgivers hovedside   RoleRequirement Rollekrav for å utføre neste steg i arbeidsflyt. Ikke satt for elementer i arkiv   RoleRequirementAltinn1Element Rollekrav for å utføre neste steg i arbeidsflyt dersom elementet er instansiert i AltinnI. Ikke satt for elementer i arkiv. Behøver ikke settes for AltinnII elementer   SEReporteeElementID Unik identifikator for elementet brukt før det arkiveres   ServiceEditionVersion Angir versjon på tjenesten   ServiceOwner Angir tjenesteeier som tilbyr tjenesten som elementet tilhører   ServiceOwnerCode Tjenesteeierkode brukt for å angi tjenesteeier navn   ServiceOwnerDescription Tjenesteeiers navn   Status Status for elementet: NotOpenedNoConfirmationReq, NotOpenedConfirmationReq, OpenedNoConfirmedReq, OpenedNotConfirmed, Confirmed, FillIn, SignIn, Archive, SendIn, Active, Finished   Statusname Navn på status (med språkstøtte)   TaskStatus Angir status for elementet (dersom elementet er av type innsendingstjeneste). Elementet kan ha en av følgende statuser: FormFilling - Innsendingstjenesten er under utfylling. Signing - Innsendingstjenesten er klar for signering. SendIn - Innsendingstjenesten er klar for innsending, ParallelSigning - Innsendingstjenesten er til brukerstyrt signering, Archive - Innsendingstjenesten er arkivert   Title Tittel på elementet som vises i avgivers hovedside    Context handler Context handler er en modul i Altinn som tilbyr metadata for elementer i Altinn. Et element kan for eksempel være en innsending fra en sluttbruker. Meta-data (eller context data som det kalles her) for elementet vil da inneholde informasjon om hvem som er avgiver, hvilke tjeneste elementet er knyttet til og hvilket prosess steg det er i.\nDette er informasjon som benyttes internt i Altinn for å avgjøre om en bruker har tilgang til å utføre en gitt operasjon på et gitt element. Tjeneste eiere kan bruke informasjonen på tilsvarende måte ved å benytte Altinn sin eksterne autorisasjonssjekk (se eget kapittel om AuthorizationDecisionPointExternal).\nGetReporteeElementContextExternal Denne operasjonen som tar som input en reporteeelementid og returnerer et objekt med en samling detaljer, meta-data, om elementet.\nTabellen under beskriver datakontrakten for operasjonen. (Merk at det finnes ulike grensesnittrelaterte variasjoner mellom Basic, WS-Security og EC grensesnittene.)\n   Input Beskrivelse     reporteeElementId Unik identifikator for et spesifikk reportee element   Returverdi Beskrivelse   ReporteeElementContextExternalBE Entitet med meta-data om elementet det ble spurt på. (Flere detaljer under)    ReporteeElementContextExternalBE   Reportee Unik id for avgiver knyttet til et element. Dette er somregel personnummer eller organisasjonsnummer   ServiceCode Tjenestekoden til tjenesten som elementet er knyttet til   ServiceEditionCode Tjenesteversjonskode til tjenesten som elementet er knyttet til   ServiceType Angir hva slags tjeneste elementet er knyttet til. De mest vanlige typene er Correspondence og FormTask. Henholdsvis melding fra etat og innsending fra sluttbruker   ProcessStepID Dette er en ID som indikerer hva slags prosess steg elementet står i. Dette er mest aktuelt ved innsendinger hvor et element går gjennom for eksempel skrive steg, signeringssteg og innsending    Online overføring til Tjenesteeier Det er mulig for tjenesteeiere å motta online forsendelser av innsendingstjenester med vedlegg over web service. Mottaket skal ha en metode som heter ReceiveOnlineBatchExternalAttachment. Denne kalles som en \u0026ldquo;SOAP Document\u0026rdquo; metode, og kan benyttes til å motta innsendingstjenester hvor vedleggene er pakket i en ekstern ZIP fil, ergo navnet. Denne tjenesten kan settes opp for MTOM for å støtte mer effektiv overføring av store binære vedlegg. Ved bruk av MTOM som dataoverføringsmetode kan det oppnås opptil 20-30% besparelse av båndbredde sammenliknet med vanlig dataoverføring mot web tjenesten.\nMerk: Det er fullt mulig å sende uten vedlegg eksternt i ZIP fil over dette grensesnittet. Vedlegg vil da komme base64encoded i XML i batch parameteren, og det er ikke lenger mulig å sette opp tjenesten for bruk av MTOM.\nReceiveOnlineBatchExternalAttachment Tabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     Username Brukernavnet som Altinn skal oppgi   passwd Passordet som Altinn skal oppgi   receiversReference    sequenceNumber Sekvensnummer på forsendelsen   batch Selve forsendelsen, iht. nyeste versjon av XSD for genericbatch   attachments ZIP-fil med evt. binære vedleggsfiler   Returverdi Beskrivelse   [returverdi] Status tilbake til Altinn for mottak av forsendelse iht. OnlineBatchReceipt.xsd    Dersom det ikke finnes vedlegg til batchen vil parameteren “attachments\u0026rdquo; bli satt til en byte array med lengde 0.\nTabellen under beskriver elementer og attributter relevante for kvittering som skal returneres av tjenesteeier:\n   Element Beskrivelse     OnlineBatchReceipt Rotnode. Denne XSDen beskriver kvitteringen som skal returneres fra et mottakssystem etter å ha mottatt en online forsendelse fra Altinn. Kvitteringen begrenser seg til å kun beskrive selve mottaket av batchen, og det er ikke lagt opp til at kvitteringen skal inneholde informasjon vedrørende prosessering av selve batchen   OnlineBatchReceipt.Result Dette elementet har ett attributt resultCode som beskriver status på mottatt batch. Innholdet i Result-elementet er en valgfri streng. Denne blir ikke brukt programmatisk, men vil bli lest av driftspersonell i tilfelle feil   resultCode De forskjellige resultatkodene som kan returneres fra mottaket: OK - Batch er mottatt OK, FAILED - Batch er ikke mottatt, eller det oppstod en feil i mottaket. Altinn kan forsøke forsendelse på ny, FAILED_DO_NOT_RETRY - Samme som FAILED, men Altinn skal ikke forsøke å sende batch på ny. Hvis web servicen returnerer vanlige errors vil ikke Altinn håndtere de riktig og oversendelsen vil feile. Alle feilmeldinger må derfor bygges inn under de to FAILED og FAILED_DO_NOT_RETRY.    Navnerom For at Altinn sin webserviceklient skal kunne kommunisere med mottaket, er det viktig at følgende er satt korrekt (definisjonene vil finnes igjen i WSDL-filen). Denne informasjonen skal ligge i WSDL-filen man blir presentert for når man åpner definisjonen for mottakets web service.\n   Definisjon Verdi Beskrivelse     /wsdl:definitions/@xmlns:tns http://AltInn.no/webservices/ Navneromsdefinisjon   /wsdl:definitions/@targetNamespace http://AltInn.no/webservices/ Navneromsdefinisjon   /wsdl:definitions/wsdl:types/s:schema/@targetNamespace http://AltInn.no/webservices/ Navneromsdefinisjon   /wsdl:definitions/wsdl:binding/wsdl:operation/soap:operation/@soapAction http://AltInn.no/webservices/ReceiveOnlineBatchExternalAttachment Identifikator for SOAP-metode   /wsdl:definitions/wsdl:service/wsdl:port/soap:address/@location Mottaksavhengig Dette er URLen til mottaket som Altinn skal benytte seg av    DownloadQueue DownloadQueue inneholder operasjoner for å hente ned en liste over elementer som ligger i tjeneste-eiers DownloadQueue. For å bruke DownloadQueue må tjenesteeier spesifisere dette når man utvikler tjenesten i TUL. Ved å sette tjenesteutgaven til å bruke DownloadQueue vil innleverte skjemaer på denne tjenesten oppdatere DownloadQueue og tjenesteeier vil dermed kunne hente ut disse ved å sende en forespørsel til Altinn. For å bruke tjenesten må tjenesteeier først spesifisere at tjenesteutgaven bruker DownloadQueue. Deretter vil alle innsendinger sent inn med denne tjenesteutgaven legges til i DownloadQueue. Når det ligger flere enn 500 elementer i DownloadQueue vil ikke nyere elementer lengre hentes når man bruker GetDownloadQueueItems operasjonen. For å få tilsendt nyere elementer må DownloadQueueItems fjernes fra DownloadQueue ved å bruke PurgeItem operasjonen. DownloadQueue funksjonaliteten har støtte for MTOM. Påfølgende kapitler beskriver tjenesteoperasjonenene for denne tjenesten.\nGetDownloadQueueItems Denne operasjonen henter en liste over DownloadQueueItems i tjenesteeiers DownloadQueue. Den henter et maksimum av 500 meta-data objekter med arkivreferanse knyttet til den innsendte meldingen. Den henter alltid de eldste objektene først. Man kan velge å filterere hentede objekter basert på ServiceCode.\n   Input Beskrivelse     ServiceCode ServiceCode som man ønsker å filtrere hentede DownloadQueueItems på. Denne inputen er valgfri   Returverdi Beskrivelse   DownloadQueueItemList En liste med metadata-objekter som beskriver arkiv-referanse, ServiceCode, ServiceEdition, reportee, reporteetype og arkiveringstidspunkt for aktive (non-purged) DownloadQueueItems for tjenesteeier   Property Beskrivelse    DownloadQueueItemExternalBEList    DownloadQueueItemExternalBEList.DownloadQueueItemExternalBE   ArchiveReference Innsendingens arkiv-referanse   ServiceCode Tjenestekode   ServiceEditionCode Tjenesteutgavekode   Reportee Organisasjons eller fødselsnummer for Reportee   ReporteeType Type reportee: Person, Organisasjon, Selvregistrert bruker   ArchivedDate Arkiveringsdato    PurgeItem Denne operasjonen lar tjenesteeier markere et enkelt DownloadQueueItem som purged. Dette DownloadQueueItem vil deretter ikke lenger bli hentet når GetDownloadQueueItems operasjonen blir kjørt.\n   Input Beskrivelse     ArchiveReference Arkiv-referanse til DownloadQueueItem som skal markeres som purged    GetArchivedFormtaskDQ Denne operasjonen henter et arkivert FormTask object med tilhørende forms, signatur og attachment.\n   Input Beskrivelse     ArchiveReference Arkiv-referanse til DownloadQueueItem som skal hentes ned   ReturVerdi Beskrivelse   ArchivedFormTaskExternalDQBE Et ArchivedFormTask element    ArchivedFormTaskExternalDQBE   Property Beskrivelse   ServiceCode Tjenestekode   ServiceEditionCode Tjenesteutgavekode   CaseId Unik identifikator på eventuell samhandlingstjeneste skjemasettet er knyttet til   SOEncryptedSymmetricKey Representer informasjon for tjenesteeier kryptering. Se SOEncryptedSymmetricKeyDQBE   Approvers Liste med personer som har signert. Se ApproverDQBE   Forms Liste med alle forms som følger med i formsettet til formtasken. Se ArchivedFormExternalDQBE   Attachments Liste med alle vedlegg som er relatert til formtasken. Se ArchivedAttachmentExternalDQBE   Reportee Personnummer, organisasjonsnummer eller brukernavn på avgiver   ArchiveReference Unik id for formtasken slik den er lagret i tjenesteeierarkivet   ArchiveTampStamp Dato og tid for når elementet ble arkivert   CorrelationReference (Ikke i bruk)    SOEncryptedSymmetricKey   Property Beskrivelse   EnkryptedKey AES-nøkkel som er RSA-kryptert med tjenesteeiers sertifikat. Denne AES-nøkkelen benyttes for å dekryptere skjemainnhold   CertificateThumbPrint Thumbprint av tjenesteeiers sertifikat som ble benyttet for å kryptere AES-nøkkel. Vil unikt angi sertifikatet i de tilfeller hvor tjenesteeier har flere sertifikater registrert i Altinn    ApproverDQBE   Property Beskrivelse   ApproverID Identifikatoren til godkjenneren av skjemaet, d.v.s. fødselsnummer   AppprovedTimeStamp Tidspunktet for godkjennelsen av skjemaet   SecurityLevel Sikkerhetsnivå: notSensitive - Data er godkjent av bruker som er autentisert med sikkerhetsnivå 1, lessSensitive - Data er godkjent av bruker som er autentisert med sikkerhetsnivå 2, sensitive - Data er signert av bruker med sikkerhetsnivå 3, verySensitive - Data er signert av bruker med sikkerhetsnivå 4    ArchiveFormExternalDQBE   Property Beskrivelse   DataformatID Id til skjema fra metadata kilde   DataformatVersionID Versjon til skjema fra metadata kilde   Reference Unik id per skjema, satt av altinn   ParentReference Referanse til hovedskjema. Settes kun i underskjema dersom underskjema forekommer   FormData Skjemadata i xml format. ’My’ og ‘altinn’ elementer og deres namespace deklarasjoner i alle elementer er fjernet fra formdata xml    ArchivedAttachmentExternalDQBE   Property Beskrivelse   ArchiveReference Unik id for formtask elementet vedlegget er assosiert med   FileName Det orginale navnet til filen   AttachmentType Vedleggets innholds type. (MimeType)   IsEncrypted En verdi som indikerer om vedlegget er kryptert av innsender1   AttachmentData Det faktiske inholdet i filen. Tjenesten leverer dette som MTOM og vil inkludere alle filer på opp til 30 MB. Større vedlegg må lastes ned for seg selv ved hjelp av streaming operasjonen   AttachmentId En unik id på vedlegget slik det er lagret i tjenesteeierarkivet   AttachmentTypeName Det tekniske navnet på vedleggsregelen som ble valgt hvis tjenesten har en eller flere slike regler   AttachmentTypeNameLanguage Det oversatte navnet til vedleggsregelen    GetFormSetPdf Denne tjenesteoperasjonen gjør det mulig for tjenesteeier og laste ned en PDF versjon av et skjemasett. Operasjonen vil generere en PDF som følged PDFA standarden\n   Input Beskrivelse     archiveReference Arkivreferansen til det arkiverte elementet man ønsker å ha som en PDF   languageId Språket som skal benyttes i alle tekster som har oversettelser   Returverdi Beskrivelse   Byte[] PDF filens innhold. Data er kodet med MTOM    RegisterSRRAgencyExternal GetRights Denne operasjonen benyttes for å hente ut gjeldende rettigheter for en tjeneste fra det tjenesteeierstyrte rettighetsregisteret.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     servicecode Angir tjenestekoden man skal hente regler for. Feltet er påkrevd   serviceEditionCode Angir tjenesteutgavekoden man skal hente regler for. Feltet er påkrevd   reportee Angir hvilken avgiver regler skal hentes for. Hvis ingen verdi angis vil regler for alle avgivere returneres   Returverdi Beskrivelse   GetRightResponseList Liste av typen GetRightResponse som angir reglene som ligger i registeret basert på input parametere    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse      GetRightResponse (utvidelse av RegisterSSRRight)   ValidTo Angir dato og tid regel er gyldig til, (yyyy-MM-ddThh:mm:ss)   Reportee Angir avgiveren regelen gjelder for   Right Angir rettighet regelen gir. Mulige verdier er: None – rettighet er ikke satt, Read – rettighet les er satt, Write – rettighet skriv er satt   Condition Kan angi en spesifikk betingelse for regelen, se mer informasjon om mulige verdier under respektive tjenester som benytter registeret    Tabellen under angir mulige feilkoder for operasjonen:\n   Feilkode Beskrivelse     450210 Angitt avgiver (reportee) er ikke et valid organisasjons- eller fødselsnummer    AddRights Denne operasjonen benyttes for å legge til nye regler i det tjenesteeierstyrte rettighetsregisteret.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     servicecode Angir tjenestekoden man skal legge til regler for. Feltet er påkrevd   serviceEditionCode Angir tjenesteutgavekoden man skal legge til regler for. Feltet er påkrevd   insertRightList Liste (AddRightRequestList) av objekter av typen AddRightRequest som angir reglene som skal legges til i registeret   Returverdi Beskrivelse   AddRightResponseList Liste av typen AddRightResponse som angir reglene som skulle legges til (insertRightList) i registeret med en status på hver regel    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse      AddRightRequest (utvidelse av RegisterSSRRight)   ValidTo Angir dato og tid regel er gyldig til, (yyyy-MM-ddThh:mm:ss)   Reportee Angir avgiveren regelen gjelder for   Right Angir rettighet regelen gir. Mulige verdier er: None – rettighet er ikke satt, Read – rettighet les er satt, Write – rettighet skriv er satt   Condition Kan angi en spesifikk betingelse for regelen, se mer informasjon om mulige verdier under respektive tjenester som benytter registeret    AddRightResponse (utvidelse av AddRightRequest som sendes inn)   OperationResult Angir resultatet for regelen som skulle legges til. Mulige verdier er: Ukjent – status er ukjent, OK – regel ble lagt til som forventet, RuleNotFound – regel som skulle slettes ble ikke funnet, RuleAlreadyExists – regel som skal legges til eksisterer allerede. Regel må først slettes for å kunne oppdateres, EmptyOrNotAValidSsnOrOrganisation – avgiver for regel er ikke et valid organisasjons- eller fødselsnummer, RightAlreadyExpired – regel som skal legges til er allerede gått ut på gyldighetsdato   Validto Angir dato og tid regel er gyldig til, (yyyy-MM-ddThh:mm:ss)   Reportee Angir avgiveren regelen gjelder for   Right Angir rettighet regelen gir. Mulige verdier er: None – rettighet er ikke satt, Read – rettighet les er satt, Write – rettighet skriv er satt   Condition Kan angi en spesifikk betingelse for regelen, se mer informasjon om mulige verdier under respektive tjenester som benytter registeret    Tabellen under angir mulige feilkoder for operasjonen:\n   Feilkode Beskrivelse     450211 Angitt «condition» er ikke gyldig    DeleteRights Denne operasjonen benyttes for å slette eksisterende regler i det tjenesteeierstyrte rettighetsregisteret.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     servicecode Angir tjenestekoden man skal slette regler for. Feltet er påkrevd   serviceEditionCode Angir tjenesteutgavekoden man skal slette regler for. Feltet er påkrevd   deleteRightList Liste (DeleteRightRequestList) av objekter av typen DeleteRightRequest som angir reglene som skal slettes fra registeret   Returverdi Beskrivelse   DeleteRightResponseList Liste av typen DeleteRightResponse som angir reglene som skulle slettes (deleteRightList) fra registeret med en status på hver regel    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse      DeleteRightRequest (utvidelse av RegisterSSRRight)   Reportee Angir avgiveren regelen gjelder for   Right Angir rettighet regelen gir. Mulige verdier er: None – rettighet er ikke satt, Read – rettighet les er satt, Write – rettighet skriv er satt   Condition Kan angi en spesifikk betingelse for regelen, se mer informasjon om mulige verdier under respektive tjenester som benytter registeret    AddRightResponse (utvidelse av AddRightRequest som sendes inn)   OperationResult Angir resultatet for regelen som skulle slettes. Mulige verdier er: Ukjent – status er ukjent, OK – regel ble lagt til som forventet, RuleNotFound – regel som skulle slettes ble ikke funnet, RuleAlreadyExists – regel som skal legges til eksisterer allerede. Regel må først slettes for å kunne oppdateres, EmptyOrNotAValidSsnOrOrganisation – avgiver for regel er ikke et valid organisasjons- eller fødselsnummer, RightAlreadyExpired – regel som skal legges til er allerede gått ut på gyldighetsdato   Reportee Angir avgiveren regelen gjelder for   Right Angir rettighet regelen gir. Mulige verdier er: None – rettighet er ikke satt, Read – rettighet les er satt, Write – rettighet skriv er satt   Condition Kan angi en spesifikk betingelse for regelen, se mer informasjon om mulige verdier under respektive tjenester som benytter registeret    Tabellen under angir mulige feilkoder for operasjonen:\n   Feilkode Beskrivelse     N/A     BatchLoggingAgencyExternal Denne tjenesten gir tjenesteeier tilgang til feil som har forekommet under behandling av batch jobber. Som en del av denne tjeneste-beskrivelsen vil følgende stikkord bli brukt: • DataBatch - referer til en batch fil levert til altinn av tjenesteeier. • DataItem - en Xml entitet i DataBatch. I en Correspondence fil vil for eksempel en enkel Correspondence være et DataItem. • Issue - en feil, warning eller informasjons melding som forekom under behandling av DataBatch og DataItem.\nGetStatusOverview Denne operasjonen gir en oversikt over DataBatcher som er blitt behandlet, og antall Issues som er opplevd under behandling.\n   Input Beskrivelse     BatchLoggingRequest Angir søke-kriterier for DataBatcher og DataItems   Returverdi Beskrivelse   BatchLoggingResult Resultat for søke-kriterier   Property Beskrivelse    BatchLoggingRequest   SystemUserCode Angir hvilken tjenesteeier requesten gjelder for. SystemUserCode er spesifikk for en gitt ShipmentDefinition, og er vanligvis angitt i filen som er blitt levert til Altinn   DataBatchType? Angir hva slags type Batch som ønskes returnert. Mulige verdier er: ActivateSubscription – Aktivering av en eksisterende subscription, Notification – Utsending av varsel, Correspondence – Innlesing av correspondence, Prefill – Innlesing av prefill, RgisterDSFProperty – Innlesing av DSF property, RegisterDSFPropertyAdd – Innlesing av DSF property husnumre, RegisterDSFStreet – Innlesing av DSF gate, RegisterDSFStreetAdd – Innlesing av DSF Gate husnumre, RegisterDSFUser – Innlesing av DSF person, RegisterER – Innlesing av organisasjons-data, Subscription – Innlesing av Subscription data   BatchLoggingDateTimeRequest Angir en Til og Fra dato hvor fil-innlesing blir gjort   FileName Angir filnavn på DataBatch. Må være eksakt fullt filnavn. (Correspondence.xml må altså angis som «Correspondence.xml»   DataBatchId? Angir en spesifikk DataBatchId å returnere data for   Sequence? Angir et spesifikt sekvensnummer å returnere data for. Sequence blir satt i hver fil som leveres til Altinn   FromIssueId? Begynn å returnere Issues fra denne IssueId. Det leveres aldri mer enn 10.000 issues fra et enkelt kall, så i tilfelle hvor mer enn 10.000 issues eksisterer vil resterende issues kunne returneres ved bruk av denne verdien    BatchLoggingStatusOverview   DataBatches (List) Liste av DataBatcher funnet med søke-kriterier   NumberOfIssues Totalt antall Issues som er blitt returnert    DataBatch   StartDate Når behandling av DataBatch startet   EndDate Når DataBatch var ferdig behandlet   DataBatchId Unik identifikator for DataBatch   Sequence Sekvensnummer angitt i DataBatch   ShipmentId Identifikator for Shipment opprettet for DataBatch   FileName Filnavn for DataBatch   NumberOfIssues Antall feil opplevd for DataBatch    Tabellen under angir feilmeldinger.\n   Feilkode Beskrivelse     31033 BatchLoggingRequest var ikke riktig angitt    GetDetailedStatus Denne operasjonen gir en oversikt over DataBatcher som er blitt behandlet, med tilhørende Issue og metadata for DataItem.\n   Input Beskrivelse     BatchLoggingRequest Angir søke-kriterier for DataBatcher og DataItems   Returverdi Beskrivelse   BatchLoggingResult Resultat for søke-kriterier   Property Beskrivelse    BatchLoggingDetailedStatus   DataBatches (List DataBatch) Liste av DataBatcher funnet med søke-kriterier   DataItems (List DataItem) Liste med metadata for DataItems som har opplevd Issues under behandling   Issues (List Issue) Liste med feil opplevt under DataBatch behandling   NumberOfIssues Totalt antall Issues som er blitt returnert    DataItem   DataItemId Unik identifikator for DataItem   DataBatchId Unik identifikator for DataBatch som DataItem hører til.   Line Linjenummer for DataItem i fil   Position Posisjon for DataItem i fil   Data Rå Xml data for DataItem. Returneres kun i GetDataItem (9.18.3)   State Status på DataItem   ServiceCode Tjenestekode for DataItem   ServiceEditionCode Tjenesteversjonskode for DataItem    Issue   DataItemId? DataItem for Issue   DataBatchId DataBach for Issue   ErrorDateTime Når Issue oppstod   IssueType Typen Issue som er opplevd    IssueType   Code ErrorCode for IssueType   Description Feilmelding for IssueType   Level Hvor alvorlig Issuet var. Verdier som kan avgis er: Other, Information, Warning, Error, Critical    GetDataItem Denne operasjonen returnerer metadata og rå Xml data for en spesifikk DataItem (Xml-entitet) som har feilet under behandling.\n   Input Beskrivelse     dataItemId Spesifikk identifikator for et DataItem   DataItem Inneholder metadata og rå Xml data for et DataItem    URI til alle Altinn tjenester / aliasoversikt for endepunkter Web servicene beskrevet i dokumentet er angitt uten informasjon om endepunkt. En web service operasjon kan kalles med forskjellige endepunkter ut fra hvilken autentiseringsmetode tjenesteeier ønsker å benytte.\nDet tilbys opp til tre forskjellige endepunkter for hver web service operasjon: • Basic Http (SOAP 1.1) o Tradisjonell interoperabel web service hvor autentiseringsinformasjonen (brukernavn/passord) ligger i meldingen. • WS Http (SOAP 1.2 med WS-Security username token) o Støtte for nye web standarder WS, dvs. bl.a. at autentiseringsinformasjonen (brukernavn/passord) ligger i SOAP headeren. • WS Http (SOAP 1.2 med WS-Security X.509 token) (markert som EC) o Støtte for ny web standarder WS, dvs. bl.a. at sertifikat ligger i SOAP headeren mens brukernavn og passord ligger i meldingen. • WS Http (SOAP 1.2 med WS-Security X.509 token) (markert som AEC) o Støtte for ny web standarder WS*, dvs. bl.a. at sertifikat ligger i SOAP headeren. Sertifikatet må være utstedt til en organisasjon som er registrert som tjenesteeier i Altinn.\nEksempel: Web service operasjonen \u0026ldquo;GetReceiptV2\u0026rdquo; kan aksesseres ved å kalle endepunktet \u0026ldquo;ReceiptAgencyExternal\u0026rdquo; hvis man ønsker å bruke/autentisere vha. WS* standarden. Samme operasjon finnes med navn \u0026ldquo;GetReceiptBasicV2\u0026rdquo; på endepunktet \u0026ldquo;ReceiptExternalBasic\u0026rdquo; hvis man ønsker tradisjonell web service aksessering. Tilslutt finnes det en tredje versjon av operasjonen med navn GetReceiptExternalECV2 på endepunktet \u0026ldquo;ReceiptExternalEC\u0026rdquo; hvis man ønsker å benytte virksomhetssertifikat i autentiseringen.\nHer følger en aliasoversikt som viser kobling mellom operasjon og endepunkt(er) (Se også Tjenestekatalogen (Service Inventory) for informasjon om tjenesten og endepunkt):\nArchiveCommon    Basis Operasjon URI/Endepunkt Endepunkt operasjon     ** ArchiveCommon**     GetServiceOwnerArchiveReporteeElementsV2 WS Http https://www.altinn.no/ArchiveExternal/ArchiveCommonAgencyExternal.svc GetServiceOwnerArchiveReporteeElementsV2   GetServiceOwnerArchiveReporteeElementsV2 Basic Http https://www.altinn.no/ArchiveExternal/ArchiveCommonAgencyExternalBasic.svc GetServiceOwnerArchiveReporteeElementsBasicV2   GetServiceOwnerArchiveReporteeElementsV2 EC https://www.altinn.no/ArchiveExternal/ArchiveCommonAgencyExternalEC.svc GetServiceOwnerArchiveReporteeElementsEC   ** ServiceOwnerArchive**     GetArchivedFormTaskV2 WS Http https://www.altinn.no/ArchiveExternal/ServiceOwnerArchiveExternal.svc GetArchivedFormTaskV2   GetArchivedFormTaskV2 Basic Http https://www.altinn.no/ArchiveExternal/ServiceOwnerArchiveExternalBasic.svc GetArchivedFormTaskBasicV2   GetArchivedFormTaskV2 EC https://www.altinn.no/ArchiveExternal/ServiceOwnerArchiveExternalEC.svc GetArchivedFormTaskEC   GetArchivedFormTaskV2 EC https://www.altinn.no/ServiceEngineExternal/CaseAgencySystemEC.svc GetCaseListAgencySystemEC   GetAttachmentDataStreamed WS Http https://www.altinn.no/ArchiveExternal/ServiceOwnerArchiveExternalStreamed.svc GetAttachmentDataExternalStreamed   GetAttachmentDataStreamed Basic Http https://www.altinn.no/ArchiveExternal/ServiceOwnerArchiveExternalStreamedBasic.svc GetAttachmentDataStreamedBasic   GetAttachmentDataStreamed EC https://www.altinn.no/ArchiveExternal/ServiceOwnerArchiveStreamedEC.svc    GetAttachmentDataStreamedEC     Receipt     Basis operasjon URI/Endepunkt Endepunkt operasjon   GetReceiptV2 WS Http https://www.altinn.no/IntermediaryExternal/ReceiptAgencyExternal.svc GetReceiptV2   GetReceiptV2 Basic Http https://www.altinn.no/IntermediaryExternal/ReceiptAgencyExternalBasic.svc GetReceiptBasicV2   GetReceiptV2 EC https://www.altinn.no/IntermediaryExternal/ReceiptAgencyExternalEC.svc GetReceiptECV2   GetReceiptListV2 WS Http https://www.altinn.no/IntermediaryExternal/ReceiptAgencyExternal.svc GetReceiptListV2   GetReceiptListV2 Basic Http https://www.altinn.no/IntermediaryExternal/ReceiptAgencyExternalBasic.svc GetReceiptListBasicV2   GetReceiptListV2 EC https://www.altinn.no/IntermediaryExternal/ReceiptAgencyExternalEC.svc GetReceiptListECV2   UpdateReceipt WS Http https://www.altinn.no/IntermediaryExternal/ReceiptAgencyExternal.svc UpdateReceipt   UpdateReceipt Basic Http https://www.altinn.no/IntermediaryExternal/ReceiptAgencyExternalBasic.svc UpdateReceiptBasic   UpdateReceipt EC https://www.altinn.no/IntermediaryExternal/ReceiptAgencyExternalEC.svc UpdateReceiptEC   CaseAgencySystem     Basis operasjon URI/Endepunkt Endepunkt operasjon   InstantiateCollaborationAgencySystem WS Http https://www.altinn.no/ServiceEngineExternal/CaseAgencySystemExternal.svc InstantiateCollaborationAgencySystemExternal   InstantiateCollaborationAgencySystem Basic Http https://www.altinn.no/ServiceEngineExternal/CaseAgencySystemExternalBasic.svc InstantiateCollaborationAgencySystemExternalBasic   InstantiateCollaborationAgencySystem EC https://www.altinn.no/ServiceEngineExternal/CaseAgencySystemEC.svc InstantiateCollaborationAgencySystemEC   GetCaseListAgencySystem WS Http https://www.altinn.no/ServiceEngineExternal/CaseAgencySystemExternal.svc GetCaseListAgencySystemExternal   GetCaseListAgencySystem Basic Http https://www.altinn.no/ServiceEngineExternal/CaseAgencySystemExternalBasic.svc GetCaseListAgencySystemExternalBasic   GetCaseListAgencySystem EC https://www.altinn.no/ServiceEngineExternal/CaseAgencySystemEC.svc GetCaseListAgencySystemEC   NotifyEventAgencySystem WS Http https://www.altinn.no/ServiceEngineExternal/CaseAgencySystemExternal.svc NotifyEventAgencySystemExternal   NotifyEventAgencySystem Basic Http https://www.altinn.no/ServiceEngineExternal/CaseAgencySystemExternalBasic.svc NotifyEventAgencySystemExternalBasic   NotifyEventAgencySystem EC https://www.altinn.no/ServiceEngineExternal/CaseAgencySystemEC.svc NotifyEventAgencySystemEC   SetNoticeAgencySystem WS Http https://www.altinn.no/ServiceEngineExternal/CaseAgencySystemExternal.svc SetNoticeAgencySystemExternal   SetNoticeAgencySystem Basic Http https://www.altinn.no/ServiceEngineExternal/CaseAgencySystemExternalBasic.svc SetNoticeAgencySystemExternalBasic   SetNoticeAgencySystem EC https://www.altinn.no/ServiceEngineExternal/CaseAgencySystemEC.svc SetNoticeAgencySystemEC   Correspondence     Basis operasjon URI/Endepunkt Endepunkt operasjon   InsertCorrespondenceV2 WS Http https://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternal.svc InsertCorrespondenceV2   InsertCorrespondenceV2 Basic Http https://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternalBasic.svc InsertCorrespondenceBasicV2   InsertCorrespondenceV2 EC https://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternalEC.svc InsertCorrespondenceEC   InsertCorrespondenceV2 AEC https://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternalAEC.svc InsertCorrespondenceAEC   CreateSimpleCorrespondenceService WS Http https://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternal.svc CreateSimpleCorrespondenceService   CreateSimpleCorrespondenceService Basic Http https://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternalBasic.svc CreateSimpleCorrespondenceServiceBasic   CreateSimpleCorrespondenceService EC Ikke tilgjengelig på dette grensesnittet    CreateSimpleCorrespondenceService AEC Ikke tilgjengelig på dette grensesnittet    GetCorrespondenceStatusDetailsV3 WS Http https://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternal.svc GetCorrespondenceStatusDetailsV3   GetCorrespondenceStatusDetailsV3 Basic Http https://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternalBasic.svc GetCorrespondenceStatusDetailsBasicV3   GetCorrespondenceStatusDetailsV3 EC https://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternalEC.svc GetCorrespondenceStatusDetailsECV3   GetCorrespondenceStatusDetailsV3 AEC https://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternalAEC.svc GetCorrespondenceStatusDetailsAECV3   GetCorrespondenceStatusHistory WS Http https://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternal.svc GetCorrespondenceStatusHistory   GetCorrespondenceStatusHistory Basic Http https://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternalBasic.svc GetCorrespondenceStatusHistoryBasic   GetCorrespondenceStatusHistory EC https://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternalEC.svc GetCorrespondenceStatusHistoryEC   GetCorrespondenceStatusHistory AEC https://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternalAEC.svc GetCorrespondenceStatusHistoryAEC   AltUt     Basis operasjon URI/Endepunkt Endepunkt operasjon   SubmitAltutMessagePw Basic Http https://www.altinn.no/webservicesAgency/AgencydataExchange.asmx?op=SubmitAltutMessagePw SubmitAltutMessagePw   Prefill     Basis operasjon URI/Endepunkt Endepunkt operasjon   SubmitAndInstantiatePrefilledFormTask WS Http https://www.altinn.no/ServiceEngineExternal/Prefill.svc SubmitAndInstantiatePrefilledFormTask   SubmitAndInstantiatePrefilledFormTask Basic Http https://www.altinn.no/ServiceEngineExternal/PrefillBasic.svc SubmitAndInstantiatePrefilledFormTaskBasic   SubmitAndInstantiatePrefilledFormTask EC https://www.altinn.no/ServiceEngineExternal/PreFillAgencyExternalEC.svc SubmitAndInstantiatePrefilledFormTaskEC   SubmitPrefilledFormTasks WS Http https://www.altinn.no/ServiceEngineExternal/Prefill.svc SubmitPrefilledFormTasks   SubmitPrefilledFormTasks Basic Http https://www.altinn.no/ServiceEngineExternal/PrefillBasic.svc SubmitPrefilledFormTasksBasic   SubmitPrefilledFormTasks EC https://www.altinn.no/ServiceEngineExternal/PreFillAgencyExternalEC.svc SubmitPrefilledFormTasksEC   Subscription     Basis operasjon URI/Endepunkt Endepunkt operasjon   SubmitSubscription WS Http https://www.altinn.no/ServiceEngineExternal/Subscription.svc SubmitSubscription   SubmitSubscription Basic Http https://www.altinn.no/ServiceEngineExternal/SubscriptionBasic.svc SubmitSubscriptionBasic   SubmitSubscription EC https://www.altinn.no/ServiceEngineExternal/SubscriptionAgencyExternalEC.svc SubmitSubscriptionEC   NotificationAgencyExternal     Basis operasjon URI/Endepunkt Endepunkt operasjon   SendStandaloneNotification WS Http https://www.altinn.noServiceEngineExternal/NotificationAgencyExternal.svc SendStandaloneNotification   SendStandaloneNotification Basic Http https://www.altinn.noServiceEngineExternal/NotificationAgencyExternalBasic.svc SendStandaloneNotificationBasic   SendStandaloneNotification EC https://www.altinn.noServiceEngineExternal/NotificationAgencyExternalEC.svc SendStandaloneNotificationEC   TTPArchiveAgencyExternal     Basis operasjon URI/Endepunkt Endepunkt operasjon   GetAuditTrail Basic Http https://www.altinn.no/ArchiveExternal/TTPArchiveAgencyExternalBasic.svc GetAuditTrailBasic   AuthorizationAdministration     Basis operasjon URI/Endepunkt Endepunkt operasjon   ImportAuthorizationPolicy WS Http https://www.altinn.no/AuthorizationExternal/AdministrationExternal.svc ImportAuthorizationPolicy   GetReporteeByTempKey WS Http https://www.altinn.no/AuthorizationExternal/AdministrationExternal.svc GetReporteeByTempKey   GetReportees WS Http https://www.altinn.no/AuthorizationExternal/AdministrationExternal.svc GetReportees   GetRoles WS Http https://www.altinn.no/AuthorizationExternal/AdministrationExternal.svc GetRoles   AuthorizationDecisionPointExternal     Basis operasjon URI/Endepunkt Endepunkt operasjon   AuthorizeAccessExternal WS Http https://www.altinn.no/AuthorizationExternal/AuthorizationDecisionPointExternal.svc AuthorizeAccessExternal   DownloadQueueExternal     Basis operasjon URI/Endepunkt Endepunkt operasjon   GetDownloadQueueItems WS Http https://www.altinn.no/ArchiveExternal/DownloadQueueExternal.svc GetDownloadQueueItems   GetDownloadQueueItems WS Http https://www.altinn.no/ArchiveExternal/DownloadQueueExternalBasic.svc GetDownloadQueueItems   GetDownloadQueueItems WS Http https://www.altinn.no/ArchiveExternal/DownloadQueueExternalEC.svc GetDownloadQueueItems   PurgeItem WS Http https://www.altinn.no/ArchiveExternal/DownloadQueueExternal.svc PurgeItem   PurgeItem WS Http https://www.altinn.no/ArchiveExternal/DownloadQueueExternalBasic.svc PurgeItem   PurgeItem WS Http https://www.altinn.no/ArchiveExternal/DownloadQueueExternalEC.svc PurgeItem   GetArchivedFormTask WS Http https://www.altinn.no/ArchiveExternal/DownloadQueueExternal.svc GetArchivedFormTaskExternalDQ   GetArchivedFormTask WS Http https://www.altinn.no/ArchiveExternal/DownloadQueueExternalBasic.svc GetArchivedFormTaskBasicDQ   GetArchivedFormTask WS Http https://www.altinn.no/ArchiveExternal/DownloadQueueExternalEC.svc GetArchivedFormTaskECDQ   ContextHandlerExternal     Basis operasjon URI/Endepunkt Endepunkt operasjon   GetReporteeElementContextExternal WS Http https://www.altinn.no/ServiceEngineExternal/ContextHandlerExternal.svc GetReporteeElementContextExternal   GetReporteeElementContextExternal Basic Http https://www.altinn.no/ServiceEngineExternal/ContextHandlerExternalBasic.svc GetReporteeElementContextExternalBasic   GetReporteeElementContextExternal EC https://www.altinn.no/ServiceEngineExternal/ContextHandlerEC.svc GetReporteeElementContextExternalEC   RegisterSSRAgencyExternal     Basis operasjon URI/Endepunkt Endepunkt operasjon   GetRights WS Http https://www.altinn.no/RegisterExternal/RegisterSRRAgencyExternal.svc GetRights   GetRights Basic Http https://www.altinn.no/RegisterExternal/RegisterSRRAgencyExternalBasic.svc GetRightsBasic   GetRights EC https://www.altinn.no/RegisterExternal/RegisterSRRAgencyExternalEC.svc GetRightsEC   AddRights WS Http https://www.altinn.no/RegisterExternal/RegisterSRRAgencyExternal.svc AddRights   AddRights Basic Http https://www.altinn.no/RegisterExternal/RegisterSRRAgencyExternalBasic.svc AddRightsBasic   AddRights EC https://www.altinn.no/RegisterExternal/RegisterSRRAgencyExternalEC.svc AddRightsEC   DeleteRights WS Http https://www.altinn.no/RegisterExternal/RegisterSRRAgencyExternal.svc DeleteRights   DeleteRights Basic Http https://www.altinn.no/RegisterExternal/RegisterSRRAgencyExternalBasic.svc DeleteRightsBasic   DeleteRights EC https://www.altinn.no/RegisterExternal/RegisterSRRAgencyExternalEC.svc DeleteRightsEC    Alle URI er angitt med produksjonsadresse. Frem til produksjonssetting må https://www.altinn.no erstattes med peker til testmiljø.\nSammenheng mellom nye og gamle Altinn web services Nedenfor vises en oversikt som mapper web service grensesnitt tilgjengelige i AltinnI med de som tilbys i AltinnII versjon 1:\n   Altinn I operasjon Altinn II ver.1. operasjon Kommentar     AgencyDataExchange.SubmitAltutMessagePw() Correspondence. InsertCorrespondence AltinnI web service videreføres for eksisterende tjenesteeiere, kun i en begrenset periode   AgencyDataExchange. SubmitAndInstantiateOnlinePrefillPw Prefill.SubmitAndInstantiatePrefilledFormTask AltinnII er tjenesteorientert, ikke skjemaorientert   AgencyDataExchange. SubmitOnlinePrefillPw Prefill.SubmitPrefilledFormTasks AltinnII er tjenesteorientert, ikke skjemaorientert   AgencyDataExchange.VerifyMessage N/A    N/A ArchiveCommon.GetServiceOwnerArchiveReporteeElements    N/A ServiceOwnerArchive.GetArchivedFormTask    MessageReceiptExchange.GetReceiptList Receipt.GetReceiptList    MessageReceiptExchange.GetReceipt Receipt.GetReceipt    N/A Receipt.SaveReceipt Ny web service operasjon i AltinnII   N/A Subscription.SubmitSubscription Ny web service operasjon i AltinnII    "
},
{
	"uri": "https://altinn.github.io/docs/guides/mapperutvikling/",
	"title": "Mapperutvikling",
	"tags": [],
	"description": "Implementasjonsguide for mapperutvikling i Altinn",
	"content": " Tilgjengelige beskrivelser - - Obs! Under oppdatering! \rProsessen\r\rBeskrivelse av hva man må gjøre for å utvikle, teste og produksjonssette en mapper\n\rUtviklingshåndbok\r\rImplementasjonsguide for mapperutvikling i Altinn\n\r"
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/kanaler/portal/",
	"title": "Portal",
	"tags": [],
	"description": "Altinn-portalen tilbyr en felles meldingsboks til sluttbrukerne av Altinn samt standardfunksjonalitet for de forskjellige tjenestene.",
	"content": " Altinn-portalen tilbyr en felles meldingsboks til sluttbrukerne av Altinn samt standardfunksjonalitet for de forskjellige tjenestene.\nFordeler og muligheter Fordelene med å benytte seg av Altinn-portalen og dens standardfunksjonalitet er at brukerne får et kjent brukergrensesnitt som de kjenner fra andre tjenester/tjenesteeiere. De finner kvitteringer der de er vant med det og de kan sette opp varsling i et felles brukergrensesnitt.\nFor de forskjellige tjenestetypene tilbyr portalen brukergrensesnitt for å navigere seg mellom og i tjenestene.\nProdukter som tilbys  Meldingsboks Arkiv Arbeidsflyt Profil  Hvordan komme i gang Hvis man ikke gjør at aktivt valg om at tjenesten kan skal benytte kun skal være tilgjengelig via REST/Web service vil tjenestene være tilgjengelig i Altinn-portalen for sluttbrukere.\nRåd og tips  Pek brukeren til Altinns egne hjelpetekst hvis det er behov for å veilede sluttbrukeren. Prøv å gjør informasjonen i tjenestekatalogen best mulig slik at sluttbruker i størst mulig grad forstår hva som kreves av tjenesten de skal benytte.  Kanaler  Portal  Avhengigheter For tjenesteeiere gir portalen liten nytte uten at man også tilbyr tjenester i portalen. Dette kan være meldingstjeneste, innsendingstjeneste, innsynstjeneste, samhandlingstjeneste.\nTeknisk dokumentasjon Informasjon om Altinn Portal:\n Funksjonell spesifikasjon – Sluttbrukerløsningen  "
},
{
	"uri": "https://altinn.github.io/docs/guides/mapperutvikling/utviklingshandbok/",
	"title": "Utviklingshåndbok",
	"tags": [],
	"description": "Implementasjonsguide for mapperutvikling i Altinn",
	"content": " Tilgjengelige beskrivelser \rBruksområder\r\rBeskrivelse av hva en mapper er og hvordan man går fram for å lage en\n\rGenerelt om mappere\r\rBeskrivelse av hva en mapper er og hvordan man går fram for å lage en\n\rTeknologi\r\rBeskrivelse av teknologiene som brukes for å lage en mapper\n\rMapper-utvikling\r\rBeskrivelse av hvordan man utvikler\n\rTesting av mappere\r\rBeskrivelse av hvordan man tester mappere\n\rInstallasjon\r\rBeskrivelse av hvordan man lager installasjonspakker og får dem installert i test/produksjon\n\rDiverse\r\rBruk av mappere med Altinn-kontekst, REST/WCF\n\r"
},
{
	"uri": "https://altinn.github.io/docs/guides/samtykke/sluttbruker/innlogging/",
	"title": "Innlogging",
	"tags": [],
	"description": "Hvordan logge inn for å gi samtykke",
	"content": "I vårt eksempel med et lånesøknadscase så vil en lånesøker typisk gå til bankens hjemmeside for å søke om lån. Sannsynligvis vil man måtte logge seg inn med BankID for å søke.\nUnderveis i søknaden blir man spurt om å gi samtykke til at lignings- og lønnsopplysninger kan innhentes. Dersom man godtar dette blir man sendt til samtykkesiden i Altinn.\nFor å kunne gi et samtykke i Altinn må brukeren identifisere seg for det offentlige ved å logge inn via ID-porten.\nInnen føderert BankID mellom bankene og ID-porten er mulig, må brukere potensielt logge inn to ganger.\n Innlogging ID-porten   "
},
{
	"uri": "https://altinn.github.io/docs/guides/samtykke/sluttbruker/samtykkesiden/",
	"title": "Samtykkesiden",
	"tags": [],
	"description": "Presentasjon av samtykkesiden",
	"content": "Etter innlogging vil sluttbrukeren bli presentert for en egen samtykkeside.\nFigurene under viser et eksempel på hvordan en samtykkeside kan se ut i et lånesøknadscase:\n Samtykkesiden   Når sluttbruker har gitt samtykke blir rettighetsdelegeringen til datakonsumenten utført og brukeren blir sendt tilbake til siden som er angitt av datakonsument i redirect-URL. Sluttbruker kan også velge å ikke gi samtykke.\n"
},
{
	"uri": "https://altinn.github.io/docs/guides/samtykke/sluttbruker/oversikt-samtykker/",
	"title": "Oversikt samtykker",
	"tags": [],
	"description": "Oversikt over gitte samtykker",
	"content": "Sluttbruker kan i Altinn gå inn på siden \u0026ldquo;Profil, roller og rettigheter\u0026rdquo; for å få oversikt over hvem man har gitt samtykke til.\nFiguren under viser hvordan dette presenteres for bruker.\n Oversikt samtykker   Fra denne siden kan man gå og se nærmere på det enkelte samtykket.\n"
},
{
	"uri": "https://altinn.github.io/docs/guides/samtykke/sluttbruker/trekke-samtykke/",
	"title": "Trekke samtykke",
	"tags": [],
	"description": "Hvordan trekke et samtykke som er gitt",
	"content": "Det vil være mulig å logge seg inn i Altinn og trekke et avgitt samtykke, så fremt man ikke har avgitt et engangssamtykke. Etter at samtykke er trukket vil det ikke lenger være mulig for datakonsumenten å få tilgang til data som sluttbrukeren opprinnelig samtykket til å dele. For å trekke samtykke velger man \u0026ldquo;Se/trekk samtykke\u0026rdquo;.\nHar man avgitt et engangssamtykke vil dette ikke kunne trekkes i Altinn da informasjonen i de fleste tilfeller hentes av datakonsument umiddelbart etter at man har samtykket. Ønsker man at datakonsument skal slette data de har hentet må sluttbruker ta kontakt med datakonsument.\n Engangssamtykke - kan ikke trekkes    Ordinært samtykke - kan trekkes   "
},
{
	"uri": "https://altinn.github.io/docs/guides/samtykke/sluttbruker/aktivitetslogg/",
	"title": "Aktivitetslogg",
	"tags": [],
	"description": "Aktivitetslogg",
	"content": "Sluttbruker får tilgang til en aktivitetslogg på sidene for \u0026ldquo;Profil, Roller og Rettigheter\u0026rdquo; som viser hvilke samtykker brukeren har gitt, når de har utløpt osv. Loggen inneholder også alle andre rolle og rettighetsdelegeringer som er gjeldende for denne brukeren, for eksempel rettigheter man har fått delegert på vegne av en virksomhet.\n Aktivitetslogg   "
},
{
	"uri": "https://altinn.github.io/docs/releases/2015/15-1/",
	"title": "15.1",
	"tags": [],
	"description": "Splitt av data, automatisert deploy, ny prosess-komponent, mastertjenester, ny startside i TUL, type-ahead i klientliste, +++",
	"content": " Release 15.1, produksjonssatt 13. januar, 2015.\nSom vanlig inneholder februar-versjonen av Altinn endringer for selvangivelsen. I tillegg kommer en rekke forbedringer og feilrettinger i øvrige deler av løsningen.\nMange av endringene i den nye versjonen er ikke synlige for brukerne, men enkelte endringer vil være godt synlige.\nMeldingsboks Sortering av meldinger i arkiv (17349) For å skape bedre oversikt i Min meldingsboks (MMB) ble det i juni 2014 innført en endring i «Til min behandling» i MMB som sørget for at tjenester beholdt sin opprinnelige dato (opprettet eller mottatt) og ikke bruke «sist endret»-dato til sortering i MMB. Nå vil denne endringen også gjelde for skjema som arkiveres (i «Arkivert»). NB! Meldinger som allerede er arkivert vil fortsatt sorteres etter datoen de ble arkivert.\nTjenester Endring av design på knapper i tjenester (16427) Designet på knapperaden moderniseres. Dette gjøres for å få knappene mer synlige, samt å rette en rekke stylingfeil.\nForbedring av brødsmulesti i tjenester (17180) Vi gjør grafiske endringer for brødsmulesti i tjenester (stegene som vises på innsendingstjenester). Vi retter opp i feil og endrer på det visuelle for å få en mer tydelig brødsmulesti.\nKnapp i \u0026ldquo;kontroller skjema\u0026rdquo;-pop-up (16405) Mange brukere blir stående fast i et underskjema når de forsøker gå tilbake til hovedskjema og har feil i det skjemaet de står i. Brukerne ser ikke lenken for å gå tilbake og rette feilene senere. Vi innfører derfor en knapp med «Gå tilbake til hovedskjema og rett feilene senere» til venstre for «Lukk»-knappen. På den måten blir det tydeligere for brukeren at man har to valg.\nFeilretting - Fjerning av tekst på kvitteringssida (15373) Liten feilretting som går ut på å fjerne en overflødig tekst på kvitteringssiden for innsendingstjenester. Teksten som fjernes er «Ingen signeringstekst».\nHåndtering av filvedlegg ved flere signeringssteg (17408) Retting av en feil som fører til at filvedlegg i en del tilfeller ikke vises på signeringsside. Dette gjelder fra og med signeringssteg to for vedlegg som er lagt til på tidligere signeringssteg. I tillegg vil det nå i første signeringssteg inneholde sjekkboks-markør når det er mulig å legge til vedlegg ved signering\nFeilretting - IE 11-feil på siden oversikt skjema og vedlegg (16852) Feilretting som sørger for at det ikke lenger skal være dobbelt opp med «Browse»-knapper under «Legg til filvedlegg» på siden «Oversikt skjema og vedlegg» ved skjemautfylling i Internet Explorer 11.\nFjerning av varsel til avgiver ved parallell signering (17482) Ved parallell signering når avgiver også skal signere skal denne ikke motta melding eller varsel om at signering skal utføres. Melding eller varsel ble tidligere sendt, men dette er nå blitt fjernet.\nFeilretting – Arkiverte meldinger i PSA-meny (17346) En følgefeil fra 14.2 gjorde at arkiverte meldinger ikke ble vist i PSA-menyen. Dette er nå rettet slik at arkiverte meldinger vises i PSA-menyen.\nParallell signering og sluttbrukersystem (16350) Ved parallell signering og innsending fra sluttbrukersystem ble det ikke sendt ut varsel for signering. Dette er nå rettet slik at varsel sendes ut.\nTilgangsstyring Feilretting – Deaktiverte på «Slett roller» (14186) Feilretting som sørger for at knappene for å bla mellom sider i listen på «Slett roller» under Tilgangsstyring ikke skal være deaktivert.\nType-ahead i klientliste (12192) Hvis man har flere enn 10 klienter, gjøres nedtrekkslisten i enkeltvis klientdelegering om til et tekstfelt der man må skrive inn org.nr til klienten. I dette feltet innfører vi type-ahead-funksjonalitet slik at listen viser treff som stemmer med det man skriver inn.\nOppdatere overstyring av rettigheter (13084) Vi innfører mulighet til å oppdatere eksisterende overstyringer av rettigheter. Til nå har man først måttet slette eksisterende overstyring og deretter gjøre ny overstyring.\nFeilretting - Delegering av enkeltrettigheter (17132) Feilretting som sørger for at man ikke får opp feilmelding om at delegering allerede er utført annet enn i tilfeller der delegering faktisk er utført.\nDelegerbar rolle for rettighet til parallell signering (17420) Vi innfører en ny delegerbar rolle til bruk ved parallell signering. Ved parallell signering gis de som angis i skjema som noen som skal signere rettighet til å signere aktuell instans av skjema. Når dette er en virksomhet, kan det være behov for å delegere rettigheten videre, noe som nå kan gjøres via den nye rollen (som vil gjelde alle parallelle signeringer virksomheten skal gjøre).\nInformasjonsportalen Tydeligere markering av punktlister (16403) Feilretting som sørger for at unummererte lister hvor punktene ikke er lenker blir markert som punktlister.\nFeilrettinger i EPiServers redigeringsmodus (16884) Retting av to mindre feil for redaktører. Endringen fører til at sammenligning av versjoner av sider skal fungere, samt at det blir enklere å legge til utheving av innhold.\nKontaktskjema for ABS (17220) Det lages et nytt kontaktskjema for å sende spørsmål til Altinn brukerservice. Dette vil sikre at ABS får mer av informasjonen de trenger for å kunne yte god hjelp til brukerne.\nNy knapp for å gå til tjeneste (14534) Vi innfører en ny knapp for å gjøre det tydeligere hvor man skal klikke for å gå fra informasjonssiden om en tjeneste til selve tjenesten.\nKorrekt innloggingsstatus (15701) Feilretting for å unngå situasjoner der det ser ut som at man er innlogget (man ser hvem som er innlogget og hvem man representerer ved siden av logg ut-knappen), selv om man har fått en timeout.\nEksterne grensesnitt Bedret caching ved migrering av enkeltskjema i skjemasett (16245) Endring som forhindrer at man må vente en time før man kan teste nymigrerte enkeltskjema ved innsending fra sluttbrukersystem på grunn av mellomlagrede data.\nVidereutvikling av REST API (17439) Forbedringer av REST API med bakgrunn i tilbakemeldinger og forretningsmessige behov. Innhold i endringen fastsettes fortløpende (smidig utvikling).\nSubmitAttachmentStreamed (16795) Forbedringer og bedre robusthet i sluttbrukersystemoperasjonen SubmitAttachmentStreamed.\nTjenesteeiers arkiv og trukket samtykke (16266) Feilretting som sikrer tilgang for mottakende etat på elementer som er lagret i tjensteeiers arkiv, selv om sluttbruker har trukket samtykke.\nIntegrasjonsplattform og grensesnitt Orkestrering på CorrespondenceConfirmation outbound shipments (16957) Etter at Download Queue (DQ) ble innført har det blitt opprettet flere meldingstjenester og lenketjenester som feilaktig er blitt knyttet til DQ i stedet for et grensesnitt (ShipmentDefinitionID =0). Når data ble generert til tjenesteeiere fra disse tjenestene ble det sendt melding til PrepareShipmentPart-orkestreringen. Siden grensesnittet ikke eksisterer førte dette til at orkestreringen feilet og meldingen ble suspendert.\nMed bakgrunn i dette endres det i SBL slik at det ikke genereres noen melding til PrepareShipmentPart når ShipmentDefinitionID = 0. I tillegg endrer man i integrasjonsløsningen for å gjøre orkestreringen mer robust, slik at denne ikke suspenderes selv om den skulle motta en ugyldig melding om å sende et element tilknyttet en tjeneste som ikke er tilknyttet noe grensesnitt.\nSpesialbehandling av tegnene \u0026lt; \u0026gt; og \u0026amp; (17157). Enkel endring for å unngå dobbel encoding av spesial tegn i data som overføres til etat. I dagens løsning har det for eksempel vært firmanavn som har inneholdt \u0026lsquo;\u0026lt;\u0026rsquo; som har endt opp som \u0026lsquo;\u0026lt;\u0026rsquo; hos etat.\nReimplementasjon av «Splitt av data»-funksjonalitet (17152) For noen innsendingstjenester skal deler av rapporteringen (hovedskjema/skjema i skjemasett) sendes til flere tjenesteeiere. Selve splitten vil bli definert i TUL (splitt-siden). Ved bruk av denne funksjonaliteten får man en mer fleksibel håndtering av informasjon. Målet med denne endringen er å implementere splitt-data funksjonalitet på skjema nivå. I tillegg vil det på skjemanivå være mulig å gjøre splitting uten bruk av XSLT, noe som vil gi god ytelse. Kryptering på feltnivå, samt splitting på feltnivå vil ikke inngå i denne spesifikke aktiviteten, men være mål for en framtidig release.\nBrukernavn og passord på sendporter etter biztalk-deploy (17733) Feilretting som sørger for bedre håndtering av brukernavn og passord ved biztalk-deploy.\nRefaktorering av sekvensnummerfunksjonalitet (17218) Forbedring av ytelse og robusthet. Modellen for transportsekvens forenkles for å forhindre en del kjente samtidighetsproblemer (deadlocks og timouts) i integrasjonsløsningen relatert til bruk av sekvensnummerfunksjonalitet. I tillegg minimeres behov for låsing av sekvensnummer tabell, slik at lese og skrive operasjoner kan gå uavhenging, unødige databasekall når et grensesnitt ikke har noen sekvens fjernes.\nTeknisk arkitektur HTML som alternativ til PDF (17194) Det innføres støtte for HTML som utskriftsformat i portalen. Om og når dette skal tilgjengeliggjøres styres av tjenesteeier pr. tjenesteutgave. HTML som utskriftsformat vil føre til raskere visning/nedlasting for brukerne og bedre kapasitet i løsningen.\nNB! Endringen blir ikke tilgjengelig umiddelbart etter produksjonssetting av ny versjon.\nOppdatere prosess-komponent (13629) Dagens prosessmotor som understøtter samhandlingstjenester fornyes og forbedres. Støtte for eksisterende prosesser vil videreføres så lenge dette er nødvendig.\nAutomatisert deploy (17274) Deploy av plattform-komponenter automatiseres i systemtestmiljøene.\nMer automatisert enhetstest (17273) Dekningsgrad for automatisert enhetstest økes.\nManglende indekser (15839) Det innføres noen indekser i databasen for enda bedre ytelse.\nEndre datatype i tabell (16739) For å understøtte fremtidig datavekst så må datatype i en tabell i databasen endres.\nTjenesteutviklingsløsning Mastertjeneste som kan gjenbrukes (16684) Vi implementerer nå en løsning som gjør at vi kan definere en innsendingstjeneste som en mastertjeneste i tjenesteutviklingsløsningen. En slik tjeneste vil kunne gjenbrukes slik at man lager en slavetjeneste. Denne slavetjenesten vil være en kopi av mastertjenesten, men ha sin unike ID. På slavetjenesten kan man kun endre hvor dataen skal sendes og gyldighetsdatoen.\nImplementering av nytt visuelt design for startsiden i TUL (16953) Vi gjør endringer på startsiden i TUL slik at den blir mer brukervennlig. Du vil nå få en oversikt over dine sist brukte tjenester og utgaver. Kun de tjenesteeiere du har tilgang til vil vises på startsiden, men det vil være en lenke for å åpne alle tjenesteeiere. Nederst på startsiden vil det være en blog/wiki for kunnskapsdeling.\n"
},
{
	"uri": "https://altinn.github.io/docs/releases/2017/17-1-1/",
	"title": "17.1.1",
	"tags": [],
	"description": "500 MB på REST og webservices, forbedringer av samtykke samt utvidet API for forms og attachments",
	"content": "Release 17.1.1, produksjonssatt uke 36, 2017.\n Separat POST, PUT og DELETE på forms i REST-api for sluttbruker Separat POST og DELETE på attachments-ressursen, med egen operasjon for streaming av store vedlegg på REST-api for sluttbruker Logging av brukt samtykke og implisitt sletting av engangssamtykke Støtte for vedlegg på opptil 500 MB på REST og webservices  "
},
{
	"uri": "https://altinn.github.io/docs/releases/2015/",
	"title": "2015",
	"tags": [],
	"description": "Endringer innført i 2015",
	"content": "Releaser av Altinn i løpet av 2015\n\r15.3\r\rStøtte for virksomhetssertifikat i REST API, tekniske forbedringer, EIR, innlogging med utenlandsk id (eIDAS), \u0026#43;\u0026#43;\u0026#43;\n\r15.2\r\rNy formidlingstjeneste, forenklet registrering av kontaktinformasjon, forbedret parallell signering, delegering via REST API, \u0026#43;\u0026#43;\u0026#43;\n\r15.1\r\rSplitt av data, automatisert deploy, ny prosess-komponent, mastertjenester, ny startside i TUL, type-ahead i klientliste, \u0026#43;\u0026#43;\u0026#43;\n\r"
},
{
	"uri": "https://altinn.github.io/docs/tjenestekatalog/kanaler/apps/",
	"title": "Apps",
	"tags": [],
	"description": "Altinn Apps er i dag tre applikasjoner som er utviklet på de tre dominerende mobile plattformene iOS, Android og Windows Phone.",
	"content": " Altinn Apps er i dag tre applikasjoner som er utviklet på de tre dominerende mobile plattformene iOS, Android og Windows Phone. Funksjonalitet som foreløpig er tilgjengelig via apps er pålogging (via ID-Porten), visning av elementer i meldingsboks, signering (begrenset til noen få tjenester) og valg av aktør (person/organisasjon) som man har fått rettigheter av.\nFordeler og muligheter Altinn-appen dekker et behov for enkel tilgang til meldingsboksen i Altinn på mobilen. Med appen kan du for eksempel sjekke skatteoppgjøret på mobilen mens du sitter på bussen på vei til jobb, eller du kan se om det er kommet noen meldinger til foretaket du er styreleder i.\nDet er et stort potensiale for fremtidig bruk av Altinn-appen og dette er noe det er fokus på fra Altinn sin side. Det vil sees på muligheter for å utnytte de mulighetene som apps har for å forenkle og effektivisere oppgaver for brukerne, som rask og sikker innlogging basert på biometri (fingeravtrykk eller scanning av øyne) og varsling som kan integreres i arbeidsflyten til bruker på en mye mer effektiv måte enn SMS eller epost. Dagens apps utnytter heller ikke det mulighetsrommet som finnes for utbredelse. Eksempler på dette er iPad og Apple TV og Windows 10-baserte laptop-er og PC-er.\nMålet er at Altinn-appen skal bidra til å effektivisere dialogen med det offentlige.\nFunksjonaliteten i appen realiseres ved å benytte Altinn sitt REST API (tekniske grensesnitt).\nProdukter som tilbys Foreløpig er følgende funksjonalitet tilgjengelig via apps: - Pålogging (via ID-Porten) - Visning av elementer i meldingsboks - Signering (begrenset til noen få tjenester) - Valg av aktør (person/organisasjon) som man har fått rettigheter av\nHvordan komme i gang Under utvikling\nRåd og tips Under utvikling\nKanaler Under utvikling\nAvhengigheter Under utvikling\nTeknisk dokumentasjon Under utvikling\n"
},
{
	"uri": "https://altinn.github.io/docs/releases/2017/etablering/",
	"title": "Etablering",
	"tags": [],
	"description": "Bytte av leverandører, nye avtaler, ny teknisk driftsplattform",
	"content": "Ny teknisk driftsplattform, produksjonssatt 16. - 19. juni 2017.\nIfbm. innføring av nye avtaler og nye leverandører, så ble Altinn flyttet til en ny teknisk driftsplattform.\nHer kan du lese mer om valg av leverandører:\n Pressemelding Forenklingsbloggen  "
},
{
	"uri": "https://altinn.github.io/docs/guides/samtykke/datakilde/",
	"title": "For datakilde",
	"tags": [],
	"description": "Utføres av datakilde/tjenesteeier",
	"content": "Datakilden vil i de fleste sammenhenger også være tjenesteeier (eier av samtykketjenesten).\nHer beskrives hvilke oppgaver tjenesteeier må utføre for å få realisert en samtykketjeneste i Altinn.\nBeskrivelsen gjelder bruk av samtykke der dataflyten går direkte mellom datakilden og datakonsumenten og hvor tilgang til data autoriseres med innholdet i et token generert av Altinn for datakonsumenten.\nSiden dataflyten går utenom Altinn må datakilde/tjenesteeier tilby et tjenestegrensesnitt som datakonsumentene kan hente data fra.\n\rOpprette tjeneste\r\rOpprettelse av samtykketjeneste i tjenesteutviklingsløsningen (TUL)\n\rAutorisere datakonsument\r\rAutorisere opp datakonsument ved registrering i tjenesteeierstyrt register\n\rInformasjon om token\r\rBruk og verifisering av self contained OAuth-token som mottas fra datakonsument\n\rTest av tjeneste\r\rTeste autorisasjon av datakonsument og samtykketjeneste\n\r"
},
{
	"uri": "https://altinn.github.io/docs/guides/tjenesteeier/grensesnitt-batch-til-altinn/",
	"title": "Grensesnitt – batch",
	"tags": [],
	"description": "Webservice operasjoner med beskrivelse",
	"content": "  Her følger en oversikt over hvilke batch grensesnitt som tilbys i Altinn.\nInnsendingstjenester Ferdig utfylte skjemaer i Altinn overføres på xml fil til tjenesteeiere. Tjenesteeiere kan motta utfylte skjemaer fortløpende, eller samle opp til rutinemessig overføring. Alternative protokoller som benyttes i Altinn-løsningen i dag er FTP og SFTP. Kun arkiverte elementer for egne skjemaer overføres.\nTjenesteeier må etablere FTP/SFTP mottak, og se til at angitt FTP område til enhver tid er tilgjengelig for Altinn. Opplysninger om FTP adresse, pålogging og frekvens må avtales før valgt overføring kan aktiviseres.\nEn kvittering for forsendelsen genereres når forsendelsen er sendt til tjenesteeier fra Altinn. Tjenesteeier oppdaterer kvitteringen etter mottak ved å gjøre kall til dedikert web service (se SaveReceipt).\nInnsendingsdata som sendes til tjenesteeier fra Altinn er i henhold til “genericbatch.2011.06.xsd\u0026rdquo; som ligger som et separat vedlegg til dette dokumentet. Denne versjonen av XSD er påkrevd for å bruke funksjonalitet for å overføre PDF av skjemasett.\nI forbindelse med definerte vedleggstyper i Altinn, har vi «genericbatch.2013.06.xsd». Den nye versjonen av xsd-en inneholder nye elementer som vedleggstypenavn (attachmentTypeName) og sjekksum, av typen SHA256, for vedlegget (checksum). I tillegg har det blitt innført mulighet for å definere en liste med metadata, med mulighet for å f.eks. oppgi fagsystemnavn. AttachmentTypeName, Checksum og MetaDataList er alle optional og ikke obligatorisk, så xsd-en er bakoverkompatibel med tjenesteeiere som benytter seg av “genericbatch.2011.06.xsd\u0026rdquo; og “genericbatch.2010.10.xsd\u0026rdquo;.\n“Genericbatch.2010.10.xsd\u0026rdquo; vil eksistere videre i en periode før den fases ut. Det er ingen obligatoriske forandringer mellom “genericbatch.2011.06.xsd\u0026rdquo; og “genericbatch.2010.10.xsd\u0026rdquo;, så tjenesteeiere som allerede bruker sistnevnte kan fortsette med det inntil den fases ut.\nTjenesteeier kan opprette flere grensesnitt for overføring av utfylte skjema, og hvert enkelt grensesnitt knyttes til 1 versjon av genericbatch.\n   Element Beskrivelse     DataBatch Rotnode elementet som holder hele overføringen. Alt innenfor dette elementet tilhører en batch   schemaVersion Versjonen av xmlskjemaet. Brukes for fremtidig versjonering av formatet   batchReference Den unike batch-sekvensen innenfor mottakssystemet. Denne blir brukt for å forsikre seg om at det er forventet batchforsendelse som blir mottatt av offentlig enhet   previousReference Forrige sekvensnummer innenfor mottakssystemet (receiverReference)   receiverReference Identifikatoren i Altinn på systemet som skal motta dataene, eksempelvis SLN. Brukes av mottaker for å skille på batcher til forskjellige system hos samme mottaker   timeStamp Tidspunkt for når batchen er generert   formTasksInBatch Antall skjemasett som er i denne databatche   formsInBatch Antall skjema som er i denne databatchen   DataBatch .DataUnits Inneholder en samling av alle skjemaer som sendes   DataBatch .DataUnits. DataUnit Element som inneholder det enkelte skjemaet i batchen. Dette kan enten være hovedskjema eller vedleggsskjema   reportee Identifikatoren til avgiver (organisasjonsnummer/fødselsnummer) som har sendt inn skjemaet   archiveReference Identifikatoren til skjemaet i AltInn-arkivet. Brukes for å koble videre saksgang av skjema hos mottaker med skjemaet i Altinn, ved evt. senere henvendelse til Altinn   archiveTimeStamp Tidspunkt for når skjemaet ble arkivert   DataBatch .DataUnits. DataUnit. MetadataList En samling av metadata informasjon i en liste. Kan f.eks. være fagsystemnavn dersom dette er bestilt aktivert på grensesnitt   DataBatch .DataUnits. DataUnit. Approvers En samling av godkjennere for det enkelte skjema, d.v.s. personer som har signert oppgavesettet   DataBatch .DataUnits. DataUnit. Approvers .Approver Et element som representerer én godkjenner   approverId Identifikatoren til godkjenneren av skjemaet, d.v.s. fødselsnummer   approverTimeStamp Tidspunktet for godkjennelsen av skjemaet   securityLevel Sikkerhetsnivå: notSensitive - Data er godkjent av bruker som er autentisert med sikkerhetsnivå 1, lessSensitive - Data er godkjent av bruker som er autentisert med sikkerhetsnivå 2, sensitive - Data er signert av bruker med sikkerhetsnivå 3, verySensitive - Data er signert av bruker med sikkerhetsnivå 4   DataBatch .DataUnits. DataUnit.FormTask Overordnet element for ferdig utfylt skjemasett   DataBatch .DataUnits. DataUnit.FormTask.ServiceCode Tjenestekode, f.eks. \u0026ldquo;PSA\u0026rdquo;   DataBatch .DataUnits. DataUnit.FormTask.ServiceEditionCode Tjenesteutgavekode, f.eks. \u0026ldquo;2009\u0026rdquo;   DataBatch .DataUnits. DataUnit.FormTask. SOEncryptedSymmetricKey.EncryptedKey Nøkkel som er AES-kryptert med tjenesteeiers sertifikat som benyttes for å dekryptere skjemainnhold   DataBatch .DataUnits. DataUnit.FormTask.SOEncryptedSymmetricKey.CertificateThumbprint Thumbprint av tjenesteeiers sertifikat som ble benyttet for å kryptere nøkkel. Vil unikt angi sertifikatet i de tilfeller hvor tjenesteeier har flere sertifikater registrert i Altinn   DataBatch .DataUnits. DataUnit.FormTask.CaseID Unik identifikator på eventuell samhandlingstjeneste skjemasettet er knyttet til   DataBatch .DataUnits. DataUnit.FormTask.Form Overordnet element for hoved –eller underskjema i et skjemasett   DataBatch .DataUnits. DataUnit.FormTask.Form.DataFormatId Id til skjema fra metadata kilde   DataBatch .DataUnits. DataUnit.FormTask.Form.DataFormatVersion Versjon til skjema fra metadata kilde   DataBatch .DataUnits. DataUnit.FormTask.Form.Reference Unik id per skjema, satt av altinn   DataBatch .DataUnits. DataUnit.FormTask.Form.ParentReference Referanse til hovedskjema. Settes kun i underskjema dersom underskjema forekommer.Tilsvarer verdi i DataBatch .DataUnits. DataUnit.FormTask.Form.Reference for hovedskjema   DataBatch .DataUnits. DataUnit.FormTask.Form.FormData Skjemadata i xml format   DataBatch .MetadataList Overodnet element for all metadata for en batch   DataBatch .Metadata Metadatainfo knyttet til batchen   DataBatch .Attachments Overordnet element for alle vedlegg for en batch   DataBatch .Attachments.Attachment Elementet inneholder ett binært vedlegg (Base64 kodet). Dette kan også være systemgenererte vedlegg, f.eks PDF av skjemasett   archiveReference Identifikatoren til skjemaet i AltInn-arkivet. Brukes til å knytte vedlegget til skjemaet   fileName Det originale filnavnet til vedlegget (gitt av den som sendte det)   InternalFileName Intern filnavnreferanse som brukes hvis vedleggene skal pakkes i en ekstern fil (ZIP). Denne er unik fordi man ikke kan ha like filnavn i et ZIP-arkiv. Filnavnet består av arkivreferansenummer + en Guid   AttachmentType Angir type attachment. Dette gjelder også for systemgenererte vedlegg som PDF (attachmentType=formtask_pdf). Mulige verdier for denne : not_Applicable, BASE64, binary_octet_stream, formtask_pdf, image_gif, text_html, image_bmp, image_jpeg, application_vnd_ms_excel, application_vnd_ms_powerpoint, application_msword, MTOM, application_None, application_vnd_oasis_opendocument_presentation, application_vnd_oasis_opendocument_spreadsheet, application_vnd_oasis_opendocument_text, application_pdf, text_plain, application_postscript, text_richtext, application_rtf, text_rtf, text_xml, application_zip   IsEncrypted Angir om tjenesten er kryptert eller ikke   Checksum Viser sjekksum av filvedlegget, som er generert av Altinn. Sjekksummen er generert av SHA256-algoritmen   attachmenttypename Angir vedleggets vedleggstypenavn. Dette er i henhold til vedleggstypen som er knyttet til tjenesten, f.eks. Lønnslipp, Årsoppgave    Preutfylling Preutfyllingsdata fra tjenesteeier vil ofte bestå av store mengder data. Batch-grensesnittet skal i så fall benyttes. Batch-grensesnittet kan også benyttes av tjenesteeiere som ikke ønsker å benytte web service-grensesnittet. Alternative protokoller som benyttes i Altinn-løsningen i dag er FTP eller SFTP. Tjeneste for oppgavesettet må være definert i tjenesteutviklingsløsningen og migrert til sluttbrukerløsningen før en tjenesteeier kan sende inn preutfyllingsdata for tjenesten via dette grensesnittet.\nVed bruk av FTP/SFTP mottar Altinn fil fra tjenesteeier. Alternativt kan Altinn kan hente hos tjenesteeier vha. de samme protokollene hvis tjenesteeier ikke ønsker å etablere egen FTP server (gjelder kun tjenesteeiere som ikke skal motta meldingsbekreftelser fra Altinn, se avsnitt 10.4.2 Meldingsbekreftelse fra Altinn til tjenesteeier). Opplysninger om FTP adresse, pålogging og frekvens må avtales før valgt kommunikasjonsmåte kan aktiviseres. Dersom Altinn skal hente hos tjenesteeier må tjenesteeier se til at angitt FTP område til enhver tid er tilgjengelig for Altinn.\nEn kvittering for forsendelsen, samt kvitteringer for de enkelte skjemaene i forsendelsen, genereres når forsendelsen er ferdig prosessert i Altinn. Tjenesteeier kan hente ut kvitteringene basert på ExternalShipmentReference/SendersReference som ble oppgitt i preutfyllingsformatet.\nPreutfyllingsdata som sendes til Altinn fra tjenesteeier eller hentes fra Altinn må være i henhold til Prefill-elementet i serviceinitiation.2010.10.xsd. Xsd’en ligger som et separat vedlegg til dette dokumentet. Dette formatet benyttes også for abonnement. Tjenesteeier kan med andre ord sende både preutfyllingsdata og abonnementsdata i samme XML.\nTabellen under beskriver elementer og attributter relevante for preutfylling:\n   Element Beskrivelse     ServiceOwner Rotnode elementet som holder hele overføringen   ServiceOwnerName Forkortelsen for tjenesteeieres navn (XXX-XXX, for eksempel ABC-123), der tre første tegn representerer tjenesteeier og tre siste tegn representerer en avdeling innad hos tjenesteeier. Kun de tre første tegnene er obligatoriske dersom det ikke finnes flere systemer/avdelinger innenfor samme tjenesteeier   ServiceOwner.Prefill Prefill-element og tilhørende under-elementer benyttes av tjenesteeier for å angi preutfyllingsdata til Altinn   SequenceNo Sekvensnummer for preutfyllings-forsendelsen.   ExternalShipmentReference Unik forsendelsesreferanse som settes av tjenesteeier for å identifisere forsendelsen   ServiceOwner.Prefill.Reportee Reportee-element og tilhørende under-elementer angir avgiver og tilhørende preutfyllingsdata   Id Unik identifikator for avgiver, fødselsnummer eller organisasjonsnummer   ServiceOwner.Prefill.Reportee.FormTask FormTask-element og tilhørende under-elementer benyttes av tjenesteeier for å angi preutfyllingsdata for et skjemasett   ExternalServiceCode Angir den tjenestekoden som preutfyllingen gjelder for   ExternalServiceEditionCode Angir tjenesteutgavekoden som preutfyllingen gjelder for   ValidFrom Angir dato for når preutfyllingsdataene er gyldige fra (yyyy-MM-dd)   ValidTo Angir dato for når preutfyllingsdataene er gyldige til (yyyy-MM-dd)   IdentityFieldHashCode Generert hash basert på alle identifiserende felter for det preutfylte oppgavesettet. Identifiserende felter benyttes for å skille mellom flere preutfyllingssett for samme oppgavesett og avgiver   SendersReference Referanse på skjemasett som settes av tjenesteeier, bør være unikt   ReceiversReference Unik referanse som settes av Altinn.   ServiceOwner.Prefill.Reportee.FormTask.IdentifyingFields Overordnet element for identifiserende felter. IdentifyingFields-elementet kan inneholde identifiserende felter som sammen unikt vil identifisere et preutfyllingssett for en avgiver og et skjemasett. Se avsnittet PunktOmIdentifiserendeFelter for mer informasjon   IdentifyingField Verdi for identifiserende felt, kan være slike felter per skjemasett   ServiceOwner.Prefill.Reportee.FormTask.Attachments Inneholder Attachment-elementer for eventuelle binære vedlegg for skjemasettet   ServiceOwner.Prefill.Reportee.FormTask.Attachment Attachment-elementet inneholder data for binære vedlegg   AttachmentName Dette navnet er det som vises for vedlegget i portalen.   FileName Navn på filen for det binære vedlegget.   AttachmentData Data for det binære vedlegget (Base64 kodet)   SendersReference Referanse for vedlegget som settes av tjenesteeier, bør være unikt   Encrypted Flagg som sier om vedlegget er kryptert (true/false)   ServiceOwner.Prefill.Reportee.FormTask.Form Dette elementet inneholder metadata og preutfyllingsdata for et skjema i det preutfylte oppgavesettet   DataFormatId Id til skjema fra metadata kilde   DataFormatVersion Versjon til skjema fra metadata kilde   SendersReference Identifikator for skjemaet i det preutfylte oppgavesettet som settes av tjenesteeier, bør være unikt   ParentReference Referanse til hovedskjema (SendersReference), dersom dette er et underskjema   FormData Dataene for skjemaet. Må legges i en CDATA blokk.   ServiceOwner.Prefill.Reportee.Field Field-elementet og tilhørende under-elementer benyttes av tjenesteeier for å angi preutfyllingsdata på feltnivå (felt-verdi)   Id Unik identifikator for feltet i tjeneste som skal preutfylles, typisk navn på et felt i et skjema   ValidFrom Angir dato for når preutfyllingsdataene er gyldige fra (yyyy-MM-dd)   ValidTo Angir dato for når preutfyllingsdataene er gyldige til (yyyy-MM-dd)   Index Indeks for feltet. Benyttes dersom man skal preutfylle flere felter med samme id   Value Preutfyllingsverdien    Abonnement Abonnementsdata fra tjenesteeier vil ofte bestå av store mengder data. Batch-grensesnittet skal i så fall benyttes. Batch-grensesnittet kan også benyttes av tjenesteeiere som ikke ønsker å benytte web service-grensesnittet. Alternative protokoller som benyttes i Altinn-løsningen i dag er FTP og SFTP. Tjeneste for skjemasettet må være definert i tjenesteutviklingsløsningen og migrert til sluttbrukerløsningen før en tjenesteeier kan sende inn abonnementsdata for tjenesten via dette grensesnittet.\nVed bruk av FTP/SFTP mottar Altinn fil fra tjenesteeier. Alternativt kan Altinn kan hente hos tjenesteeier vha. de samme protokollene hvis tjenesteeier ikke ønsker å etablere egen FTP server (gjelder kun tjenesteeiere som ikke skal motta meldingsbekreftelser fra Altinn, se avsnitt 10.4.2 Meldingsbekreftelse fra Altinn til tjenesteeier). Opplysninger om FTP adresse, pålogging og frekvens må avtales før valgt kommunikasjonsmåte kan aktiviseres. Dersom Altinn skal hente hos tjenesteeier må tjenesteeier se til at angitt FTP område til enhver tid er tilgjengelig for Altinn.\nEn kvittering for forsendelsen, samt kvitteringer for de enkelte skjemaene i forsendelsen, genereres når forsendelsen er ferdig prosessert i Altinn. Tjenesteeier kan hente ut kvitteringene basert på ExternalShipmentReference/SendersReference som ble oppgitt i abonnementsformatet.\nAbonnementsdata som sendes til Altinn fra tjenesteeier eller hentes fra Altinn må være i henhold til Subscription-elementet i serviceinitiation.2010.10.xsd. Xsd’en ligger som et separat vedlegg til dette dokumentet. Dette formatet benyttes også for preutfylling. Tjenesteeier kan med andre ord sende både preutfyllingsdata og abonnementsdata i samme XML.\n   Element Beskrivelse     ServiceOwner Rot-element   ServiceOwnerName Forkortelsen for tjenesteeieres navn (XXX-XXX, for eksempel ABC-123), der tre første tegn representerer tjenesteeier og tre siste tegn representerer en avdeling innad hos tjenesteeier. Kun de tre første tegnene er obligatoriske dersom det ikke finnes flere systemer/avdelinger innenfor samme tjenesteeier   ServiceOwner.Subscription Subscription-element og tilhørende under-elementer benyttes av tjenesteeier for å angi abonnementsdata til Altinn   SequenceNo Sekvensnummer for abonnements-forsendelsen   ExternalShipmentReference Unik referanse som settes av tjenesteeier for å identifisere forsendelsen   ServiceOwner.Subscription.Reportee Reportee-element og tilhørende under-elementer angir avgiver og hva det skal abonneres på   Id Unik identifikator for abonnent, fødselsnummer eller organisasjonsnummer   ServiceOwner.Subscription.Reportee.FormTask FormTask-element og tilhørende under-elementer benyttes av tjenesteeier for å angi abonnementsdata for et skjemasett   ExternalServiceCode Angir den tjenestekoden som abonnementet gjelder for   ExternalServiceEditionCode Angir tjenesteutgavekoden som abonnementet gjelder for   StartDate Dato for når abonnementet skal aktiveres (yyyy-MM-dd)   ExpirationDate Dato for når abonnementet opphører (yyyy-MM-dd)   NextScheduledDate Dato for når abonnementet skal instansieres neste gang (yyyy-MM-dd). Første dato settes av tjenesteeier, neste kalkuleres av runtiejobb i Altinn (basert på periodetype)   NextDueDate Dato for når abonnementet/innsendingstjenesten må være fylt ut av bruker i portal/sluttbrukersystem (yyyy-MM-dd). Første dato settes av tjenesteeier, neste kalkuleres av runtiejobb i Altinn (basert på periodetype)   VisibleDate Dato for når skjemasett som abonnementet gjelder skal være synlig i portal/for sluttbrukersystemer (yyyy-MM-dd)   PeriodType Angir hvor ofte et abonnement skal instansieres. Mulige periodetyper: Annual - årlig, Semiannual - to ganger årlig, Quarterly - tre ganger årlig, Tertiary - fire ganger årlig, Bimonthly - annenhver måned, Monthly - hver måned, Fortnightly - hver 15. dag, Weekly - hver uke, Daily - hver dag, Once- abonnementet instansieres én gang   CaseId Unik identifikator for samhandlingstjenesten   ServiceOwner.Subscription.Reportee.FormTask.IdentifyingFields Overordnet element for identifiserende felter. IdentifyingFields-elementet kan inneholde identifiserende felter som sammen unikt identifisere et allerede innsendt preutfylte skjemasette som abonnenten skal benytte. Se avsnittet PunktOmIdentifiserendeFelter for mer informasjon   IdentifyingField Verdi for identifiserende felt, kan være slike felter per abonnement og må være de(t) samme som finnes på et allerede innsendt preutfylt skjemasett for abonnenten    Melding Meldinger som skal vises til bruker i portal/sluttbrukersystem sendes fra tjenesteeier til Altinn. Åpne– og lesebekreftelser sendes tilbake fra Altinn til tjenesteeier når bekreftelse\u0026reg; er mottatt fra portal/sluttbrukersystem.\nMelding fra tjenesteeier til Altinn Meldingsdata som består av store mengder data skal benytte batch-grensesnittet. Batch-grensesnittet kan også benyttes av tjenesteeiere som ikke ønsker å benytte web service-grensesnittet. Alternative protokoller som benyttes i Altinn-løsningen i dag er FTP og SFTP. En meldingstjeneste må være definert i tjenesteutviklingsløsningen og migrert til sluttbrukerløsningen før en tjenesteeier kan sende inn meldingsdata for tjenesten via dette grensesnittet.\nVed bruk av FTP/SFTP mottar Altinn fil fra tjenesteeier. Opplysninger om FTP adresse, pålogging og frekvens må avtales før valgt kommunikasjonsmåte kan aktiviseres. Dersom Altinn skal hente hos tjenesteeier må tjenesteeier se til at angitt FTP område til enhver tid er tilgjengelig for Altinn.\nDet finnes to batch grensesnitt for registrering av meldinger: • Correspondence Format skreddersydd for siste versjon av Altinn. Oppdateres etter hvert som Altinn videreutvikles. Skal benyttes av alle nye tjenesteeiere. • Altut Format fra tidligere versjon av Altinn, tilbys kun for bakoverkompatibilitet for eksisterende tjenesteeiere, og det vil ikke bli oppdatert etter hvert som Altinn videreutvikles. Det inneholder elementer som ikke lenger er i bruk i Altinn, og enkelte elementer har fått ny funksjonalitet som betyr at eksisterende grensesnitt må endres. Siste versjon av Altinn har funksjonalitet som ikke støttes av Altut formatet.\nEn kvittering for forsendelsen genereres når forsendelsen er ferdig prosessert i Altinn. Tjenesteeier kan hente ut kvitteringene basert på ShipmentReference/SendersReference som ble oppgitt i meldingsformatet.\nCorrespondence format Meldinger som sendes til Altinn fra tjenesteeier i form av eb batch må være i henhold til schemas.altinn.no.services.intermediary.correspondence.2016.02.xsd. Xsd’en ligger som et separat vedlegg til dette dokumentet. Det er verd å merke seg at namespace til schema er \u0026ldquo;http://schemas.altinn.no/services/intermediary/correspondence/2009/10\u0026quot;.\nThe data in a batch file should have the same strukture, the same element names and functionality as the latest InsertCorrespondence service, but the batch file will be validated with the XSD.\nTabellen under beskriver elementer og attributter relevante for meldinger:\n   Element Beskrivelse     Correspondences Rot-element   SystemUserCode Forkortelsen for tjenesteeieres navn (XXX-XXX, for eksempel ABC-123), der tre første tegn representerer tjenesteeier og tre siste tegn representerer en avdeling innad hos tjenesteeier. Kun de tre første tegnene er obligatoriske dersom det ikke finnes flere systemer/avdelinger innenfor samme tjenesteeier   ShipmentReference Unik referanse som settes av tjenesteeier for å identifisere forsendelsen   SequenceNo Sekvensnummer for forsendelsen. Dersom dette settes må sekvensnummeret være ett nummer høyere enn det forrige sekvensnummeret på meldingsforsendelse for denne tjenesteeieren. I motsatt fall vil forsendelsen avvises i Altinn   Correspondences.Correspondence Correspondence-elementet inneholder ett Correspondence-element per melding   ServiceCode Angir den tjenestekoden som meldingen gjelder for   ServiceEdition Angir tjenesteutgavekoden som meldingen gjelder for   SendersReference Referanse for meldingen i forsendelsen som settes av tjenesteeier, bør være unikt   Reportee Unik identifikator (fødselsnummer eller organisasjonsnummer) for avgiver som skal motta meldingen   Correspondences.Correspondence.Content Inneholder meldingsinnhold, samt eventuelle vedlegg, for meldingen   LanguageCode Språk for melding: 1033 - English, 1044 - Bokmål, 2068 - Nynorsk   MessageTitle Meldingstittel, som vil vises i portal   MessageSummary En kort beskrivelse av meldingen   MessageBody Meldingstekst   Correspondences.Correspondence.Content.Attachments Dette elementet inneholder eventuelle vedlegg tilmeldingen   Correspondences.Correspondence.Content.Attachments.BinaryAttachments Dette elementet inneholder eventuelle binære vedlegg for meldingen   Correspondences.Correspondence.Content.Attachments.BinaryAttachments.BinaryAttachment Inneholder detaljer for ett binært vedlegg   FileName Filnavn for det binære vedlegget   Name Dette er navnet på vedlegget, som det vises i portalen   Encrypted Sier om vedlegget er kryptert. \u0026ldquo;Y\u0026rdquo; (ja) eller ikke \u0026ldquo;N\u0026rdquo; (nei)   Data Data for det binære vedlegget (Base64 kodet)   SendersReference Referanse for vedlegget. Settes av tjenesteeier, bør være unikt   FunctionType Hvilken funksjonstype vedlegget utgjør: Invoice - Faktura, Unspecified - Uspesifisert   AttachmentType Angir MIME-typen for vedlegget (obligatorisk): application_none - ingen MIME type angitt, application_pdf - PDF format, application_msword, Microsoft Word, application_vnd_ms_excel - Microsoft Excel, application_vns_oasis_opendocument_text - Open document (type Text), application_vnd_oasis_opendocument_presentation - Open docment (type Presentation), application_vnd_oasis_opendocument_spreadsheet - Open docment (type Spreadsheet),application_rtf - Rich text format type, application_vnd_ms_powerpoint - Microsoft PowerPoint, application_postscript, application_zip - Type zip, text_plain, text_html, text_xml, text_rtf - Rich text format type, text_richtext - Rich text, binary_octet_stream- Binary format, not_Applicable   DestinationType Hvor vedlegget er tilgjengelig: Default/ShowToAll – tilgjengelig i portal og for sluttbrukersystem, PortalOnly – kun tilgjengelig fra portal, EndUserSystemOnly – kun tilgjengelig fra sluttbrukersystem   Correspondences.Correspondence.Content.Attachments.XmlAttachments Dette elementet inneholder eventuelle XML-vedlegg for meldingen   Correspondences.Correspondence.Content.Attachments.XmlAttachments.XmlAttachment Inneholder detaljer for ett XML-vedlegg. Benyttes hvis det er definert at i TUL at melding skal vises i Infopath skjema. Infopath-skjema må være utviklet som en del av Meldingstjenesten i TUL   SendersReference Referanse for vedlegget. Settes av tjenesteeier, bør være unikt   DataFormatId Id til skjema fra metadata kilde   DataFormatVersion Versjon til skjema fra metadata kilde   FormDataXml Innhold i xml vedlegget. Må legges i en CDATA blokk   Correspondences.Correspondence Forts.   VisibleDateTime Angir når meldingen skal være synlig for sluttbruker i portalen (yyyy-MM-dd)   AllowSystemDeleteDate Angir om meldingen skal kunne slettes av sletterutiner i Altinn.   DueDateTime Angir frist for å bekrefte melding (dersom meldingen må bekreftes)   ArchiveReference Referanse til element i arkiv (dersom en slik referanses finnes)   Correspondences.Correspondence.ReplyOptions Overordnet element som inneholder svaralternativer for meldingen   Correspondences.Correspondence.ReplyOptions.ReplyOption Element som inneholder ett svaralternativ   Correspondences.Correspondence.ReplyOptions.ReplyOption.Service Elementet benyttes hvis man kan svare vha. en tjeneste. Inneholder tjenesteinformasjon   ServiceCode Angir den tjenestekoden for svarmeldingen   ServiceEdition Angir tjenesteutgavekoden for svarmeldingen   Correspondences.Correspondence.ReplyOptions.ReplyOption.ArchiveReference Elementet benyttes hvis man kan svare vha. et arkivert element. Referanse til element i arkiv   Correspondences.Correspondence.ReplyOptions.ReplyOption.Url Elementet benyttes hvis man kan svare vha. en svarlenke   LinkText Tekst til lenken i meldingen   LinkUrl URL til lenke i meldingen   Correspondences.Correspondence Forts.   Correspondences.Correspondence.Notifications Inneholder eventuelle varslinger for meldingen   Correspondences.Correspondence.Notifications.Notification Inneholder data for ett varsel for meldingen   FromAddress Denne adressen vil stå som avsender for varselet. Hvis ikke satt vil avsenderadresse satt i malen benyttes   ShipmentDateTime Tidspunkt for når varselet skal sendes   LanguageCode Angir språk for varselet: 1033 - English, 1044 - Bokmål, 2068 - Nynorsk   NotificationType I hvilken sammenheng varselet skal sendes: Correspondence - Varsel for mottatt melding, Prefill - Varsel for mottatt preutfylt tjeneste/skjema, Pin - Varsel for mottatt pinkode, General - Generell varsel   Correspondences.Correspondence.Notifications.Notification.TextTokens Liste av tekster som skal erstatte maltekster i varselmal   Correspondences.Correspondence.Notifications.Notification.TextTokens.TextToken Element som inneholder tekster som skal erstatte maltekster i meldingsmaler   TokenNum Ikke i bruk, kan utelates   TokenValue Tekst som skal ersatte maltekst. Substitusajonen gjøres i samme rekkefølge som parameterene er angitt. Varselmal må bestilles og lages på forhånd   Correspondences.Correspondence.Notifications.Notification.ReceiverEndPoints Angir mottakere av varselet   Correspondences.Correspondence.Notifications.Notification.ReceiverEndPoints.ReceiverEndPoint Angir en mottaker for et varsel   TransportType Angir hvordan varslingen skjer: Email - Varsel vha. epost, SMS - Varsel vha. mobiltelefon, Instant Message (IM) - Varsel vha. sanntidsmelding over internett, f.eks. på Windows Live Messenger, Both email \u0026amp; sms - Varsel via både sms og epost   ReceiverAddress Angir mottakers adresse (for eksempel telefonnummer eller e-post adresse)   Correspondences.Correspondence Forts.   AllowForwarding Angir om meldingen skal kunne videresendes av bruker i portalen   CaseId Unik identifikator for samhandlingstjenesten    Altut format Meldinger som sendes til Altinn fra tjenesteeier må være i henhold til AltUt.xsd. Dette ble etablert i en tidligere versjon av Altinn.\n   Element Beskrivelse     GovOrgan Rotnode i AltUt xml   name Kode som unikt representerer kildesystem, f.eks. \u0026ldquo;ABC-123\u0026rdquo;. Format: XXX_YYYY. De tre første bokstavene er påkrevd og representerer tjenesteeier. De etter understreken representerer avdeling/system, og er valgfritt hvis det ikke finnes flere avdelinger/systemer innenfor samme tjenesteeier   GovOrgan.AltUt Overordnet element   sequenceno Sekvensnummer for forsendelsen. Dersom dette settes må sekvensnummeret være ett nummer høyere enn det forrige sekvensnummeret på meldingsforsendelse for denne tjenesteeieren. I motsatt fall vil forsendelsen avvises i Altinn   GovOrgan.AltUt .Message Starten på en Altut melding   shortName Angir hvilken tjeneste meldingen tilhører. Format: xxxxxx_yyyyyy, hvor \u0026ldquo;xxxxxx\u0026rdquo; angir tjenestekode, mens \u0026ldquo;yyyyyy\u0026rdquo; angir tjenesteutgavekode. Denne sendes tilbake i kvitteringsbatchen til den offentlige enheten. OBS! Dette feltet ble tidligere brukt som meldingsidentifikator, f.eks. \u0026ldquo;Skatteoppgjør 2007\u0026rdquo;. Dette er erstattet med tjenesteinformasjon som nevnt ovenfor   messageReference En unik meldingsreferanse innenfor et shortname. Må angis for at tjenesteeier skal kunne motta meldingsbekreftelser   viewFormat Mappes ikke til AltinnII   allowDelete Mappes ikke til AltinnII   persistent Mappes ikke til AltinnII   GovOrgan.AltUt .Message.RoleReqRead Informasjonen hentes fra TUL   GovOrgan.AltUt .Message.RoleReqDeleteConfirm Informasjonen hentes fra TUL i AltinnII   GovOrgan.AltUt .Message.RoleReqGovAgency Informasjonen hentes fra TUL i AltinnII   GovOrgan.AltUt .Message.Sender Mappes ikke til AltinnII   GovOrgan.AltUt .Message.Sender.Name Mappes ikke til AltinnII   GovOrgan.AltUt .Message.Participant Overordnet element   id Organisasjonsnummer/fødselsnummer til den som skal ha meldingen   GovOrgan.AltUt .Message.Participant.VisibleDate Dato for når meldingen skal være synlig for brukeren i portalen   GovOrgan.AltUt .Message.Participant.DueDate Fristen for når melding må bekreftes   GovOrgan.AltUt .Message.Participant.AltinnArchive Arkivreferansen til et Altinn skjema. Denne kan for eksempel brukes hvis AltUt meldingen er et svar/oppfølging til et skjema som tidligere er sendt inn i Altinn   GovOrgan.AltUt .Message.Participant.LoginSecurityLevel Mappes ikke til AltinnII. Hentes fra pålogging   GovOrgan.AltUt .Message.Participant.AllowUserDeleteDate Mappes ikke til AltinnII   GovOrgan.AltUt .Message.Participant.AllowSystemDeleteDate Datoen for når Altinn kan slette meldingen (sanering)   GovOrgan.AltUt .Message.Participant.VisibleInClientReport Mappes ikke til AltinnII   GovOrgan.AltUt .Message.Participant.RequireConfirmation Mappes ikke til AltinnII. Dette settes i TUL   GovOrgan.AltUt .Message.Participant.Year Året meldingen skal assosieres med Altinn. Benyttes bl.a. for selvangivelsen   GovOrgan.AltUt .Message.Participant.MunicipalNumber Kommunenummeret meldingen skal assosieres med Altinn. Benyttes bl.a. for selvangivelsen   GovOrgan.AltUt .Message.Participant.Content Selv innholdet til AltUt meldingen. Må legges i en CDATA blokk   languageCode Språkkoden til meldingen: 1033 - English, 1044 - Bokmål, 2068 - Nynorsk   GovOrgan.AltUt .Message.Participant.Content.MessageHeader Settes i TUL   GovOrgan.AltUt .Message.Participant.Content.MessageSubject Mappes ikke til AltinnII   GovOrgan.AltUt .Message.Participant.Content.MessageSummery Sammendrag av meldingen(e). Denne vises i sammendragfeltet for meldingen i AltUt vinduet   GovOrgan.AltUt .Message.Participant.Content.Invoice Mappes ikke til AltinnII   GovOrgan.AltUt .Message.Participant.Content.Attachments Inneholder evt. vedlegg   GovOrgan.AltUt .Message.Participant.Content.Attachments.Attachment Inneholder informasjon om ett vedlegg, Base64 kodet   id En unik id innenfor gruppen med vedlegg. Den lagres ikke men må eksistere for bakover kompatibilitet   functionType Felt for å spesifisere hvilken funksjon et vedlegg har: Invoice - Faktura, Unspecified - Uspesifisert   type MIME typen til vedlegget: application_none - ingen MIME type angitt, application_pdf - PDF format, application_msword - Microsoft Word, application_vnd_ms_excel - Microsoft Excel, application_vns_oasis_opendocument_text - Open document (type Text), application_vnd_oasis_opendocument_presentation - Open docment (type Presentation), application_vnd_oasis_opendocument_spreadsheet - Open docment (type Spreadsheet), application_rtf - Rich text format type, application_vnd_ms_powerpoint - Microsoft PowerPoint, application_postscript, application_zip -Type zip, text_plain, text_html, text_xml, text_rtf - Rich text format type, text_richtext - Rich text, binary_octet_stream - Binary format, not_Applicable   filename Filnavnet til vedlegget   name Navnet til vedlegget. Denne brukes som navn på linken til filvedlegget i portalen   GovOrgan.AltUt .Message.Participant.Content.HTML Hvis innholdet skal presenters i HTML legges det her.   GovOrgan.AltUt .Message.NotificationMessages Inneholder evt. varsler   NotificationTypeName En unik streng som definerer en referanse til predefinerte varslingstekster.   GovOrgan.AltUt .Message.NotificationMessages.NotificationMessage Inneholder informasjon om ett varsel   participantId Fødselsnummer til mottaker av varselet   GovOrgan.AltUt .Message.NotificationMessages.NotificationMessage.SMSPhoneNumbers Telefonnummeret det skal sendes varsler til, kan være flere   GovOrgan.AltUt .Message.NotificationMessages.NotificationMessage.SMSPhoneNumbers.SMSPhoneNumber Telefonnummeret til den som skal ha varsling på SMS   GovOrgan.AltUt .Message.NotificationMessages.NotificationMessage.EmailAddresses Adressen det skal sendes mailvarsler til, kan være flere   GovOrgan.AltUt .Message.NotificationMessages.NotificationMessage. EmailAddresses.EmailAddress Emailadressen til den som skal ha varsling   GovOrgan.AltUt .Message.ReplyMessages Overordnet element for svaralternativer   GovOrgan.AltUt .Message.ReplyMessages.ReplyMessage Element for ett svaralternativ   GovOrgan.AltUt .Message.ReplyMessages.ReplyMessage.Form Mappes ikke til AltinnII. Vil ikke kunne referere til AltinnI-tjenester fra AltinnII. I stedet for skjemanummer brukes ServiceCode   formNumber Mappes ikke til AltinnII   version Mappes ikke til AltinnII   GovOrgan.AltUt .Message.ReplyMessages.ReplyMessage.Form.ServiceCode Tjenestekoden og tjenesteutgavekoden til en service som AltinnII tilbyr, underscore mellom de to verdiene. Format: Tjenestekode_tjenesteutgavekode   GovOrgan.AltUt .Message.ReplyMessages.ReplyMessage.Form.ServiceURL Mappes ikke til AltinnII. Angis i stedet som lenke i meldingen (body)   GovOrgan.AltUt .Message.ReplyMessages.ReplyMessage.Form.ArchiveReference Arkivreferansen til et skjema. Den offentlige enheten kan be brukeren om at et skjema fra arkiv skal kopieres, aktiviseres og sendes inn på nytt med tilleggsinformasjon.NB: Betinger at det er mulig å aktivisere skjemaet fra sluttbrukerens meldingsboks    Meldingsbekreftelse fra Altinn til tjenesteeier Correspondence For at tjenesteeiere skal kunne vite om meldinger er lest og evt. bekreftet av mottaker leverer Altinn regelmessig informasjon om dette til de enkelte tjenesteeiere. Tjenesteeiere som benytter nytt grensesnitt for innsending av meldinger til Altinn, vil også få bekreftelser tilsendt på nytt format. Informasjonen leveres i batcher på FTP/SFTP protokoll, og xml formatet på filen er i henhold til schemas.altinn.no.services.intermediary.correspondence.confirmations.2009.10.xml.\nTjenesteeier må etablere FTP/SFTP område som Altinn kan aksessere vha. avtalt brukernavn og passord.\nBekreftelsene som sendes til tjenesteeier fra Altinn er i henhold til correspondence.confirmations.2010.10.xsd formatet. Xsd’en ligger som et separat vedlegg til dette dokumentet.\nNår data sendes ut fra Altinn lages en kvittering i Altinn som forteller at data er sendt til tjenesteeier.\nTabellen under beskriver elementer og attributter relevante for meldingsbekreftelser:\n   Element Beskrivelse     CorrespondenceConfirmations Rot element for rapport over leste og bekreftede meldinger i Altinn siden forrige batch   SequenceNo Sekvensnummer for denne forsendelsen (valgfritt). Hvis satt må verdien være ett nummer høyere enn sekvensnummeret ved forrige forsendelse. Hvis ikke verdien er økt med 1vil forsendelsen feile   PreviousSequenceNo Sekvensnummer for forrige forsendelse (valgfritt, men må med hvis SequenceNo er satt)   SystemUserCode Kode som representerer en system bruker, f.eks. SKD-PSA, hvor de tre første tegnene angir tjenesteeier (påkrevd) og de etter understreken representerer avdeling/system hos tjenesteeieren (valgfritt)   ShipmentDateTime Dato som forteller når meldingsbekreftelsen ble sendt   CountConfirmationsInShipment Antall bekreftelser i forsendelsen   CorrespondenceConfirmations.Confirmation En lest/godkjent melding   ServiceCode Angir den unike tjenestekoden., f.eks. \u0026ldquo;PSA\u0026rdquo;   ServiceEdition Tjenesteutgavekode, f.eks. \u0026ldquo;2009\u0026rdquo; (valgfritt). Hvis det ikke settes vil siste utgave benyttes   Reportee Fødselsnummer til bruker som har bekreftet melding   CorrespondenceReference Tjenesteeiers referanse på meldingen   CorrespondenceConfirmations.Confirmation.Read Bekreftelse på at melding er åpnet/lest   ReadDateTime Tidspunkt for når melding ble bekreftet lest   CorrespondenceConfirmations.Confirmation.Confirmed Beskjed om at bruker har bekreftet meldingen   UserSSN Brukerens fødselsnummer   ConfirmedDateTime Bekreftings tidspunkt   ConfirmedRoleList Brukerens rolleliste på godkjennings tidspunktet   AuthenticationMethod Brukerens login nivå ved godkjenning    AltUtConfirmationBatch For at tjenesteeiere skal kunne vite om meldinger er lest og evt. bekreftet av mottaker leverer Altinn regelmessig informasjon om dette til de enkelte tjenesteeiere. Tjenesteeiere som benytter gammelt grensesnitt for innsending av meldinger til Altinn (AltUt.xsd), vil også få bekreftelser tilsendt på gammelt format. Informasjonen leveres i batcher på FTP/SFTP protokoll, og xml formatet på filen er i henhold til AltUtConfirmationBatch.xsd\nTjenesteeier må etablere FTP/SFTP område som Altinn kan aksessere vha. avtalt brukernavn og passord.\nNår data sendes ut fra Altinn lages en kvittering i Altinn som forteller at data er sendt til tjenesteeier.\n   Element Beskrivelse     AltUtConfirmationBatch Rot note. Rapport over leste og bekreftede meldinger i Altinn siden forrige batch   batchReference Referansenummeret til batchen   previousReference Referansenummeret til den forrige batchen som ble sendt   receiverReference Tjenesteeiersystemet som mottar bekreftelsene   timestamp Tidsstempelet når batchen ble generert   confirmationsInBatch Antall confirmations som finnes i batchen   AltUtConfirmationBatch.AltUtConfirmations Samling av lest/bekreftet elementer   AltUtConfirmationBatch.AltUtConfirmations.Confirmation En lest/godkjent Altut melding   participantId Organisasjonsnummer/fødselsnummer til den som meldingen ble sendt inn til   shortName Som for AltUt meldingen benyttes dette feltet til tjenestekode og tjenesteutgavekode. Format xxxxxx_yyyyyy, hvor \u0026ldquo;xxxxxx\u0026rdquo; angir tjenestekode, mens \u0026ldquo;yyyyyy\u0026rdquo; angir tjenesteutgavekode.   messageReference Kan benyttes til å unikt referere en melding innenfor samme shortName   AltUtConfirmationBatch.AltUtConfirmations.Confirmation.Read Informasjon om lesing av den aktuelle Altut meldingen   AltUtConfirmationBatch.AltUtConfirmations.Confirmation.Read .ReadDateTime Tidsstempel for når meldingen er lest   AltUtConfirmationBatch.AltUtConfirmations.Confirmation.Confirmed Informasjon om bekrefting av den aktuelle Altut meldingen   participantId Fødselsnummeret til første personen som har bekreftet meldingen   AltUtConfirmationBatch.AltUtConfirmations.Confirmation.Confirmed ConfirmedDateTime Tidsstempel for når meldingen er bekreftet   AltUtConfirmationBatch.AltUtConfirmations.Confirmation.Confirmed ConfirmationRoleList Space-separert liste med rollene som brukeren som bekreftet meldingen har   AltUtConfirmationBatch.AltUtConfirmations.Confirmation.Confirmed.LoginMethod Innloggingsnivået som en brukeren hadde da vedkommende bekreftet meldingen. Denne kan være: 1 - Innlogging med bare passord, 2 - Innlogging med pinkode, 4 - Innlogging med PKI.   AltUtConfirmationBatch.Signature Element som inneholder signaturinformasjon. Elementet er ikke obligatorisk, og er ikke i bruk    CorrespondenceUsageData Tjenesteeier vil kunne definere i tjenesteutviklingen av en meldingstjeneste å motta en rapport over ikke leste, leste og bekreftede meldinger etter et gitt antall dager etter at meldingen er sendt ut. Informasjonen kan konfigureres til å overleveres via FTP/SFTP ved enten at Altinn leverer til tjenesteeier, eller at tjenesteeier henter fra Altinn.\nFølgende er et eksempel på formatet informasjonen vil bli levert på:\nCorrespondenceUsageData\n\u0026lt;?xml version=\u0026quot;1.0\u0026quot; encoding=\u0026quot;utf-8\u0026quot; ?\u0026gt; \u0026lt;CorrespondenceUsageData xmlns=\u0026quot;http://schemas.altinn.no/services/intermediary/correspondence/usagedata/2009/10\u0026quot;\u0026gt; \u0026lt;ShipmentDateTime\u0026gt;2010-08-26T08:02:11\u0026lt;/ShipmentDateTime\u0026gt; \u0026lt;CorrespondenceUsage\u0026gt; \u0026lt;Service\u0026gt; \u0026lt;ServiceOwnerCode\u0026gt;SERVICEOWNER\u0026lt;/ServiceOwnerCode\u0026gt; \u0026lt;ServiceName\u0026gt;Service Name\u0026lt;/ServiceName\u0026gt; \u0026lt;ServiceEdition\u0026gt; \u0026lt;ServiceEditionID\u0026gt;xxxx\u0026lt;/ServiceEditionID\u0026gt; \u0026lt;ServiceEditionVersion\u0026gt; \u0026lt;ServiceEditionVersionName\u0026gt;ABC\u0026lt;/ServiceEditionVersionName\u0026gt; \u0026lt;Correspondence\u0026gt; \u0026lt;ReporteeID\u0026gt;[SSN/ORG]\u0026lt;/ReporteeID\u0026gt; \u0026lt;CorrespondenceStatusType\u0026gt;[Status]\u0026lt;/CorrespondenceStatusType\u0026gt; \u0026lt;SentCorrespondenceDatetime\u0026gt;[Time]\u0026lt;/SentCorrespondenceDatetime\u0026gt; \u0026lt;/Correspondence\u0026gt; \u0026lt;Correspondence\u0026gt;...\u0026lt;/Correspondence\u0026gt; \u0026lt;/ServiceEditionVersion\u0026gt; \u0026lt;/ServiceEdition\u0026gt; \u0026lt;/Service\u0026gt; \u0026lt;Service\u0026gt;...\u0026lt;/Service\u0026gt; \u0026lt;/CorrespondenceUsage\u0026gt; \u0026lt;/CorrespondenceUsageData\u0026gt;  "
},
{
	"uri": "https://altinn.github.io/docs/guides/mapperutvikling/utviklingshandbok/teknologi/",
	"title": "Teknologi",
	"tags": [],
	"description": "Beskrivelse av teknologiene som brukes for å lage en mapper",
	"content": " Teknologi og rammeverk Windows Communication Foundation Windows Communication Foundation (WCF) er en rammeverk for å bygge service orienterte applikasjoner (SOA). WCF lar utviklere bygge løsninger som kan integreres på tvers av plattformer og samarbeider med eksisterende systemer. WCF lar applikasjoner kommunisere med hverandre uavhengig om de er på samme maskin, på tvers av nettverk, eller på forskjellige plattformer. De grunnleggende oppgavene er for å implementere en WCF applikasjon er:\n Definere en service contract Implementere servicen basert på contract Hoste servicen Implementer klient applikasjon  En service contract er det som beskriver hvilke operasjoner en tjeneste tilbyr. En operasjon er definert gjennom en operation contract. Input- og output-verdier til operasjonen kan være enkle eller komplekse typer. De komplekse typene beskrives med en data contract med en eller flere data members. I WCF defineres en service contract med et interface med metoder, mens en datakontrakt er en klasse med klassevariabler. Når tjenesten tilgjengeliggjøres på en web-server blir datakontraktene oversatt til XSD mens tjenestekontraktene blir oversatt til en WSDL med referanse til XSDene. Denne kan deretter distribueres til klientene slik at disse kan kommunisere med tjenesten via SOAP eller andre protokoller.\nService Contract En service contracten er et interface eller en klasse som eksponerer funksjonalitet. Interfacet eller klassen annoteres med [ServiceContract] og eventuelt namespace som vist i Figur 1.\nFigur 1: Eksempel på tjenestekontrakt\nMetoder som annoteres med [OperationContract] vil være de metoder som blir offentliggjort til konsumenter av servicen. En service contract kan være enten en klasse eller et interface, men det anbefales å bruke interface. Dette gjør det mulig at et service contract interface kan extende en eller flere andre interface, samtidig som at andre klasser kan implementere flere service contracts.2\nData Contract Service orienterte WCF applikasjoner er designet slik at de skal kunne brukes mellom forskjellige konsumenter uavhengig av plattform og transportmedium. Derfor annoteres klasser som skal kommuniseres med [DataContract], mens variabler i klassen som vil være dataen som skal sendes/mottas annoteres [DataMember] som vist i Figur 2.\nFigur 2: Eksempel på en datakontrakt\nDisse annotasjonene brukes for at klasser og variabler skal bli serialisert ved bruk av WCF sin DataContractSerializer. Det går alternativt an å benytte andre serializere dersom det kreves større kontroll over den serialiserte informasjonen, men det er DataContractSerializer med attributtering som er den anbefalte serializeren.3\nVerdt å nevne er at data contracts er uavhengig av access modifier. Det vil si at private variabler i en klasse kan serialiseres og sendes avgårde til konsumering.\nImplementere en tjeneste En tjenestekontrakt må følges av en implementasjon. Dette er en vanlig klasse som implementerer tjenestekontrakt-interfacet. Et eksempel er vist i Figur 3. Utvikleren står fritt til å implementere metoden som ønsket så lenge interfacets kontrakt er ivaretatt.\nFigur 3: Eksempel på implementasjon av en tjeneste\nKjøre en service For å tilgjengeliggjøre en tjeneste for bruk må denne «hostes» i et kjøretidsmiljø. Dette kan gjøres på ulike måter, men det vanligste er å la Internet Information Services (IIS, Windows sin Web-server) kjøre tjenesten. Dette gjøres ved å legge en .svc-fil sammen med den installerte tjenesten. Denne inneholder informasjon til IIS om hvilken tjeneste som skal tilgjengeliggjøres.\nFigur 4: Eksempel på en SVC-fil\nI .svc-fila angis det hvilket .NET språk tjenesten er skrevet i, om det skal være debuggingsmulighet og hvilken tjeneste som skal hostes. Det skal da refereres til implementasjonen med fullt kodenamespace og ikke tjenestekontrakten.\nUnder utvikling kan man benytte Visual Studio til å hoste tjenesten slik at man ikke trenger å installere løsningen på IIS først. Fra Visual studio kan WCF Test Client benyttes til å teste tjenesten. Dette gjøres ved å starte opp prosjektet fra Visual Studio slik at denne hostes av den innebygde webserveren. Testklienten vil da starte ferdig oppkoblet mot tjenesten slik at tjenesten enkelt kan testes.\nService Reference For å lage en WCF proxy/klient som konsumerer en service contract er man nødt til å sette opp noe som kalles en \u0026quot;Service Reference\u0026quot; i klient prosjektet. Dette gjøres på følgende måte:\n Verifiser at tjenesten du skal koble til kjører 2. 2.Høyreklikk på prosjektet og velg \u0026quot;Add Service Reference\u0026quot; 3. 3.Skriv inn URL\u0026#39;en som hosten har som adresse og trykk på GO. Tjenesten vil nå lastes og tilgjengelige operasjoner vil vises. Angi her også hvilket namespace proxy-koden skal ha.  Trykk OK for å generere proxy-klassene.  Nå har du laget en proxy som klient applikasjonen vil bruke til å kalle servicen. Nå har en mulighet til å opprette klient objekter som kan aksessere og bruke metodene som er definert i en Service Contract.\nKonfigurasjon Konfigurasjon av WCF på både klient og server-side gjøres i App.config-filen som ligger med prosjektet. Denne xml-filen inneholder ulike konfigurasjonselementer for applikasjonen. WCF-spesifikk konfigurasjon ligger i xml-elementet system.serviceModel. De viktigste elementene er:\n   Seksjon Beskrivelse     Behaviours Her konfigureres oppførselen til endepunktene. Dette kan være sikkerhetsmekanismer, serialiseringsoppførsel og lignende.   Bindings Her konfigureres det hvordan overføringen skal være. Dette inkluderer hvilken protokoll og overføringsmekanisme som skal benyttes. Her kan også begrensninger på tidsbruk, pakkestørrelse og lignende settes.   Client Her angis konfigurasjonsparametere for klienten. Det vil her listes opp de tjenester klienten kan kobles seg til og hvilke behaviours, bindings og lignende disse skal benytte.   Services Her konfigureres det hvilke tjenester en server skal tilby og hvilke behaviours, bindings og lignende tjenesten skal tilbys med.    Videre lesning    Tema Link     Windows Communication Foundation http://msdn.microsoft.com/en-us/library/vstudio/ms735119(v=vs.90).aspx   Service Contracts http://msdn.microsoft.com/en-us/library/vstudio/ms733070(v=vs.90).aspx   Serialisering http://msdn.microsoft.com/en-us/library/vstudio/ms732038(v=vs.90).aspx   WCF tutorial http://msdn.microsoft.com/en-us/library/ms734712.aspx   Basic WCF Programming Lifecycle http://msdn.microsoft.com/en-us/library/vstudio/ms732098(v=vs.90).aspx    Testrammeverk Testrammeverket i .Net, MSTest framework, eller Visual Studio Unit Testing, er basert på enhetstesting.\nDen anbefalte arbeidsmåten er å opprette et nytt testprosjekt i samme solution som prosjektet man vil teste. Man lager da én kildefil med tester for hver kildefil i kildeprosjektet.\nTestklasser Hver testklasse hører til én kildeklasse. De er annotert med [TestClass]. Navnekonvensjonen er at testklasser navngis som klassen den skal teste, med et Test-postfiks.\nFigur 5: Navngiving og markering av testklasser\nI hver testklasse vil man kunne definere rutiner, som for eksempel hva man vil gjøre før og etter at man kjører klassen, og før og etter hver test. Metodene for disse rutinene er annotert som:\n [ClassInitialize] [ClassCleanup] [TestInitialize] [TestCleanup]  Testmetoder Testmetoder har postfikset Test i navnet, og er annotert med [TestMethod]. Et eksempel på en testmetode med annoteringer vist i Figur 6.\nFigur 6: Annotering av en testmetode\nDet er anbefalt at testmetoder er uavhengig av hverandre, og at de kun tester én funksjon. For eksempel vil metoden over ikke benytte andre testmetoder i det hele tatt, og den vil kun teste om debitering av en konto gjøres riktig. Test av for eksempel kreditering gjøres av en egen metode.\nAssert-klassen Assert-klassen inneholder hjelpemetoder for å verifisere at riktig resultat oppnås. Eksempler på metoder i denne klassen er:\n AreEqual AreNotEqual AreSame AreNotSame IsNull IsNotNull  I Figur 7 blir det testet at debitering av en konto gjøres riktig. Først settes saldoen på bankkontoen til 11.99. Deretter debiteres den med 11.22. Assert.AreEqual sjekker at den resterende saldoen etter debitering er 0.77.\nFigur 7: Eksempel på testmetode\nHvis ikke saldoen hadde vært 0,77 ville Assert.AreEqual kastet en AssertFailedException. Testrammeverket plukker opp AssertFailedException og markerer metodene hvor disse kastes fra som feilede tester.\nKjøre tester For å kjøre tester i Visual Studio velger man Test på hovedmenyen. Der kan du velge å kjøre eller debugge alle eller enkelte tester i løsningen. Resultatet av en kjøring vil vises i et resultatvindu som vist i Figur 8.\nFigur 8: Resultat av kjørte enhetstester\nVidere lesning    Tema Link     Verifying Code by Using Unit Tests http://msdn.microsoft.com/en-us/library/dd264975(v=vs.100).aspx   Creating and Running Unit Tests http://msdn.microsoft.com/en-us/library/ms182532(v=vs.100).aspx   Wikipedia: Unit testing http://en.wikipedia.org/wiki/Unit_testing    "
},
{
	"uri": "https://altinn.github.io/docs/guides/samtykke/datakilde/opprett-tjeneste/",
	"title": "Opprette tjeneste",
	"tags": [],
	"description": "Opprettelse av samtykketjeneste i tjenesteutviklingsløsningen (TUL)",
	"content": " Opprettelse av samtykketjeneste i tjenesteutviklingsløsningen (TUL) Det må opprettes en tjeneste i TUL som benyttes til samtykke og tilgangskontroll. Til dette benyttes Altinn sin lenketjenestetype.\nKun tjenesteutviklere som har vært på kurs i regi av Altinn har tilgang til TUL og kan lage tjenesten.\nDefinering av lenketjeneste Utgavenavnet vil vises for sluttbruker på samtykkesiden så det er viktig å velge et navn som også forteller hva slags data eller informasjon denne tjenesten tilbyr.\nFeltet i URL er påkrevd men har ingen funksjon ved bruk av lenketjeneste i samtykkeøyemed.\nHusk å angi at tjenesten skal bruke tjenesteeierstyrt rettighetsregister. Ved å angi dette vil man sikre at kun registrerte datakonsumenter kan benytte samtykketjenesten. Vi vil senere beskrive hvordan man gir spesifikke organisasjoner eller personer lov til å spørre brukere om samtykke ved å registrere disse i rettighetsregisteret for akkurat denne tjenesteutgaven.\n Utgaveparametre lenketjeneste   Definere samtykketekst Når man skal lage en lenketjeneste som skal benyttes i en samtykketjeneste må man gå inn på Samtykke-fanen i TUL å angi at utgaven skal tillate samtykkebasert deling av data. Da blir det obligatorisk å fylle ut en samtykketekst som vil vises for sluttbruker under samtykkesiden. Samtykketeksten skal forklare nærmere hva brukeren samtykker til. For at samtykke skal være gyldig må det være informert. Det betyr at brukerne får informasjon som gjør at de forstår hva de samtykker til og hvilke konsekvenser det vil få for dem.\nI vårt Lånesøknadscase så bør samtykketeksten si hvilke data banken henter fra Skatteetaten - om det er informasjon om lønn, gjeld eller andre forhold. Samtykketeksten defineres av datakilden (tjenesteeier) men det er hensiktsmessig at datakilden og datakonsumenten blir enige om en tekst som er fornuftig å bruke. For å kunne formatere tekst, legge inn lenker osv. må det benyttes html-kode.\nNB! Det er kun tillatt med 1.000 tegn (eventuell html-kode regnes med).\rDet er i samtykketeksten mulig å benytte metadata-parametre dersom det er ønskelig å spesifisere hvilke del av data man ønsker tilgang til, for eksempel dersom man ønsker tilgang til skattegrunnlaget for et gitt år. Eksempel: \u0026ldquo;Opplysningene som utleveres gjelder for {intektsaar}.\u0026rdquo; Parameter for inntektsår må da være input i url som datakonsument sender sluttbruker til samtykkesiden med. Dersom det er ønskelig at parameteret skal ha et bestemt format så må dette formidles til datakonsument.\nNår token genereres legges metadata med som en egen informasjon slik at datakilde kan verifisere at datakonsument spør om nødvendige data (se her for beskrivelse og validering av token). Metadata lagres sammen med samtykke-kontekst slik at dette vises historisk og i aktivitetslogg.\nHvis det kun skal være mulig for datakonsument å hente data èn gang for det avgitte samtykket så må dette angis ved å huke av for \u0026ldquo;Tillat bare engangssamtykker\u0026rdquo;.\n Utgaveparametre samtykketekst   Sett i forhold til samtykkesiden som sluttbruker får opp i Altinn så er utgavenavnet det som står i rød ramme og samtykketeksten det som ligger i blå ramme i bildet av samtykkesiden nedenfor. Det som ligger i grønn ramme er metadata-parameter for {inntektsaar}:\n Sammenheng mellom TUL og samtykkesiden   Det er mulig å innhente samtykke for flere tjenester (flere datasett) i samme operasjon.\nRegistrere rolle på tjenesten Før man migrerer tjenesten over til testmiljø og produksjon må det registreres en rolle på den. Selve rollen man velger trenger ikke å være delegerbar, men enkeltrettigheter på tjenesten må være delegerbare. Noen roller er ikke delegerbare, for eksempel rollen \u0026ldquo;Privatperson\u0026rdquo;, men dersom man angir i TUL at den skal være delegerbar så betyr dette at det ikke er mulig å delegere selve rollen videre men man kan delegere enkeltrettigheter (når bruker gir samtykke så delegeres det en enkeltrettighet til datakonsument). Som for alle typer tjenester i Altinn så må man vurdere hvem som skal benytte tjenesten og sette rolle ut fra dette. Er man i tvil om hvilken rolle som passer så kan man kontakte Altinn for å få hjelp til å vurdere dette. Det er Altinn som setter rolle på tjenesten så det må sendes en henvendelse via selvbetjeningsportalen eller til tjenesteeier@altinn.no for å få dette utført.\nSikkerhetsnivå: En lenketjeneste må i utgangspunktet ha minimum sikkerhetsnivå 3. Når det gjelder samtykkesiden så vil den alltid kunne nås av sluttbruker fra sikkerhetsnivå 2 og høyere.\nOversette tjeneste Dersom tjenesten skal være tilgjengelig på flere språk må den oversettes. Dette gjøres i TUL i seksjonen for oversetting. Språk som det kan oversettes til/fra er bokmål, nynorsk og engelsk.\nMigrere tjeneste Før tjenesten kan testes må den migreres til testmiljø (TT02). Etter at den er testet må den migreres til produksjonsmiljøet (PROD).\n"
},
{
	"uri": "https://altinn.github.io/docs/guides/samtykke/datakilde/autorisere-datakonsument/",
	"title": "Autorisere datakonsument",
	"tags": [],
	"description": "Autorisere opp datakonsument ved registrering i tjenesteeierstyrt register",
	"content": " Autorisere datakonsument ved registrering i tjenesteeierstyrt register På tjenesteutgaven som er opprettet i TUL må det være angitt at tjenesten skal bruke tjenesteeierstyrt rettighetsregister. Datakonsumenter (organisasjoner eller personer) som skal få hente ut data via tjenesten må registreres i rettighetsregisteret. Dette gjøres ved å benytte webservice RegisterSRRAgencyExternal\nhttps://www.altinn.no/RegisterExternal/RegisterSRRAgencyExternalBasic.svc?wsdl\nog operasjonen AddRights.\nEn detaljert beskrivelse av dette finnes her. Merk at beskrivelsen der er for testmiljø. Ovennevnte url benyttes for produksjonsmiljøet.\nFor å bruke Altinn sine webservices må man ha en etatsbruker og passord. Har man ikke dette kan det bestilles gjennom selvbetjeningsportalen til Altinn eller til tjenesteeier@altinn.no.\nDet finnes også en operasjon for å liste ut gitte rettigheter samt slette rettigheter.\n"
},
{
	"uri": "https://altinn.github.io/docs/guides/samtykke/datakilde/bruk-av-token/",
	"title": "Informasjon om token",
	"tags": [],
	"description": "Bruk og verifisering av self contained OAuth-token som mottas fra datakonsument",
	"content": " Bruk av self-contained OAuth-token Self-contained OAuth 2.0 token er nøkkelen som datakonsumententen benytter for å få tilgang til data som ligger hos datakilden. Altinn utsteder et signert JSON Web Token (JWT). Tokenet inneholder all informasjon knyttet til de delegerte rettighetene inkludert\n tjenestekoder for lenketjenesten i Altinn fødsels- eller organisasjonsnummer som samtykket tildelte rettigheter til datakonsumenten person- eller organisasjonsnummer for datakonsumenten som fikk rettighetene tidspunkt for når samtykke ble gitt tidspunkt for når rettigheten opphører  Det signerte tokenet må verifiseres av datakilde ved å validere signaturen.\nMan kan også lese om JSON webtokens her: https://jwt.io/introduction/.\nFor å verifisere signert token må datakilden benytte Altinn sitt offentlige sertifikat. Dette får man ved å henvende seg til tjenesteeier@altinn.no eller benytte selvbetjeningsportalen.\nJSON Web Token Består av tre punktumseparerte deler:\n Header Payload Signature  Under viser et eksempel på et signert og Base64-encodet self-contained JSON Web Token.\nHeader Header inneholder informasjon om token typen og hvilken hash algoritme som er brukt.\nEncoded eksempel: eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6IkthUGxpMFJUdVVUcl9yUXJWSmhzQkNXQS0yayJ9  Decoded eksempel: { \u0026quot;typ\u0026quot;: \u0026quot;JWT\u0026quot;, \u0026quot;alg\u0026quot;: \u0026quot;RS256\u0026quot;, \u0026quot;x5t\u0026quot;:\u0026quot;mXGy2XES9W3b9beWTKff5XcQf1Q\u0026quot; }  Payload Payload inneholder påstandene (claims) i tokenet. Påstandene er den informasjonen som datakilden trenger for å få bekreftet at datakonsumenten har fått et gyldig samtykke.\nEncoded eksempel: eyJTZXJ2aWNlcyI6WyI0NjI5LDIiLCI0NjI5LDIsaW5udGVrdHNhYXI9MjAxNSIsIjQ2MzAsMiIsIjQ2MzAsMixmcmFPZ01lZD1ub3ZlbWJl ciAyMDE2LHRpbE9nTWVkPWphbnVhciAyMDE3Il0sIkF1dGhvcml6YXRpb25Db2RlIjoiMDkzZDAwNzAtMjJhZC00YzQ5LTlkNzEtZjUzNjdj Zjk5MWI4IiwiT2ZmZXJlZEJ5IjoiMzAwNTAxMDEyMTEiLCJDb3ZlcmVkQnkiOiI5MTA1MTQ0NTgiLCJEZWxlZ2F0ZWREYXRlIjoiMjAxNy0w NC0xOCAwOTozMzoxMyIsIlZhbGlkVG9EYXRlIjoiMjAxNy0wNi0zMCAxMDozMDowMCIsImlzcyI6ImFsdGlubi5ubyIsImV4cCI6MTQ5MjUw MDk0MiwibmJmIjoxNDkyNTAwOTEyfQ  Decoded eksempel: { \u0026quot;Services\u0026quot;: [ \u0026quot;4629_2\u0026quot;, \u0026quot;4629_2_inntektsaar=2016\u0026quot;, \u0026quot;4630_2\u0026quot;, \u0026quot;4630_2_fraOgMed=2017-06\u0026quot;, \u0026quot;4630_2_tilOgMed=2017-08\u0026quot; ], \u0026quot;AuthorizationCode\u0026quot;: \u0026quot;c7dbe642-0fc1-4c3b-8959-8a92e3e1f17d\u0026quot;, \u0026quot;OfferedBy\u0026quot;: \u0026quot;11025802170\u0026quot;, \u0026quot;CoveredBy\u0026quot;: \u0026quot;910514458\u0026quot;, \u0026quot;DelegatedDate\u0026quot;: 1503855661, \u0026quot;ValidToDate\u0026quot;: 1506760200, \u0026quot;iss\u0026quot;: \u0026quot;altinn.no\u0026quot;, \u0026quot;exp\u0026quot;: 1503860347, \u0026quot;nbf\u0026quot;: 1503860317 }  Signature Signature inneholder signert og encoded header og encoded payload. Algoritmen som er benyttet er beskrevet i header.\nEncoded eksempel: pumdz9xtOYk_mojdKU1X_uQlT3DKr4IUxoOSJPiLZ3SB2oy-R4Q40jn8gxdnxBLrGD3W1osra_v3x15Nrx9jsWUIz9eQA3H04cxeehTQBbM MT7XZGU-XnCE34AtQScaDQnyPObPZEQeSvl2nmxNdfjgrzFLsapthiKYNuhv3lzSheTs06Ko3jWHTUg19X_2QSbpOmBVORTai8XeYrm1Tzq _5CSxZo4pQEkxmBpSrtXcC3MuaF7cM514Bt-  Decoded eksempel: For å verifisere signaturen må datakilden benytte Altinns offentlige sertifikat. Se under for detaljer om hvordan signaturen verifiseres.\nInnhold i Payload ServiceCodes Inneholder en string eller et array of strings som representerer tjenestekodene for tjenesten(e) som er omfattet av samtykket brukeren har gitt. ServiceCodes strengen er inneholder to verdier; ServiceCode og ServiceEditionCode separert med underscore.\nVed bruk av metadata for {inntektsaar}, {fraOgMed} og {tilOgMed} i samtykketekst:\nSingle Service:\n\u0026quot;ServiceCodes\u0026quot;: \u0026quot;4629_2\u0026quot;  Multiple Services:\n\u0026quot;ServiceCodes\u0026quot;: [ \u0026quot;4629_2\u0026quot;, \u0026quot;4630_2\u0026quot; ] \u0026quot;Services\u0026quot;: [ \u0026quot;4629_2\u0026quot;, \u0026quot;4629_2,inntektsaar=2016\u0026quot;, \u0026quot;4630_2\u0026quot;, \u0026quot;4630_2_fraOgMed=2017_06\u0026quot;, \u0026quot;4630_2_tilOgMed=2017_08\u0026quot; ],  OfferedBy OfferedBy inneholder Personnummer eller Organisasjonsnummer for den som har gitt samtykke.\nEksempel:\nSSN: \u0026quot;OfferedBy\u0026quot;: \u0026quot;11025802170\u0026quot;\nOrgNo: \u0026quot;OfferedBy\u0026quot;: \u0026quot;999999999\u0026quot;\nCoveredBy CoveredBy inneholder Personnummer eller Organisasjonsnummer for den som har mottatt rettigheter igjennom brukeren samtykke.\nEksempel:\nSSN: \u0026quot;CoveredBy\u0026quot;: \u0026quot;02056260016\u0026quot;\nOrgNo: \u0026quot;CoveredBy\u0026quot;: \u0026quot;910514458\u0026quot;\nValidToDate Dato og tidspunkt for når samtykket utløper\nEksempel: \u0026quot;ValidToDate\u0026quot;: 1506760200\nDelegatedDate Dato og tidspunkt for når samtykket ble gitt.\nEksempel: \u0026quot;DelegatedDate\u0026quot;: 1503855661\nAuthorizationCode / Autorisasjonskode Autorisasjonskoden som er benyttet for å hente det gitte tokenet. Kan brukes av datakilde til å logge bruk av tokene og dermed informere brukeren om at datakonsumenten har hentet data.\nIss iis spesifiserer hvem som har utstedt tokened, som skal verfiseres mot signaturen.\nEksempel: \u0026quot;iss\u0026quot;: \u0026quot;altinn.no\u0026quot;\nExp Unikt tidsstempel som spesifiserer utløpstidspunket for det gitte tokenet.\nEksempel: \u0026quot;exp\u0026quot;: 1474526471\nNbf Unikt tidsstempel som spesifiserer første gang det gitte tokenet kan brukes\nEksempel: \u0026quot;nbf\u0026quot;: 1492500912\nVerifisere JWT Token signatur En enkel måte å teste og verifisere JWT token er jwt.io webpage tool. For å bruke nettsiden:\n Lim inn komplett encodet JWT inkludert header, payload og signature. Velg algoritmen RS256 fra nedtrekksmenyen. Lim inn BASE64 encoded offentlig X-509 sertifikatet til Altinn under “Verify Signature”.\n   Eksempel på decoding og verifisering av signature med jwt.io verktøyet   Eksempel på C# decode og verifisering av signatur Under vises et eksempel på en hjelpemetode som tar inn det offentlige sertifikatet til Altinn og et encoded JWT token som en string. Metoden benytter JwtSecurityTokenHandler Class (System.IdentityModel.Tokens) for å gjøre den faktiske decodingen og verifikasjonen av signaturen, basert på de spesifiserte TokenValidationParameters. Dersom valideringen er en suksess inneholder SecurityToken informasjonselementer som SecurityKeys, ValidFrom and ValidTo, og decodet JSON object som inneholder Header og Payload.\nMSDN links:\n JwtSecurityTokenHandler SecurityToken  private SecurityToken ValidateToken(X509Certificate2 publicCertificate, string tokenString) { var tokenHandler = new JwtSecurityTokenHandler(); // Token Validation Parameters var validationParameters = new TokenValidationParameters() { IssuerSigningKey = new X509SecurityKey(publicCertificate), ValidateAudience = false, ValidateIssuer = true, ValidateLifetime = true, ValidIssuer = \u0026quot;altinn.no\u0026quot; }; SecurityToken securityToken; tokenHandler.ValidateToken(tokenString, validationParameters, outsecurityToken); return securityToken; }  "
},
{
	"uri": "https://altinn.github.io/docs/guides/samtykke/datakilde/test-tjeneste/",
	"title": "Test av tjeneste",
	"tags": [],
	"description": "Teste autorisasjon av datakonsument og samtykketjeneste",
	"content": " Test av tjeneste i Altinn sitt testmiljø Tjenesten må testes ut i Altinn sitt testmiljø TT02: https://tt02.altinn.no\nForutsetninger for å teste:\n Må være etablert en samtykketjeneste (lenketjeneste) i TUL. Tjenesten må være migrert til TT02. For å teste henting av token via REST-tjeneste trenger man ApiKey knyttet til organisasjonsnummeret man skal teste med. Kan bestilles hos Altinn via selvbetjeningsportalen eller via tjenesteeier@altinn.no Man må ha fiktive testpersoner som kan benyttes i testen. Dette har i de fleste tilfeller tjenesteeier allerede tilgang til men dersom man ikke har dette må man sende en henvendelse til Altinn.\n For å verifisere det signerte tokenet må datakilden benytte Altinn sitt offentlige sertifikat. Dette får man ved å henvende seg til Altinn  Registrere en datakonsument i tjenesteeierstyrt rettighetsregister For å få testet samtykketjenesten må man først registrere en test-datakonsument i tjenesteeierstyrt rettighetsregister (SRR). Dette gjøres ved å benytte webtjenesten \u0026ldquo;RegisterSRRAgencyExternal\u0026rdquo;:\nhttps://tt02.altinn.no/RegisterExternal/RegisterSRRAgencyExternalBasic.svc?wsdl\nDenne har operasjonene AddRights, DeleteRights og GetRights.\nEksempel på en request for å legge til rettigheter (her testet ved bruk av SoapUI):\n Legge til rettighet i tjenesteeierstyrt rettighetsregister   ServiceCode er tjenestekoden og ServiceEditionCode er tjenesteutgavekoden for lenketjenesten. Disse hentes fra TUL.\nReportee angir hvilken organisasjon (eller person) som skal få lov å hente ut data gjennom tjenesten. I Lånesøknadscasen må organisasjonsnummeret til banken som skal få lov til å hente data fra Skatteetaten legges inn. I test legger man inn organisasjonsnummeret til en fiktiv organisasjon man kan teste med.\nAllowedRedirectDomain angir hvilket domene sluttbruker kan sendes til etter at sluttbruker har gitt/ikke gitt samtykke. Dette er en sikkerhetsmekanisme som sørger for at Altinn ikke kan utnyttes til redirects vilkårlig. Angi kun domene/host (ikke path) og bruk wildcard (*) for å støtte flere sub-domener. Wildcard skal kun brukes på subdomene eller lavere nivå (for mer informasjon se her.\nDet er mulig å legge inn flere domener per org.nr. ved å skille de med semikolon.\nEksempel på å fjerne en gitt rettighet:\n Fjerne rettighet fra tjenesteeierstyrt rettighetsregister   Eksempel på uthenting av gitte rettigheter:\n Uthenting av gitte rettigheter   Det kan hentes pr. tjeneste eller pr. organisasjonsnummer.\nTeste samtykketjenesten Etter å ha registrert en test-datakonsument (fiktivt organisasjonsnummer) i tjenesteeierstyrt rettighetsregister kan man teste ut samtykketjenesten. Dette krever at tjenesten er migrert til TT02 i TUL. En beskrivelse av hvordan man kan opptre som datakonsument for å få testet tjenesten og innveksling av autorisasjonskode i token finnes her.\nSe her for informasjon om oppbygging og verifikasjon av token.\n"
},
{
	"uri": "https://altinn.github.io/docs/releases/2017/17-1/",
	"title": "17.1",
	"tags": [],
	"description": "Digital post til virksomheter, dialog med egenregistrerte brukere, nye sider for pålogging, heving av sikkerhetsnivå for SMS, +++",
	"content": " Release 17.1, produksjonssatt uke 7, 2017.\nSom vanlig inneholder februar-versjonene av Altinn endringer for selvangivelsen. I tillegg er det en rekke endringer på andre områder.\nAutentisering Heving av Altinn-SMS til nivå 3 (18726) Dagens innlogging med SMS fra Altinn gir sikkerhetsnivå 2. Denne endringen gjør at den kan benyttes til innlogging på nivå 3 etter at bruker bekrefter sine innloggingsopplysninger i profil. Endringen er rettet i hovedsak mot brukere av sluttbrukersystemer, men tilgjengelig for alle brukere som vil benytte Altinn-SMS.\nNye autentiseringssider (19632) Oppdatere til nytt visuelt design på Altinn sine sider for autentisering (innlogging).\nDe nye sidene skal være responsive og universelt utformet.\nStøtte for HTTP POST-kall fra ID-porten (19991) Teknisk endring i kommunikasjon med ID-Porten for å bedre ytelse. Ikke synlig for sluttbruker.\nVideresending av Relaystate-parameter (19078) Feilretting på autentiseringsmodulen for å gjøre korrekt videresending av mottatt parameter ved SAML-autentisering.\nBrukskvalitet Nye feilsider (19631) I dag blir man sendt fra nye portalsider til feilsider i gammel portal. Vi oppdaterer designet for sidene som viser følgende feilmeldinger:\n Generiske feilmeldinger når en uventet teknisk feil oppstår Feilmeldinger når bruker ikke er autorisert Feilmeldinger ved Ajax-funksjonalitet skal gi bruker bedre respons.  De nye sidene skal være responsive og presentere feilmeldinger på riktig språk.\nAutorisasjon Videreutvikling av Altinns autorisasjonskomponent (19781) Autorisasjonskomponenten tilrettelegges for tilgangsstyring for tjenester som ikke er implementert ved hjelp av TUL. Dette innebærer flere mindre endringer:\n Tjenesteutvikler kan spesifisere egen delegeringstekst for en tjenesteutgave Tjenesteeier kan enkelt sjekke hvilke avgivere en gitt bruker har rettigheter på vegne av, for å sjekke om vedkommende skal få tilgang til tjenesteeiers systemer Tjenesteeier kan angi hvilke organisasjoner som skal kunne delegere rettigheter på en gitt tjeneste fra tjenesteeieren Tjenesteeier kan sjekke hvilke rettigheter en gitt bruker har på vegne av en gitt avgiver Rettigheter som er videredelegerte rettigheter fra organisasjon til ansatte skal automatisk slettes når rettighetene som er delegert til organisasjonen trekkes tilbake  Delegeringer som er gjort vises i liste etter at personen er død (18547) Delegeringer vil slettes når den som har fått delegert rettigheter dør. Listen over hvem som har tilgang blir ryddigere – brukere slipper å se navnet til personer som er døde.\nEksterne grensesnitt Forbedringer – egenregistrerte brukere (13275) Vi muliggjør preutfylling, meldinger og varsling til egenregistrerte brukere.\nDette gjør at tjenesteeiere får bedre muligheter til dialog med denne brukergruppen.\nMeldinger skal opprettes selv om varslingsadresse er ugyldig (19221) I dag blir ikke meldinger opprettet om angitt varslingsadresse er ugyldig. Dette rettes. Det gir oss bedre kontroll på innsendte meldinger fra tjenesteeiere, og tjenesteeierne får bedre tilbakemelding på feilede varsler.\nSvakhet i arkivreferanseknytningen på insertcorrespondence (19420) Det vil nå gis bedre tilbakemelding til tjenesteeier på feilsituasjoner på innsending av meldinger med feil arkiv-knytning.\nMy Fields i Download Queue (20398) Vi endrer prosesseringen av skjema-xml som returneres over Download Queue slik at hjelpefelter filtreres bort.\nForbedringer – Samtykkesiden (20401) Vi forbedrer håndteringen av URL til samtykkesiden fra eksterne sider, og innfører støtte for flere tokens i returnurl.\nAltinnMapperContext for SBS/REST-innsendinger (20468) Feilretting for å tilgjengeliggjøre kontekst om bl.a. autentisert bruker og tjeneste (AltinnMapperContext) slik at denne informasjonen kan brukes til automatisk utfylling av felter i skjemainnsendinger også fra REST og webservice.\nFeilretting - logging skjer bare ved avvist instansiering ved innsending fra SBS (18451) Vi innfører bedre logging av feilmeldinger i innsendinger fra sluttbrukersystem.\nTjenester \u0026ldquo;Digital Post til Virksomheter\u0026rdquo; i Altinn (19319) Altinn har rollen som postkasse for næringsliv og private virksomheter. Det utløser behov for omgående endringer slik at flere enn kun dagens tjenesteeiere skal kunne ta dette i bruk. Altinn oppretter flere felles meldingstjenester som kan benyttes til å sende post til virksomhetene. Avsenderne har frihet til å definere navn på avsender, men det vil logges hvem som er avtalepart, og hvem som står for transaksjonen.\nhttps://altinnett.brreg.no/no/Veiledning/Digital-post-til-virksomheter/\nDelegere rettigheter på enkeltinstanser til organisasjoner (20394) I dagens løsning er det mulig å overstyre tilganger på enkeltelementer, men dette er begrenset til at delegeringer kun kan gis til personer. Dette endres nå, slik at delegering på enkeltelementer i meldingsboksen også kan gjøres til organisasjonsnummer.\nSvakhet i regelmotor ved verdioverføringer (18971) Ved oppdatering av underskjema som trigget verdioverføring til hovedskjema har det kunnet skje duplisering eller sletting av verdi i hovedskjema. Dette blir nå rettet ved å endre en svakhet i hvordan felter blir adressert.\nMangler i Altinn regelmotor for SERES skjema (18555) All funksjonalitet i regelmotor er ikke støttet for SERES skjema. En del fungerer bare med OR skjema. Dette blir nå rettet ved å sjekke spesifikt om det er angitt orid notasjon eller xpath.\nMultiplisere og dividere i regelmotor (18958) Det har vært behov for rikere funksjonalitet for å bruke matematiske funksjoner i regelmotor. Støtte for bruk av multiplikasjon, divisjon, konstanter, flere typer avrunding samt utelukkelse av bruk av bokstaver er nå implementert.\nFlere e-post-adresser ved sending av kvittering (17784) Sending av kvittering har så langt bare støttet sending til en mottaker. Kvittering kan nå sendes til flere mottagere adskilt med semikolon.\nBinære vedlegg uten filtype (16998) Det har tidligere vært mulig å legge til vedlegg uten filtype. Dette er ikke lenger mulig. Bruker får en feilmelding og kommer ikke videre dersom det blir forsøkt å legge ved filer uten filtype.\nSortering av vedleggstyper (20411) Vedleggstyper har ikke vært vist i sortert alfabetisk rekkefølge. Vises nå sortert.\nMVA-KID generator – Oversettelse til engelsk (20147) Noen oversettelser til engelsk har manglet i MVA-KID generator. Termintekstene er nå oversatt og med i løsningen.\nRF-1030: Riktig melding hvis ikke kontonummer/utbetalingsmåte oppgis (20430) Validering av kontonummerendring når kontonummer/utbetalingsmåte ikke er oppgitt gir uønsket tekst i tilbakemelding til bruker for RF-1030. Dette er rettet slik at korrekt tekst vises.\nServerside kryptering (16188) Endringen realiserer en løsning for å kryptere, lagre og dekryptere brukers tjenestedata serverside i Altinn.\nBankID-logikk (18633) Bugfix på logikk i BankID-signering, som ikke medfører synlige endringer for sluttbruker.\nIntegrasjonsplattform Fjerning av gammel PrepareShipmentPart-orkestrering (20400) I endring 17626 ble det gjort endringer i forberedelsessteget for dataflyter. Man beholdt likevel også gammel PrepareShipmentPart-orkestrering i en overgangsperiode. Nå er all dataflyt flyttet til nye orkestreringer, og gammel orkestrering kan derfor fjernes.\nDriftsrutiner og registerintegrasjon Feil håndtering ved innlesning av opplysninger fra Enhetsregisteret (17607) Dagens batchoverføring av Enhetsregisterdata forskjellsbehandler ikke første gangs overføring fra andre overføringer. Dataene som overføres legges til. Data som ikke er med i en overføring blir dermed liggende. Det er ønskelig å få denne oppførselen endret slik at utdaterte data blir fjernet. Ved å utføre endringen vil det bli enklere å rette opp opplysningene på ER-kopien som ligger i Altinn. Sluttbrukere med feil i opplysningene fra Enhetsregisteret vil få dette korrigert raskere enn tidligere.\nTeknisk arkitektur Oppgradering av EO.PDF (20482) Oppgradering av bibliotek som benyttes for å generere PDF for å oppnå økt skalerbarhet og bedre ytelse.\nTimeout-håndtering (20483) Forbedret håndtering av tekniske timouts for å oppnå økt robusthet.\nEndre index (18986) Endringer i indeksering for å redusere låsing i databasen.\n"
},
{
	"uri": "https://altinn.github.io/docs/guides/tjenesteeier/funksjonelle-scenario/",
	"title": "Funksjonelle Scenario",
	"tags": [],
	"description": "Webservice operasjoner med beskrivelse",
	"content": "  Altinn tilbyr flere tjenester innenfor flere funksjonelle områder for tjenesteeiere. Her beskrives det hvilken funksjonalitet som finnes med referanser til hvilke grensesnitt som benyttes. Oversikt over den enkelte tjeneste, tjenesteoperasjon og parametere til disse er beskrevet i Tjenestekatalog og tjenestenes WSDL, samt i et eget avsnitt; kap 9 Grensesnitt – web servicesGrensesnittWebServices. Tilsvarende er det et eget avsnitt for batch beskrivelser; kap 10 Grensesnitt – batch til Altinn_Innsendingstjenester.\nDe funksjonelle områder som finnes er:\n Innsendingstjenester Meldingstjenester Formidlingstjenester Kvitteringer Innsynstjenester Lenketjeneste Samhandlingstjenester Frittstående varsel Autorisasjon Uthenting fra tiltrodd tredjepart logg Sluttbrukers meldingsboks (ikke tilgjengelig p.t.) Tjenesteeierstyrt rettighetsregister  Innsendingstjenester Innsendingstjenester utvikles i tjenesteutviklingsløsningen (TUL) i Altinn, og er en definert innsending av spesifikke skjema/skjemasett med eller uten vedlegg. Fylles ut i Altinn portalen eller i integrert sluttbrukersystem, signeres og sendes inn. Påbegynte og innsendte innsendingstjenester kan oppbevares i sluttbrukers meldingsboks i Altinn.\nSvardata sendes tjenesteeier. Tjenesteeier kan også legge skjemaet klart i den enkeltes brukers arbeidsliste og varsle om frister og lignende.\nFor tjenesteeiere omhandler \u0026ldquo;Innsendingstjenester\u0026rdquo; følgende:\n innsending av prefilldata innsending av abonnementsdata mottak av ferdig utfylte innsendinger fra Altinn uthenting av innsendte data fra tjenesteeiers eget arkiv uthenting av kvittering for status på innsending  Innsending av prefilldata Tjenesteeier kan sende inn prefilldata for en tjeneste i Altinn, og dataene benyttes ved preutfylling. Preutfylling innebærer at en gitt tjeneste (skjema/skjemasett) ved aktivisering i Altinn blir forhåndsutfylt med data mottatt fra tjenesteeiere og nasjonale registre. Prefilldata kan sendes i sanntid eller satsvis (batch).\nDet finnes fem typer data ifbm. preutfylling:\n Sende inn preutfylte skjemasett   Tjenesteeier kan sende inn ett eller flere preutfylte skjemasett for en gitt tjeneste versjon, eller rapporteringsplikt for lagring i database. Benyttes når en avgiver eller abonnementsrutine aktiviserer tilknyttet tjeneste i portalen. Skjemasettet kan inneholde identifiserende felter, for å kunne ha forskjellige preutfylte skjemasett ved rapportering flere ganger i året. Se eget punkt nedenfor om Identifiserende felter for mer info. Kan sendes i sanntid eller satsvis. Ved overføring i sanntid overføres en liste av preutfylte skjemasett asynkront, og kvittering returneres. Kvittering for info om status på asynkron innsending kan hentes ut vha. web service kall, se avsnitt Receipt (9.3). Referanse angitt ved innsending benyttes som nøkkel.   Identifiserende felter Verdier som legges på et preutfylt skjemasett, for å gjøre skjemasettet unikt Verdiene kan være \u0026ldquo;hva som helst\u0026rdquo;, men typisk noe som kan knyttes til det preutfylte skjemasettet, f.eks. \u0026ldquo;rapport X\u0026rdquo;, \u0026ldquo;periode Y\u0026rdquo; (2 verdier). Preutfylte skjemasett uten identifiserende felter benyttes ved aktivisering av tjenester i Altinn portal, og/eller sammen med abonnement. Preutfylte skjemasett med identifiserende felter benyttes kun sammen med abonnement. Direkte aktivisering av ett preutfylt skjemasett Tjenesteeier kan sende inn ett preutfylt skjemasett som øyeblikkelig blir tilgjengeliggjort i avgivers arbeidsliste i portalen Med eller uten varsel etter tilgjengeliggjøring i arbeidslisten. Det preutfylte skjemasettet kan lagres til database for senere bruk, som beskrevet i punkt 1. Kan kun sendes i sanntid, synkront. Man vil kunne angi om det instansiert og preutfylt skjema skal knyttes til en samhandlingstjeneste ved å angi referansen i den valgfrie parameteren caseId i operasjonen. Sende inn feltbasert preutfyllingsdata Tjenesteeier kan sende inn feltnavn og feltverdi for felter som benyttes i skjemaer. Ingen direkte knytning til tjeneste eller skjema, dvs. feltet kan finnes på flere tjenester for samme avgiver. Benyttes når avgiver aktiviserer tjeneste som inneholder feltet i portalen. Kan kun sendes inn satsvis. Kvittering for status på batch-innsending kan hentes ut vha. web service kall, se avsnitt Receipt (9.3). Referanse angitt i xml ved innsending benyttes som nøkkel. Preutfyllingsdata fra nasjonale registre Data fra nasjonale registre som f.eks. Folkeregistre og Enhetsregisteret sendes inn til Altinn. Register data knyttes til felter når tjeneste opprettes i Tjenesteutviklingsløsningen (TUL). Benyttes når avgiver aktiviserer tjeneste som inneholder feltet   Figur 1 - Skjermbildet viser RF-1047 i portalen. Feltene i den røde firkanten har automatisk blitt preutfylt av tjenesteeier.   Da det er flere kilder for preutfyllingsdata blir preutfyllingsdataene benyttet i følgende rekkefølge for å hindre uønskede overskrivelser:\n Preutfylt skjemasett  Hentes fra Altinn databasen dersom det finnes for gitt tjeneste og avgiver.\n Feltbasert preutfylling.  Felter som finnes for gitt avgiver og aktivisert skjema hentes fra Altinn databasen. Overskriver evt. Preutfylt skjemasett.\n Preutfyllingsdata fra nasjonale registre.  Data fra nasjonale registre er feltbasert og overskriver alle andre preutfyllingsdata typer.\nFor satsvis overføring kan data hentes fra tjenesteeiers system, eller tjenesteeier kan levere data på et definert Altinn område.\nTjenesten må være opprettet i TUL og eksportert til SBL, for at preutfyllingsdata for den gitte tjenesten skal kunne mottas.\nFor flere detaljer rundt kontrakten for SubmitPrefilledFormTasks og SubmitAndInstantiatePrefilledFormTask vennligst se henholdsvis kapittel 9.6.2 og 9.6.1, Tjenestekatalog og WSDL.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet: | Tjeneste | Operasjon | Type| |\u0026mdash;\u0026mdash;\u0026ndash;|\u0026mdash;\u0026mdash;\u0026ndash;|\u0026mdash;\u0026mdash;\u0026ndash;| |Prefill| SubmitPrefilledFormTasks|Basic/WS/EC| |Prefill|SubmitAndInstantiatePrefilledFormTask|Basic/WS/EC| |Receipt|GetReceipt|Basic/WS/EC|\nBatch grensesnitt som inngår i beskrevet funksjonalitet:\n   Batch Operasjon Type     Preutfylling XML FTP/SFTP    Innsending av abonnementsdata Tjenesteeiere kan opprette abonnement på innsendingstjenester som aktiverer og tilgjengeliggjør innsendingstjenesten i den gitte avgivers arbeidsliste. Kan sendes i sanntid eller satsvis (batch).\nVed overføring i sanntid overføres en liste med abonnement, dvs. ett eller flere asynkron overføringer.\nFor satsvis overføring kan data hentes fra tjenesteeiers system, eller tjenesteeier kan levere data på et definert Altinnområde.\nTjenesten må være opprettet i TUL og eksportert til SBL, for at et abonnement for den gitte tjenesten skal kunne mottas.\nMan kan opprettet følgende abonnementstyper: • Engangsaktivering • For en gitt periode/periodisk rapporteringsplikt • I et gitt intervall • På gitte tidspunkter med gitte frister\nEt abonnement kan være tilknyttet identifiserende felter for å kunne koble et abonnement til et bestemt preutfylt skjemasett for den gitte avgiver. Det preutfylte skjemasettet med de samme identifiserende feltene må finnes i Altinn databasen før abonnementet aktiviseres. Se eget punkt om Identifiserende felter for mer info.\nMottatte abonnementsdata lagres til databasen.\nVed innsending av abonnementsdata vil man kunne angi om skjema skal knyttes til en samhandlingstjeneste ved å angi referansen i den valgfrie parameteren CaseId i SubmitSubscription.\nKvittering for info om status på innsending kan hentes ut vha. web service kall, se avsnitt Receipt (9.3). Referanse angitt ved innsending via web service/batch grensesnitt (xml) benyttes som nøkkel.\nEn rutinejobb i Altinn vil med jevne mellom gå igjennom abonnementsdatabasen for å finne abonnement/innsendingstjenester som er klare for instansiering, dvs. den vil aktivisere alle abonnement hvor startdato er mindre enn, eller lik, dagens dato. Startdato er satt av tjenesteeier, og neste aktiviseringsdato kalkuleres automatisk av rutinejobben i Altinn ut fra gitte parametre satt av tjenesteeier. Se parameter detaljer i avsnittet SubmitSubscription (web service) (9.7.1) eller Abonnement (batch) (10.3).\nFor flere detaljer rundt kontrakten for SubmitSubscription vennligst se kapittel 9.7.1, Tjenestekatalog og WSDL.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     Subscription Basic/SubmitSubscription/EC Basic/WS/EC   Receipt GetReceipt Basic/WS/EC    Batch grensesnitt som inngår i beskrevet funksjonalitet:\n   Batch Overføringsformat Protokoll     Abonnement XML FTP/SFTP    Motta data for innsendinger Arkiverte innsendinger i Altinn tilgjengeliggjøres til tjenesteeier for henting/overføring. Kan enten sendes i sanntid per innsending, satsvis (batch), eller ved å bruke DownloadQueue.\n For sanntid, dvs. ved bruk av web service, må tjenesteeier etablere dedikert web service angitt av Altinn på egen plattform, og motta innsendinger automatisk etter hvert som de arkiveres. Se eget avsnitt: 9.15 Online overføring til Tjenesteeier.\n For satsvis overføring kan data leveres til en tjenesteeiers mottakssystem dersom det er etablert, eller tjenesteeier kan hente data på et definert Altinn område.\n Tjenesteeier kan velge å bruke DownloadQueue web service, som lar tjenesteeiere hente meta-data fra en kø, som så kan brukes til å hente individuelle arkiverte innsendinger.\n  Tilgjengeliggjøres i standard Altinn format eller transformeres til tjenesteeiers eget mottaksformat.\nKvittering først opprettet ved innsending fra tjenesteeier oppdateres med informasjon om utsending, dvs. livsløpet til innsendingstjenesten dokumenteres. Kvittering kan hentes ut vha. web service kall, se avsnitt Receipt (9.3). Referanse angitt ved innsending benyttes som nøkkel.\nInnsendinger for tjenesteutgaver knyttet til DownloadQueue (konfigureres under utgaveparametere i TUL) vil legge til metadata for innsendinger i DownloadQueue. Tjenesteeier kan hente en liste med disse metadata ved å bruke et web service kall, se kapittel for DownloadQueue (9.16) Metadata kan så benyttes til å hente individuelle arkiverte innsendinger med vedlegg. I tillegg er det en tjenesteoperasjon som gir tilgang å hente ned en PDF versjon av et skjemasett. Denne vil støtte PDFA standarden.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet for overføring i sanntid:\n   Tjeneste Operasjon Type      Basic/ReceiveOnlineBatchExternalAttachment Basic   Receipt GetReceipt Basic/WS/EC    Batch grensesnitt som inngår i beskrevet funksjonalitet:\n   Batch Overføringsformat Protokoll     Innsendingstjenester XML FTP/SFTP    Tjenester og tjenesteoperasjoner som inngår i DownloadQueue:\n   Tjeneste Operasjon Type     DownloadQueue GetDownloadQueueItems Basic/WS/EC   DownloadQueue PurgeItem Basic/WS/EC   DownloadQueue GetArchivedFormtaskDQ Basic/WS/EC   DownloadQueue GetFormSetPdf Basic/WS/EC    Status på sending av innsendte element For arkiverte elementer som blir sendt til tjenesteeier i sanntid eller satsvis beskrevet i 8.1.3 kan tjenesteeier hente status på elementer ved bruk av ArchiveShipmentStatus tjenesten. Ved å bruke ArchiveShipmentStatus webtjenesten kan tjenesteeier hente en enkel oversikt over overførsels-status på individuelle elementer eller for lister av elementer sortert på tjeneste.\nTjenester og tjenesteoperasjoner som inngår i ArchiveShipmentStatus:\n   Tjeneste Operasjon Type     ServiceOwnerArchive GetArchiveShipmentStatus Basic/WS/EC    Dekryptering av sensitive felter data i innsendingstjenesten Altinn støtter funksjonalitet for innsending av sensitive tjenester med sensitive felter. Slike skjema kan sendes inn via portalen eller sluttbrukersystemer. For å kunne lese de sensitive feltene tjenester må tjenesteeier benytte sine egne sertifikater for å dekryptere feltene.\nKrypteringen skjer ved at innsender benytter en symmetrisk nøkkel på 128 bit i en AES algoritme for å kryptere det sensitive feltene i skjemaet. Sluttbrukersystemer må selv generere denne nøkkelen og kryptere det sensitive felteneskjemaet, mens dette vil bli håndtere for bruker i portalen.\nFor at bruker senere skal kunne dekryptere feltene fra skjemaet sendes den symmetriske nøkkelen med forsendelsen, men denne er da kryptert ved et selvvalgt brukerpassord på minst 8 tegn. Bruker kan da hente ut data, dekryptere symmetrisk nøkkel ved hjelp av sitt selvvalgte passord, og bruke denne til å dekryptere den sensitive dataen.\nFor at tjenesteeier skal kunne dekryptere feltene må de også ha krypteringsnøkkelen. Den symmetriske nøkkelen må derfor også krypteres med tjenesteeierens offentlige sertifikat ved hjelp av algoritmen RSA, og lagt ved innsendingen. Når tjenesteeier da mottar sensitiv data vil de først bruke sin private nøkkel til å dekryptere krypteringsnøkkelen, deretter bruke denne nøkkelen til å dekryptere de sensitive feltenedata.\nInnsendinger med av sensitive felt tjenester og vedlegg overføres til etat via batch eller via online oppslag til tjenesteeiers arkiv på samme måte som andre innsendinger for tjenester uten sensitiv informasjon.\nTekniske detaljer Den symmetriske nøkkelen som er brukt til å kryptere de sensitive feltene i et skjema som skal dekrypteres hos tjenesteeier gjøres tilgjengelig i skjema ved hjelp av XML-Enc standarden http://www.w3.org/TR/xmlenc-core/. Den krypterte symmetriske nøkkelen ligger pakket sammen med en referanse til sertifikatet som er brukt på følgende form.\n\u0026lt;my:txtFN\u0026gt; \u0026lt;EncryptedData Type=\u0026quot;http://www.w3.org/2001/04/xmlenc#Content\u0026quot; xmlns=\u0026quot;http://www.w3.org/2001/04/xmlenc#\u0026quot;\u0026gt; \u0026lt;EncryptionMethod Algorithm=\u0026quot;http://www.w3.org/2001/04/xmlenc#aes128-cbc\u0026quot; /\u0026gt; \u0026lt;ds:KeyInfo xmlns:ds=\u0026quot;http://www.w3.org/2000/09/xmldsig#\u0026quot;\u0026gt; \u0026lt;EncryptedKey xmlns=\u0026quot;http://www.w3.org/2001/04/xmlenc#\u0026quot;\u0026gt; \u0026lt;EncryptionMethod Algorithm=\u0026quot;http://www.w3.org/2001/04/xmlenc#rsa-1_5\u0026quot; /\u0026gt; \u0026lt;CipherData\u0026gt; \u0026lt;CipherValue\u0026gt;Ahgw/pNo9fcfUtOr8aTceVkFlCsC58HY0VrQUJW1B/AxMOzYsyKhWRorUViQENqSJabEiwfin4zO2qzRuELwGXBFZ4jtkwlJpnAd+6NuCZ/P0ZsxJG5A8XnALmVCBpIcOPaPUa3Q211Bnu3eCHaMmgw9/itX3g3FPZItkwNEfGg=\u0026lt;/CipherValue\u0026gt; \u0026lt;/CipherData\u0026gt; \u0026lt;/EncryptedKey\u0026gt; \u0026lt;ds:KeyName\u0026gt;CD13AEC20C0564C2B5499630BE478654D3ADD64A\u0026lt;/ds:KeyName\u0026gt; \u0026lt;/ds:KeyInfo\u0026gt; \u0026lt;CipherData\u0026gt; \u0026lt;CipherValue\u0026gt;TJ+KuQDc2ccduVlCIaM9sw==\u0026lt;/CipherValue\u0026gt; \u0026lt;/CipherData\u0026gt; \u0026lt;/EncryptedData\u0026gt; \u0026lt;/my:txtFN\u0026gt;  I dette eksempelet er my:txtFN feltet i skjema som inneholder sensitive data. I slike felt vil man finne et EncryptedData element som inneholder følgende 3 viktige elementer\n Symmetrisk nøkkel kryptert med sertifikat. (EncryptedData/KeyInfo/EncryptedKey/Cipherdata) Referanse til sertifikat brukt for å kryptere symmetrisk nøkkel. Dette er en thumbprint av sertifikat for tjenesteier. Den brukes internt hos tjenesteeier til å gjøre oppslag i keystore for å få tak i privat nøkkel og dermed kunne dekryptere den symmetriske nøkkelen. (EncryptedData/KeyInfo/KeyName) Skjemadata kryptert med symmetrisk nøkkel. (EncryptedData/CipherData/CipherValue)  Skjemadata er kryptert ved hjelp av den symmetriske AES algorithmen med en blocksize på 128 bit, ciphermode CBC (Cipher-block chaining, http://en.wikipedia.org/wiki/Block_cipher_modes_of_operation og padding er PKCS7.\nDen symmetriske nøkkelen er kryptert med RSA algoritmen, ECB mode og PKCS1 padding.\nFor tjenester som har krypterte vedlegg og krypterte skjemaer benyttes nøkkelinformasjonen som ligger i GetArchivedFormTaskBasicV2Result eller i data fra fil\n\u0026lt;SOEncryptedSymmetricdKey\u0026gt; \u0026lt;EncryptedKey\u0026gt;u7CPRJ/ZtOoFPU4tkSqBDLW6e0V1Mr92C0oTC7bWztYuCvgl0+R2DUW/8iSSaH3+Wl1vnWTRSnuEDiKBVenfEjQ5j89WHvbA0QO1cMzIpYl53EDBt1tvoVHaJYq+4KJIo2DGNYNHyb2iFIgn39BYo4KpNLW1Yk2k8MegCgnajMnSICSuYuy5sGuBkvytottC0h2KKR7PAZtuuzJ4PRnby2AAMNmSB8VusNctDen/d8nF1Sh1DRcP9pArBvsxEH2A7SwiKS+dRC/J2QK7iM1I6Tphkalsyjmgn03LkJMm/8X9ufp+fN6n8Czg+BsZ1+rw2DD7vgTDGMyn+41gqZW1qg==\u0026lt;/EncryptedKey\u0026gt; \u0026lt;CertificateThumbprint\u0026gt;5D15D6E888632370E0223B779C4E0F0D9D45DED0\u0026lt;/CertificateThumbprint\u0026gt; \u0026lt;/SOEncryptedSymmetricdKey\u0026gt;  Se kapittel 14 for kodeeksempler.\nFormDataXml er kryptert ved hjelp av den symmetriske AES algorithmen med en blocksize på 128 bit, ciphermode CBC (Cipher-block chaining, http://en.wikipedia.org/wiki/Block_cipher_modes_of_operation og padding er ISO10126.\nMeldingstjenester Tjenesteeiere kan sende informasjon i form av meldinger til brukere av Altinn, og meldingene støtter HTML og vedlegg. Brukere kan varsles med e-post eller SMS om at informasjon er gjort tilgjengelig, for innsyn eller behandling. Tjenesteeiere får informasjon om hvilke utsendte meldinger som er åpnet, og kan eventuelt kreve at brukeren bekrefter mottaket innen en fastsatt frist. Tjenesteeier kan enkelt sjekke status for innsendte meldinger på en meldingstjeneste ved å benytte eget web service kall med et sett av søkeparametere.\nMeldingene kan oppbevares i sluttbrukers meldingsboks i Altinn i en fastsatt periode, eventuelt slettes av brukeren. Bruker kan også arkivere meldingene til sitt arkiv. Om meldingen krever bekreftelse må dette gjøres før meldingen eventuelt kan arkiveres.\nMeldinger kan også eventuelt sendes til \u0026ldquo;Digital postkasse til innbygger\u0026rdquo; hvis brukeren har registrert en slik postkasse i Kontakt- og reservasjonsregisteret. (Dette gjelder kun personer, ikke organisasjoner.) Digitale brev kan opprettes istedenfor eller i tillegg til en melding i Altinn.\nI sammenheng med opprettelse av digitale brev er det også mulig å bestille varsel fra DPI løsningen. DPI varsel vil bli sendt ut av postkasse leverandøren. Meldingsvarsel og DPI varsel er helt separate og bestilles hver for seg. For varsel fra DPI følger grensesnittet til Altinn i stor grad definisjonene til difi.\n http://begrep.difi.no/SikkerDigitalPost/1.2.0/begrep/Varsler  Sende inn meldingstjenester Tjenesteeiere kan sende en melding til en gitt person eller bedrift som tilgjengeliggjøres for lesing/henting via Altinn. Kan enten sendes i sanntid per innsending, eller satsvis (batch).\nMelding kan være: • Ren tekst. • HTML basert (formatert visning i nettleser). • XML basert med referanse til tilhørende visningsskjema. (Skjema må defineres på tjenesten i TUL.) • PDF. Dette gjelder kun sikker digital post. (Altinn vil selv behandle det som vedlegg.) • Kombinasjon av alle over.\nAnnet: • Brukere kan reservere seg mot å motta digital korrespondence gjennom kanaler som Altinn og digital postkasse. Tjenesteeiere kan velge å respektere eller ignorere slike reservasjoner. Se IsReservable. • Inneholde binære vedlegg (for nedlasting), valgfri parameter DestinationType vil kunne begrense om vedleggene er tilgjengelig i portal eller sluttbrukersystem, eller begge. Om ikke sendt inn blir den satt til standard verdi ShowToAll. Ved videresending til \u0026ldquo;Digital postkasse til innbygger\u0026rdquo; er det obligatorisk med minst ett vedlegg. Dette vil da benyttes som hoveddokument i det som sendes til brukerens digitale postkasse. • Varsles til en eller flere brukere på forskjellige kommunikasjonskanaler: - SMS - E-post • Tilknyttet en eksisterende samhandlingstjeneste ved å benytte valgfri caseID parameter. Om meldingstjenesten ikke tilhører den angitte samhandlingstjenesten eller denne ikke eksisterer vil operasjonen avbrytes. • Mulig å videresende meldingen til en e-post adresse om angitt i valgfri parameter AllowForwarding. Er denne satt til true vil bruker kunne sende meldingen videre som en e-post fra portalen. Om ikke satt settes den til standardverdi som er True. • En melding kan kobles til innsending ved å oppgi ArchiveReference. Dette vil da oppfattes som et svar på en innsending. • Det er også mulig å gi instrukser for hvordan en bruker kan svare på en melding. - I form av en enkel link brukeren kan åpne: - I from av et skjema som bruker må sende inn. - I from av en kopi av eksisterende innsending. Brukeren korrigerer og sender inn.\nDigital postkasse til innbygger: Løsningen for «Digital postkasse til innbygger» har ikke støtte for all funksjonalitet som finnes i Altinn. Funksjoner som ikke blir brukt hvis det ikke opprettes noen melding i Altinn: • Opprettelse av kobling mellom melding og en innsending. (Tjenesteeier svar på innsending) • Svar på melding. (Sluttbruker svar på melding fra tjenesteeier.) • Knyttning mot samhandlingstjenester. • Varsel for h.h.v melding og digitalt brev styres med ulike innstillinger.\nVed overføring i sanntid sendes en og en melding av gangen. Synkron overføring.\nFor satsvis overføring kan data hentes fra tjenesteeiers system, eller tjenesteeier kan levere data på et definert Altinn område.\nTjenesten må være opprettet i TUL og eksportert til SBL, for at meldingene skal vises for sluttbrukerne/sluttbrukersystemer.\nKvittering for info om status på innsending kan hentes ut vha. web service kall, se avsnitt Receipt (9.3). Referanse angitt ved innsending via web service/batch grensesnitt (xml) benyttes som nøkkel.\nFor flere detaljer rundt kontrakten for InsertCorrespondenceV2 vennligst se kapittel 9.4.1, Tjenestekatalog og WSDL.\nDet tilbys støtte for gammelt AltUt format for eksisterende tjenesteeiere i Altinn.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     Correspondence InsertCorrespondenceV2 Basic/WS/EC   AltUt SubmitAltutMessagePw Basic   Receipt GetReceiptV2 Basic/WS/EC    Batch grensesnitt som inngår i beskrevet funksjonalitet:\n   Batch Overføringsformat Protokoll     Correspondence format XML FTP/SFTP   AltUt Format XML FTP/SFTP    Motta meldingsbekreftelse En meldingstjeneste kan defineres med at tjenesteeier ønsker: • Åpne bekreftelse • Lese bekreftelse\nMeldingsbekreftelser tilgjengeliggjøres for overføring / henting: • Tilgjengeliggjøres i \u0026ldquo;sanntid\u0026rdquo; per innsending • Samles opp og tilgjengeliggjøres på gitte intervall eller spesifikt tidspunkt (batch)\nData kan leveres til en tjenesteeiers mottakssystem dersom det er etablert, eller tjenesteeier kan hente data på et definert Altinn område.\nTilgjengeliggjøres i standard Altinn format eller transformeres til tjenesteeiers eget mottaksformat.\nKvittering først opprettet ved innsending fra tjenesteeier oppdateres med informasjon om utsending, dvs. livsløpet til meldingstjenesten dokumenteres. Kvittering kan hentes ut vha. web service kall, se avsnitt Receipt (9.3). Referanse angitt ved innsending benyttes som nøkkel.\nTilbyr støtte for gammelt AltUt format for eksisterende tjenesteeiere i Altinn.\nBatch grensesnitt som inngår i beskrevet funksjonalitet:\n   Batch Overføringsformat Protokoll     CorrespondenceConfirmations XML FTP/SFTP   AltUtConfirmationBatch XML FTP/SFTP    Det tilbys også egen funksjonalitet for rapportering av en samlet meldingstjeneste hvor tjenesteeier vil motta informasjon om status for alle brukere etter et gitt antall dager definert for tjenesten i TUL. Status for hver bruker her vil kunne være ikke lest, lest, og bekreftet. Data leveres til tjenesteeiers mottakssystem dersom det er etablert.\n   Batch Overføringsformat Protokoll     CorrespondenceUsageData XML FTP/SFTP    Sjekke status på meldingstjenester Tjenesteeier kan enkelt sjekke status på meldinger de har sendt inn på en tjeneste ved å benytte egen web service for dette. Resultatsettet fra tjenesten vil være avhengig av søkeparameterne som tjenesteeier sender inn. Tjenestekode (ServiceCode) og tjenesteutgavekode (ServiceEditionCode) er pålagte parametere i spørringen, mens det videre kan filtreres ved å sende inn SendersReference, avgiver (Reportee), til og fra dato (CreatedAfterDate og CreatedBeforeDate), konkrete meldingsstatuser (CurrentStatus), samt hvorvidt det har blitt sendt varsel (NorificationSent).\nFor hver enkelt melding som passer til søkekriteriene tjenesteeier angir vil man få returnert følgende informasjon:\n ID for meldingen Når meldingen ble opprettet Avgiver meldingen tilhører Avsenders referanse (satt av tjenesteeier) Liste over statusendringer med tidspunkt Liste med varsler knyttet til meldingen, inkludert mottaker, tidspunkt for når varselet er sendt (om sendt) og varselskanal.  Statussjekk operasjonen kan også returnere status på det som er blitt forsøkt videresendt til Digital postkasse til innbygger. Statusinformasjon for post som er videresendt inneholder:\n ID for sikkert brev slik det er registrert i Altinn Unik ID for brevet slik det fremkommer i sikker digital post systemet. Når brevet ble opprettet Når status for brevet ble sist endret Avgiver brevet tilhører Avsenders referanse List med alle statusene brevet har hatt.  I tillegg til denne informasjonen returneres også tjenestekode og tjenesteversjonskode tilbake, samt en parameteren som angir om en grense for antall returmeldinger er nådd (LimitReached). Er grensen nådd må tjenesteeier spisse søket sitt, f.eks. ved å begrense tidsrommet, for å få hentet ut status for alle meldingene.\nFor flere detaljer rundt kontrakten for GetCorrespondenceStatusDetails vennligst se kapittel 9.4.5.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     Correspondence GetCorrespondenceStatusDetails Basic/WS/EC    Lenketjeneste Formålet med en lenketjeneste er å overføre en bruker i Altinn til en annen nettside og er derfor alltid assosiert med en URL. Lenketjenester blir ikke instansiert i Altinn og er derfor ikke å finne i min meldingsboks i Altinn. For å kunne identifisere hvilken avgiver brukeren valgte å starte tjenesten med, sendes det med en nøkkel som den eksterne tjenesteportalen kan benytte for å spørre Altinn om informasjon om valgt avgiver. Det er også mulig å etterspørre informasjon om hvilke avgivere en bruker kan representere ved å benytte web service metoden GetReportees.\nLenketjenester defineres i TUL som de andre tjenestetypene slik at man kan sette autentiseringsnivå og autorisasjonsregler for start av tjenesten. Ekstern portal må verifisere at bruker faktisk skal ha tilgang til tjenestene portalen tilbyr, ved å benytte seg av Altinns XACML grensesnitt for ekstern autorisasjon.\nFor flere detaljer rundt kontrakten for GetReporteeByTempKey og GetReportees vennligst se henholdsvis kapittel 9.8.4 og 9.8.3. For mer informasjon om ekstern autorisasjon se kapittel 8.9.2 og 9.9.1.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     AuthorizationAdministration GetReporteeByTempKey WS/EC   AuthorizationAdministration GetReportees WS/EC   AuthorizationDecisionPointExternal AuthorizeAccessExternal WS    Formidlingstjenester Formidlingstjenester handler om å transportere data fra en eller flere avgivere til en eller flere mottakere, hvor Altinn fungerer som mellommann som sørger for transport og infrastruktur. Altinn er sådan en passiv part i prosessen, og både avsender og mottaker må benytte grensesnitt tilgjengeliggjort av Altinn.\nInnholdet i en formidlingstjeneste er data som er bestemt mellom aktørene som inngår i en formidlingstjeneste, og er ikke kjent av Altinn.\nFormidlingstjenesten overføres fra avsender til mottaker, og tjenesteeiere benytter derfor ikke egne grensesnitt kun for tjenesteeiere for formidlingstjenesten, men benytter i stedet de samme grensesnitt som er tilgjengelig for alle brukere av Altinn. Se derfor Implementasjonsguide for sluttbrukersystemer for mer informasjon om hvordan disse grensesnittene skal benyttes.\nTransport av data i en formidlingstjeneste kan gå via web service og SFTP kanal, både for opp- og nedlasting. Ved bruk av web service vil det være en funksjonell begrensning i størrelsen på filer som kan lastes opp og ned, satt til 1GB, mens grensen for SFTP-kanalen vil ligge på i underkant av 2GB.\nData som skal overføres over SFTP kanalen pakkes i en ZIP-fil med to forhåndsdefinerte Altinn XML filer for å definere metadata (manifest.xml) og mottakere (recipients.xml). Ved bruk av web service sendes først metadata og mottaker liste, før selve dataen overføres i en egen operasjon. Utover dette kan ZIP-filen i prinsippet inneholde hva som helst av data som må overføres til en eller flere aktører. Utover viruskontroll gjør ikke Altinn noen form for validering eller prosessering av denne dataen som forsendes, men sørger for at oppgitt metadata og mottakerinformasjon er korrekt og validerer, samt holder orden på kvitteringer og sporingsinformasjon om forsendelsen.\nFormidlingstjenester er tenkt brukt primært for formidlinger:\n B2B (Business-to-Business), B2G (Business-to-Government), G2B (Government-to-Business), eller G2G(Government-To-Government)  Når en avsender laster opp en formidlingstjeneste vil Altinn verifisere metadata og mottakere. Når dette er gjort vil forsendelsen gjøres tilgjengelig for mottakere for nedlasting. Samtidig vil Altinn opprette en kvitteringshierarki med en hovedkvittering tilhørende avsender, samt en underkvittering per mottaker. Hver underkvittering vil inneholde status på nedlastingen for denne mottakeren. Alle kvitteringer vil være knyttet til referanse satt av avsender. Avsender og mottaker kan også utveksle ytterligere statustekst på disse kvitteringene gjennom web service. På denne måten kan avsender følge opp status for hver enkelt mottaker.\nTiden en formidlingstjeneste vil være tilgjengelig for nedlasting i Altinn vil kunne variere fra tjeneste til tjeneste og styres av tjenesteeier. Dette betyr at filene etter en viss tidsperiode vil bli slettet selv om filene ikke er lastet ned av en eller flere av mottakerne.\nFormidlingstjenesten kan av tjenesteeier også settes opp til å benytte seg av et tjenesteeierstyrt rettighetsregister. Dette registeret kan begrense hvem som har tilgang til opp- og nedlasting av spesifikke tjenester, og styres av tjenesteeier. Se kapittel 8.12 for mer informasjon om dette registeret og hvordan dette styres. For formidlingstjenesten er det tjenesteeierstyrte rettighetsregisteret definert med følgende grunnleggende regler:\n For å kunne laste opp en formidlingstjeneste må avsender inneha «write»-rettigheten for formidlingstjenesten. For å kunne laste ned en formidlingstjeneste må mottaker inneha «read»-rettigheten for formidlingstjenesten.  I enkelte brukstilfeller er det i tillegg ønskelig at mottaker også skal kunne sende informasjon tilbake til avsender. For å unngå at alle mottaker da også får «write»-rettigheten, og på den måten kan sende til andre mottakere, benyttes feltet «condition» (betingelse) i det tjenesteeierstyrte rettighetsregisteret. For å støtte brukstilfellet har man derfor også følgende regler:\n En mottaker som kun skal kunne sende tilbake til en avsender av tjenesten må ha rettigheten «write», men da med «condition» satt til verdien «recipient». Denne betingelsen benyttes så i Altinn til å validere mottakerlisten, og kun brukere som har rettigheten «read» med «condition» satt til «sender» vil være godkjente mottakere. Dette er vist med Org D i figuren under som kun kan sende til Org A.\n Merk her at avsender med rettigheten «write» uten «condition» kan sende til en mottaker med rettighet «read» med «condition» satt til «sender». Dette er vist med Org B i figuren under som kan sende til samtlige andre mottakere.\n  Ved bruk av tjenestene som tilbys av tjenesteeierstyrt rettighetsregister (9.17) kan det bemerkes at parameteren «Party» ikke benyttes for formidlingstjenesten.\n Figur 2 - Viser de ulike mulighetene for formidlingstjenesten som er gyldige og hvilke rettigheter og betingelser som trengs.   Se også Vedlegg C: Flytdiagram for formidlingstjeneste for overordnet flyt ved bruk av formidlingstjeneste mellom avsender og mottaker.\nInnsynstjenester Når en tjenesteeier ønsker å tilgjengeliggjøre et register for oppslag for brukere, men uten å ha tilgjengelig presentasjon for dette så kan det realiseres ved hjelp av en innsynstjeneste i Altinn. Konseptuelt kan man se en innsynstjeneste som en kombinasjon av en innsendingstjeneste og en meldingstjeneste der hvor det ikke foregår noen behandling av den innsendte informasjonen.\nEn innsynstjeneste bygger på en Web Service eksponert fra tjenesteeierens side og kan benyttes av både portalbrukere og sluttbrukersystemer via Altinn som et mellomledd.\nInnsynstjenester kan i TUL settes opp slik at tjenesteeier kan motta informasjon om brukere som har aktivert en innsynstjeneste. For dette kreves det at et forsendelsesoppsett settes opp i Altinn mot tjenesteeieren (ShipmentDefinition). Denne vil angi metode og overordnet mal (ShipmentOutboundTemplate) forsendelsen skal sendes på. Hver forsendelse består av den definerte malen, samt en eller flere forsendelses-deler som hver representerer en åpnet innsynstjeneste. En forsendelses-del følger et gitt format:\nInnsynstjeneste forsendelses-del (LookupServiceUseConfirmation)\n\u0026lt;LookupServiceUseConfirmation\u0026gt; \u0026lt;ServiceCode\u0026gt; \u0026lt;!--Angir innsynstjenestens tjeneste kode--\u0026gt; \u0026lt;/ServiceCode\u0026gt; \u0026lt;ServiceEdition\u0026gt; \u0026lt;!--Angir innsynstjenestens tjeneste versjon kode--\u0026gt; \u0026lt;/ServiceEdition\u0026gt; \u0026lt;ReporteeNumber\u0026gt; \u0026lt;!--Angir aktuell avgiver som aktiverer innsynstjenesten, fødselsnummer eller organisasjonsnummer--\u0026gt; \u0026lt;/ReporteeNumber\u0026gt; \u0026lt;ReadDateTime\u0026gt; \u0026lt;!--Angir dato og tid når innsynstjenesten ble aktivert--\u0026gt; \u0026lt;/ReadDateTime\u0026gt; \u0026lt;/LookupServiceUseConfirmation\u0026gt;  For mer informasjon om hvordan en innsendingstjeneste tilgjengeliggjøres i portal og for sluttbrukersystemer, se TR435 Brukerdokumentasjon for tjenesteutvikling.\nSamhandlingstjenester En samhandlingstjeneste er ikke som andre tjenestetyper i Altinn da oppgaven til denne er å sette sammen flere andre tjenestetyper til én logisk prosess for brukeren. Dette er uavhengig av om de underliggende tjenestetypene er rettet mot én eller flere tjenesteeiere.\nEt eksempel på en samhandlingstjeneste kan være Skattedialog. Her kan man ha flere underliggende innsendingstjenester, meldingstjenester og innsynstjenester ovenfor Skatteetaten som knyttes sammen til én logisk forretningsprosess. Et annet eksempel vil kunne være Navnedialog. En samhandlingstjeneste som kan knytte sammen innsendingstjenester og meldingstjenester mot flere tjenesteeiere.\nSamhandlingstjenester kan være definert av sluttbrukere (brukerdefinert samhandlingstjeneste – en samleside) eller av tjenesteeiere (tjenesteeierdefinert samhandlingstjeneste – en e-dialog). Den brukerdefinerte samhandlingstjenesten er predefinert i TUL av en tjenesteutvikler. Denne kan instansieres og til en viss grad tilpasses av sluttbruker i SBL. Tjenesteeiere definerer i sin helhet egne samhandlingstjenester ved hjelp av TUL. Disse blir deretter migrert til SBL i likhet med andre tjenestetyper. I integrasjonssammenheng er det de tjenesteeierdefinert samhandlingstjenestene som er interessante.\nEn instans av en samhandlingstjeneste har en unik Case ID tilknyttet – en saks id. Når det da refereres til en instans av en samhandlingstjeneste, beskrives det ved bruk av Case ID.\nFølgende illustrerer mulighetsrommet for Samhandlingstjenester og en typisk kronologisk rekkefølge:\nTUL:\n Definisjon av Altinn-tjenester med tjenestetype “Samhandlingstjeneste\u0026rdquo;.\n Definisjon av tjenestesammensetning. Tjenester som kan velges til å inngå i en samhandlingstjeneste må være av typen innsynstjeneste, meldingstjeneste eller innsendingstjeneste.\n Definisjon av gjenbruk av data mellom deltakende tjenester i samhandlingstjenesten. Produsent og konsument av data settes opp. Merk at kun innsendingstjenester kan settes opp som konsument.\n Definisjon av en tilstandsmaskin som identifiserer forretningsprosessen som et logisk sett av tilstander sammen med tilhørende presentasjon i form av dialogsider (se punkt 5).\n Definisjon av hendelser som kan medføre en tilstandsovergang for samhandlingstjenesten. Betingelser kan knyttes til hendelsene slik at de må oppfylles før en tilstandsovergang kan skje. Hendelsene er typisk knyttet til stadier for de underliggende tjenestene som inngår i samhandlingstjenesten. Hendelser deles inn i forhåndsdefinerte og skreddersydde hendelser. De forhåndsdefinerte hendelse trigges automatisk i Altinn og består av følgende:\n     Hendelses Navn Tjenestetype Portal Sluttbrukersystem Etatssystem     Instantiated Innsendingstjeneste, Innsynstjeneste :white_check_mark: :white_check_mark:    Instantiated Innsendingstjeneste, Meldingstjeneste   :white_check_mark:   Submitted Innsendingstjeneste :white_check_mark: :white_check_mark:    Archived Alle :white_check_mark: :white_check_mark:    Opened Meldingstjeneste, Innsynstjeneste :white_check_mark: :white_check_mark:    Confirmed Meldingstjeneste :white_check_mark: :white_check_mark:     Tabellen viser de forhåndsdefinerte hendelsene, hvilken tjenestetype de er relatert til, samt om de trigges fra portal, sluttbrukersystem eller etatssystem. For eksempel kan etatssystem instansiere innsendingstjenester eller meldingstjenester, og dermed kun trigge hendelsen Instantiated for disse. Skreddersydde hendelser er hendelser definert av etat. Navn på disse hendelsene må defineres inn i tilstandsmaskinen (se punkt 3). Etaten kan kalle web service med hendelsen, både de forhåndsdefinerte og de skreddersydde, for å trigge en tilstandsovergang (se 8.6.1.6).\n Opplasting av grafikkfiler til bruk i forhåndsdefinert dialogkomponent\n Definisjon av dialogsider for samhandlingstjenesten basert på et sett av 6 forhåndsdefinerte maler og 10 forhåndsdefinerte dialogkomponenter.\n Definisjon av merknadsmaler for samhandlingstjenesten. Etaten kan ved bruk av et eksternt grensesnitt (se 8.6.1.5) sette predefinert merknad på samhandlingstjenesten eller tilhørende underliggende tjenester.\n Oversettelse til flere språk (engelsk, bokmål og nynorsk) for språkstøttet tekst i samhandlingstjenesten.\n Migrering av samhandlingstjeneste til SBL. Alle underliggende tjenesteutgaver som inngår i samhandlingstjenesten må være migrert før selve samhandlingstjenesten kan migreres.\n  For mer informasjon om oppsett av en samhandlingstjeneste i TUL, vennligst se Brukerveiledning for TUL.\nSBL:\n Opprettelse av en sak (instansiering av en spesifikk utgave og versjon av samhandlingstjenesten definert i TUL og migrert til SBL)\n Presentasjon av en sak til sluttbrukeren i et arbeidsområde i SBL, modellert for å gi støtte i prosessen relatert til samhandlingstjenesten med enkel tilgang til de underliggende tjenestene.\n Muliggjøre for sluttbruker og sluttbrukersystemer å interagere med de underliggende tjenestene gjennom henholdsvis dialogsidene for samhandlingstjenesten eller ved hjelp av de eksterne grensesnittene.\n Starte en tjeneste fra tjenestekatalogen som inngår som underliggende tjeneste til en samhandlingstjeneste, og deretter bli presentert med valget om man i stedet skal starte en ny eller åpne en eksisterende samhandlingstjeneste.\n Forårsake tilstandsoverganger som følge av de definerte hendelsene for tilstandsmaskinen.\n Muliggjøre at tjenesteeierssystemer kan sende merknader til saken og underliggende forekomster av tjenesteutgavene som inngår i sakens samhandlingstjeneste.\n Muliggjøre at tjenesteeierssystemer kan sende hendelser til den bestemte saken, eller til alle saker for en bestemt utgave og versjon av samhandlingstjenesten, gjennom eksternt grensesnitt.\n  Merk at en arkivert samhandlingstjeneste ikke vil være tilgjengelig i tjenesteeiers arkiv, kun i brukers arkiv.\nTjenester i forhold til bruk av samhandlingstjenester Nedenfor beskrives funksjonalitet for samhandlingstjenester som kan benyttes av tjenesteeiere.\nInstansier en samhandlingstjeneste I de tilfellene en tjenesteeier ønsker å instansiere en samhandlingstjeneste (typisk knyttet til abonnementsinstanseriering) så kan en velge å instansiere en samhandlingstjeneste for en bruker/kunde.\n   Tjeneste Operasjon Type     CaseAgencySystem InstantiateCollaborationAgencySystem Basic/WS/EC    Samtlige parametere i operasjonen unntatt visibleDateTime og dueDate må sendes inn for å få opprette en sak. visibleDateTime kan benyttes for å sette når samhandlingstjenesten vil være synlig for brukeren frem i tid, om denne ikke angis vil tjenesten være synlig umiddelbart.\nFunksjonelt vil InstantiateCollaborationAgencySystem returnere en referanse til instansen som ble opprettet, caseID. Denne caseID må benyttes av tjenesteeieren på andre tjenester som ønsker å kommunisere med den opprettede instansen. Skulle en time-out oppstå vil ikke samhandlingstjenesten instansieres siden tjenesten er transaksjonshåndtert.\nFor flere detaljer rundt kontrakten vennligst se kapittel 9.10.1, Tjenestekatalog og WSDL.\nHente ut kjørende instanser av samhandlingstjenester Hvis en tjenesteeier har valgt å ikke lagre case ID fra et tidligere grensesnitt (mottatt innsendingstjeneste eller instansiert samhandlingstjeneste) og mottar oppgaver på papir, så kan den utføre oppslag mot Altinn for å finne eventuelle saker (samhandlingstjenesteinstanser). Andre tilfeller der dette kan være aktuelt er hvis en annen tjenesteeier, eller brukeren selv, har instansiert samhandlingstjenesten.\n   Tjeneste Operasjon Type     CaseAgencySystem GetCaseListAgencySystem Basic/WS/EC    GetCaseListAgencySystem kan brukes til to formål:\n Hente ut caseID, tilstand og merknad for kjørende instanser av samhandlingstjenester for bestemt fødselsnummer/organisasjonsnummer (reporteeNumber), tjeneste (externalServiceCode) og tjenesteutgave (externalServiceEditionCode).\n Hente ut caseID, tilstand og merknad for kjørende instanser av bestemt type samhandlingstjeneste basert på tjeneste (externalServiceCode) og tjenesteutgave (externalServiceEditionCode).\n Hente ut tilstand og merknad for bestemt sak basert på fødselsnummer/organisasjonsnummer (reporteeNumber) og CaseID (caseID) For punkt 1 og 2 må parametrene externalServiceCode og externalServiceEditionCode angis, mens parameter caseID må benyttes for punkt 3. Om parameter languageID ikke angis, eller forespurt språk ikke støttes vil språkavhengige returverdier returneres på tjenestens satte standardspråk. Alle andre parametere er obligatoriske og må angis.\n  Operasjonen returnerer informasjon om samhandlingstjenestens unike identifikator, CaseID, navnet på tjenesten, CaseName, og eventuelt om det er satt noen merknader på samhandlingstjenesten ved å returnere den unike identifikatoren, NoticeTemplateID. I tillegg returneres det informasjon om samhandlingstjenestens tilstand i form av visningsvennlig navn basert på språkparameter, CurrentStateFriendlyName, unik identifikator for tilstanden, CurrentStateID, og tilstandens navn, CurrentStateName. Alle disse er definert for tjenesten i TUL.\nCaseID vil kunne benyttes i andre operasjoner mot Altinn, enten alene som for eksempel ved å instansiere en innsendingstjeneste som skal knyttes til samhandlingstjenesten via operasjonen SubmitAndInstantiatePrefilledFormTask (se 8.1.1 og 9.6.1), eller sammen med informasjon om tilstand til å registrere en hendelse for samhandlingstjenesten via operasjonen NotifyEventAgencySystem (se 8.6.1.6 og 9.10.3).\nVennligst observer at hvis en bruker har instansiert flere forekomster av samme samhandlingstjeneste så vil ikke bare én forekomst returneres og derfor må tjenesteeieren basert på tilstand og merknad kunne identifisere den riktige instansen. Rent teknisk kan også tjenesteeiere ha opprettet flere instanser av samme tjenesteutgave om ønskelig. For flere detaljer rundt kontrakten vennligst se kapittel 9.10.2, Tjenestekatalog og WSDL.\nKnytte innsendingstjeneste til sak En tjenesteeier kan forhåndsinstansiere en innsendingstjeneste for en bruker og samtidig knyttet denne til en løpende sak. Dette gjøres ved å sende med den valgfrie parameteren Case ID i operasjonskallet for operasjonen SubmitAndInstantiatePrefilledFormTask. For mer informasjon se Innsendingstjenester (8.1) og operasjonen SubmitAndInstantiatePrefilledFormTask (9.6.1).\nKnytte meldingstjeneste til sak En tjenesteeier kan velge å knytte en meldingsatjeneste til en løpende sak. Dette gjøres ved at den valgfrie parameteren Case ID benyttes i operasjonskallet for meldingstjenesten. For mer informasjon se Meldingstjenester (8.2) og operasjonen InsertCorrespondenceV2 (9.4.1).\nSett merknad på sak eller underliggende tjeneste Ved å sette merknader på tjenester, kan tjenesteeier formidle informasjon til sluttbruker om samhandlingstjenester. Tjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     CaseAgencySystem SetNoticeAgencySystem Basic/WS/EC    Obligatorisk parameter reporteeElementID angir hvilken sak (Case ID), eller tilordnet tjeneste (innsendingstjeneste, meldingstjeneste, innsynstjeneste (kun arkivert)) merknaden skal settes på. Settes merknad på en tilordnet tjeneste som er arkivert (innsendingstjeneste, meldingstjeneste eller innsynstjeneste) må identifikatoren prefikses med AR. Identifikatoren for samhandlingstjenesten kan ha blitt mottatt fra InstantiateCollaborationAgencySystem, en arkivert innsendingstjeneste, eller den kan hentes ved bruk av GetCaseListAgencySystem.\nAlle maler (templates) for merknader må forhåndsdefineres av tjenesteeier på samhandlingstjenesten i tjenesteutviklingsløsningen og refereres til i kallet sammen med key-value par for variabler til merknaden. Mal defineres gjennom obligatorisk parameter NoticeTemplateID. Angis det feil mal eller nøkkel for samhandlingstjenesten vil feilmelding returneres. For flere detaljer rundt kontrakten vennligst se kapittel 9.10.4, Tjenestekatalog og WSDL.\nSende hendelse til sak Tjenesteeier kan påvirke tilstanden for en samhandlingstjeneste ved å registrere en ny hendelse (Event). Et eksempel hvor dette er nyttig er dersom tjenesteeier har mottatt informasjon via en annen kanal enn Altinn (f.eks. ved papirbasert innrapportering), og derfor ønsker å flytte samhandlingstjenesten til neste tilstand.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     CaseAgencySystem NotifyEventAgencySystem Basic/WS/EC    Denne operasjonen tar en entitet av typen StateMachineEventNotificationBE som input. Denne inneholder som de fleste andre for samhandlingstjenester CaseID parameteren som da unikt identifiserer en samhandlingsinstans hendelsen gjelder. Alternativt kan tjenesteeier velge å heller spesifisere tjeneste og tjenesteutgave, via parametrene ExternalServiceCode og ExternalServiceEditionCode. I det tilfellet vil hendelsen internt i Altinn bli kommunisert til alle kjørende instanser for kombinasjonen av nevnte tjeneste og tjenesteutgave. Til sammenligning vil hendelser som skjer innad i Altinn-løsningen kun kommuniseres til den saken som trigget hendelsen.\nI de tilfellene saken er opprettet av bruker selv eller av annen tjenesteeier vil man kunne hente saks id for bestemt samhandlingstjeneste (tjeneste og tjenesteutgave) vha GetCaseListAgencySystem som beskrevet i 8.6.1.2, eller eventuelt fra en allerede innsendt innsendingstjeneste knyttet til saken.\nEvent er obligatorisk parameter for operasjonen som angir hendelsen, mens ReporteeElementID er valgfri og benyttes kun i loggsammenheng i Altinn for å knytte hendelsen opp mot et subelement (dette kan for eksempel være en identifikator for en arkivert innsendingstjeneste tilknyttet samhandlingstjenesten). Hendelsen som skal sendes bør sees i sammenheng med tilstandsmaskinen for den aktuelle samhandlingstjenesten, og de hendelser som er definert der. Merk at en hendelse ikke nødvendigvis vil trigge en tilstandsendring; følgende vil være avgjørende:\n Er hendelsen aktuell for samhandlingstjenestens nåværende tilstand?\n og, finnes betingelser knyttet til hendelsen som ikke er oppfylt?\n  Om 1. eller 2. blir evaluert til false vil det ikke skje en tilstandsendring. Tilstander, hendelser og eventuelle betingelser er alle definert i TUL for samhandlingstjenesten.\nOperasjonen returnerer en liste av StateMachineNotificationResultBE. En liste returneres om hendelsen blir sendt til flere samhandlingsinstanser basert på parametrene ExternalServiceCode og ExternalServiceEditionCode. Om hendelsen kun sendes til en samhandlingstinstans vil kun en entitet returneres. StateMachineNotificationResultBE angir identifikator for samhandlingstjenesten resultatet gjelder for (CaseID), hvorvidt det skjedde en tilstandsendring (IsStateChanged) og dens navn (CurrentStateName). I tillegg angis evt betingelse (ConditionName) og evalueringen av betingelsen (ConditionEvaluationResult). Om det skulle oppstå en feilsituasjon i tilstandsmaskinen vil parameteren HasException være angit som true. Feilinformasjon og feilkode vil da ligge i henholdsvis ExceptionDetail og ErrorCode.\nFor flere detaljer rundt kontrakten vennligst se kapittel 9.10.2, Tjenestekatalog og WSDL.\nEksempler på bruk av tjenestegrensesnitt for samhandlingstjenester De påfølgende avsnittene viser eksempler på bruka av samhandlingstjenester.\nBrukerinstansiert samhandlingstjeneste med én etat Dette eksempelet viser en enkel samhandlingstjeneste som er definert i TUL og som blir instansiert av brukeren.\nTilstandsmaskinen består av to tilstander og det er definert gjenbruk av data mellom en meldingstjeneste og siste innsendingstjeneste. Selve kopieringen av data foregår idet innsendingstjenesten instansieres.\n Figur 3 - Brukerinstansiert samhandlingstjeneste med gjenbruk av data   Etatsinstansiert samhandlingstjeneste med én etat. Dette scenarioet beskriver en samhandlingstjeneste som Skattedialogen hvor etat tar initiativ og instansierer første innsendingstjeneste for brukeren.\n Figur 4 - Etatsinstanisert samhandlingstjeneste   I forhold til forrige eksempel så er eneste forskjellen de to første kallene. Deretter fungerer systemdialogen på samme måte. I tillegg bør det nevnes at gjenbruk av data ikke kan benyttes når etaten instansierer innsendingstjeneste. Dette må i stedet løses på etatens side før innsendingstjeneste instansieres.\nBrukerinstansiert samhandlingstjeneste med to etater med kanaluavhengighet I dette eksempelet så vil en bruker velge å sende inn på papir mens selve samhandlingstjenesten er blitt startet i Altinn.\n Figur 5 - Brukerinstansiert samhandlingstjeneste med to etater med kanaluavhengighet   I dette eksempelet starter samhandlingstjenesten som i første scenario, men deretter velger en bruker å sende inn på papir. Etat 2 vil da bruke oppslagstjenesten knyttet til samhandlingstjenesten og deretter finne riktig samhandlingstjeneste. Deretter vil tilstandsmaskinen bli \u0026ldquo;oppdatert\u0026rdquo; med at oppgave er innsendt og fortsette som før.\nKvitteringer For alle forsendelser inn og ut av Altinn skapes eller oppdateres en kvittering. Kvitteringer bidrar til at tjenesteeier kan får større innsikt i livsløpet fra f.eks. opprettelse av innsending til mottak av arkivert innsendingstjeneste. Kvitteringene skaper også bedre sporbarhet i Altinn løsningen.\nFor formidlingstjenester vil det lages en hovedkvittering for den som laster opp en fil og en underkvittering for hver mottaker av filen. Hovedkvittering med underkvittering kan på den måten brukes til å danne et komplett bilde av opplasting og nedlastinger.Dette kan også benyttes som en enkel kommunikasjonskanal ved at deltakere på forsendelsen kan oppdatere kvitteringen de har fått tildelt med en ny tekst og status.\nFor samhandlingstjenester vil det ikke bli generert kvitteringer da disse ikke arkiveres til tjenesteeiers arkiv. Frittstående varsel vil heller ikke generere kvitteringer. For innsynstjenester vil tjenesteeier kunne motta kvittering for bruk av tjenesten og arkivering av tjenesten. Tjenesteutvikler vil kunne velge om det skal sendes kvittering i disse to tilfellene.\nFor å muliggjøre dette kreves det at tjenesteeier markerer sine forsendelser inn til Altinn med referanser som lagres på kvitteringen. Samme referanse benyttes ved oppslag/kvittering.\nEksempler\na) Ved satsvis innsending av abonnementsdata benyttes xml elementet ServiceOwner/Subscription/ExternalShipmentReference for angivelse av referanse.\nb) Ved sanntid overføring av abonnementsdata benyttes parameteren externalBatchId i web service metoden SubmitSubscription for angivelse av referanse.\nSe xsd referanse for aktuell dataoverføring i kapittelet om Grensesnitt – batch til Altinn, for detaljer om plassering av referanse ved satsvis overføring. For overføring i sanntid henvises det til den aktuelle web service i kapittelet om Grensesnitt – web services.\nMulige kvitteringsoperasjoner:\n Hente kvitteringer for innsendte data Kvittere for mottak av data Hente lister med kvitteringer  Kvitteringsinformasjon kan kun hentes i sanntid. For å søke opp kvitteringer brukes GetReceiptList. Har mann SendersReference evt ExternalShipmentReference vil dette spisse søket. De fleste referanser vil fungere i søkefunksjonaliteten.\nFor flere detaljer rundt kontrakten for GetReceipt, GetReceiptList og SaveReceipt vennligst se henholdsvis kapittel 9.3.1, 9.3.2 og 9.3.3, Tjenestekatalog og WSDL.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     Receipt GetReceipt Basic/WS/EC   Receipt GetReceiptList Basic/WS/EC   Receipt UpdateReceipt Basic/WS/EC    Frittstående varsel Tjenesteeier kan velge å sende frittstående varsler til personbrukere og enheter i Altinn. Dette er varsler som kan sendes til fødselsnummer eller organisasjonsnummer uten at varselet trenger å være tilknyttet en meldingstjeneste, prefill, eller utsendelse av PIN.\n   Tjeneste Operasjon Type     NotificationAgencyExternal SendStandaloneNotification Basic/WS/EC   NotificationAgencyExternal SendStandaloneNotificationV2 Basic/WS/EC   NotificationAgencyExternal SendStandaloneNotificationV3 Basic/WS/EC    Operasjonen SendStandaloneNotification benyttes for å sende de frittstående varslene. Denne operasjonen kan sende et konfigurerbart antall varsler til forskjellige brukere. For å gjøre dette benyttes parameteren standaloneNotifications som kan inneholde flere StandaloneNotification (en per varsel). For hvert varsel må følgende angis:\n ReporteeNumber angir fødselsnummer eller organisasjonsnummer varselet skal sendes til, den kan brukes til å slå opp mottakeradresse for varselet i brukerens kontaktprofil (privat samtykke) i tilfelle fødselsnummer, eller angitte kontaktpersoner på enhetsprofilen i tilfelle organisasjonsnummer.\n Service med parameterene ServiceCode og ServiceEdition fungerer som et filter på ReporteeNumber for organisasjonsnummer. Dersom disse er angitt vil varsel opprettes for de kontaktpersoner på enhetsprofilen som har satt opp at de vil motta varsel for den angitte tjenesten eller har satt opp at de vil motta alle varsler for organisasjonen, dersom de er autorisert mede lesetilgang for tjenesten for organisasjonen.\n ReceiverEndPoints benyttes til å angi en eller flere måter varselet skal sendes på (TransportType), SMS eller Email. Eventuelt kan også ReceiverAddress benyttes til å definere hvor det skal sendes, typisk da e-post adresse eller mobiltelefonnummer. Om ikke denne angis vil Altinn benytte ReporteeNumber og se etter kontaktinformasjon i brukerens eller enhetens profil.\n LanguageID og NotificationType vil sammen definere hvilken mal som skal benyttes for varselet. Denne må være forhåndsdefinert i databasen.\n TextTokens med parameteren TokenValue kan benyttes hvis valgt mal har substitusjoner definert. Substitusjoner blir gjort basert på rekkefølgen TokenValue blir angitt i forespørselen. Substitusjonene som varselsmalen har må begynne på 0 og fortsette oppover. Parameteren TokenNum har for tiden ingen funksjon og kan utelates.\n  FromAddress strengen angir fra adresse når transport type er e-post (må være på gyldig e-post format). Denne er valgfri, og hvis ikke angitt vil det for e-post varsler bli brukt en standard Altinn e-post adresse. ShipmentDateTime parameteren kan benyttes hvis varselet ønskes sendt på et senere tidspunkt, hvis ikke angis vil varselet sendes umiddelbart.\nSendStandaloneNotification tjenesten fantes i to tidligere versjon i tillegg til nyeste versjon (Versjon 3), hvorav: Versjon 1; Operasjonen returnerer ingen verdi, kun feilmeldinger. Versjon 2; Operasjonen returnerer en streng med mottakere som var reservert mot varsel, med enten en «varsel feilet» eller «varsel feilet delvis» melding. Varsel vil ses på som feilet dersom alle mottakkere var reservert og delvis feilet dersom noen, men ikke alle, mottakkere var reservert mot varsel. Versjon 3; Operasjonen returnerer et resultat-objekt SendStandAloneNotificationResult som inneholder samme return melding som fra Versjon 2, og en liste med resultater for de varsler som ble levert. I disse resultatene er følgende angitt:\n NotificationType inneholder NotificationType fra det originale varselet som ble levert. Brukes til å identifisere hvilket levert varsel resultatet tilhører.\n ReporteeNumber inneholder ReporteeNumber fra det originale varselet som ble levert. Brukes til å identifisere hvilket levert varsel resultatet tilhører.\n EndPoints er en liste med mottakere som mottok varsel. Hvert mottakker objekt inneholder følgende verdier:\n Name er navn på mottaker der dette er tilgjengelig. ReceiverAddress er addressen varselet vil leveres til. TransportType er hva slags transport varsel levers på. RetrieveFromProfile beskriver om mottakker ble hentet fra en organisasjon eller brukers profil.   For flere detaljer rundt kontrakten vennligst se kapittel 9.11.1, Tjenestekatalog og WSDL.\nAutorisasjonsfunksjonalitet for tjenesteeiere Altinn 2 versjon 2 tilbyr at eksterne løsninger kan benytte Altinn som autorisasjons komponent. Dette betyr at eksterne system kan definere eksterne ressurser og regler tilknyttet disse. Deretter kan eksterne systemer verifisere at bruker har tilgang til ressurs. Tjenestene kan aksesseres fra tjenesteeierssystem fra gyldig ip-adresse.\nVerifiseringstjenesten kan også benyttes til å autentisere en brukers tilgang til tjenesteeiers tjenester. Denne typen verifisering benytter de autorisasjonsregler som er definert på tjenesten i TUL.\nImportere eksterne regler Tjenesteeiere har mulighet til å importere eksterne ressurser og regler som senere kan benyttes eksternt til å avgjøre tilgang ved hjelp av tilgangsmekanismenen i Altinn.\n   Tjeneste Operasjon Type     AdministrationExternal ImportAuthorizationPolicy WS    ImportAuthorizationPolicy er operasjonen som tjenesteeiers system kan benytte for å importere de eksterne policyene. Operasjonen tar en XML streng som input parameter. Denne XML strengen må følge det standardiserte formatet XACML For flere detaljer rundt kontrakten vennligst se kapittel 9.8.1, Tjenestekatalog og WSDL.\nEkstern autorisasjon Tjenesteeierne har etter å ha importert eksterne regler muligheten for å gjøre kall mot Altinn for å benytte Altinns autorisasjonskomponent for autorisasjonsavgjørelser. Altinn vil motta forespørsel og ta en avgjørelse basert på de eksterne reglene og ressursene som er lagt inn. Regler som er satt i TUL på en tjeneste er også tilgjengelig for tilsvarende verifisering for å sjekke en brukers tilgang til tjenesten.\nAuthorizationDecisionPointExternal er tjenesten i Altinn II som har ansvaret for alle avgjørelser rundt autorisasjon basert på regler og roller i Altinns autorisasjonskomponent. Operasjonen AuthorizeAccessExternal tar imot en forespørsel på XACML format.\n   Tjeneste Operasjon Type     AuthorizationDecisionPointExternal AuthorizeAccessExternal WS    For flere detaljer rundt kontrakten vennligst se kapittel 9.9.1, Tjenestekatalog og WSDL.\nHente roller GetRoles er tjenesten i Altinn II som tjenesteeiere kan bruke til å hente ut roller etter angitte søkekriterier i søkeobjektet.\n   Tjeneste Operasjon Type     AdministrationExternal GetRoles WS    For flere detaljer rundt kontrakten vennligst se kapittel 9.8.2, Tjenestekatalog og WSDL.\nUthenting av tiltrodd tredjeparts logg Tjenesteeiere vil ha muligheten til å hente ut logg over alle hendelser for innsendte innsendingstjenester.\n   Tjeneste Operasjon Type     TTPArchiveAgencyExternalBasic GetAuditTrailBasic Basic    Operasjonen GetAuditTrailBasic benytter enten parameteren ReporteeNumber eller Username for å identifisere for hvilken bruker eller organisasjon det skal hentes ut for. Reportee parameteren kan da enten være et fødselsnummer eller et organisasjonsnummer, avhengig av hva man ønsker. Parameter Username brukes når man vil angi hente basert på brukervalgt brukernavn.\nVidere må parametrene FromDate og ToDate benyttes for å begrense søket – begge er obligatoriske. For å snevre søket ytterligere kan eventuelt parametrene ExternalServiceCode og ExternalServiceEditionCode benyttes.\nOperasjonen vil returnere en eller flere elementer (TTPElementBE) som angir den interne ReporteeElementID’en, resultat av integritetssjekk (IntegrirtyCheck), samt et XML element (TTPData) som vil inneholde log dataen som er registrert for den aktuelle innsendingen.\nFor flere detaljer rundt kontrakten vennligst se kapittel 9.12.1, Tjenestekatalog og WSDL.\nSluttbrukers meldingsboks En sluttbruker som logger inn i Altinn, vil kunne se en liste med sine tjenesteelementer på siden Min meldingsboks. Det er mange muligheter for å filtrere innholdet i listen, og hvert element kan åpnes på en separat side.\nEn tjenesteeier har mulighet til å presentere innholdet i sluttbrukers meldingsboks i sin egen portal/selvbetjeningsløsning. Forutsetningen er at sluttbrukeren er autentisert og føderert fra IDPorten. Uthenting av sluttbrukers meldingsboks fra Altinn kan være aktuelt for tjenesteeiere som ønsker å tilby et \u0026ldquo;min side\u0026rdquo;-konsept i sin egen løsning, uten å synliggjøre at tjenestene er implementert i Altinn.\nPresenter innhold i sluttbrukers meldingsboks – Altinn API For detaljer om hvordan innhold i sluttbrukers meldingsboks i Altinn kan presenteres i tjenesteeieres egen selvbetjeningsløsning/portal henvises det til detaljert informasjon om Altinn API som finnes på Altinnett:https://altinnett.brreg.no/Altinn-API\nTjenesteeierstyrt rettighetsregister Tjenesteeierstyrt rettighetsregister er innført som en ytterligere mulighet for tjenesteeiere å spesifisere hvem som skal ha tilgang til ulike tjenester i Altinn. Registeret vil kunne benyttes på toppen av eksisterende rolle- og rettighetsfunksjonalitet. Registeret benyttes foreløpig kun for formidlingstjenester.\nBruk av registeret vil introdusere en ekstra sjekk på hvorvidt en konkret bruker har mottatt nødvendige rettigheter av tjenesteeieren til å benytte seg av en spesifikk tjeneste. Informasjon som legges inn i registeret er nøkkelinformasjon om brukeren, tjenestekoder, og rettighet. Konkret funksjonalitet og effekt av operasjoner i registeret vil være avhengig av tjenestetype.\nRegisteret i Altinn tilbyr 3 operasjoner for å hente ut, legge til og slette regler. GetRights operasjonen vil returnere hvilke regler som ligger i registeret, AddRights og DeleteRights er operasjoner for å henholdsvis legge til nye og slette eksisterende regler. Begge de to sistnevnte operasjonen vil returnere en liste med reglene som kom inn sammen med en status for resultatet av endringen for hver regel. Operasjonen er beskrevet i mer detalj i kapittel 9.17.1, 9.17.2 og 9.17.3.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     RegisterSSRAgencyExternal GetRights Basic/WS/EC   RegisterSSRAgencyExternal AddRights Basic/WS/EC   RegisterSSRAgencyExternal DeleteRights Basic/WS/EC    BatchLogging Tjenesteeiere som har levert inn data filer-til behandling har mulighet til å sjekke status og historikk ved å bruke BatchLogging tjenesten i Intermediary.\n   Tjeneste Operasjon Type     BatchLoggingAgencyExternal GetStatusOverview Basic/WS/EC   BatchLoggingAgencyExternal GetDetailedStatus Basic/WS/EC   BatchLoggingAgencyExternal GetDataItem Basic/WS/EC    Status henting er delt opp i 3 nivåer.\nGetStatusOverview henter ut en liste med alle DataBatcher (en levert fil er en DataBatch) som er behandlet basert på søke-kriteria som Tjenesteeier leverer. Denne listen inneholder metadata for filen, og antall feil som er opplevd under behandling av filen.\nGetDetailedStatus henter ut tre lister. Listen med DataBatcher som er blitt behandlet, en liste med de DataItems (Xml objektene som filen består av) som har opplevd feil under behandling og en liste med Issues som er opplevd under behandling. Et Issue refererer til DataItem og DataBatch med en Id verdier, som kan brukes til å referere mellom listene. DataItem listen vil ikke inneholde rå Xml-data.\nGetDataItem henter ut et enkelt DataItem basert på Id. DataItem inneholder metadata og rå Xml-data.\n"
},
{
	"uri": "https://altinn.github.io/docs/guides/mapperutvikling/utviklingshandbok/utvikling/",
	"title": "Mapper-utvikling",
	"tags": [],
	"description": "Beskrivelse av hvordan man utvikler",
	"content": " Utvikle mappere En mapper utvikles i prosjektet Services. Dette er et .NET 3.5 prosjekt som inneholder en WCF-tjeneste med tilhørende tjeneste- og datakontrakt. I tillegg er det noen støtteklasser som kan benyttes. Strukturen i prosjektet er vist i Figur 9.\nFigur 9: Services-prosjektet til en mapper\nHente kildekode Altinn benytter Team Foundation Server til versjonskontroll. De nødvendige verktøyene for å kunne sjekke inn og ut kode er tilgjengelig direkte i Visual Studio. For å sjekke inn eller ut kode kan dette gjøres ved å høyreklikke på solution\u0026#39;et eller prosjektet og velge ulike handlinger der.4 Hvordan man skal koble seg til Altinn sin Team Foundation Server er beskrevet i vedlegg H i dokumentet TR435 Brukerveiledning TUL.\nFigur 10: Kildekode for Testdepartementet\nNår man har fått sjekket ut koden vil Visual Studio sin Source Control Explorer se ut slik som Figur 10. Her kan man navigere rundt i kildekoden og se på filene eller jobbe videre med de lokalt. Her ser man Testdepartementet og felleskomponentene i Common. Tjenesteeier sitt område vil også vises her. For å åpne mapperen til testdepartementet navigerer man inn til Foererkort-mappen som vist her og åpner Altinn.TTD.Foererkort.Mapper.sln. Dette vil åpne mapper-solutionen i Visual Studio.\nMapperene er organisert i et hierarki med de ulike tjenesteeierene som toppnoder. Innenfor hver tjenesteeier kan det være ulike funksjonsområder med en dedikert mapper. I testdepartementet TTD er funksjonområdet Førerkort realisert med en mapper som vist i Figur 10.\nDefinere Service Contract Det første man gjør når man skal utvikle en mapper er å definere tjenestekontrakten for mapperen. Dette gjøres ved å opprette en Service Contract i filen «IMapper.cs». Dette er et interface som beskriver hvilke operasjoner som skal være tilgjengelig på tjenesten. For å angi at interfacet er en WCF-tjenestekontrakt må ServiceContract-attributtet angis. Her må også mapperen sitt namespace angis.\nAlle operasjonene som skal være tilgjengelig på tjenestekontrakten opprettes som metoder i interfacet og markeres med attributtet OperationContract. Alle operasjoner må ta inn et forespørsel-objekt og returnere et respons-objekt. Disse objektene må navngis med «Forespoersel» og «Respons» postfiks.\nEksempel fra Testdepartementet I Figur 11 er det vist et eksempel på en slik tjenestekontrakt. Her defineres «GetMidlertidigKjoeretillatelse». Denne tjenesten tar inn et forespørsel-objekt og returnerer et respons-objekt. Disse blir forklart nærmere i Kapittel 4.3.1. Eksempelkoden for testdepartementet finnes i TFS på stien $/TTD/Mappers/Foererkort/.\nFigur 11: Eksempel på tjenestekontrakt.\nDefinere datakontrakter All informasjon som skal overføres med WCF-tjenester må angis med datakontrakter. Dette er vanlige kodeklasser som markeres med DataContract-attributter. Klassene skal ligge i filen «Transfer.cs». Variabler med DataMember-attributter angir data som skal overføres. Det er fullt mulig å angi komplekse datastrukturer ved å opprette hierarkiske datakontrakter som vist i kapittel 4.3.1. Forespørsler skal navngis med Forespoersel-postfiks og Respons-objekter med Respons-postfiks, og det er en begrensning på maks 2MB overført data per kall.\nEksempel fra Testdepartementet Testdepartementet sin tjeneste mottar et TillatelseForespoersel-objekt som angir fødselsnummeret for den brukeren som skal ha midlertidig kjøretillatelse. Dette vises i Figur 12.\nFigur 12: Eksempel på forespørsel-obekt.\nNår forespørselen om midlertidig kjøretillatelse er behandlet returneres det et respons-objekt som vist i Figur 13. Dette inneholder et tillatelse-objekt og en tekststreng som viser statusen på tillatelsen. Tillatelse-objektet inneholder igjen en Adresse. På denne måten kan dataene struktureres på en intuitiv måte slik at skjemautviklerene lett kan presentere informasjonen.\nFigur 13: Eksempel på respons-objekt med og hierarkisk datakontrakt\nKoble til etat-systemet Når man skal koble seg til et etatsystem fra en mapper må denne ha en tjenestereferanse til den tjenesten som skal benyttes. Referansen settes opp ved å følge oppskriften som er gitt i kapittel 3.1.5. Adressen avhenger av etatsystemet men kan for eksempel se slik ut:\nhttps://altetat.brreg.no/ttd-war/PortalServices\nNår man kobler seg til etatsystemet vil Visual Studio oppdatere app.config med en del konfigurasjon. Denne konfigurasjonen må også legges til i de konfigurasjonsfilene som installeres på Altinn sine servere. Dette er beskrevet nærmere i kapittel Feil! Fant ikke referansekilden..\nDatakonvertering En mapper er i sin enkleste form tilgjengeliggjøring av en etat-tjeneste som en tjeneste i Altinn. For at informasjon skal kunne flyte gjennom mappere må det derfor konverteres mellom mapperens og etatsystemenes datakontrakter. Konverteringen må settes opp fordi det ikke er ønskelig at tjenesteeier sine datakontrakter benyttes som datakontrakter for mapperen. Ved å separere kontraktene på denne måten sikrer man at endringer i tjenesteeier sine kontrakter ikke påvirker mapperene sine kontrakter og dermed også skjemaene i Altinn. Det andre aspektet er at det å benytte etatens kontrakter som mapperenes kontrakter er uheldig og komplisert. Noen etatsystem tilgjengeliggjør sine tjenester med svakt typet data. Dette er i noen tilfeller nødvendig på grunn av etatsystemets funksjonalitet eller tekniske begrensninger eller krav. Dette er noe som bør unngås dersom det ikke er spesielle årsaker for siden det da kan komplisere utvikling og testing av mapperen.\nKonverteringen gjøres i filen Utility.cs. Her må det implementeres en klasse som heter Converter. Denne klassen inneholder et sett med convert-metoder som konverterer mellom de ulike datakontraktene.\nFigur 14: Eksempel på Converter-klasse fra Testdepartementet\nImplementere mappertjenesten Selve implementasjonen av mappere gjøres i Mapper.cs. Her er klassen Mapper som implementerer tjenestekontrakten IMapper. Eksempelet i Figur 15 viser en enkel implementasjon av en mapper. Her er blant annet logging utelatt. For et fullverdig eksempel, se Figur 21.\nFigur 15: Implementasjon av en mapper\nI Figur 15 er det brukt noen syntaks-elementer som er særegent for .NET. Dette er typen var og block-statement\u0026#39;en using.\nTypen var er en uspesifisert variabeltype som kompilatoren bytter ut med korrekt type under kompilering. I Figur 16 er det vist to kodelinjer som resulterer i samme kompilerte kode. Linje nummer to benytter var-typen. Som det vises av eksempelet gjør var at utvikleren ikke trenger å spesifisere type-informasjonen to ganger. Var er altså kun syntaktisk sukker som gjør utviklingen enklere.\nFigur 16: Bruk av typen var\nBlockstatementen using benyttes for å sikre at begrensede ressurser frigis etter bruk. Dette er også kun syntaktisk sukker som sikrer at Dispose-metoden blir kalt etter at en ressurs er benyttet. To ekvivalente eksempler er vist i Figur 17.\nFigur 17: Bruk av using-statement\nLogging For å kunne overvåke og feilsøke mapperen under utvikling og i produksjon er det viktig at den logger viktige hendelser. Dette inkluderer tjenestekall og feilsituasjoner. Gode logger gjør det enklere å få innsikt i tilstand og ytelse, samt identifisere feilen dersom det skulle oppstå problemer.\nLogging gjøres ved bruk av klassen Trace som er standardfunksjonalitet i .NET-rammeverket. Her kan man spesifisere ulike typer logginnslag gjennom bruk av metodene TraceInformation, TraceWarning og TraceError. Metodene funger likt, men vil markere logginnslaget med ulik alvorlighetsgrad. Hver mapper har sin egen loggfil. I testmiljøet TT02 er denne loggfilen tilgjengeliggjort på deployment-sharet som er beskrevet i kapittel 6.\nFor å skru på at Trace skal logges må dette konfigureres i tjenestens config-fil. Dette gjøres som vist i Figur 18.\nFigur 18: Konfigurering av Trace i config-fil\nI Figur 19 er metoden TraceInformation brukt på ulike måter. Alle tre eksemplene bygger opp en formatert streng som viser dagens dato.\nFigur 19: Ulike måter å skrive ut Trace-informasjon\nI mappere bør man benytte standard oppsett på logginnslagene slik at det er lett å lese loggene i etterkant.\nEt forslag til slikt format er gitt i eksempelet. Her er det fire parametere som benyttes. Det første angir tidspunktet for logginnslaget. Det neste viser kilden i form av metodenavnet. Deretter følger type innslag og verdien. Når man leser loggen kan man da velge å filtrere på ulike typer kilder, innslagstyper og dato.\nFigur 20: De ulike delene av logging i en mapper\nI eksempelet er logging inkludert i mapperimplementasjonen. Her logger man alle tjenestekall som gjøres, samt logger alle feilmeldinger som kastes dersom etatsystemet returnerer feil.\nFigur 21: Fullstendig implementasjon av en mapper\nI eksempelet i Figur 21 fanges alle feilmeldinger med den generelle try-catchen for Exception. Dette vil sikre at det ikke lekker feil ut fra denne kodeblokken, men det vil samtidig skjule verdifull informasjon fra feilloggen. Det kan derfor være lurt å skille på ulike feil slik at man får et mer differensiert bilde av hva som går feil hvis det skulle inntreffe. En try-catch-sekvens fungerer slik at feilen vil fanges i den første catch\u0026#39;en som dekker den aktuelle feilen. Rekkefølgen må derfor være fra mest til minst spesifikk. Et anbefalt minimum er sekvensen FaultException, CommunicationException, TimeoutException og til slutt Exception for å fange alle overskytende feilmeldinger.\nFigur 22: Feilhåndtering av spesifikke feilmeldinger\nRammeverk for fellesfunksjonalitet En mapper har tilgang til en del fellesfunksjonalitet. Dette er samlet i Altinn.Common.dll. Denne må legges til i Services-prosjektet som en assembly-referanse. Den samme prosessen må gjøres for to andre assemblys som Altinn.Common er avhengig av. Assemblyene ligger på følgende plassering i versjonskontrollsystemet:\n $/Common/\u0026lt;siste tilgjengelige versjon\u0026gt;/lib/Altinn.Common.dll $/Common/Frameworks/entlib/4.1/bin/Microsoft.Practices.EnterpriseLibrary.Common.dll $/Common/Frameworks/entlib/4.1/bin/Microsoft.Practices.EnterpriseLibrary.Logging.dll  Konfigurasjonsparametere Dersom man har spesielle konfigurasjonsparametere man ikke ønsker å kode inn i en mapper, men heller tilgjengeliggjøre i konfigurasjonsfiler kan dette gjøres ved bruk av AppSettings-seksjonen i konfigurasjonsfilen som vist i Figur 23. Dette er et enkelt «key-value» oppsett der man kan angi verdier som kan hentes ut basert på en oppslagsverdi i koden.\nFigur 23: AppSettings i config-fil\nFor å hente ut igjen slike verdier benyttes ConfigurationManager som vist i Figur 24.\nFigur 24: Hente verdier fra AppSettings\nVersjonskontroll Altinn benytter som nevnt tidligere, Team Foundation Server til versjonskontroll. De nødvendige verktøyene for å kunne sjekke inn og ut kode er tilgjengelig direkte i Visual Studio. For å sjekke inn kode kan dette gjøres ved å høyreklikke på solutionen eller prosjektet og velge ulike handlinger der.5 For å sjekke inn kode velger man «Check In» som vist i 26.\nSjekke inn kode Figur 25: Sjekke inn kode\nDette vil åpne «Pending Changes» visningen som viser hvilke endringer som kan sjekkes inn. Her skal man også skrive inn en kommentar til innsjekken slik at det er lettere å lese versjonshistorikken. Dette er vist i 27.\nFigur 26: Endringer som skal sjekkes inn\n"
},
{
	"uri": "https://altinn.github.io/docs/guides/mapperutvikling/utviklingshandbok/testing/",
	"title": "Testing av mappere",
	"tags": [],
	"description": "Beskrivelse av hvordan man tester mappere",
	"content": " Testing av mappere Testene til en mapper skrives i prosjektet Tests. Her ligger filen UnitTests.cs som skal inneholde alle filene. Prosjektstrukturen er vist i Figur 27.\nFigur 27: Prosjektstruktur for Tests-prosjektet\nTestene vil benyttes av Altinn for verifikasjon og kodegjennomgang før installasjon, så det er viktig at testene er dekkende for funksjonaliteten. De må også kunne kjøres i TUL slik at Altinn får verifisert at de kjører feilfritt.\nKoble seg til en mapper Når man skal skrive tester mot en mapper må disse ha en tjenestereferanse til den mapperen som skal testes. Referansen settes opp ved å følge oppskriften som er gitt i kapittel 3.1.5. Eksempel på adressen som skal benyttes er vist her:\nhttp://localhost:8888/mapperservices/ttd/\nPort 8888 og mapperservices må benyttes på grunn av sikkerhetsrelaterte restriksjoner i Tjenesteutviklingsløsningen (TUL).\nSkrive tester En enhetstest er en test som kun tester en liten del eller en metode i applikasjonen. Man bør skrive så mange tester som mulig, for å sørge for at feil blir fanget opp. Når man har tester som feiler er det enkelt å se hvor i koden feilen ligger.\nMan bør teste:\n \u0026ndash;Input data. Test formatet på data som kommer fra brukere og at det er brukt riktige verdier (tall, string, spesialtegn, dato) \u0026ndash;Output data. Svar som blir sendt til brukeren, bør sjekkes. \u0026ndash;Null-verdier. Svar som blir sendt til brukeren bør ikke inneholde null verdier. Dette kan få koden til å feile. Dette gjelder spesielt for noder med undernoder i datastrukturen da utviklere ofte glemmer å håndtere nullverdier på slike steder. \u0026ndash; Sjekk om mapperen fanger opp \u0026quot;Exceptions\u0026quot;, og at brukerne får en forståelig og oversiktlig feilmelding. \u0026ndash;Man skal skrive positive og negative tester, se punkt 5.2.1 og 5.2.2  Hvordan tester skrives i .NET-rammeverket er beskrevet i kapittel 3.2.\nPositive tester Når man lager positive tester gir man systemet korrekte data å teste med. Dette tester såkalt «happy-path» der systemet får forventede data og da skal returnere gyldige svar. Figur 29 viser et eksempel på en positiv test.\nFigur 28: Eksempel på en positiv test fra Testdepartementet.\nNegative tester Negative tester lages for å avsløre hvordan mapper opptrer når feil/ulovlige input parametre er anvendt. Eksempler på slike parametere kan være tekst i datofelt, negative årstall og null-verdier.\nFigur 29 viser et eksempel på en negativ test. Det blir sendt inn feil fødselsnummer og det forventes at tjenesten setter statusen til noe annet enn OK.\nFigur 29: Eksempel på negativ test\nDokumentere testene Det er viktig at testene blir dokumentert. Når testen er nøye dokumentert og det er beskrevet hva som forventes av testen. Blir det enklere å vedlikeholde testene og mapperene senere.\nLegg til kommentarer på hver av testmetodene. Kommentaren bør beskrive: - Hvilken mappertjeneste testmetoden tester. - Beskrive hva mappertjenesten gjør. - Beskriv hva som er hensikten med testmetoden.\n"
},
{
	"uri": "https://altinn.github.io/docs/guides/samtykke/datakonsument/",
	"title": "For datakonsument",
	"tags": [],
	"description": "Utføres av datakonsument",
	"content": "Personer eller organisasjoner kan gjennom Altinn gi samtykke til at data om dem kan deles mellom datakilder (f.eks Skatteetaten) og datakonsumenter (offentlige og private enheter).\nSiden selve flyten av data går utenom Altinn så må datakonsumenten avtale kommunikasjonsform med datakilden. Datakilden og datakonsumenten står fritt til å velge kommunikasjonsform og det kan for eksempel være via webservice, REST eller FTP.\nInformasjon til datakonsumenter om betjeningskonsept og varsling av drifthendelser i Altinn finnes på Altinnett\n\rKomme i gang\r\rForutsetninger for å ta i bruk samtykketjenesten\n\rBe om samtykke\r\rHvordan sende sluttbruker til samtykkesiden i Altinn\n\rHente token\r\rHvordan veksle inn autorisasjonskode i token\n\rTest av samtykke\r\rTest av samtykketjeneste i Altinn sitt testmiljø\n\r"
},
{
	"uri": "https://altinn.github.io/docs/guides/sluttbrukersystem/grensesnitt/",
	"title": "Grensesnitt",
	"tags": [],
	"description": "Webservice operasjoner med beskrivelse",
	"content": "  I parameter listene under finnes en del parametere som er formater med italic. Disse er interne for Altinn og vil bli fjernet eller endret til noe som gir mer mening for eksternt som en del av en forbedring på alle kontrakter jfr. forbedringspunkt Prod100006098 – Disse er heller ikke kommentert\nReporteeArchiveExternal    Tjenesteoperasjon Kort beskrivelse     GetArchivedFormTask Henter alle skjema og vedlegg for et arkivert skjemasett.   GetAttachmentData Henter de binære vedleggene til et arkivert element   GetArchivedLookup Henter en arkivert innsynstjeneste    Se avsnittet URI til alle Altinn tjenester / aliasoversikt for endepunkter kapittel 8.3 for informasjon om endepunkter for tjenesteoperasjonene.\nReporteeArchiveExternal.GetArchivedFormTaskV2 Denne operasjonen henter alle skjema og vedlegg for et skjemasett arkivert i Altinn. Operasjonen er versjonert, gjeldende versjon er V2.\nTabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     reporteeElementId Unik identifikator for et element i arkivet.   languageID Språk id. Benytt verdien 0 (uspesifisert) da skjemasett vil hentes med språket den ble arkivert med. Språk id: 1033-English, 1044-Bokmål, 1083-Samisk, 2068- Nynorsk   Returverdi Beskrivelse   archivedFormTask Et arkiv objekt (ArchivedFormTaskBEV2) som inneholder alle detaljer for skjemasettet.    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     ArchivedFormTaskBEV2    ReporteeElementID Unik identifikator for skjemasettet i Altinn   LastChanged Dato og tidspunkt for når skjemasettet sist var endret (yyyy-MM-ddThh:mm:ss)   ReporteeID Unik identifikator for avgiver i Altinn som skjemasettet tilhører   ArchivedDateTime Dato og tidspunkt for når skjemasettet ble arkivert (yyyy-MM-ddThh:mm:ss)   ServiceOwner Tjenesteeier som tilbyr tjenesten som skjemasettet tilhører   InvoiceInformation Betalingsinformasjon tilknyttet skjemasettet, desimaltall   ArchivedFormList Liste med arkiv-objekter (ett objekt av typen ArchivedFormBE per skjema i skjemasettet), som inneholder detaljer for skjemaene i skjemasettet   ArchivedAttachmentList Liste med Arkiv-objekter (ett objekt av typen ArchivedAttachmentBE per vedlegg i skjemasettet), som inneholder detaljer for vedleggene i skjemasettet.   ArchivedFormTaskSigningStepList Liste med arkiv-objekter av typen ArchivedFormTaskSigningStepBE, som inneholder signeringsinformasjon for hvert signeringssteg for skjemasettet.   ExternalServiceCode Tjenestekode (for eksempel ”PSA”) for tjenesten som skjemasettet tilhører.   ExternalServiceEditionCode Tjenesteutgavekode (for eksempel ”2009”) for tjenesten som skjemasettet tilhører.   ssnOrgNumber Inneholder enten fødselsnummer eller organisasjonsnummer tilhørende ReporteeID   PasswordEncryptedSymmetricKey Passordkryptert symmetrisk nøkkel for å dekryptere eventuell sensitive felter.   SOEncryptedSymmetricdKey Samme symmetriske nøkkel som over, men kryptert med tjenesteeiers sertifikat. Tjenesteeier kan da bruke privat nøkkel til å dekryptere denne nøkkelen.   ArchiveTaskList Liste med arkiv-objekter av typen ArchiveTaskBEV2.   ArchivedFormBE    FormID Unik identifikator for skjemaet i Altinn   FormName Navn på skjemaet   FormDataXML XML som inneholder selve skjemadataene.   ParentReference Referanse til hovedskjemaets FormID (dersom skjemaet er et underskjema).   FormPresentationFieldValue Presentasjonsfeltverdi for skjemaet.   PaymentInformationE2B E2B-formatert kvittering for skjemaet.   PaymentInformationHTML HTML-formatert kvittering for skjemaet.   DataFormatId Den unike id for et spesifikt skjema, dette er typisk gitt av metadata leverandør   DataFormatVersion Versjonen av en gitt DataFormatID, som sammen med den gir et unikt skjema (spesifikasjon)   FormPaymentInfo Betalingsinformasjon vedlagt skjemaet.   FormSummary Beskrivelse av skjemaet   ArchivedAttachmentBEV2    AttachmentID Unik identifikator for vedlegget i Altinn.   AttachmentName Navn på vedlegget.   FileName Navn på fil for vedlegg.   AttachmentData Innholdet/dataene i vedlegget.   CreatedDateTime Dato og tidspunkt for når vedlegget ble opprettet (yyyy-MM-ddThh:mm:ss).   SendersReference Referanse satt av sluttbruker- eller etatssystem som har sendt vedlegget.   IsEncrypted Boolsk verdi som sier om vedlegget er kryptert   ArchivedFormTaskSigningStepBEV2    SignatureID Unik identifikator for signaturen i Altinn.   SignedByUser Unik Altinn id på bruker som har gjennomført signering   SignedByUserSSN Fødselsnummer til bruker som har gjennomført signering   SignedByUserName Navn på bruker som har gjennomført signering.   CreatedDateTime Dato og tidspunkt for når signeringen ble gjennomført (yyyy-MM-ddThh:mm:ss).   Signature Signaturen, binært formatert.   SignatureText Tekst for signatur.   AuthenticationLevelID Unik Altinn id for autentiseringnivået for signaturen   AuthenticationMethod Unik Altinn id for autentiseringsmetoden til brukeren ved signering.   CertificateIssuedByName Hvem som har utsted det eventuelle sertifikat som ble brukt ved signering   CertificateIssuedForName Hvem dette sertifikatet har blitt utstedt til.   CertificateValidFrom Når er sertifikatet gyldig fra   CertificateValidTo Når er sertifikatet gyldig til   SignedAttachmentList Liste med AttachmentIDs for vedlegg som er signert med denne signaturen.   SignedFromList Liste med FormIDs for skjemaer som er signert med denne signaturen.   IsSigningAllRequired Angir om signering er utført for alle elementer i skjemasett: YES – signering på alle skjema. NO – valgfri signering på skjema. SET_PER_FORM – valg for signering satt på skjema nivå   ProcessStepID Den unike identifikatoren for steget signaturen gjelder for   ArchiveTaskBEV2    EndUserSystemID Sluttbrukersystem identifikator.   LastChanged Angir dato for sist endring.   NumberOfSignaturesAdded Antall signaturer som er lagt til.   ProcessStepID_FK Intern ID for prosessteg.   SentComplete Angir om element ble sent som komplett fra sluttbrukersystem.   TaskID Identifikator for elementet, samme som ReporteeElementID   UserDefinedNumberOfSignaturesRequired Antall signaturer krevd for et evt brukerstyrt signeringssteg.   WorkflowReference Intern ID forarbeidsflyt.    ReporteeArchiveExternal.GetAttachmentDataV2 Denne operasjonen benyttes for å hente ut data for ett gitt vedlegg. Operasjonen er versjonert, gjeldende versjon er V2.\nTabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     AttachmentID Unik identifikator for et vedlegg   Returverdi Beskrivelse   Attachment Binær vedlegg objekt av typen AttachmentBEV2 som inneholder alle detaljer for et vedlegg.    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     AttachmentBEV2    AttachmentID Unik identifikator for vedlegget i Altinn   AttachmentName Navn på vedlegget.   FileName Navn på fil for vedlegg.   AttachmentData Innholdet/dataene i vedlegget.   CreatedDateTime Dato og tidspunkt for når vedlegget ble opprettet (yyyy-MM-ddThh:mm:ss).   SendersReference Referanse satt av sluttbruker- eller etatssystem som har sendt vedlegget.   IsEncrypted Boolsk verdi som sier om vedlegget er kryptert.   AttachmentTypeID MIME-typen for vedlegget   AttachmentFunctionTypeID Angir funksjon for vedlegget: Invoice, Unspecified   ReporteeElementID Referanse til element (skjemasett eller melding) som vedlegget tilhører. Unik id i Altinn.   CreatedByUserID Bruker id for bruker som har lagt ved vedlegget.   IsAddedAfterFormFillin Angir om vedlegget er lagt til etter utfylling.   IsAssociatedToFormSet Angir om vedlegget er knyttet til skjemasett eller ikke – brukes for å slette vedlegg som er lastet opp men ikke lagt til skjemasettet.   DestinationType     ReporteeArchiveExternal.GetAttachmentDataStreamed Denne operasjonen benyttes for å hente ut data for ett gitt vedlegg i det tilfelle vedlegg er større en 30MB. GetAttachmentData må kalles for å få detaljene om den binær filen returnerte av denne metoden.\nTabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     AttachmentID Unik identifikator for et vedlegg.   Returverdi Beskrivelse   Attachment Stream som inneholder et binær vedlegg.    ReporteeArchiveExternal.GetArchivedLookup Denne operasjonen benyttes for å hente en arkivert innsynstjeneste.\nTabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     userSSN Brukes fødselsnummer. Til bruk både til autentisering og evt. signering   userPassword Brukes passord. Til bruk både til autentisering og evt. signering   userPinCode Pinkode. Til bruk både til autentisering og evt. signering   authMethod Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er: AltinnPin, TaxPin, SMSPin   reporteeElementId Referanse til innsynstjenesten som skal hentes.   languageID Språkkode for det språket innsynstjenesten skal hentes med. Språk id:1033-English, 1044-Bokmål, 2068-Nynorsk   Returverdi Beskrivelse   archivedLookup Objekt av typen ArchivedLookupExternal som inneholder informasjon om innsynstjenesten    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     ArchivedLookupExternal    AllowForwarding Angir om innsynstjenesten kan videresendes i portalen.   ArchiveDateTime Angir dato for når innsynstjenesten ble arkivert.   LanguageTypeId Språkkoden.   LookupID Unike identifikatoren for denne innsynstjenesten, samme som ReporteeElementId.   LookupPDF Entitet av typen AttachementBEV2 som inneholder data og metadata om PDF.   AttachmentBEV2    AttachmentID Ikke satt.   AttachmentName Navn på vedlegget.   FileName Navn på fil for vedlegg.   AttachmentData Innholdet/dataene i vedlegget.   CreatedDateTime Ikke satt.   SendersReference Ikke brukt i dette tilfellet.   IsEncrypted Ikke brukt i dette tilfellet.   AttachmentTypeID MIMEMIME-typen for vedlegget, en enum men vil alltid i dette tilfellet være satt til: application_pdf-PDF   AttachmentFunctionTypeID Angir funksjon for vedlegget, satt til Unspecified   ReporteeElementID Referanse til den arkiverte innsynstjenesten. Unik id i Altinn.   CreatedByUserID Ikke satt.   IsAddedAfterFormFillin Ikke brukt i dette tilfellet.   IsAssociatedToFormSet Ikke brukt i dette tilfellet.   DestinationType Enum, men ikke brukt i dette tilfellet.    IntermediaryInbound    Tjenesteoperasjon Kort beskrivelse     GetAltinnSubmissionStatus Kalkulerer og returnerer estimert tid for når en oppgave sendt til Altinn vil være ferdig prosessert   SubmitFormTask Lar et sluttbrukersystem sende et skjemasett til Altinn   CompleteAndSign Lar et sluttbrukersystem komplettere og signere et skjemasett i Altinn    Se avsnittet URI til alle Altinn tjenester / aliasoversikt for endepunkter kapittel 8.3 for informasjon om endepunkter for tjenesteoperasjonene.\nIntermediaryInbound.GetAltinnSubmissionStatus Denne operasjonen kalkulerer og returnerer estimert tid for når en oppgave sendt til Altinn vil være ferdig prosessert.\nTabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     N/A    Returverdi Beskrivelse   Minutes Estimert tid (antall minutter) for når man kan forvente at en innsendingstjeneste sendt til Altinn vil være ferdig prosessert.    IntermediaryInbound.SubmitFormTask Denne operasjonen lar et sluttbrukersystem sende et skjemasett til Altinn. Operasjonen returnerer en kvittering til sluttbrukersystemet som inneholder status for innsendingen.\nVed innsending fra sluttbrukersystem tar Altinn en kopi av innsendt skjemasett og prosesserer denne kopien på liknende måte som ved innsending i SBL (portalen). Denne kopien kan modifiseres slik at felter legges til eller skrives over. Deretter utføres en sammenlikning av den originalt innsendte XML-en med sikte på å detektere feil i innsendingen, for eksempel at kalkylene stemmer overens med det som forsøkes sendt inn.\nDenne sammenlikningsprosessen er dokumentert i mer detalj i kapittel 10, Vedlegg B - Regler for sammenlikning av skjemasett.\nTabellen under beskriver datakontrakten for operasjonen.\n   userSSN Brukers fødselsnummer. Til bruk både til autentisering og evt. signering     userPassword Brukers passord. Til bruk både til autentisering og evt. signering   userPinCode Pinkode. Til bruk både til autentisering og evt. signering   authMethod Autentiseringsmetode. Til bruk både til autentisering og evt. signering   formTaskShipment Objekt av typen FormTaskShipmentBE som inneholder detaljer om forsendelsen   Returverdi Beskrivelse   Receipt Objekt av typen ReceiptExternalBE med kvitteringsinformasjon for forsendelsen.    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     FormTaskShipmentBE    Reportee Unik identifikator for avgiver for denne forsendelsen, fødselsnummer eller organisasjonsnummer   ExternalShipmentReference Referanse for forsendelsen. Referansen settes av sluttbrukersystem og kan dermed benyttes ved senere forespørsler mot Altinn for denne forsendelsen, bør derfor være unik.   FormTasks Ett objekt av typen FormTask med detaljer for skjemasettet i denne forsendelsen   Attachments Liste med vedleggs-objekter av typen Attachment som inneholder detaljer for vedlegg i forsendelsen   Signatures Objekt av typen Signature som inneholder signeringsdetaljer for forsendelsen   IsUserDelegationLocked Setter hvorvidt et brukerstyrt signeringssteg skal være låst (true) eller ikke (false). Kun betydning hvis avsender har tilstand som ”Trusted partner”.   UserDefinedNumberOfSignaturesRequired Setter hvor mange brukerstyrte signeringer det må være i et eventuelt brukerstyrt signeringssteg for dette skjemasettet   EncryptedKey Objekt av typen EncryptedKeyBE som inneholder informasjon brukt for dekryptering av sensitive felter.   CaseID ID til samhandlingstjenesten som innsendingen eventuelt skal knyttes til   FormTask    ServiceCode Unik tjenestekode for tjenesten. For å sende skjema inn i AltinnI må dette feltet være tomt.   ServiceEdition Tjenesteutgavekode. For å sende skjema inn i AltinnI må dette feltet være tomt.   Forms Liste med Form-objekter (ett for hvert skjema i oppgavesettet)   Attachment    Name Navn på vedlegg (som det vises i portal).   EndUserSystemReference Referanse for vedlegg (settes av sluttbrukersystem, bør være unik).   ParentReference Angir EndUserSystemReference for skjemaet som vedlegget hører til.   FileName Filnavn for vedlegget.   Encrypted Angir om vedlegget er kryptert.   AttachementData Selve dataene for vedlegget, byte-array.   AttachmentTypeName Angir type vedlegg for tjenester som har vedleggsvalidering og –regler   Signature    EndUserSystemReference Referanse til signaturen som ble utført i sluttbrukersystem (satt av sluttbrukersystem, bør være unik).   EndUserSystemUserId Identifikator for bruker som var logget på sluttbrukersystemet og gjennomførte signeringen.   EndUserSystemLoginDateTime Dato og tidspunkt for når bruker logget inn i sluttbrukersystem (yyyy-MM-ddThh:mm:ss).   EndUserSystemSignatureDateTime Dato og tidspunkt for når signeringen i sluttbrukersystemet ble gjort (yyyy-MM-ddThh:mm:ss).   EndUserSystemVersion Versjonsnummer for sluttbrukersystemet.   EndUserSystemSignatureLogId Unik id for logginnslag for signeringen.   Form    Completed Dette flagget indikerer at et skjema er sendt inn komplett fra et sluttbrukersystem.   DataFormatId Den unike id for et spesifikt skjema, dette er typisk gitt av metadata leverandør   DataFormatVersion Versjonen av en gitt DataFormatID, som sammen med den gir et unikt skjema (spesifikasjon)   EndUserSystemReference Referanse for skjema, satt av sluttbrukersystemet. Kan benyttes til å spørre etter kvittering på skjema ved å benytte ReferenceTypeName.SendersReference.   FormData Skjemadata. Må legges i en CDATA blokk.   DelegatedUserBE    SSN Fødselsnummer for bruker som skal signere.   Name Og etternavn til bruker som skal signere   NumberOfSignaturesAllowed Antall signaturer denne kan gjøre   EncryptedKeyBE    ReporteeSymmetricKey Objekt av typen ReporteeSymmetricKeyBE.   ServiceOwnerSymmetricKeys Objekt av typen ServiceOwnerSymmetricKeyBE.   **ReporteeSymmetricKeyBE **    Key Symmetrisk nøkkel brukt til å kryptere sensitive felter, kryptert med brukers passord.   ReporteeNumber Fødselsnummer eller organisasjonsnummer for avgiver   ServiceOwnerSymmetricKeyBE    ServiceOwnerCode Tjenesteeierkode   CertificateId Unik identifikator for sertifikatet brukt til å kryptere den symmetriske nøkkelen angitt i parameteren Key under.   Key Symmetrisk nøkkel brukt til å kryptere sensitive felter, kryptert med tjenesteeiers sertifikat.   ReceiptExternalBE    ReceiptId Unik identifikator kvitteringen i Altinn. Benyttes for eksempel for senere uthenting av status/kvittering.   ReceiptText Tekst i kvitteringen.   ReceiptHistory Når en kvittering oppdateres så vil den gamle kvitteringsteksten flyttes og legges til øverst i denne historikken,   LastChanged Dato og tidspunkt for når kvitteringen sist ble endret (yyyy-MM-ddThh:mm:ss).   ReceiptTypeName    ReceiptTypeName Angir hva kvittering gjelder. Mulige verdier: FormTask - Skjemasett, Correspondence - Melding, PINCODE - PIN-koder, Subscription - Abonnement, Outbound - Forsendelse sendt fra Altinn, PreFill - Preutfyllingsdata, RegisterDLS - DLS registerdata, RegisterDSF - DSF registerdata, RegisterER - ER registerdata, RegisterDSFProperty, RegisterDSFStreet, RegisterDSFCountry, RegisterDSFUser, LookUp - Innsynstjeneste   ReceiptStatusCode Status for forsendelse som kvitteringen gjelder: OK, UnExpectedError, ValidationFailed, Rejected   ParentReceiptId Dersom denne kvitteringen er en av flere kvitteringer for en forsendelse vil ParentReceiptId vise til ReceiptId som gjelder for hele forsendelsen (hovedkvittering).   References Liste med ReferenceBE-objekter for kvitteringen.   SubReceipts Liste med tilhørende ReceiptExternalBE-objekter (dersom denne kvitteringen er en hovedkvittering)   ReferenceBE    ReferenceValue Selve referansen (verdien) satt på kvitteringen. Typisk forsendelsesreferansen   ReferenceTypeName Angir type referanse: ExternalShipmentReference - Referansen viser til en referanse satt av sluttbrukersystem for en forsendelse, EndUserSystemReference - Benyttes ikke, SendersReference - Referanse satt av avsender for del av en forsendelse, ParentReferenc - Referansen viser til et hovedskjema, WorkFlowReference - Arbeidsflytreferanse, BatchReference - Referanse til en forsendelse mottatt i eller sendt fra Altinn, OutboundShipmentReference - Referanse til en forsendelse sendt fra Altinn, PartyReference - Organisasjonsnummer eller personnummer til en part som får rettigheter til å hente og oppdatere kvitteringen. Altinn legger automatisk til mottaker av en forsendelse som en part på kvitteringen, OwnerPartyReference - Organisasjonsnummer eller personnummer til eier av kvitteringen, typisk den som har sendt inn en forsendelse. Settes av Altinn og kan ikke endres, ReceiversReference - Mottakers referanse hvis kvitteringen blir oppdatert av mottaker av en forsendelse, ArchiveReference - Arkivreferanse    IntermediaryInbound.CompleteAndSign Denne operasjonen lar et sluttbrukersystem komplettere og signere en skjemainnsending i Altinn. Operasjonen returnerer en kvittering til sluttbrukersystemet som inneholder status for innsendingen.\nOperasjonen er ment å kunne brukes for å sluttføre skjemainstanser som ligger til utfylling. For eksempel kan dette være instanser som er opprettet i portal eller vha SubmitFormTask, og som har fått lagt til ytterligere vedlegg vha SubmitAttachmentStreamed.\n   Input Beskrivelse     userSSN Brukers fødselsnummer. Til bruk både til autentisering og evt. signering   userPassword Brukers passord. Til bruk både til autentisering og evt. signering   userPinCode Pinkode. Til bruk både til autentisering og evt. signering   authMethod Autentiseringsmetode. Til bruk både til autentisering og evt. signering   reporteeElementId Arbeidsflytreferanse som skal kompletteres og signeres.   signatures Liste med objekter av typen Signature som brukes til signering.   languageId Språkkode:1033-English, 1044-Bokmål, 1083-Samisk, 2068-Nynorsk   Returverdi Beskrivelse   Receipt Objekt av typen ReceiptExternalBE med kvitteringsinformasjon for forsendelsen.    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     ReceiptSearchExternalBE    ReceiptId Unik identifikator kvitteringen i Altinn. Benyttes for eksempel ved senere oppdatering av kvittering   References Liste med ReferenceBE-objekter for kvitteringen   ReceiptExternalBE    ReceiptId Unik identifikator kvitteringen i Altinn. Benyttes for eksempel ved senere oppdatering av kvittering.   ReceiptText Tekst i kvitteringen, kan inneholde variasjoner over følgende kvitteringssvar: Deleted, Warning - \u0026ldquo;soft error\u0026rdquo;, Error - \u0026ldquo;feil\u0026rdquo;, Successfully Instantiated, Schema Validation OK, Not A Valid Signature, Form Validation Failed, SchemaValidationError\u0026gt;\u0026ldquo;feil\u0026rdquo;, Shipment Already Exists : ::External Shipment Reference : \u0026ldquo;extshipref\u0026rdquo;, Service Edition Code is Missing ::External Shipment Reference : \u0026ldquo;extshipref\u0026rdquo;, SignAndSend Completed Successfully, Not A Valid Service :; ServiceCode : \u0026ldquo;service code\u0026rdquo;, ServiceEdition : \u0026ldquo;serviceedition\u0026rdquo; ; ::External Shipment Reference : \u0026ldquo;external shipment ref\u0026rdquo;, Not A Valid DataFormatId Or DataFormatVersion; DataFormatVersion : \u0026ldquo;dataformatversion\u0026rdquo;, DataFormatId : \u0026ldquo;dataformatid\u0026rdquo; ; ::External Shipment Reference : \u0026ldquo;external shipment ref\u0026rdquo;, Argument Null Exception - Intermediary Inbound :ExternalShipmentReference, Invalid reportee, Your request suffered from a non-functional error, There exist no valid services with given service code/ edition code :\u0026ldquo;service code\u0026rdquo;/\u0026ldquo;serviceedition\u0026rdquo; ::External Shipment Reference : \u0026ldquo;external shipment ref\u0026rdquo;   ReceiptHistory Når en kvittering oppdateres så vil den gamle kvitteringsteksten flyttes og legges til øverst i denne historikken   LastChanged Dato og tidspunkt for når kvitteringen sist ble endret (yyyy-MM-ddThh:mm:ss)   ReceiptTypeName Angir hva kvittering gjelder. Mulige verdier: FormTask - Skjemasett, Correspondence - Melding, PINCODE - PIN-koder, Subscription - Abonnement, Outbound - Forsendelse sendt fra Altinn, PreFill - Preutfyllingsdata, RegisterDLS - DLS registerdata, RegisterDSF - DSF registerdata, RegisterER - ER registerdata, RegisterDSFProperty, RegisterDSFStreet, RegisterDSFCountry, RegisterDSFUser, LookUp - Innsynstjeneste   ReceiptTemplate Status for forsendelse som kvitteringen gjelder: OK, UnExpectedError, ValidationFailed, Rejected   ParentReceiptId Dersom denne kvitteringen er en av flere kvitteringer for en forsendelse vil ParentReceiptId vise til ReceiptId som gjelder for hele forsendelsen (hovedkvittering)   References Liste med ReferenceBE-objekter for kvitteringen   SubReceipts Liste med tilhørende Receipt-objekter (dersom denne kvitteringen er en hovedkvittering)   ReferenceBE    ReferenceValue Selve referansen (verdien) satt på kvitteringen. Typisk forsendelsesreferansen   ReferenceTypeName Angir type referanse: ExternalShipmentReference - Referansen viser til en referanse satt av sluttbrukersystem for en forsendelse, EndUserSystemReference - Benyttes ikke, SendersReference - referanse satt av avsender for del av en forsendelse, ParentReference - Referansen viser til et hovedskjema, WorkFlowReference - Arbeidsflytreferanse, BatchReference - Referanse til en forsendelse mottatt i eller sendt fra Altinn, OutboundShipmentReference - Referanse til en forsendelse sendt fra Altinn, PartyReference - Organisasjonsnummer eller personnummer til en part som får rettigheter til å hente og oppdatere kvitteringen (Altinn legger automatisk til mottaker av en forsendelse som en part på kvitteringen), OwnerPartyReference - Organisasjonsnummer eller personnummer til eier av kvitteringen, typisk den som har sendt inn en forsendelse (Settes av Altinn og kan ikke endres), ReceiversReference - Mottakers referanse hvis kvitteringen blir oppdatert av mottaker av en forsendelse, ArchiveReference - Arkivreferanse   Signature    EndUserSystemReference Referanse til signaturen som ble utført i sluttbrukersystem (satt av sluttbrukersystem, bør være unik)   EndUserSystemUserId Identifikator for bruker som var logget på sluttbrukersystemet og gjennomførte signeringen.   EndUserSystemLoginDateTime Dato og tidspunkt for når bruker logget inn i sluttbrukersystem (yyyy-MM-ddThh:mm:ss).   EndUserSystemSignatureDateTime Dato og tidspunkt for når signeringen i sluttbrukersystemet ble gjort (yyyy-MM-ddThh:mm:ss).   EndUserSystemVersion Versjonsnummer for sluttbrukersystemet.   EndUserSystemSignatureLogId Unik id for logginnslag for signeringen.    IntermediaryInboundStreamed    Tjenesteoperasjon Kort beskrivelse     SubmitAttachmentStreamed Legger til vedlegg til eksisterende innsendinger som står til utfylling i Altinn.    Operasjonen brukes til å legge til vedlegg for en aktiv skjemainstans opprettet i portal eller vha webservice (SubmitFormTask).\nTabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     StreamedAttachmentBasicBE, StreamedAttachmentECBE eller StreamedAttachmentExternalBE Objekt med vedleggsinformasjon, datastrøm for vedleggsdata og autentiseringsinformasjon (mindre forskjeller etter hvilket endepunkt man benytter).   Returverdi Beskrivelse   ReceiptExternalStreamedBE Objekt av typen ReceiptExternalStreamedBE som inneholder detaljer for kvitteringen.    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     ReceiptExternalStreamedBE    ReceiptId Unik identifikator kvitteringen i Altinn. Benyttes for eksempel ved senere oppdatering av kvittering   ReceiptText Tekst i kvitteringen, kan inneholde variasjoner over følgende kvitteringssvar: Deleted   ReceiptHistory Når en kvittering oppdateres så vil den gamle kvitteringsteksten flyttes og legges til øverst i denne historikken   LastChanged Dato og tidspunkt for når kvitteringen sist ble endret (yyyy-MM-ddThh:mm:ss)   ReceiptTypeName Angir hva kvittering gjelder. Mulige verdier: Angir hva kvittering gjelder. Mulige verdier: FormTask - Skjemasett, Correspondence - Melding, PINCODE - PIN-koder, Subscription - Abonnement, Outbound - Forsendelse sendt fra Altinn, PreFill - Preutfyllingsdata, RegisterDLS - DLS registerdata, RegisterDSF - DSF registerdata, RegisterER - ER registerdata, RegisterDSFProperty, RegisterDSFStreet, RegisterDSFCountry, RegisterDSFUser, LookUp - Innsynstjeneste   ReceiptStatusCode Status for forsendelse som kvitteringen gjelder: Status for forsendelse som kvitteringen gjelder: OK, UnExpectedError, ValidationFailed, Rejected   ParentReceiptId Dersom denne kvitteringen er en av flere kvitteringer for en forsendelse vil ParentReceiptId vise til ReceiptId som gjelder for hele forsendelsen (hovedkvittering).   StreamedAttachmentExternalBE    userSSN Brukers fødselsnummer. Til bruk både til autentisering og evt. signering   userPassword Brukers passord. Til bruk både til autentisering og evt. signering   authMethod Autentiseringsmetode. Til bruk både til autentisering og evt. signering   userPinCode Pinkode. Til bruk både til autentisering og evt. signering   ReporteeElementId Arbeidsflytreferanse for innsendingen man ønsker å legge til vedlegg på   EndUserSystemReference Referanse for vedlegg (settes av sluttbrukersystem, bør være unik)   FileName Filnavn   Name Navn på vedlegg   AttachmentTypeName Type vedlegg   CheckSum Checksum for vedleggsdata   dataStream Datastrøm   StreamedAttachmentBasicBE    systemPassword Passord for sluttbrukersystem definert i portal   systemUserName Systemid for sluttbrukersystem definert i portal   userSSN Brukers fødselsnummer. Til bruk både til autentisering og evt. signering   userPassword Brukers passord. Til bruk både til autentisering og evt. signering   ReporteeElementId Arbeidsflytreferanse for innsendingen man ønsker å legge til vedlegg på   EndUserSystemReference Referanse for vedlegg (settes av sluttbrukersystem, bør være unik)   FileName Filnavn   Name Navn på vedlegg   AttachmentTypeName Type vedlegg   CheckSum Checksum for vedleggsdata   dataStream Datastrøm   StreamedAttachmentECBE    userName Brukernavn opprettet i portal i forbindelse med virksomhetssertifikat   password Passord opprettet i portal i forbindelse med virksomhetssertifikat   ReporteeElementId Arbeidsflytreferanse for innsendingen man ønsker å legge til vedlegg på   EndUserSystemReference Referanse for vedlegg (settes av sluttbrukersystem, bør være unik)   FileName Filnavn   Name Navn på vedlegg   AttachmentTypeName Type vedlegg   CheckSum Checksum for vedleggsdata   dataStream Datastrøm    Receipt    Tjenesteoperasjon Kort beskrivelse     GetReceiptListV2 Henter ut alle kvitteringer tilhørende en kvitteringstype og/eller fra et gitt tidsrom   GetReceiptV2 Henter ut en kvittering basert på enten unik identifikator eller referanse   UpdateReceipt Kan benyttes av sluttbrukersystemer for å oppdatere en kvittering ved mottak av data.    Se avsnittet URI til alle Altinn tjenester / aliasoversikt for endepunkter kapittel 8.3 for informasjon om endepunkter for tjenesteoperasjonene.\nDet blir opprettet teknisk kvittering for hver forsendelse, basert på hvilke referanser sluttbrukersystemet setter. Dersom eksterne referanser gjenbrukes antar vi at det gjelder den samme forsendelsen, og oppdaterer tidligere kvittering. For at kvitteringer skal kunne hentes og oppdateres hensiktsmessig er det derfor viktig at sluttbrukersystem benytter unike referanser både på selve forsendelsen og underelementer av denne.\nGetReceiptV2 Denne operasjonen henter en kvittering basert på, enten unik identifikator for kvitteringen eller en referanse for kvitteringen. Kvitteringen kan være knyttet til et skjemasett innsendt via Altinn fra sluttbruker eller sluttbrukersystem, data sendt fra tjenesteeier til Altinn (meldinger, PIN-koder, abonnement eller prefilldata) eller data sendt fra Altinn til tjenesteeier.\nNavnet på operasjonen kan variere noe fra grensesnitt til grensesnitt. Operasjonen heter for eksempel GetReceiptBasicV2 på basic (SOAP 1.1) grensesnittet. En eldre versjon av operasjonen med navn GetReceipt finnes fortsatt, men kan i fremtiden bli fjernet.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     ReceiptSearch Objekt av typen ReceiptSearch som inneholder nødvendige søkeparametre for å hente ut en kvittering.   Returverdi Beskrivelse   Receipt Objekt av typen Receipt som inneholder alle data for en kvittering som tilfredsstilte det gitte søkekriteriet.    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     ReceiptSearch    ReceiptId Unik identifikator en kvittering i Altinn.   References Liste med referansen som skal brukes i søket. I praksis er det kun en referanse som benyttes i søket. Følgende referansetyper kan benyttes i søk: ArchiveReference, OutboundShipmentReference, BatchReference, EndUserSystemReference, ExternalShipmentReference, SendersReference   Receipt    ReceiptId Unik identifikator kvitteringen i Altinn   ReceiptText Tekst i kvitteringen   ReceiptHistory Når en kvittering oppdateres så vil den gamle kvitteringsteksten flyttes og legges til øverst i denne historikken   LastChanged Dato og tidspunkt for når kvitteringen sist ble endret (yyyy-MM-ddThh:mm:ss).   ReceiptType Angir hva kvittering gjelder.Mulige verdier: NotSet – Brukes når type er ukjent, FormTask – Skjemasett innsending, Correspondence – Innlesning av meldinger, PINCODE – Bestilling av PIN-koder, Subscription – Innelsning av abonnementer, Outbound – Forsendelse sendt fra Altinn, PreFill – Innlesning av prefill, RegisterDLS – DLS registerdata, RegisterDSF – DSF registerdata, RegisterER – ER registerdata, RegisterDSFProperty, RegisterDSFStreet, RegisterDSFCountry, RegisterDSFUser, LookUp – Innsynstjeneste, RegisterDSFStreetAdd, RegisterDSFPropertyAdd, BrokerService – Overføring av fil på en Formidlingstjeneste   ReceiptTemplate Angir malen (XML) som skal benyttes for kvittering. (IKKE I BRUK)   ReceiptStatus Status for forsendelse som kvitteringen gjelder:NotSet – Status er ukjent, OK, UnExpectedError, ValidationFailed, Rejected   ParentReceiptId Dersom denne kvitteringen er en av flere kvitteringer i et hierarki vil ParentReceiptId vise til ReceiptId for hovedkvitteringen i hierarkiet.   References Liste med referanser   SubReceipts Liste med tilhørende kvitteringer. Dersom denne kvitteringen er en hovedkvittering med barn. Et hierarki kan ha kun 2 nivåer. (En kvittering som selv er et barn skal ikke ha barn.)   Reference    ReferenceType Angir type referanse: ExternalShipmentReference - Referansen viser til en referanse satt av sluttbrukersystem for en forsendelse, EndUserSystemReference - Referanse satt av avsender for del av en forsendelse. For eksempel vedlegg. Brukes sjeldent da referanser fra sluttbruker ofte lagres som SendersReference, SendersReference - Referanse satt av avsender for del av en forsendelse, ParentReference - Referansen viser til et hovedskjema, WorkFlowReference - Arbeidsflytreferanse, BatchReference - Referanse til en forsendelse mottatt i eller sendt fra Altinn, OutboundShipmentReference - Referanse til en forsendelse sendt fra Altinn, ReceiversReference- Mottakers referanse hvis kvitteringen blir oppdatert av mottaker av en forsendelse, OwnerPartyReference - Organisasjonsnummer eller personnummer til eier av kvitteringen, typisk den som har sendt inn en forsendelse. Settes av Altinn og kan ikke endres, PartyReference - Organisasjonsnummer eller personnummer til en part som får rettigheter til å hente og oppdatere kvitteringen. Altinn legger automatisk til mottaker av en forsendelse som en part på kvitteringen, ArchiveReference - Arkivreferanse   ReferenceValue Selve referansen (verdien). Vil variere basert på type referanse. Se over.    Tabellen under angir mulige feilkoder for operasjonen:\n   Feilkode Beskrivelse     30008 Ingen kvittering funnet for angitt kvitterings ID eller referanse    GetReceiptListV2 Denne operasjonen kan kalles for å hente ut alle kvitteringer av en gitt kvitteringstype. I tillegg kan søket begrenses ved hjelp av en til og fra dato. Dette vil gi en liste med kvitteringer som ble sist endret i tidsrommet. Kvitteringstyper er obligatorisk, mens datoer er valgfritt.\nNavnet på operasjonen kan variere noe fra grensesnitt til grensesnitt. Operasjonen heter for eksempel GetReceiptListBasicV2 på basic (SOAP 1.1) grensesnittet. En eldre versjon av operasjonen med navn GetReceiptList finnes fortsatt, men kan i fremtiden bli fjernet.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     receiptTypeName Angir hva kvittering gjelder. Mulige verdier: NotSet – Brukes når type er ukjent, FormTask – Skjemasett innsending, Correspondence – Innlesning av meldinger, PINCODE – Bestilling av PIN-koder, Subscription – Innelsning av abonnementer, Outbound – Forsendelse sendt fra Altinn, PreFill – Innlesning av prefill, RegisterDLS – DLS registerdata, RegisterDSF – DSF registerdata, RegisterER – ER registerdata, RegisterDSFProperty, RegisterDSFStreet, RegisterDSFCountry, RegisterDSFUser, LookUp – Innsynstjeneste, RegisterDSFStreetAdd, RegisterDSFPropertyAdd, BrokerService – Overføring av fil på en Formidlingstjeneste   dateFrom Finner kvitteringer endret etter angitt dato   dateTo Finner kvitteringer endret før angitt dato   Returverdi Beskrivelse   ReceiptList Liste med kvitteringer av typen Receipt. (Vil være en tom liste hvis ingen kvitteringer ble funnet.)    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     Receipt    ReceiptId Unik identifikator kvitteringen i Altinn   ReceiptText Tekst i kvitteringen   ReceiptHistory Når en kvittering oppdateres så vil den gamle kvitteringsteksten flyttes og legges til øverst i denne historikken.   LastChanged Dato og tidspunkt for når kvitteringen sist ble endret (yyyy-MM-ddThh:mm:ss)   ReceiptType Angir hva kvittering gjelder. Mulige verdier:NotSet – Brukes når type er ukjent, FormTask – Skjemasett innsending, Correspondence – Innlesning av meldinger, PINCODE – Bestilling av PIN-koder, Subscription – Innelsning av abonnementer, Outbound – Forsendelse sendt fra Altinn, PreFill – Innlesning av prefill, RegisterDLS – DLS registerdata, RegisterDSF – DSF registerdata, RegisterER – ER registerdata, RegisterDSFProperty, RegisterDSFStreet, RegisterDSFCountry, RegisterDSFUser, LookUp – Innsynstjeneste, RegisterDSFStreetAdd, RegisterDSFPropertyAdd, BrokerService – Overføring av fil på en Formidlingstjeneste   ReceiptTemplate Angir malen (XML) som skal benyttes for kvittering. (IKKE I BRUK)   ReceiptStatus Status for forsendelse som kvitteringen gjelder: NotSet – Status er ukjent, OK, UnExpectedError, ValidationFailed, Rejected   ParentReceiptId Dersom denne kvitteringen er en av flere kvitteringer i et hierarki vil ParentReceiptId vise til ReceiptId for hovedkvitteringen i hierarkiet.   References Liste med referanser.   SubReceipts Liste med tilhørende kvitteringer. Dersom denne kvitteringen er en hovedkvittering med barn. Et hierarki kan ha kun 2 nivåer. (En kvittering som selv er et barn skal ikke ha barn.)   Reference    ReferenceType Angir type referanse: ExternalShipmentReference - Referansen viser til en referanse satt av sluttbrukersystem for en forsendelse, EndUserSystemReference - Referanse satt av avsender for del av en forsendelse. For eksempel vedlegg. Brukes sjeldent da referanser fra sluttbruker ofte lagres som SendersReference, SendersReference - Referanse satt av avsender for del av en forsendelse, ParentReference - Referansen viser til et hovedskjema, WorkFlowReference - Arbeidsflytreferanse, BatchReference - Referanse til en forsendelse mottatt i eller sendt fra Altinn, OutboundShipmentReference - Referanse til en forsendelse sendt fra Altinn, ReceiversReference - Mottakers referanse hvis kvitteringen blir oppdatert av mottaker av en forsendelse, OwnerPartyReference - Organisasjonsnummer eller personnummer til eier av kvitteringen, typisk den som har sendt inn en forsendelse. Settes av Altinn og kan ikke endres, PartyReference - Organisasjonsnummer eller personnummer til en part som får rettigheter til å hente og oppdatere kvitteringen. Altinn legger automatisk til mottaker av en forsendelse som en part på kvitteringen, ArchiveReference - Arkivreferanse   ReferenceValue Selve referansen (verdien). Vil variere basert på type referanse. Se over    Tabellen under angir mulige feilkoder for operasjonen:\n   Feilkode Beskrivelse     30101 Kan ikke utføre et søk etter kvitteringer av typen NotSet. (NotSet er default verdi hvis receiptTypeName parameteret ikke oppgis.)   30102 Oppgitt fra dato er høyere en oppgitt til dato    UpdateReceipt Operasjonen UpdateReceipt kan benyttes når tjenesteeier har behov for å oppdatere en kvittering i Altinn. Dette gjøres typisk når Altinn har sendt en batch forsendelse til tjenesteeier. Kvitteringen skal da oppdateres med at tjenesteeier har mottatt batch forsendelsen.\nAltinn vil endre kvitteringsteksten til å inneholde informasjon om hvem som utførte oppdateringen. For eksempel: \u0026ldquo;Receipt updated by EndUserSystem: 355. \u0026lt;ny tekst.\u0026gt;\u0026ldquo;\nNavnet på operasjonen kan variere noe fra grensesnitt til grensesnitt. Operasjonen heter for eksempel UpdateReceiptBasic på basic (SOAP 1.1) grensesnittet. En eldre versjon av operasjonen med navn SaveReceipt finnes fortsatt, men kan i fremtiden bli fjernet.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     ReceiptSave Informasjon om hvilken kvittering som skal oppdateres samt den nye informasjonen som skal legges på kvitteringen. Objektet må minimun inneholde ny statuskode og tekst. ReceiptId eller ArchiveReference brukes til å identifisere kvitteringen.   Returverdi Beskrivelse   Receipt Kvitteringen slik den frermstår etter oppdateringen    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     ReceiptSave    ReceiptId Unik identifikator for kvittering i Altinn. Kan benyttes for å spesifisere hvilken kvittering som skal oppdateres   ArchiveReference Arkivreferanse i Altinn. Kan benyttes for å spesifisere hvilken kvittering som skal oppdateres. Hvis det finnes flere kvitteringer som har samme arkivreferanse, så vil den nyeste (den med høyest ReceiptId) bli valgt.   ReceiptText Oppdateringstekst for kvittering. Obligatorisk   ReceiptStatus Status for forsendelse som kvitteringen gjelder.Obligatorisk: OK, UnExpectedError, ValidationFailed, Rejected   References Liste med referanser man eventuelt ønsker å legge til på kvitteringen. Alle referansetyper utenom NotSet og OwnerPartyReference er gyldige, men det bør begrenses til følgende (Unntak kan gjøres etter avtale med forvaltning.)   SubReceipts Liste med barnekvitteringer som også ønskes oppdatert i tillegg til hovedkvitteringen. Barne kvitteringer MÅ identifiseres med ReceiptId. Dette kan ikke benyttes til å lage nye barnekvitteringer   Receipt    ReceiptId Unik identifikator kvitteringen i Altinn.   ReceiptText Tekst i kvitteringen   ReceiptHistory Når en kvittering oppdateres så vil den gamle kvitteringsteksten flyttes og legges til øverst i denne historikken   LastChanged Dato og tidspunkt for når kvitteringen sist ble endret (yyyy-MM-ddThh:mm:ss)   ReceiptType Angir hva kvittering gjelder. Mulige verdier: NotSet – Brukes når type er ukjent, FormTask – Skjemasett innsending, Correspondence – Innlesning av meldinger, PINCODE – Bestilling av PIN-koder, Subscription – Innelsning av abonnementer, Outbound – Forsendelse sendt fra Altinn, PreFill – Innlesning av prefill, RegisterDLS – DLS registerdata, RegisterDSF – DSF registerdata, RegisterER – ER registerdata, RegisterDSFProperty, RegisterDSFStreet, RegisterDSFCountry, RegisterDSFUser, LookUp – Innsynstjeneste, RegisterDSFStreetAdd, RegisterDSFPropertyAdd, BrokerService – Overføring av fil på en Formidlingstjeneste   ReceiptTemplate Angir malen (XML) som skal benyttes for kvittering. (IKKE I BRUK)   ReceiptStatus Status for forsendelse som kvitteringen gjelder: NotSet – Status er ukjent, OK, UnExpectedError, ValidationFailed, Rejected   ParentReceiptId Dersom denne kvitteringen er en av flere kvitteringer i et hierarki vil ParentReceiptId vise til ReceiptId for hovedkvitteringen i hierarkiet   References Liste med referanser   SubReceipts Liste med tilhørende kvitteringer. Dersom denne kvitteringen er en hovedkvittering med barn. Et hierarki kan ha kun 2 nivåer. (En kvittering som selv er et barn skal ikke ha barn.)   Reference    ReferenceType Angir type referanse: ExternalShipmentReference - Referansen viser til en referanse satt av sluttbrukersystem for en forsendelse, EndUserSystemReference - Referanse satt av avsender for del av en forsendelse. For eksempel vedlegg. Brukes sjeldent da referanser fra sluttbruker ofte lagres som SendersReference, SendersReference - Referanse satt av avsender for del av en forsendelse, ParentReference - Referansen viser til et hovedskjema, WorkFlowReference - Arbeidsflytreferanse, BatchReference - Referanse til en forsendelse mottatt i eller sendt fra Altinn, OutboundShipmentReference - Referanse til en forsendelse sendt fra Altinn, ReceiversReference- Mottakers referanse hvis kvitteringen blir oppdatert av mottaker av en forsendelse, OwnerPartyReference - Organisasjonsnummer eller personnummer til eier av kvitteringen, typisk den som har sendt inn en forsendelse. Settes av Altinn og kan ikke endres, PartyReference - Organisasjonsnummer eller personnummer til en part som får rettigheter til å hente og oppdatere kvitteringen. Altinn legger automatisk til mottaker av en forsendelse som en part på kvitteringen, ArchiveReference - Arkivreferanse   ReferenceValue Selve referansen (verdien). Vil variere basert på type referanse. Se over    Tabellen under angir mulige feilkoder for operasjonen:\n   Feilkode Beskrivelse     30008 Fant ikke noen kvittering som kunne oppdateres   0 Kan ikke ha både kvitterings id og arkivreferanse som input. (Feilkode blir ikke angitt grunnet en feil.)   0 Søk må ha enten kvitterings id eller arkivreferanse som input. (Feilkode blir ikke angitt grunnet en feil.)   0 System/bruker har ikke tilgang til kvitteringen som forsøkes oppdatert. (Feilkode blir ikke angitt grunnet en feil.)    Correspondence    Tjenesteoperasjon Kort beskrivelse     GetCorrespondenceForEndUserSystemV2 Benyttes for å hente detaljer for en spesifikk melding i Altinn   DeleteCorrespondence Benyttes for å slette en melding i Altinn   SaveCorrespondenceConfirmation Benyttes for å bekrefte en melding i Altinn   ArchiveCorrespondenceFromEndUserSystem Benyttes for å arkivere en melding i Altinn    Se avsnittet URI til alle Altinn tjenester / aliasoversikt for endepunkter kapittel 8.3 for informasjon om endepunkter for tjenesteoperasjonene.\nCorrespondence.GetCorrespondenceForEndUserSystemV2 Denne operasjonen benyttes for å hente detaljer for en spesifikk melding fra Altinn. Operasjonen er versjonert, gjeldende versjon er V2.\nTabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     userSSN Fødselsnummer til bruker i sluttbrukersystemet som skal autentiseres   userPassword Passordet bruker (i sluttbrukersystemet) har registrert for sin bruker i Altinn   userPinCode Pinkode for valgt engangskodetype (authMethod)   authMethod Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er:AltinnPin, TaxPin, SMSPin   correspondenceID Unik identifikator for en melding i Altinn   LanguageID Språkkode for det språket meldingen skal hentes med. Språk id: 1033-English, 1044-Bokmål, 1083-Samisk, 2068-Nynorsk, Hvis ikke språk er spesifikt kan 0 angis som vil returnere standard språk for denne meldingen   Returverdi Beskrivelse   correspondenceForEndUserSystem Et objekt av typen CorrespondenceForEndUserSystemBEV2 som inneholder alle detaljer om meldingen    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     CorrespondenceForEndUserSystemBEV2    Correspondence Objekt av typen CorrespondenceBEV2 som inneholder alle detaljer for selve meldingen.   CorrespondenceLinkList Liste med objekter av typen CorrespondenceLinkBE, som inneholder eventuelle linker for meldingen.   AttachmentList Liste med objekter av typen AttachmentBE, som inneholder detaljer for eventuelle vedlegg for meldingen.   InternalNotificationList Liste med InternalNotification-objekter, som inneholder detaljer for eventuelle varsler for meldinger.   CorrespondenceBEV2    CorrespondenceID Unik identifikator for meldingen   CorrespondenceStatus Angir status for meldingen (CorrespondenceStautsTypeV2): Created-Meldingen er opprettet, Read-Meldingen er lest, Replied-Sluttbruker har svart på meldingen, ChangedByGovAgency-Tjenesteeier har gjort endringer på meldingen, ChangedByUser-Sluttbruker har gjort endringer på meldingen, Confirmed-Meldingen er bekreftet, DeletedByUser-Meldingen er slettet av sluttbruker, DeletedByAltinn-Altinn har slettet meldingen (for eksempel ved sanering), Archived-Meldingen er arkivert   ArchiveReference Unik referanse for melding i Altinn arkiv   LanguageID Språk id: 1033-English, 1044-Bokmål, 1083-Samisk, 2068-Nynorsk   CorrespondenceSummary Meldingsingress   CorrespondenceSummary Meldingsingress   CorrespondenceTxt Tekst i meldingen   Header Meldings tittel / hode   SentBy Angir avsender av melding   CorrespondenceSubject Angir emne for meldingen   IsConfirmationNeeded Angir om bruker må bekrefte melding   SentTo Navn på mottaker av melding   DateSent Angir dato og tidspunkt for når meldingen var sendt (yyyy-MM-ddThh:mm:ss)   DueDate Dersom meldingen har en frist angis dato for dette her (yyyy-MM-dd)   Reportee Unik identifikator i Altinn for mottaker av melding   AuthenticatedUser Angir bruker som har bekreftet melding   ConfirmationDate Angir dato for når meldingen ble bekreftet (yyyy-MM-ddThh:mm:ss)   UserID Angir bruker som har bekreftet melding   Description Navn på tjenesteeier som opprettet meldingen   CorrespondenceName Navn på meldingstjenesten   ExternalSystemReference Angir unik referanse for meldingen (satt av tjenesteeier)   CorrespondenceTitle Tittel på melding   CustomMessageData Felt for attributter spesifikke for den gitte Altinn tjeneste. For eksempel informasjon om kommunenummer på selvangivelsen. Bruk av spesifikke attributter avtales spesielt for de(n) aktuelle Altinn-tjenesten(e)   AllowForwarding Angir om meldingen kan videresendes eller ikke   CaseID Angir samhandlingstjeneste case ID om meldingen er tilknyttet en samhandlingstjeneste   CorrespondenceLinkBE    LinkType Angir hvilken type informasjon linken gir: Form, ServiceCode, ServiceURL, ArchiveReference   LinkURL Angir URL   LinkText Angir teksten som vises for linken   AttachmentBEV2    AttachmentID Unik identifikator for vedlegget i Altinn.   AttachmentName Navn på vedlegget   FileName Navn på fil for vedlegg   AttachmentData Innholdet/dataene i vedlegget   CreatedDateTime Dato og tidspunkt for når vedlegget ble opprettet (yyyy-MM-ddThh:mm:ss)   SendersReference Unik referanse satt av etatssystem som har sendt vedlegget   IsEncrypted Boolsk verdi som sier om vedlegget er kryptert   AttachmentTypeID MIME-typen for vedlegget:   AttachmentFunctionTypeID Angir funksjon for vedlegget: Unspecified, Invoice   ReporteeElementID Referanse til element (skjemasett eller melding) som vedlegget tilhører. Unik id i Altinn.   CreatedByUserID Bruker id for bruker som har lagt ved vedlegget.   IsAddedAfterFormFillin Angir om vedlegget er lagt til etter utfylling.   IsAssociatedToFormSet Angir om vedlegget er knyttet til skjemasett eller ikke   DestinationType Angir hvor vedlegget er tilgjengelig: Default/ShowToAll – tilgjengelig i portal og for sluttbrukersystem, PortalOnly – kun tilgjengelig fra portal, EndUserSystemOnly – kun tilgjengelig fra sluttbrukersystem    Correspondence.DeleteCorrespondence Denne operasjonen kan benyttes av sluttbrukersystemer for å slette en melding i Altinn. Det er kun meldinger for privatpersoner som kan slettes.\nTabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     userSSN Fødselsnummer til bruker i sluttbrukersystemet som skal autentiseres   userPassword Passordet bruker (i sluttbrukersystemet) har registrert for sin bruker i Altinn   userPinCode Pinkode for valgt engangskodetype (authMethod)   authMethod Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er: AltinnPin, TaxPin, SMSPin   reporteeElementID Unik identifikator for en melding i Altinn   Returverdi Beskrivelse   N/A Returnerer ingenting hvis alt er OK    Correspondence.SaveCorrespondenceConfirmation Denne operasjonen kan benyttes av sluttbrukersystemer for å bekrefte en melding i Altinn.\nTabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     userSSN Fødselsnummer til bruker i sluttbrukersystemet som skal autentiseres   userPassword Passordet bruker (i sluttbrukersystemet) har registrert for sin bruker i Altinn   userPinCode Pinkode for valgt engangskodetype (authMethod)   authMethod Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er: AltinnPin, TaxPin, SMSPin   reporteeElementID Unik identifikator for en melding i Altinn   Returverdi Beskrivelse   N/A Returnerer ingenting hvis alt er OK    Correspondence.ArchiveCorrespondenceFromEndUserSystem Denne operasjonen kan benyttes av sluttbrukersystemer for å arkivere en melding i Altinn.\nTabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     userSSN Fødselsnummer til bruker i sluttbrukersystemet som skal autentiseres   userPassword Passordet bruker (i sluttbrukersystemet) har registrert for sin bruker i Altinn   userPinCode Pinkode for valgt engangskodetype (authMethod)   authMethod Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er: AltinnPin, TaxPin, SMSPin   reporteeElementID Unik identifikator for en melding i Altinn   Returverdi Beskrivelse   Receipt Objekt av typen ReceiptBE med kvitteringsinformasjon for forsendelsen    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     ReceiptBE    ReceiptId Unik identifikator kvitteringen i Altinn. Benyttes for eksempel for senere uthenting av status/kvittering.   ReceiptText Tekst i kvitteringen   ReceiptHistory Når en kvittering oppdateres så vil den gamle kvitteringsteksten flyttes og legges til øverst i denne historikken,   LastChanged Dato og tidspunkt for når kvitteringen sist ble endret (yyyy-MM-ddThh:mm:ss)   ReceiptTypeName Angir hva kvittering gjelder. Mulige verdier: FormTask – Skjemasett innsending, Correspondence – Innlesning av meldinger, PINCODE – Bestilling av PIN-koder, Subscription – Innelsning av abonnementer, Outbound – Forsendelse sendt fra Altinn, PreFill – Innlesning av prefill, RegisterDLS – DLS registerdata, RegisterDSF – DSF registerdata, RegisterER – ER registerdata, RegisterDSFProperty, RegisterDSFStreet, RegisterDSFCountry, RegisterDSFUser, LookUp – Innsynstjeneste   ReceiptTemplate Angir malen (XML) som skal benyttes for kvittering   ReceiptStatusCode Status for forsendelse som kvitteringen gjelder: OK, UnExpectedError, ValidationFailed, Rejected   ParentReceiptId Dersom denne kvitteringen er en av flere kvitteringer for en forsendelse vil ParentReceiptId vise til ReceiptId som gjelder for hele forsendelsen (hovedkvittering).   References Liste med ReferenceBE-objekter for kvitteringen   SubReceipts Liste med tilhørende Receipt-objekter (dersom denne kvitteringen er en hovedkvittering)   ReferenceBE    ReferenceValue Selve referansen (verdien) satt på kvitteringen. Typisk forsendelsesreferansen   ReferenceTypeName Angir type referanse: ExternalShipmentReference-Referansen viser til en referanse satt av sluttbrukersystem for en forsendelse, EndUserSystemReference-Benyttes ikke, SendersReference-Referanse satt av avsender for del av en forsendelse, ParentReference-Referansen viser til et hovedskjema, WorkFlowReference-Arbeidsflytreferanse, BatchReference-Referanse til en forsendelse mottatt i eller sendt fra Altinn, OutboundShipmentReference-Referanse til en forsendelse sendt fra Altinn, ReceiversReference-Mottakers referanse hvis kvitteringen blir oppdatert av mottaker av en forsendelse, OwnerPartyReference-Referanse til eier av kvittering, fødselsnummer eller organisasjonsnummer, PartyReference-Referanse til aktør for kvittering, fødselsnummer eller organisasjonsnummer, ArchiveReference-Arkivreferanse    ReporteeElementList\n   Tjenesteoperasjon Kort beskrivelse     GetReporteeElementListV2 Henter en liste med elementer fra arbeidsliste og arkiv.   DeleteReporteeElement Benyttes for å slette et element i arbeidsliste i Altinn   GetFormSetElementsV2 Henter ut et spesifikt skjemasett basert på en gitt ID   GetCorrespondenceListForArchiveRef Henter ut arkivert melding basert på bl.a. arkiv referanse   GetCorrespondenceListForReportee Henter ut meldinger for en gitt avgiver    Se avsnittet URI til alle Altinn tjenester / aliasoversikt for endepunkter kapittel 8.3 for informasjon om endepunkter for tjenesteoperasjonene.\nReporteeElementList.DeleteReporteeElement Denne operasjonen benyttes for å slette elementer i en avgivers arbeidsliste eller arkiv. GetReporteeReporteeElementList kalles gjerne i forkant av kall til denne tjenesten for å hente og identifisere et element og finne identifikator (reporteeElementCode) for det elementet man ønsker å slette.\nTabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     reporteeElementCode Unik identifikator for et element i Altinn. Denne er sammensatt av et prefiks som beskriver hvilken type elementet har og elementets retporteeElementID. ulige prefiks for element typer: Altinn 1, aktivt: A1E. Altinn 1, arkivert: A1A. Altinn 2, aktivt:A2E. Altinn 2, arkivert: A2A   Returverdi Beskrivelse   Result Angir om elementet ble slettet    ReporteeElementList.GetFormSetElementsV2 Henter ut et spesifikt skjemasett basert på en gitt ID. Operasjonen er versjonert, gjeldende versjon er V2.\nTabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     reporteeElementID Identifikator for skjemasett man ønsker å hente ut   languageID Språk id: Språk id: 1033-English, 1044-Bokmål, 1083-Samisk, 2068-Nynorsk   Returverdi Beskrivelse   FormSetElementList Liste med objekter av typen FormSetElementBEV2, som beskriver skjemaene i skjemasett man ønsker å hente ut.    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     FormSetElementBEV2    IconFileName MIME-typen   ItemID    ItemName    ItemURL URL for elementet.   ItemType Angir type element: MainForm, SubForm, BinaryAttachment   ValidationStatusType Angir valideringsstatus for elementet: NotSet, Valid, NonValid, NotValidated, NotApplicable   CreatedByUserID Bruker id for bruker som har opprettet elementet   DestinationType Angir hvor vedlegget er tilgjengelig: Default/ShowToAll – tilgjengelig i portal og for sluttbrukersystem, PortalOnly – kun tilgjengelig fra portal, EndUserSystemOnly – kun tilgjengelig fra sluttbrukersystem   IsAddedAfterFormFillin Angir om vedlegget er lagt til etter utfylling   IsAssociatedToFormSet Angir om vedlegget er knyttet til skjemasett eller ikke – brukes for å slette vedlegg som er lastet opp men ikke lagt til skjemasettet.   IsSigningMandatory Angir om skjema krever signering eller ikke. Verdien her er kun gjeldende om signeringssteget sier at skjema selv bestemmer signering (IsSigningAllRequired satt til SET_PER_FORM)    ReporteeElementList.GetReporteeElementListV2 Henter en liste med elementer fra arbeidsliste og arkiv. Listen inneholder detaljer for ett element for en avgiver. Operasjonen er versjonert, gjeldende versjon er V2.\nTabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     userSSN Fødselsnummer til bruker i sluttbrukersystemet som skal autentiseres   userPassword Passordet bruker (i sluttbrukersystemet) har registrert for sin bruker i Altinn   userPinCode Pinkode for valgt engangskodetype (authMethod)   authMethod Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er: AltinnPin, TaxPin, SMSPin   Search Objekt av typen ExternalSearchBEV2 som inneholder søkekriterier for utvalget elementer man ønsker å hente ut.   languageID Språkkode på elementet som skal hentess ut. Språk id: 1033-English, 1044-Bokmål, 1083-Samisk, 2068-Nynorsk, Hvis ikke språk er spesifikt kan 0 angis som vil returnere standard språk for denne meldingen   Returverdi Beskrivelse   reporteeElementList En liste med ReporteeElementBEV2-objekter som inneholder detaljer for ett element for en avgiver    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     ExternalSearchBEV2    ToDate Startdato for perioden man ønsker å hente ut elementer for (yyyy-MM-dd).   FromDate Sluttdato for perioden man ønsker å hente ut elementer for (yyyy-MM-dd).   SearchName Navn på søk. Benyttes kun dersom dette er et lagret søk.   ToBeProcessed Boolsk verdi som, hvis satt til true, angir at man ønsker å filtrere på tjenester som er ufullstendige/ikke-komplett.   SearchString Fritekstsøk som kan brukes for å matche hele eller deler av tjenestenavnet på elementer man ønsker å hente ut.   ServiceCodeList Liste med tjenester (string) som man ønsker å filtrere på.   SentAndArchived Boolsk verdi som, hvis satt til true, angir at man ønsker å filtrere på tjenester som er sendt og arkivert.   ToBeProcessedByOthers Filter for å angi at man bare ønsker å se sine elementer som i øyeblikket er til behandling hos andre aktører   ServiceOwnerCode Tjenesteeier som man ønsker å filtrere utrekket på.   Reportee Fødselsnummer/organisasjonsnummer for avgiver som man ønsker å hente ut elementer for.   ArchiveReference Fritekstfelt hvor man kan angi hele eller deler av en arkivreferanse som man ønsker å filtrere på.   CaseID Begrenser søket mot bestemt samhandlingstjenesteinstans.   CollectionPages Benyttes for å begrense resultatet til samlesider (samhandlingstjeneste)   EDialogue Benyttes for å begrense resultatet til e-dialoger (samhandlingstjeneste)   ReporteeElementBEV2    AllowDelete En boolsk verdi som angir om bruker som hentet elementet fra arkiv har rettighet til å slette elementet.   AllowNewCopy Boolsk verdi som sier om man kan opprette kopi av elementet   Altinn1ArchiveUnitId Unik identifikator for elementet i arkivet dersom dette er et element som er arkivert i Altinn I. Behøver ikke settes.   Altinn1FormCode Angir skjema id i AltinnI. Behøver ikke settes   Altinn1FormId Angir skjema versjon AltinnI. Behøver ikke settes   Altinn1FormInstanceID Angir element id i AltinnI. Behøver ikke settes.   Altinn1FormORNo Angir OR-id i AltinnI. Behøver ikke settes.   Altinn1ParticipantID Angir unik id for tilhørende AltinnI bruker. Behøver ikke settes.   Altinn1ReferenceType Angir referansetype satt i AltinnI. Behøver ikke settes.   Altinn1WorkflowProcessId Arbeidsflytreferanse for elementet dersom elementet er arkivert i AltinnI. Behøver ikke settes.   ArchiveId Unik identifikator for elementet i arkiv. ReporteeElementId, ArchiveId eller Altinn1ArchiveUnitId må settes, men bare en av gangen.   ArchiveReference Unik arkivreferanse som vises for elementet på avgivers hovedside.   CaseID Eventuelt referanse til samhandlingstjeneste elementet er knyttet opp mot   CorrespondenceStatus Angir status for elementet (dersom elementet er av type meldingstjeneste). Mulige statuser er: Created - Meldingen er opprettet, Read - Meldingen er lest, Replied - Sluttbruker har svart på meldingen, ChangedByGovAgency - Tjenesteeier har gjort endringer på meldingen, ChangedByUser -Sluttbruker har gjort endringer på meldingen, Confirmed - Meldingen er bekreftet, DeletedByUser -Meldingen er slettet av sluttbruker, DeletedByAltinn - Altinn har slettet meldingen (for eksempel ved sanering), Archived - Meldingen er arkivert   DueDate Frist på elementet. Ikke satt for elementer i arkiv.   EndUserSystemID Id som benyttes for å hente navn på sluttbrukersystem   ExternalServiceCode Tjenestekode for elementet, for eksempel ”PSA”   IsCaseArchived Angir om samhandlingstjenesten er arkivert.   IsMatched Intern parameter.   LastChangedBy Navn på bruker/sluttbrukersystem eller tjenesteeier som sist endret elementet.   LastChangedByID Unik identifikator for bruker/sluttbrukersystem eller tjenesteeier som sist endret elementet.   LastChangedDate Dato for når elementet sist ble endret (yyyy-MM-dd).   LastChangeType Type endring som ble gjort sist elementet ble endret: Sent, Saved, Archived   Notice Eventuell merknad på elementet tilhørende en samhandlingstjeneste.   ParentCaseName Eventuelt navn på samhandlingstjenesten elementet er knyttet mot   ReporteeElementCode Angir element id hvor forkortelse for element typen er lagt til som prefiks. Mulige prefiks for element typer er: aktivt - A2E, arkivert - A2A   ReporteeElementId Unik identifikator for elementet.   ReporteeElementOwner Unik identifikator for avgiver som elementet tilhører.   ReporteeElementType Type element: Correspondence - meldingstjeneste, FormTask - innsendingstjeneste, Collaboration -samhandlingstjeneste, LookUp - innsynstjeneste   ReporteeName Navn på avgiver som vises for elementet i avgivers hovedside.   RoleRequirement Rollekrav for å utføre neste steg i arbeidsflyt. Ikke satt for elementer i arkiv.   RoleRequirementAltinn1Element Rollekrav for å utføre neste steg i arbeidsflyt dersom elementet er instansiert i AltinnI. Ikke satt for elementer i arkiv. Behøver ikke settes for AltinnII elementer.   SEReporteeElementID Unik identifikator for elementet brukt før det arkiveres.   ServiceEditionVersion Angir versjon på tjenesten.   ServiceOwner Angir tjenesteeier som tilbyr tjenesten som elementet tilhører.   ServiceOwnerCode Tjenesteeierkode brukt for å angi tjenesteeier navn   ServiceOwnerDescription Tjenesteeiers navn.   Status Status for elementet: NotOpenedNoConfirmationReq, NotOpenedConfirmationReq, OpenedNoConfirmedReq, OpenedNotConfirmed, Confirmed, FillIn, SignIn, Archive, SendIn, Active, Finished   Statusname Navn på status (med språkstøtte).   TaskStatus Angir status for elementet (dersom elementet er av type innsendingstjeneste). Elementet kan ha en av følgende statuser: FormFilling - Innsendingstjenesten er under utfylling, Signing - Innsendingstjenesten er klar for signering, SendIn - Innsendingstjenesten er klar for innsending, ParallelSigning - Innsendingstjenesten er til brukerstyrt signering, Archive - nnsendingstjenesten er arkivert   Title Tittel på elementet som vises i avgivers hovedside    ReporteeElementList.GetCorrespondenceListForArchiveRef Henter ut arkiverte melding(er) basert på arkiv ID.\nTabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     reportee Fødselsnummer eller organisasjonsnummer for avgiver   archiveReference Arkivreferanse i Altinn   fromDate Hvis satt, må alle returnerte elementer ha dato større enn denne   toDate Hvis satt, må alle returnerte elementer ha dato mindre enn denne   languageID Filtrerer på språk: 1033-English, 1044-Bokmål, 1083-Samisk, 2068-Nynorsk   Returverdi Beskrivelse   reporteeElementList En liste med ReporteeElementBE-objekter som inneholder detaljer for ett element for en avgiver.    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     ReporteeElementBE    AllowDelete En boolsk verdi som angir om bruker som hentet elementet fra arkiv har rettighet til å slette elementet.   AllowNewCopy Boolsk verdi som sier om man kan opprette kopi av elementet.   Altinn1ArchiveUnitId Unik identifikator for elementet i arkivet dersom dette er et element som er arkivert i Altinn I. Behøver ikke settes.   Altinn1FormCode Angir skjema id i AltinnI. Behøver ikke settes   Altinn1FormId Angir skjema versjon AltinnI. Behøver ikke settes   Altinn1FormInstanceID Angir element id i AltinnI. Behøver ikke settes.   Altinn1FormORNo Angir OR-id i AltinnI. Behøver ikke settes.   Altinn1ParticipantID Angir unik id for tilhørende AltinnI bruker. Behøver ikke settes.   Altinn1ReferenceType Angir referansetype satt i AltinnI. Behøver ikke settes.   Altinn1WorkflowProcessId Arbeidsflytreferanse for elementet dersom elementet er arkivert i AltinnI. Behøver ikke settes.   ArchiveId Unik identifikator for elementet i arkiv. ReporteeElementId, ArchiveId eller Altinn1ArchiveUnitId må settes, men bare en av gangen   ArchiveReference Unik arkivreferanse som vises for elementet på avgivers hovedside.   CorrespondenceStatus Angir status for elementet (dersom elementet er av type meldingstjeneste). Mulige statuser er: Created - Meldingen er opprettet, Read - Meldingen er lest, Replied - Sluttbruker har svart på meldingen, ChangedByGovAgency - Tjenesteeier har gjort endringer på meldingen, ChangedByUser - Sluttbruker har gjort endringer på meldingen, Confirmed - Meldingen er bekreftet, DeletedByUser -Meldingen er slettet av sluttbruker, DeletedByAltinn - Altinn har slettet meldingen (for eksempel ved sanering)   DueDate Frist på elementet. Ikke satt for elementer i arkiv   EndUserSystemID Id som benyttes for å hente navn på sluttbrukersystem   ExternalServiceCode Tjenestekode for elementet, for eksempel ”PSA”   LastChangedBy Navn på bruker/sluttbrukersystem eller tjenesteeier som sist endret elementet.   LastChangedByID Unik identifikator for bruker/sluttbrukersystem eller tjenesteeier som sist endret elementet.   LastChangedDate Dato for når elementet sist ble endret (yyyy-MM-dd).   LastChangeType Type endring som ble gjort sist elementet ble endret: Sent, Saved, Archived   ReporteeElementCode Angir element id hvor forkortelse for element typen er lagt til som prefiks. Mulige prefiks for element typer er: aktivt - A2E, arkivert - A2A   ReporteeElementId Unik identifikator for elementet.   ReporteeElementOwner Unik identifikator for avgiver som elementet tilhører.   ReporteeElementType Type element: Correspondence - meldingstjeneste, FormTask - innsendingstjeneste   ReporteeName Navn på avgiver som vises for elementet i avgivers hovedside.   RoleRequirement Rollekrav for å utføre neste steg i arbeidsflyt. Ikke satt for elementer i arkiv.   RoleRequirementAltinn1Element Rollekrav for å utføre neste steg i arbeidsflyt dersom elementet er instansiert i AltinnI. Ikke satt for elementer i arkiv. Behøver ikke settes for AltinnII elementer.   ServiceOwner Angir tjenesteeier som tilbyr tjenesten som elementet tilhører.   ServiceOwnerCode Tjenesteeierkode brukt for å angi tjenesteeier navn   Status Status for elementet: NotOpenedNoConfirmationReq, NotOpenedConfirmationReq, OpenedNoConfirmedReq, OpenedNotConfirmed, Confirmed, FillIn, SignIn, Archive, SendIn   Statusname Navn på status (med språkstøtte)   TaskStatus Angir status for elementet (dersom elementet er av type innsendingstjeneste). Elementet kan ha en av følgende statuser: FormFilling - Innsendingstjenesten er under utfylling, Signing - Innsendingstjenesten er klar for signering, SendIn - Innsendingstjenesten er klar for innsending   Title Tittel på elementet som vises i avgivers hovedside.    ReporteeElementList.GetCorrespondenceListForReportee Henter ut meldinger for en avgiver.\nTabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     reportee Fødselsnummer eller organisasjonsnummer for avgiver   fromDate Hvis satt, må alle returnerte elementer ha dato større enn denne   toDate Hvis satt, må alle returnerte elementer ha dato mindre enn denne   languageID Filtrerer på språk: 1033-English, 1044-Bokmål, 1083-Samisk, 2068-Nynorsk   Returverdi Beskrivelse   reporteeElementList En liste med ReporteeElementBE-objekter som inneholder detaljer for ett element for en avgiver.    Tabellen under beskriver datakontrakten for operasjonen\n   Property Beskrivelse     ReporteeElementBE    AllowDelete En boolsk verdi som angir om bruker som hentet elementet fra arkiv har rettighet til å slette elementet.   AllowNewCopy Boolsk verdi som sier om man kan opprette kopi av elementet.   Altinn1ArchiveUnitId Unik identifikator for elementet i arkivet dersom dette er et element som er arkivert i Altinn I. Behøver ikke settes.   Altinn1FormCode Angir skjema id i AltinnI. Behøver ikke settes   Altinn1FormId Angir skjema versjon AltinnI. Behøver ikke settes   Altinn1FormInstanceID Angir element id i AltinnI. Behøver ikke settes.   Altinn1FormORNo Angir OR-id i AltinnI. Behøver ikke settes.   Altinn1ParticipantID Angir unik id for tilhørende AltinnI bruker. Behøver ikke settes.   Altinn1ReferenceType Angir referansetype satt i AltinnI. Behøver ikke settes.   Altinn1WorkflowProcessId Arbeidsflytreferanse for elementet dersom elementet er arkivert i AltinnI. Behøver ikke settes.   ArchiveId Unik identifikator for elementet i arkiv   ArchiveReference Unik arkivreferanse som vises for elementet på avgivers hovedside   CorrespondenceStatus Angir status for elementet (dersom elementet er av type meldingstjeneste). Mulige statuser er: Created - Meldingen er opprettet, Read - Meldingen er lest, Replied - Sluttbruker har svart på meldingen, ChangedByGovAgency - Tjenesteeier har gjort endringer på meldingen, ChangedByUser -Sluttbruker har gjort endringer på meldingen, Confirmed - Meldingen er bekreftet, DeletedByUser - Meldingen er slettet av sluttbruker, DeletedByAltinn - Altinn har slettet meldingen (for eksempel ved sanering)   DueDate Frist på elementet. Ikke satt for elementer i arkiv   EndUserSystemID Id som benyttes for å hente navn på sluttbrukersystem   ExternalServiceCode Tjenestekode for elementet, for eksempel ”PSA”   LastChangedBy Navn på bruker/sluttbrukersystem eller tjenesteeier som sist endret elementet   LastChangedByID Unik identifikator for bruker/sluttbrukersystem eller tjenesteeier som sist endret elementet   LastChangedDate Dato for når elementet sist ble endret (yyyy-MM-dd).   LastChangeType Type endring som ble gjort sist elementet ble endret: Sent, Saved, Archived   ReporteeElementCode Angir element id hvor forkortelse for element typen er lagt til som prefiks. Mulige prefiks for element typer er: aktivt - A2E, arkivert - A2A   ReporteeElementId Unik identifikator for elementet.   ReporteeElementOwner Unik identifikator for avgiver som elementet tilhører   ReporteeElementType Type element: Correspondence - meldingstjeneste, FormTask - innsendingstjeneste   ReporteeName Navn på avgiver som vises for elementet i avgivers hovedside   RoleRequirement Rollekrav for å utføre neste steg i arbeidsflyt. Ikke satt for elementer i arkiv.   RoleRequirementAltinn1Element Rollekrav for å utføre neste steg i arbeidsflyt dersom elementet er instansiert i AltinnI. Ikke satt for elementer i arkiv. Behøver ikke settes for AltinnII elementer.   ServiceOwner Angir tjenesteeier som tilbyr tjenesten som elementet tilhører   ServiceOwnerCode Tjenesteeierkode brukt for å angi tjenesteeier navn   Status Status for elementet: NotOpenedNoConfirmationReq, NotOpenedConfirmationReq, OpenedNoConfirmedReq, OpenedNotConfirmed, Confirmed, FillIn, SignIn, Archive, SendIn   Statusname Navn på status (med språkstøtte).   TaskStatus Angir status for elementet (dersom elementet er av type innsendingstjeneste). Elementet kan ha en av følgende statuser: FormFilling, - Innsendingstjenesten er under utfylling, Signing -Innsendingstjenesten er klar for signering, SendIn -Innsendingstjenesten er klar for innsending   Title Tittel på elementet som vises i avgivers hovedside.    ServiceMetadata    Tjenesteoperasjon Kort beskrivelse     GetAvailableServices Henter en liste med gyldige tjenester i Altinn   GetFormTaskSchemaDefinitions Henter spesifikasjoner (.xsd) for alle skjemaer i en gitt innsendingstjeneste    Se avsnittet URI til alle Altinn tjenester / aliasoversikt for endepunkter kapittel 8.3 for informasjon om endepunkter for tjenesteoperasjonene.\nServiceMetadata.GetAvailableServicesV2 Denne operasjonen returnerer en liste med gyldige tjenester i Altinn. Operasjonen er versjonert, og finnes i både V2 og V3 versjon som tilbyt noe ulik funksjonalitet.\nTabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     languageID Språk kode for å filtrere tjenester. Hvis 0 angis blir verdien satt til standard språkvalg. Språkkoder: 1033-English, 1044-Bokmål, 1083-Samisk, 2068-Nynorsk   Returverdi Beskrivelse   availableServiceList Liste med AvailableServiceBEV2-objekter som inneholder detaljer for en gyldig innsendingstjeneste.    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     AvailableServiceBEV2    ServiceOwnerCode Kode for tjenesteeier som tilbyr denne tjenesten   ServiceOwnerName Navn på tjenesteeier som tilbyr tjenesten   ServiceName Navn på tjenesten   ExternalServiceCode Angir kode for tjenesten, for eksempel ”PSA”   ExternalServiceEditionCode Angir utgave av tjenesten, for eksempel ”2009”   ServiceEditionVersionName Angir versjon på tjenesten   ServiceEditionVersionId Angir identifikator for versjonen av tjenesten   ValidFrom Startdato for tidsrommet som tjenesten er gyldig i (yyyy-MM-ddThh:mm:ss)   ValidTo Sluttdato for tidsrommet som tjenesten er gyldig i (yyyy-MM-ddThh:mm:ss)   BuildPackageVersion Et unikt versjonsnummer internt i Altinn   IsMatched Intern parameter   ServiceType Angir type tjeneste: Correspondence – meldingstjeneste, Reporting – innsendingstjeneste, Collaboration – samhandlingstjeneste, Lookup –Iinnsynstjeneste    ServiceMetadata.GetAvailableServicesV3 Denne operasjonen returnerer en liste med gyldige tjenester i Altinn, filtrert på søkeparameterene som blir sendt inn. Operasjonen er versjonert, siste versjon er V3.\nTabellen under beskriver datakontrakten for operasjonen.\n   Property Beskrivelse     AvailableServiceBEV2    ServiceOwnerCode Kode for tjenesteeier som tilbyr denne tjenesten.   ServiceOwnerName Navn på tjenesteeier som tilbyr tjenesten.   ServiceName Navn på tjenesten.   ExternalServiceCode Angir kode for tjenesten, for eksempel ”PSA”.   ExternalServiceEditionCode Angir utgave av tjenesten, for eksempel ”2009”.   ServiceEditionVersionName Angir versjon på tjenesten.   ServiceEditionVersionId Angir identifikator for versjonen av tjenesten.   ValidFrom Startdato for tidsrommet som tjenesten er gyldig i (yyyy-MM-ddThh:mm:ss).   ValidTo Sluttdato for tidsrommet som tjenesten er gyldig i (yyyy-MM-ddThh:mm:ss).   BuildPackageVersion Et unikt versjonsnummer internt i Altinn   IsMatched Intern parameter.   ServiceType Angir type tjeneste: Correspondence – meldingstjeneste, Reporting – innsendingstjeneste, Collaboration – samhandlingstjeneste, Lookup – innsynstjeneste    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     ServicesSearchExternalBE    ServiceType Angir type tjeneste: Correspondence – meldingstjeneste, Reporting – innsendingstjeneste, Collaboration – samhandlingstjeneste, Lookup – innsynstjeneste   ServiceOwnerCode Kode for tjenesteeier som tilbyr denne tjenesten.   ExternalServiceCode Angir kode for tjenesten, for eksempel ”PSA”.   ExternalServiceEditionCode Angir utgave av tjenesten, for eksempel ”2009”.   AvailableServiceBEV3    ServiceOwnerCode Kode for tjenesteeier som tilbyr denne tjenesten.   ServiceOwnerName Navn på tjenesteeier som tilbyr tjenesten.   ServiceName Navn på tjenesten.   ExternalServiceCode Angir kode for tjenesten, for eksempel ”PSA”.   ExternalServiceEditionCode Angir utgave av tjenesten, for eksempel ”2009”.   ServiceEditionVersionName Angir versjon på tjenesten.   ServiceEditionVersionId Angir identifikator for versjonen av tjenesten.   ValidFrom Startdato for tidsrommet som tjenesten er gyldig i (yyyy-MM-ddThh:mm:ss).   ValidTo Sluttdato for tidsrommet som tjenesten er gyldig i (yyyy-MM-ddThh:mm:ss).   BuildPackageVersion Et unikt versjonsnummer internt i Altinn   IsMatched Intern parameter.   ServiceType Angir type tjeneste: Correspondence – meldingstjeneste, Reporting – innsendingstjeneste, Collaboration – samhandlingstjeneste, Lookup – innsynstjeneste   AttachmentRuleTypeBEList Liste som angir hvilke vedleggstyper som er knyttet til tjenesten   AttachmentRuleTypeBE    AttachmentTypeName Unikt navn for vedleggstypen, benyttes for å spesifisere vedleggstype når vedlegg sendes inn.   AttachmentTypeNameLanguage Visningsnavn for vedleggstypen basert på angitt språk.   MinAttachmentCount Minimum antall vedlegg av denne typen som må være med for å etterfølge kravene for vedleggstypen.   MaxAttachmentCount Maksimum antall vedlegg av denne typen som må være med for å etterfølge kravene for vedleggstypen.   MaxFileSize Maksimum tillatt filstørrelse for vedleggstypen.   AllowedFileTypes Kommaseparert liste over tillatte filtypeendelser for vedleggstypen.   IsXSDValidationRequired Verdi som angir om XSD validering av vedlegg vil bli gjort for denne vedleggstypen. XSD kan mottas fra tjenesteeier.    Tabellen under angir mulige feilkoder for operasjonen:\n   Feilkode Beskrivelse     30013 Angitt ExternalServiceCode er på ugyldig format   30005 Angitt ServiceOwnerCode er på ugyldig format   40039 Når ExternalServiceEditionCode er angitt må også ExternalServiceCode angis    ServiceMetadata.GetFormTaskSchemaDefinitions Denne operasjonen returnerer spesifikasjoner (.xsd) for alle skjemaer i en gitt innsendingstjeneste.\nTabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     externalServiceCode Angir tjenestekode på innsendingstjenesten man ønsker å hente spesifikasjoner for   externalServiceEditionCode Angir tjenesteutgavekode for innsendingstjeneste   Returverdi Beskrivelse   logicalFormSchemaDefinitionList Liste med LogicalFormSchemaDefinitionBE-objekter som inneholder meldingsspesifikasjon for et gitt skjema    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     LogicalFormSchemaDefinitionBE    LogicalFormID Unik identifikator for et gitt skjema i Altinn   DataFormatXsd Meldingsspesifikasjon for skjemaet   DataFormatProviderTypeID    DataFormatID Den unike id for et spesifikt skjema, dette er typisk gitt av metadata leverandør   DataFormatVersion Versjonen av en gitt DataFormatID, som sammen med den gir et unikt skjema (spesifikasjon)    Workflow    Tjenesteoperasjon Kort beskrivelse     DoSendingInAction Setter arbeidsflyt til neste steg i forhold til et skjemasett hvis skjema utfylling er ferdig og dette skjema ikke har definert noen signeringssteg.   DoSigning Utfører signering hvis en skjemasett lå klart til signering   GetAvailableActionsV2 Returnerer hvilken handling som er mulig å utføre for en gitt innsendingstjeneste i Altinn   GetNextWorkflowStateTypeInProcessFlowV2 Denne operasjonen returnerer neste steg (steget etter gjeldende steg) i arbeidsflyt for en gitt innsendingstjeneste   GetProcessDetailsV2 Denne operasjonen returnerer alle steg i arbeidsflyten for en gitt innsendingstjeneste; både steg som allerede er utført og steg som skal utføres   GetSigningText Henter ut signeringsteksten for et element i Altinn   SetBackToFormFilling Kan kalles fra et sluttbrukersystem for å sette en innsendingstjeneste i Altinn tilbake til utfyllingssteg   PrepareUserControlledSigningBasic Benyttes til å sette opp det brukerstyrte signeringssteget   GetProcessStepIDForParallelSigningBasic Henter stegnummeret for det brukerstyrte signeringssteget    Se avsnittet URI til alle Altinn tjenester / aliasoversikt for endepunkter kapittel 8.3 for informasjon om endepunkter for tjenesteoperasjonene.\nWorkflow.DoSendingInAction DoSendingInAction kan kalles fra et sluttbrukersystem for å sende inn en innsendingstjeneste (uten signeringssteg) som allerede ligger ferdig utfylt i Altinn.\nTabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     userSSN Fødselsnummer til bruker i sluttbrukersystemet som skal autentiseres   userPassword Passordet bruker (i sluttbrukersystemet) har registrert for sin bruker i Altinn   userPinCode Pinkode for valgt engangskodetype (authMethod)   authMethod Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er: AltinnPin, TaxPin, SMSPin   reporteeElementID Angir element i Altinn som skal sendes inn   Returverdi Beskrivelse   N/A     Tabellen under angir mulige feilkoder for operasjonen:\n   Feilkode Beskrivelse     60035 Man har prøvd å arkivere et ReporteeElement som allerede er arkivert   60037 Man har prøvd å sende inn et ReporteeElement som ikke har blitt validert, da element ikke er i en completed state    Workflow.DoSigning DoSigning kan kalles fra et sluttbrukersystem for å signere en innsendingstjeneste som ligger klart til signering i Altinn. Dersom dette er siste signeringssteg vil tjenesten også sendes inn.\nListen med FormID og AttachmentID som skal signeres kan hentes av sluttbrukersystemet ved å gjøre et kall til ReporteeElementList.GetFormSetElementsV2 i ReporteeElementList endepunktet.\nReporteeElementListExternalBasic.GetFormSetElementsBasicV2[reporteeElementID] returnerer:\n*Når Vedlegg:* \u0026amp;lt;b:ItemID\u0026amp;gt;184863\u0026amp;lt;/b:ItemID\u0026amp;gt; \u0026amp;lt;b:ItemName\u0026amp;gt;Chrysanthemum.jpg\u0026amp;lt;/b:ItemName\u0026amp;gt; \u0026amp;lt;b:ItemType\u0026amp;gt;BinaryAttachment\u0026amp;lt;/b:ItemType\u0026amp;gt; *For HovedSkjema:* \u0026amp;lt;b:ItemID\u0026amp;gt;109813\u0026amp;lt;/b:ItemID\u0026amp;gt; \u0026amp;lt;b:ItemName\u0026amp;gt;RF-1215 Selskapsoppgave for deltakerliknet selskap 2012\u0026amp;lt;/b:ItemName\u0026amp;gt; \u0026amp;lt;b:ItemType\u0026amp;gt;MainForm\u0026amp;lt;/b:ItemType\u0026amp;gt; \u0026amp;lt;b:ItemURL\u0026amp;gt;PrintPDF.aspx?FormId=109813\u0026amp;lt;/b:ItemURL\u0026amp;gt; *Når Underskjema:* \u0026amp;lt;b:ItemID\u0026amp;gt;109814\u0026amp;lt;/b:ItemID\u0026amp;gt; \u0026amp;lt;b:ItemName\u0026amp;gt;RF-1233 Selskapets oppgave over deltakerens formue og inntekt i deltakerliknet selskap 2012\u0026amp;lt;/b:ItemName\u0026amp;gt; \u0026amp;lt;b:ItemType\u0026amp;gt;SubForm\u0026amp;lt;/b:ItemType\u0026amp;gt; \u0026amp;lt;b:ItemURL\u0026amp;gt;PrintPDF.aspx?FormId=109814\u0026amp;lt;/b:ItemURL\u0026amp;gt; \u0026amp;lt;b:ValidationStatusType\u0026amp;gt;Valid\u0026amp;lt;/b:ValidationStatusType\u0026amp;gt; Parameterer ItemID gir korrelert verdi som skal benyttes i WorkflowServiceExternalBasic.DoSigningBasic for å utføre signering av valgte skjema/vedlegg: \u0026amp;lt;ns:selectedForms\u0026amp;gt; \u0026amp;lt;arr:int\u0026amp;gt;\\[ItemID fra WS GetFormSetElementsBasicV2 \\]\u0026amp;lt;/arr:int\u0026amp;gt; … \u0026amp;lt;/ns:selectedForms\u0026amp;gt; … \u0026amp;lt;ns:selectedAttachments\u0026amp;gt; \u0026amp;lt;arr:int\u0026amp;gt;184863\u0026amp;lt;/arr:int\u0026amp;gt; \u0026amp;lt;arr:int\u0026amp;gt;184864\u0026amp;lt;/arr:int\u0026amp;gt; … \u0026amp;lt;/ns:selectedAttachments\u0026amp;gt;  Tabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     userSSN Fødselsnummer til bruker i sluttbrukersystemet som skal autentiseres   userPassword Passordet bruker (i sluttbrukersystemet) har registrert for sin bruker i Altinn   userPinCode Pinkode for valgt engangskodetype (authMethod)   authMethod Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er: AltinnPin, TaxPin, SMSPin   reporteeElementID Angir element i Altinn som skal signeres   selectedForms Angir en liste med FormIDs for skjemaer som skal signeres   selectedAttachments Angir en liste med AttachmentIDs for vedlegg som skal signeres (kan hentes ut vha ItemID i operasjonen GetFormSetElementsV2 når ItemType er satt til BinaryAttachment).   signatureText Signeringstekst   endUserSystemLoginDateTime Dato og tidspunkt for når bruker logget inn i sluttbrukersystem (yyyy-MM-ddThh:mm:ss)   endUserSystemSignatureDateTime ato og tidspunkt for når signeringen i sluttbrukersystemet ble gjort (yyyy-MM-ddThh:mm:ss)   endUserSystemVersion Versjonsnummer for sluttbrukersystemet   endUserSystemUserId Identifikator for bruker som var logget på sluttbrukersystemet og gjennomførte signeringen   enduserSystemReference Referanse til signaturen som ble utført i sluttbrukersystemet (satt av sluttbrukersystem, bør være unik)   endUserSystemSignatureLogId Unik id i sluttbrukersystemet for logginnslag for signeringen   Returverdi Beskrivelse   N/A     Tabellen under angir mulige feilkoder for operasjonen:\n   Feilkode Beskrivelse     14 Dette er en generell autoriserings feil, og vil forekomme i et par situasjoner; a. Man prøver å signere et ReporteeElement som man ikke har tilgang til. b. Man prøver å signere et ReporteeElement som står i feil status. (For eksempel Utfylling.)   60035 Man har prøvd å signere og arkivere et ReporteeElement som allerede er arkivert.   60036 Denne brukeren har allerede signert dette ReporteeElementet.    Workflow.GetAvailableActionsV2 Denne operasjonen returnerer hvilken handling som er mulig å utføre for en gitt innsendingstjeneste i Altinn. Dette er basert på hvilket steg i arbeidsflyten tjenesten befinner seg på, samt hvilke rettigheter bruker i sluttbrukersystemet har. Operasjonen er versjonert, gjeldende versjon er V2.\nTabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     userSSN Fødselsnummer til bruker i sluttbrukersystemet som skal autentiseres   userPassword Passordet bruker (i sluttbrukersystemet) har registrert for sin bruker i Altinn   userPinCode Pinkode for valgt engangskodetype (authMethod)   authMethod Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er: AltinnPin, TaxPin, SMSPin   reporteeElementID Angir element i Altinn   Returverdi Beskrivelse   userCurrentAction UserCurrentActionV2-objektet vil inneholde en av seks mulige handlinger: NoAction, Sign, FormFilling, SendIn, SignAndSendIn, DoSignDelegation, Delegering for brukerstyrt signering    Workflow.GetNextWorkflowStateTypeInProcessFlowV2 Denne operasjonen returnerer neste steg (steget etter gjeldende steg) i arbeidsflyt for en gitt innsendingstjeneste. Operasjonen er versjonert, gjeldende versjon er V2.\nTabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     reporteeElementID Angir element i Altinn.   Returverdi Beskrivelse   userCurrentAction UserCurrentActionV2-objektet vil inneholde en av seks mulige handlinger: NoAction, Sign, FormFilling, SendIn, SignAndSendIn, DoSignDelegation, Delegering for brukerstyrt signering    Workflow.GetProcessDetailsV2 Denne operasjonen returnerer alle steg i arbeidsflyten for en gitt innsendingstjeneste; både steg som allerede er utført og steg som skal utføres. Operasjonen er versjonert, gjeldende versjon er V2.\nTabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     reporteeElementID Angir element i Altinn   Returverdi Beskrivelse   processDetailsList En liste med ProcessDetailsBEV2-objekter, som inneholder detaljer for alle steg for gitte innsendingstjeneste    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     ProcessDetailsBEV2    SequenceNumber Sekvensnummer i arbeidsflyt for gjeldende steg   ProcessStepId Unik identifikator for steget   ActivityTypeId Angir type steg: FormFilling, Signing, SendIn   UserId Identifikator for bruker som har gjennomført steget (dersom steget er gjennomført av bruker)   ServiceOwnerId Identifikator for tjenesteeier som har gjennomført steget (dersom steget er gjennomført av tjenesteeier).   EndUserSystemID Identifikator for sluttbrukersystem som har gjennomført steget (dersom steget er gjennomført av sluttbrukersystem).   ReporteeId Identifikator for avgiver for tjenesten   ReporteeName Navn på avgiver   CreatedDateTime Dato og tidspunkt for når tjenesten kom til gjeldende steg (yyyy-MM-ddThh:mm:ss)   IsCurrentStep Angir om dette steget er gjeldende steg i arbeidsflyt for innsendingstjeneste   LastModifiedDate Dato og tidspunkt for når det sist ble gjort endringer på tjenesten for dette steget (yyyy-MM-ddThh:mm:ss)   IsOptionalSigningStep Angir om signering er valgfritt for prosessen   IsOptionalSigningStepIndicator Angir om signering er valgfritt for steget   ParallelSigningSeqNumber Angir stegnummeret et eventuelt brukerstyrt signeringssteg har i arbeidsflyten for tjenesten    Workflow.GetProcessDetailsBasicV3 Denne operasjonen returnerer alle steg i arbeidsflyten for en gitt innsendingstjeneste; både steg som allerede er utført og steg som skal utføres. Operasjonen er versjonert, gjeldende versjon er V2.\nTabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     reporteeElementID Angir element i Altinn   Returverdi Beskrivelse   processDetailsList En liste med ProcessDetailsBEV3-objekter, som inneholder detaljer for alle steg for gitte innsendingstjeneste    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     ProcessDetailsBEV2    SequenceNumber Sekvensnummer i arbeidsflyt for gjeldende steg   ProcessStepId Unik identifikator for steget.   ActivityTypeId Angir type steg: FormFilling, Signing, SendIn, Deleted   UserId Identifikator for bruker som har gjennomført steget (dersom steget er gjennomført av bruker).   ServiceOwnerId Identifikator for tjenesteeier som har gjennomført steget (dersom steget er gjennomført av tjenesteeier).   EndUserSystemID Identifikator for sluttbrukersystem som har gjennomført steget (dersom steget er gjennomført av sluttbrukersystem).   ReporteeId Identifikator for avgiver for tjenesten.   ReporteeName Navn på avgiver.   CreatedDateTime Dato og tidspunkt for når tjenesten kom til gjeldende steg (yyyy-MM-ddThh:mm:ss).   IsCurrentStep Angir om dette steget er gjeldende steg i arbeidsflyt for innsendingstjeneste.   LastModifiedDate Dato og tidspunkt for når det sist ble gjort endringer på tjenesten for dette steget (yyyy-MM-ddThh:mm:ss).   IsOptionalSigningStep Angir om signering er valgfritt for prosessen   IsOptionalSigningStepIndicator Angir om signering er valgfritt for steget   ParallelSigningSeqNumber Angir stegnummeret et eventuelt brukerstyrt signeringssteg har i arbeidsflyten for tjenesten.    Workflow.GetSigningText Denne operasjonen henter ut signeringsteksten for et element i Altinn. Språkkoden angir hvilket språk man ønsker teksten på. Dersom valgt språk ikke støttes for denne tjenesten vil teksten returneres på default språk.\nTabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     userSSN Fødselsnummer til bruker i sluttbrukersystemet som skal autentiseres   userPassword Passordet bruker (i sluttbrukersystemet) har registrert for sin bruker i Altinn   userPinCode Pinkode for valgt engangskodetype (authMethod)   authMethod Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er: AltinnPin, TaxPin, SMSPin   externalServiceCode Tjenestekode (for eksempel ”PSA”) for tjenesten som skjemasettet tilhører. Settes bare hvis reporteeElementID er ukjent.   externalServiceEditionCode Tjenesteutgavekode (for eksempel ”2009”) for tjenesten som skjemasettet tilhører. Settes sammen med externalServiceCode.   reporteeElementID Angir element i Altinn. Settes ikke hvis externalServiceCode/ externalServiceEditionCode er satt.   languageID Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er: 1033-English, 1044-Bokmål, 1083-Samisk, 2068-Nynorsk   Returverdi Beskrivelse   tekst Signeringstekst    Workflow.SetBackToFormFilling Denne operasjonen kan kalles fra et sluttbrukersystem for å sette en innsendingstjeneste i Altinn tilbake til utfyllingssteg.\nTabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     userSSN Fødselsnummer til bruker i sluttbrukersystemet som skal autentiseres   userPassword Passordet bruker (i sluttbrukersystemet) har registrert for sin bruker i Altinn   userPinCode Pinkode for valgt engangskodetype (authMethod)   authMethod Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er: AltinnPin, TaxPin, SMSPin   reporteeElementID Angir element i Altinn   Returverdi Beskrivelse   N/A     Workflow.PrepareUserControlledSigning Denne operasjonen benyttes for å forberede det brukerstyrte signeringssteget for en innsendingstjeneste.\nTabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     userSSN Fødselsnummer til bruker i sluttbrukersystemet som skal autentiseres   userPassword Passordet bruker (i sluttbrukersystemet) har registrert for sin bruker i Altinn   userPinCode Pinkode for valgt engangskodetype (authMethod)   authMethod Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er: AltinnPin, TaxPin, SMSPin   reporteeElementID Angir elementet i Altinn   delegatedUserBEList Liste med DelegatedUserBE som angir hvilke brukere som kan signere det brukerstyrte signeringssteget   parallelSigningStepLocked Angir om det brukerstyrte steget skal være låst eller ei, kan kun brukes av ”Trusted partner”   userDefinedNumberOfSignaturesRequired Angir antallet signaturer som kreves for det brukerstyrte signeringssteget   Returverdi Beskrivelse   N/A N/A    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     DelegatedUserBE    SSN Fødselsnummer for bruker som skal signere.   Name Og etternavn til bruker som skal signere.   NumberOfSignaturesAllowed Antall signaturer denne kan gjøre.    Workflow.GetProcessStepIDForParallelSigning Denne operasjonen benyttes for å hente prosess steg ID for det brukerstyrte signeringssteget.\nTabellen under beskriver datakontrakten for operasjonen.\n   userSSN Fødselsnummer til bruker i sluttbrukersystemet som skal autentiseres     userPassword Passordet bruker (i sluttbrukersystemet) har registrert for sin bruker i Altinn   userPinCode Pinkode for valgt engangskodetype (authMethod)   authMethod Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er: AltinnPin, TaxPin, SMSPin   reporteeElementID Angir elementet i Altinn   Returverdi Beskrivelse   Id ID til det brukerstyrte signeringssteget, returneres 0 betyr det at valgt element ikke har et brukerstyrt signeringssteg    Workflow.GetSigningSummaryHTML Operasjon innført av webSA for å kunne understøtte samme funksjonaliteten som man har i Altinn I, med visning av kvitteringssammendrag på signeringssiden/signeringssteget, og ikke bare på kvitteringssiden etter arkivering.\nTabellen under beskriver datakontrakten for operasjonen.\n   userSSN Fødselsnummer til bruker i sluttbrukersystemet som skal autentiseres     userPassword Passordet bruker (i sluttbrukersystemet) har registrert for sin bruker i Altinn   userPinCode Pinkode for valgt engangskodetype (authMethod)   authMethod Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er: AltinnPin, TaxPin, SMSPin   reporteeElementID Angir elementet i Altinn   Returverdi Beskrivelse   GetSigningSummaryHTMLBasicResult Returnerer kvitteringssammendrag for en innsendingstjeneste tilsvarende som i portal    PrefillEUSExternal\n   Tjenesteoperasjon Kort beskrivelse     GetPrefillData Henter preutfyllingsdata for angitt avgiver og tjenesteutgave, og returnerer preutfyllingsdata    Se avsnittet URI til alle Altinn tjenester / aliasoversikt for endepunkter kapittel 8.3 for informasjon om endepunkter for tjenesteoperasjonene.\nPrefillEUSExternal.GetPrefillData Denne operasjonen kan kalles fra et sluttbrukersystem for å hente preutfyllingsdata for en gitt avgiver og tjenesteutgave.\n   Input Beskrivelse     userSSN Fødselsnummer til bruker i sluttbrukersystemet   userPassword Passordet bruker (i sluttbrukersystemet) har registrert for sin bruker i Altinn   userPinCode Pinkode for valgt engangskodetype (authMethod)   authMethod Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er: AltinnPin, TaxPin, SMSPin   ReporteeNumber Fødselsnummer eller organisasjonsnummer det skal hentes ut prefill for   ExternalServiceCode Tjenestekode for tjenesten som skjemasettet tilhører   ExternalServiceEditionCode Tjenesteutgavekode for tjenesten som skjemasettet tilhører   Returverdi Beskrivelse   preFillData Objekt av typen PreFillDataBE, som inneholder status på hvorvidt preutfyllingsdata ble funnet eller ikke, samt en liste med objekter av typen PreFillFormFieldDataBE, som inneholder selve preutfyllingsdataene og andre metadata.    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     PreFillDataBE    Status Status som angir om preutfyllingsdata ble funnet eller ikke. Mulige statuser er: INVALIDINPUT - Input er ikke valid, PREFILLDATAFOUND - Preutfyllingsdata ble funnet og returnert, PREFILLDATANOTFOUND - Ingen gyldige preutfyllingsdata ble funnet   PreFillFormTaskBEList Liste med objekter av typen PrefillFormTaskBE   PrefillFormTaskBE    ExternalServiceCode Angir den unike tjenestekoden dataene gjelder   ExternalServiceEditionCode Angir tjenesteutgavekode dataene gjelder   ExternalShipmentReference Unik referanse som settes av tjenesteeier for å identifisere forsendelsen   IdentityFieldHashCode Settes ikke av tjenesteeier. Brukes internt i Altinn   PreFillAttachments Liste (PrefillAttachmentBE-objekter) som inneholder binære vedlegg for oppgavesettet   PreFillForms Liste (PrefillFormBE-objekter) som inneholder preutfylte skjema og metadata for et oppgavesett, ett skjema per objekt   PreFillIdentityFields Liste (PrefillIdentityFieldBE-objekter) som inneholder identifiserende felter for det preutfylte oppgavesettet   PrefillNotifications Liste (NotificationBE-objekter) med varsler for det preutfylte oppgavesettet   ReceiversReference Referanse som settes av Altinn   Reportee Fødselsnummer eller organisasjonsnummer som identifiserer hvem dataene gjelder   SendersReference Referanse på preutfylt skjemasett som settes av tjenesteeier   ServiceOwnerCode Kode som unikt representerer kildesystem, f.eks. ”ABC-123”. Format: XXX_YYYY. De tre første bokstavene er påkrevd og representerer tjenesteeier. De etter understreken representerer avdeling/system, og er valgfritt hvis det ikke finnes flere avdelinger/systemer innenfor samme tjenesteeier.   ValidFromDate Angir fra når preutfyllingsdata er gyldig (yyyy-MM-dd)   ValidToDate Angir til når preutfyllingsdata er gyldig (yyyy-MM-dd)   PrefillAttachmentBE    AttachmentData Data for det binære vedlegget.   AttachmentName Dette er navnet på vedlegget, som det vises i portalen.   AttachmentType MIME-typen for vedlegget   FileName Navn på fil for det binære vedlegget.   SendersReference Referanse for vedlegget. Settes av tjenesteeier   PrefillFormBE    DataFormatID Id til skjema fra metadata kilde   DataFormatVersion Versjon til skjema fra metadata kilde   FormDataXML Preutfyllingsdata for skjemaet. En CDATA blokk   SendersReference Referanse for skjemaet satt av tjenesteeier   PreFillIdentityFieldBE    FieldValue Verdi for identifiserende felt, som benyttes for å skille preutfyllingsdata for samme tjenesteutgave og avgiver fra hverandre   NotificationBE    FromAddress Avsender adresse (e-post). Hvis ikke satt benyttes avsenderadresse satt i varselmalen   ShipmentDateTime Når varsel skal sendes til mottaker   LanguageCode Språk kode: 1033-English, 1044-Bokmål, 1083-Samisk, 2068-Nynorsk   NotificationType En unik streng som definerer en referanse til predefinerte varslingstekster   TextTokens Liste av tekster som skal erstatte maltekst i varselmal   ReceiverEndPoints Liste av mottaker adresser (ReceiverEndPointBE)   ReceiverEndPoint    ReceiverAddress Adressen (telefonnummer eller e-postadresse) for mottakspunktet   TransportType Type varsling: Email, SMS, Instant Message (IM), Both email \u0026amp; sms   TextTokenSubstitutionBE    TokenNum Id på maltekst som skal erstattes i varselmal. Varselmal må bestilles og lages på forhånd   TokenValue Tekst som skal ersatte maltekst    PrefillEUSExternal.GetPrefillDataV2 Denne operasjonen kan kalles fra et sluttbrukersystem for å hente preutfyllingsdata for en gitt avgiver og tjenesteutgave.\n   Input Beskrivelse     userSSN Fødselsnummer til bruker i sluttbrukersystemet   userPassword Passordet bruker (i sluttbrukersystemet) har registrert for sin bruker i Altinn.   userPinCode Pinkode for valgt engangskodetype (authMethod)   authMethod Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er: AltinnPin, TaxPin, SMSPin   ReporteeNumber Fødselsnummer eller organisasjonsnummer det skal hentes ut prefill for   ExternalServiceCode Tjenestekode for tjenesten som skjemasettet tilhører   ExternalServiceEditionCode Tjenesteutgavekode for tjenesten som skjemasettet tilhører   PrefillList SBS kan be om preutfylling for spesifikke skjema/underskjema med en opsjonell liste over ønskede skjema. Listen inneholder verdi/verdier som refererer til skjema basert på dets DataFormatID. Det skal ikke være nødvendig å måtte angi DataFormatVersion siden man allerede kjenner til ExternalServiceCode, ExternalServiceEditionCode + DataFormatID, som gir nok informasjon til å finne det aktuelle (under-)skjema. Merk at dette er en liste, slik at man kan hente preutfylling for flere skjema samtidig   PrefillList.DataFormatID Liste med en eller flere verdier. Verdien peker på hvilket skjema i et skjemasett man ønsker å hente preutfylling for   returnAllFormTasks Verdi for å bestemme om Altinn skal returnere alle gyldige skjemaset eller kun det siste. Dersom verdien ikke er definert eller er definert til ‘false’ så returneres kun siste skjemasettet som er preutfylt. Dersom verdien er definert til ‘true’ så returneres de etterspurte skjemaene i alle gyldige preutfylte skjemaset. Det er kun i tilfeller der det er prefill på skjemanivå at det kan returneres mer en ett oppgavesett.   Returverdi Beskrivelse   preFillData Objekt av typen PreFillDataBE, som inneholder status på hvorvidt preutfyllingsdata ble funnet eller ikke, samt en liste med objekter av typen PreFillFormFieldDataBE, som inneholder selve preutfyllingsdataene og andre metadata    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     PreFillDataBE    PrefillDataFound Samlestatus: Angir om det finnes eller ikke finnes Preutfylling (Tilsvarer: SOPrefillDataFound or RegisterPrefillDataFound)   SOPrefillDataFound Angir om det finnes eller ikke finnes Preutfylling fra tjenesteeier   RegisterPrefillDataFound Angir om det finnes eller ikke finnes Preutfylling fra Register   PreFillFormTaskBEList Liste med objekter av typen PrefillFormTaskBE   PrefillFormTaskBE    ExternalServiceCode Angir den unike tjenestekoden dataene gjelder   ExternalServiceEditionCode Angir tjenesteutgavekode dataene gjelder   ExternalShipmentReference Unik referanse som settes av tjenesteeier for å identifisere forsendelsen   IdentityFieldHashCode Settes ikke av tjenesteeier. Brukes internt i Altinn   PreFillAttachments Liste (PrefillAttachmentBE-objekter) som inneholder binære vedlegg for oppgavesettet   PreFillForms Liste (PrefillFormBE-objekter) som inneholder preutfylte skjema og metadata for et oppgavesett, ett skjema per objekt   PreFillIdentityFields Liste (PrefillIdentityFieldBE-objekter) som inneholder identifiserende felter for det preutfylte oppgavesettet   PrefillNotifications Liste (NotificationBE-objekter) med varsler for det preutfylte oppgavesettet   ReceiversReference Referanse som settes av Altinn   Reportee Fødselsnummer eller organisasjonsnummer som identifiserer hvem dataene gjelder   SendersReference Referanse på preutfylt skjemasett som settes av tjenesteeier   ServiceOwnerCode Kode som unikt representerer kildesystem, f.eks. ”ABC-123”. Format: XXX_YYYY. De tre første bokstavene er påkrevd og representerer tjenesteeier. De etter understreken representerer avdeling/system, og er valgfritt hvis det ikke finnes flere avdelinger/systemer innenfor samme tjenesteeier.   ValidFromDate Angir fra når preutfyllingsdata er gyldig (yyyy-MM-dd)   ValidToDate Angir til når preutfyllingsdata er gyldig (yyyy-MM-dd)   PrefillAttachmentBE    AttachmentData Data for det binære vedlegget   AttachmentName Dette er navnet på vedlegget, som det vises i portalen   AttachmentType MIME-typen for vedlegget   FileName Navn på fil for det binære vedlegget   SendersReference Referanse for vedlegget. Settes av tjenesteeier   PrefillFormBE    DataFormatID Id til skjema fra metadata kilde   DataFormatVersion Versjon til skjema fra metadata kilde   FormDataXML Preutfyllingsdata for skjemaet. Dataene er lagret som en CDATA blokk. Preutfyllingsdata omfatter eventuell oppgavesettpreutfylling, eventuell feltpreutfylling og eventuell registerpreutfylling   SendersReference Referanse for skjemaet satt av tjenesteeier   PreFillIdentityFieldBE    FieldValue Verdi for identifiserende felt, som benyttes for å skille preutfyllingsdata for samme tjenesteutgave og avgiver fra hverandre   NotificationBE    FromAddress Avsender adresse (e-post). Hvis ikke satt benyttes avsenderadresse satt i varselmalen   ShipmentDateTime Når varsel skal sendes til mottaker   LanguageCode Språk kode: 1033-English, 1044-Bokmål, 1083-Samisk, 2068-Nynorsk   NotificationType En unik streng som definerer en referanse til predefinerte varslingstekster   TextTokens Liste av tekster som skal erstatte maltekst i varselmal   ReceiverEndPoints Liste av mottaker adresser (ReceiverEndPointBE)   ReceiverEndPoint    ReceiverAddress Adressen (telefonnummer eller e-postadresse) for mottakspunktet   TransportType Type varsling: Email, SMS, Instant Message (IM), Both email \u0026amp; sms   TextTokenSubstitutionBE    TokenNum Id på maltekst som skal erstattes i varselmal. Varselmal må bestilles og lages på forhånd   TokenValue Tekst som skal ersatte maltekst    Case\n   Tjenesteoperasjon Kort beskrivelse     GetCaseList Henter en liste med detaljer for aktive samhandlingstjenester. Operasjonen kan også kalles for å hente ut detaljer for én spesifikk samhandlingstjeneste   InstantiateCollaboration Oppretter en ny samhandlingstjeneste og starter arbeidsflyten for tjenesten   ArchiveCase Avslutter arbeidsflyten for en samhandlingstjeneste    Se avsnittet URI til alle Altinn tjenester / aliasoversikt for endepunkter kapittel 8.3 for informasjon om endepunkter for tjenesteoperasjonene.\nCase.GetCaseList Operasjonen kan benyttes for å hente ut en liste med detaljer for aktive samhandlingstjenester eller detaljer for én spesifikk samhandlingstjeneste.\n   Input Beskrivelse     userSSN Fødselsnummer til bruker i sluttbrukersystemet som skal autentiseres   userPassword Passordet bruker (i sluttbrukersystemet) har registrert for sin bruker i Altinn   userPinCode Pinkode for valgt engangskodetype (authMethod)   authMethod Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er: AltinnPin, TaxPin, SMSPin   caseID Unik identifikator for en samhandlingstjeneste   externalServiceCode Unik tjenestekode for en tjeneste   externalServiceEditionCode Unik kode for en tjenesteutgave   languageID Språk id. Benytt verdien 0 (uspesifisert) da skjemasett vil hentes med språket den ble arkivert med. Språk id: 1033-English, 1044-Bokmål, 1083-Samisk, 2068-Nynorsk   reporteeNumber Fødselsnummer eller organisasjonsnummer for de tjenester man ønsker å hente ut   Returverdi Beskrivelse   CaseBEList En liste med objekter av typen CaseBE    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     CaseBE    CaseID Identifikator for samhandlingstjenesten.   CaseName Samhandlingstjenestens navn.   Comments Kommentarer på samhandlingstjenesten.   CurrentStateFriendlyName Visningsvennlig navn på samhandlingstjenestens tilstand.   CurrentStateID Identifikator for samhandlingstjenestens tilstand.   CurrentStateName Navn på samhandlingstjenestens tilstand.   Notice Merknad på samhandlingstjenesten.   NoticeTemplateID Identifikator for merknaden på samhandlingstjenesten    Tabellen under angir mulige feilkoder for operasjonen:\n   60001 Angitt CaseID er ikke gyldig     60002 Enten tjenestekode og tjenesteutgavekode eller identifikator for samhandlingstjeneste må angis   60012 Angitt avgiver er ikke gyldig   60014 Angitt CaseID er arkivert   60015 Angitt CaseID er slettet    Case.InstantiateCollaboration Denne operasjonen kan kalles fra et sluttbrukersystem for å opprette en instans av en samhandlingstjeneste.\n   Input Beskrivelse     userSSN Fødselsnummer til bruker i sluttbrukersystemet som skal autentiseres   userPinCode Pinkode for valgt engangskodetype (authMethod)   authMethod Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er: AltinnPin, TaxPin, SMSPin   externalServiceCode Tjenestekode for type samhandlingstjenesten som skal opprettes   externalServiceEditionCode Tjenesteutgavekode for type samhandlingstjenesten som skal opprettes   reporteeNumber Fødselsnummer eller organisasjonsnummer samhandlingstjeneste instansen skal opprettes for   externalSystemReference Unik referanse for samhandlingstjenesten   visibleDateTime Dato for når samhandlingstjenesten blir synlig i portal (yyyy-MM-dd)   dueDate Samhandlingstjenestens frist angis her (yyyy-MM-dd)   Returverdi Beskrivelse   CaseId Identifikator for den opprettede samhandlingstjeneste instansen    Tabellen under angir mulige feilkoder for operasjonen:\n   Feilkode Beskrivelse     - -    Case.ArchiveCase Denne operasjonen kan kalles fra et sluttbrukersystem for å arkivere en samhandlingstjeneste.\nSluttbrukersystemet kan velge å angi at samhandlingstjenesten skal arkiveres uavhengig av om tjenestene som tilhører samhandlingstjenesten er arkivert. Dette vil medføre at tilhørende tjenester vil frikobles fra samhandlingstjenesten.\n   Input Beskrivelse     userSSN Fødselsnummer til bruker i sluttbrukersystemet som skal autentiseres   userPassword Passordet bruker (i sluttbrukersystemet) har registrert for sin bruker i Altinn   userPinCode Pinkode for valgt engangskodetype (authMethod)   authMethod Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er: AltinnPin, TaxPin, SMSPin   caseID Unik identifikator for samhandlingstjenesten som skal arkiveres   forceArchive Angir om elementer som ikke er klare for å arkiveres sammen med samhandlingstjenesten skal frikobles   Returverdi Beskrivelse   ArchivedCaseID Arkiv identifikator for den arkiverte samhandlingstjenesten    Tabellen under angir mulige feilkoder for operasjonen:\n   Feilkode Beskrivelse     60001 Angitt CaseID er ikke gyldig   60006 Samhandlingstjenesten har fremdeles aktive meldingstjenester   60007 Samhandlingstjenesten har fremdeles aktive innsendingstjenester   60013 Angitt samhandlingstjeneste er ikke gyldig, eller har blitt arkivert/slettet    KeyManagement    Tjenesteoperasjon Kort beskrivelse     GetCertificates Henter offentlig sertifikat for tjenesteeiere relatert til en tjeneste som støtter kryptering av sensitiv informasjon    Se avsnittet URI til alle Altinn tjenester / aliasoversikt for endepunkter kapittel 8.3 for informasjon om endepunkter for tjenesteoperasjonene.\nKeyManagement.GetCertificates Operasjonen kan benyttes for å hente ut en liste med offentlige sertifikater for tjenesteeiere tilhørende tjeneste som støtter kryptering av sensitiv informasjon.\n   Input Beskrivelse     externalServiceCode Unik tjenestekode for en tjeneste   externalServiceEditionCode Unik kode for en tjenesteutgave   Returverdi Beskrivelse   CertificateBEList En liste med objekter av typen CertificateBE    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     CertificateBE    Certificate Det offentlige sertifikatet for tjenesteeieren som skal benyttes til å kryptere sensitiv informasjon   CertificateId Unik identifikator for sertifikatet, benyttes til å identifisere hvilket sertifikat det er brukt ved innsending   ServiceOwnerId Unik identifikator på tjenesteeieren sertifikatet tilhører    SystemAuthentication    Tjenesteoperasjon Kort beskrivelse     GetAuthenticationChallenge Autentiserer bruker, og returnerer engangskode for tjenestekall    Se avsnittet URI til alle Altinn tjenester / aliasoversikt for endepunkter kapittel 8.3 for informasjon om endepunkter for tjenesteoperasjonene.\nSystemAuthentication.GetAuthenticationChallenge For å sikre autentisering av en person i Altinn gjennom web service operasjonskall benyttes et tjenestekall som tar i mot informasjon om hvilken bruker som skal autentiseres. Web servicen sender tilbake en melding om hvilken engangskode basert på input om hvilke autentiseringsmetode som ønsker benyttes. Den identifiserte engangskoden operasjonen gir beskjed om i respons må da benyttes ved neste tjenestekall. (Se avsnitt om autentisering og hvordan benytte denne web service operasjonen)\nDenne tjenesten vil gi tilbakemelding om hvilken engangskode som skal benyttes og også sende en engangskode per SMS hvis dette er valgt autentisering metode.\n   Input Beskrivelse     challengeRequest Objekt av typen AuthenticationChallengeRequestBE som representerer hvem som ønsker tilgang   Returverdi Beskrivelse   autenticationChallenge Objekt av typen AuthenticationChallengeBE med info om autentiseringstatus, forteller om kallet var suksess eller ikke:    Hvis meldingen inneholder ”OK” så er forespørsel OK og teksten i Message-feltet i denne responsen gir mer informasjon til bruker    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     AuthenticationChallengeRequestBE    SystemUserName Id eller brukernavn som unikt identifiserer sluttbrukersystemet eller brukeren i Altinn.   UserSSN Fødselsnummer til bruker i sluttbrukersystemet eller brukernavnet som skal autentiseres   UserPassword Passordet person har registrert for sin bruker i Altinn   AuthMethod Angir hvilken engangskodetype bruker ønskes utfordret på   AuthenticationChallengeBE    Status Status på forespørsel:   Message Informasjon utover status   ValidFrom Tidspunkt pin de gyldig fra   ValidTo Tidspunkt pin utløper    ArchiveCommonExternal\n   Tjenesteoperasjon Kort beskrivelse     GeneratePaymentInformation Genererer betalingsinformasjon i xml-format til sluttbrukersystem.    Se avsnittet URI til alle Altinn tjenester / aliasoversikt for endepunkter kapittel 8.3 for informasjon om endepunkter for tjenesteoperasjonene.\nArchiveCommonExternal.GetPaymentInformation Denne operasjonen genererer betalingsinformasjon i xml-format til sluttbrukersystem.\nTabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     systemUserName Id som unikt identifiserer sluttbrukersystemet eller brukernavnet i Altinn   systemPassword Passord til sluttbrukersystemet eller brukernavnet i Altinn   userSSN Brukers fødselsnummer. Til bruk til autentisering ved evt. Signering   userPassword Brukers passord. Til bruk til autentisering ved evt. Signering   userPinCode Pinkode. Til bruk til autentisering ved evt. signering   authMethod Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er: AltinnPin, TaxPin, SMSPin   dataFormatID Dataformat   reportee Fødselsnummer eller organisasjonsnummer   year År man ønsker å hente ut betalingsinfo fra   periodeNumber Periode man ønsker å hente ut betalingsinfo fra. Denne verdien er avhengig av hvilken verdi parameteren periodeType har. F.eks for periodType=1 er kun 1 gyldig,da det er kun 1 periode for årlig innrapportering. For periodeType=2 er 1 og 2 som er gyldige, for periodeType=3 er det 1,2 og 3 de gyldige verdiene, osv   periodeType Type innrapporteringsperiode. Denne kan ha følgende verdier: 1 - årlig,2 - halvårlig,3 - hver 4 måned, 4 - kvartalsvis, 5 - annenhver måned, 6 - månedlig, 26 - annenhver uke, 52 - ukentlig, 365 - daglig   municipalNumber Kommunenummer   formType Type skjema. Kan være 1 - tillegsoppgave, 2 - endringsoppgave og 3 - hovedoppgave   externalServiceCode Unik tjenestekode for en tjeneste   externalServiceEditionCode Unik kode for en tjenesteutgave    BrokerService – Formidlingstjenester (WS)    Tjenesteoperasjon Kort beskrivelse     GetAvailableFiles Henter en avgivers tilgjengelige formidlingstjenester med metadata og referanse for nedlasting   InitiateBrokerService Forbereder opprettelse av en formidlingstjeneste ved å sende inn nødvendig metadata, hvorpå fil kan strømmes opp.   UploadFileStreamed Strømmer opp fil for en gitt referanse basert på opprettelse av formidlingstjeneste   DownloadFileStreamed Strømmer ned fil for formidlingstjeneste basert på referanse    Se avsnittet URI til alle Altinn tjenester / aliasoversikt for endepunkter kapittel 8.3 for informasjon om endepunkter for tjenesteoperasjonene.\nBrokerService.GetAvailableFiles Operasjonen henter ut tilgjengelige formidlingstjenester som en mottaker kan laste ned.\nListen med filer vil bli filtrert basert på rettigheter.\n Innlogget system må ha rettighetene som kreves for å kunne lese elementer (på tjenesten) på vegne av avgiver. Avgiver må fortsatt ha lese rettigheter på tjenesten. (Kan ha mistet rettighetene etter at filen ble opprettet.) Innlogget bruker har riktig autentiseringsnivå. For eksempel vil data system innlogging gi nivå 2. Dette vil skjule filer fra tjenester som krever nivå 3.  Hvis en eller flere av disse testene ikke går ok så vil filene det gjelder bli skjult for brukeren. Metoden vil ikke gi noen feilmelding på dette.\n   Input Beskrivelse     searchParameters Objekt av typen BrokerServiceSearch som representerer søkekriteriene for oppslaget mot formidlingstjenestene   Returverdi Beskrivelse   BrokerServiceAvailableFileList Objekt av typen BrokerServiceAvailableFileList som inneholder en liste over tilgjengelige formidlingstjenester med informasjon som passer søkekriteriene    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     BrokerServiceSearch    Reportee Angir for hvilken avgiver formidlingstjenestene skal sjekkes for. Påkrevd felt.   FileStatus Angir status for formidlingstjenesten det skal søkes for. Mulige verdier er: Uploaded – betyr at formidlingstjenesten er lastet opp av avsender og tilgjengelig for nedlasting. Downloaded – betyr at formidlingstjenesten allerede er lastet ned fra Altinn, men fremdeles tilgjengelig for nedlasting. Feltet er påkrevd   ExternalServiceCode Angir tjenestekoden til formidlingstjenesten det skal søkes etter. Må benyttes i sammenheng med ExternalServiceEditionCode. Feltet er valgfritt.   ExternalServiceEditionCode Angir tjenesteutgavekoden til formidlingstjenesten det skal søkes etter. Må benyttes i sammenheng med ExternalServiceCode. Feltet er valgfritt.   MinSentDateTime Angir dato og klokkeslett for å begrense resultatsett av formidlingstjenester sent inn etter angitt tidspunkt, (yyyy-MM-ddThh:mm:ss).   MaxSentDateTime Angir dato og klokkeslett for å begrense resultatsett av formidlingstjenester sent inn før angitt tidspunkt, (yyyy-MM-ddThh:mm:ss).   BrokerServiceAvailableFile    FileReference Filreferanse på GUID format som benyttes til å laste ned formidlingstjenesten ved bruk av BrokerServiceStreamed.DownloadFileStreamed (se 6.14.4)   FileName Filnavnet til formidlingstjenesten   FileSize Størrelsen på filen til formidlingstjenesten   ReceiptID Identifikator for kvitteringen tilhørende denne forsendelsen og mottaker. Dette er en underkvittering til hoved-kvitteringen sender forholder seg til.   FileStatus Viser status for formidlingstjenesten. Mulige verdier er: Uploaded – betyr at formidlingstjenesten er lastet opp av avsender og tilgjengelig for nedlasting. Downloaded – betyr at formidlingstjenesten allerede er lastet ned fra Altinn, men fremdeles tilgjengelig for nedlasting   Reportee Organisasjonsnummer eller fødselsnummer som representerer avsenderen av formidlingstjenesten   SentDate Viser dato og klokkeslett for når formidlingstjenesten ble sent til Altinn, (yyyy-MM-ddThh:mm:ss)   ExternalServiceCode Angir tjenestekoden til formidlingstjenesten   ExternalServiceEditionCode Angir tjenesteutgavekoden til formidlingstjenesten   SendersReference Angir en referanse for formidlingstjenesten satt av avsender   IsSftpDownloadOnly Dette feltet angir om formidlingstjenesten kun kan lastes vha. SFTP kanalen på grunn av størrelsen    Tabellen under angir mulige feilkoder for operasjonen:\n   Feilkode Beskrivelse     40210 Tjenestekoder, ExternalServiceCode og/eller ExternalServiceEditionCode, mangler eller er satt til 0   40214 Verdi for avgiver er ikke på forventet format for organisasjonsnummer eller fødselsnummer    BrokerService.InitiateBrokerService Denne operasjonen starter prosessen for å laste opp en ny formidlingstjeneste. Avsender må starte med å laste opp metadata om tjenesten og hvem som skal motta. Når Altinn har verifisert dette vil mottaker få en referanse som videre benyttes for å laste opp selve payloaden.\n   Input Beskrivelse     brokerServiceInitiation Objekt av typen BrokerServiceInitiation som representerer informasjon tilsvarende manifest.xsd (se 6.15.1) og mottakere (se 6.15.2) for formidlingstjenesten.   Returverdi Beskrivelse   string Referanse på GUID format som benyttes for opplasting gjennom BrokerServiceStreamed.UploadFileStreamed (se 6.14.3)    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     BrokerServiceInitiation    Manifest Objekt av typen Manifest. Feltet er påkrevd   RecipientList Liste med objekter av typen BrokerServiceRecipientExternalBE. Feltet er påkrevd   Manifest    ExternalServiceCode Angir tjenestekoden til formidlingstjenesten som skal opprettes. Feltet er påkrevd   ExternalServiceEditionCode Angir tjenesteutgavekoden til formidlingstjenesten som skal opprettes. Feltet er påkrevd   SendersReference Referanse som formidlingstjenesten skal knyttes til. Bør være unik. Feltet er påkrevd   Reportee Organisasjonsnummer eller fødselsnummer som angir avgiver for formidlingstjenesten. Feltet er påkrevd   FileList Liste av objekter av typen File. Ment for å kunne utveksle informasjon om innholdet i formidlingstjenesten etter avtale mellom avsender og mottaker – innhold valideres eller endres ikke av Altinn. Feltet er ikke påkrevd   PropertyList Liste av objekter av typen Property. Ment for å kunne utveksle ytterlige egenskaper om formidlingstjenesten med nøkkel og verdi etter avtale mellom avsender og mottaker – innhold valideres eller endres ikke av Altinn. Feltet er ikke påkrevd   File    FileName Ment for å kunne angi filnavn. Feltet er påkrevd   CheckSum Ment for å kunne angi sjekksummen for fil   Property    PropertyKey Nøkkel for egenskap. Feltet er påkrevd   PropertyValue Verdi for egenskapen definert. Feltet er påkrevd   Recipient    PartyNumber Organisasjonsnummer eller fødselsnummer for ønsket mottaker av formidlingstjenesten. Feltet er påkrevd    Tabellen under angir mulige feilkoder for operasjonen:\n   Feilkode Beskrivelse     40201 Den aktuelle avgiveren har ikke rettigheter til å sende formidlingstjenesten   40202 En eller flere av mottakerne oppgitt finnes ikke, eller har ikke nok rettigheter til å motta formidlingstjenesten   40210 Tjenestekoder, ExternalServiceCode og/eller ExternalServiceEditionCode, mangler eller er satt til 0 og angir ikke en formidlingstjeneste   40211 Bruker er ikke autorisert til å utføre aktuell handling   40216 Brukeren er på et sikkerhetsnivå lavere enn påkrevd    BrokerServiceStreamed.UploadFileStreamed Operasjonen benyttes for å strømme formidlingstjenestens innhold til Altinn basert på en referanse mottatt gjennom kallet til BrokerService.InitiateBrokerService.\n   Input Beskrivelse     StreamedPayloadExternalBE[1] Objekt av typen StreamedPayloadExternalBE som inneholder informasjon og selve stream av fil som opplastes   Returverdi Beskrivelse   ReceiptExternalStreamedBE Objekt av typen ReceiptExternalStreamedBE som inneholder detaljer for kvitteringen    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     StreamedPayloadExternalBE    Reference Angir referansen payload skal knyttes til. Denne referansen mottas gjennom kallet til InitiateBrokerService, se 6.14.2. Feltet er påkrevd   Reportee Organisasjonsnummer eller fødselsnummer som angir avgiver for formidlingstjenesten. Feltet er påkrevd   FileName Navnet på filen som skal lastes opp. Feltet er påkrevd   DataStream Datastrømmen for fil som lastes opp   ReceiptExternalStreamedBE    ReceiptId Unik identifikator for kvitteringen i Altinn. Benyttes for eksempel ved senere oppdatering av kvittering   ReceiptText Tekst i kvitteringen som angir vellykket opplasting: “Upload of file {filnavn} was successful. Recipients can now download the file.” Eventuelle feil vil returneres som AltinnFaults   ReceiptHistory Når en kvittering oppdateres så vil den gamle kvitteringsteksten flyttes og legges til øverst i denne historikken   LastChanged Dato og tidspunkt for når kvitteringen sist ble endret (yyyy-MM-ddThh:mm:ss)   ReceiptTypeName Angir hva kvittering gjelder. Vil i bruk på denne operasjonen alltid returnere BrokerService   ReceiptStatusCode Status for forsendelse som kvitteringen gjelder: OK, UnExpectedError, ValidationFailed, Rejected   ParentReceiptId Dersom denne kvitteringen er en av flere kvitteringer for en forsendelse vil ParentReceiptId vise til ReceiptId som gjelder for hele forsendelsen (hovedkvittering). For denne operasjonen vil den alltid være 0    Tabellen under angir mulige feilkoder for operasjonen:\n   Feilkode Beskrivelse     40201 Den aktuelle avgiveren har ikke rettigheter til å sende formidlingstjenesten.   40204 Filen som lastes opp er for stor for opplasting over web service. Bruk SFTP istedenfor.   40205 Ingen data for fil ble mottatt.   40206 Filen som er mottatt er ikke på forventet ZIP-format.   40208 En fil er allerede lastet opp på den angitte referansen.   40209 Opplastet fil er stoppet av virussjekk.   40211 Bruker er ikke autorisert til å utføre aktuell handling.   40212 Oppgitt filreferanse refererer ikke til en formidlingstjeneste.   40213 Angitt avgiver stemmer ikke med informasjon i Altinn.   40216 Brukeren er på et sikkerhetsnivå lavere enn påkrevd.    BrokerServiceStreamed.DownloadFileStreamed Operasjonen benyttes for å strømme formidlingstjenestens innhold fra Altinn til mottaker basert på en referanse for formidlingstjenesten som kan hentes ved å benytte BrokerService.GetAvailableFiles.\n   Input Beskrivelse     string fileReference Angir referansen for formidlingstjeneste som skal strømmes ned. Denne referansen hentes gjennom kallet GetAvailableFiles, se 6.14.1. Feltet er påkrevd.   string reportee Organisasjonsnummer eller fødselsnummer som angir avgiver for formidlingstjenesten. Feltet er påkrevd   Returverdi Beskrivelse   Stream Datastrømmen for formidlingstjenestefilen    Tabellen under angir mulige feilkoder for operasjonen:\n   Feilkode Beskrivelse     40204 Filen som lastes ned er for stor for nedlasting over web service. Bruk SFTP istedenfor.   40207 Den gitte referansen har ikke fil klar for nedlasting.   40211 Bruker er ikke autorisert til å utføre aktuell handling.   40212 Oppgitt filreferanse refererer ikke til en formidlingstjeneste.   40213 Angitt avgiver stemmer ikke med informasjon i Altinn.   40215 Angir at mottaker ikke har nødvendige rettigheter til å laste ned formidlingstjenesten.   40216 Brukeren er på et sikkerhetsnivå lavere enn påkrevd    BrokerService.ConfirmDownloaded Operasjonen benyttes til å bekrefte at man har fått lastet ned en formidlingstjeneste fil i sin helhet. Operasjonen bør kalles rett etter at det er blitt gjort en nedlasting hvis dette gikk bra. Resultatet er at avsender kan se hvem av filens mottakere som har fått hentet filen.\n   Input Beskrivelse     string fileReference Angir referansen til filen som skal bekreftes nedlastet. Obligatorisk.   string reportee Organisasjonsnummer eller fødselsnummer som angir mottaker av filen. Obligatorisk    Tabellen under angir mulige feilkoder for operasjonen:\n   Feilkode Beskrivelse     40211 Bruker er ikke autorisert til å utføre aktuell handling   40212 Oppgitt filreferanse refererer ikke til en formidlingstjeneste   40213 Angitt avgiver stemmer ikke med informasjon i Altinn   40215 Angir at mottaker ikke har nødvendige rettigheter   40216 Brukeren er på et sikkerhetsnivå lavere enn påkrevd    Formidlingstjenester (SFTP) Avsendere og mottakere av formidlingstjenester kan benytte seg av egen SFTP server på Altinn til å henholdsvis laste opp og ned filer. Som tidligere nevnt vil ikke Altinn forholde seg til eller validere ZIP-filen som lastes opp utover to nøkkelfiler i selve ZIP-filen.\nManifest.xml Denne må lastes opp som del av ZIP-filen og validere mot XSD som spesifisert under. Inneholder nøkkelinformasjon om hva slags type formidlingstjeneste det er, og hvem som er avsender. Enkelte felter vil bli oppdatert av Altinn i forbindelse med tilgjengeliggjøring til mottakere. Manifest filen vil være del av ZIP-pakken som mottaker laster ned.\n   Element Påkrevd Beskrivelse     BrokerServiceManifest Ja Rotnode   ExternalServiceCode Ja Angir tjenestekoden til formidlingstjenesten som skal benyttes   ExternalServiceEditionCode Ja Angir tjenesteutgavekoden til formidlingstjenesten som skal benyttes   SendersReference Ja Angir avsenders referanse, som kan benyttes til å søke opp kvittering   Reportee Ja Angir organisasjonsnummer eller fødselsnummer for avgiver   SentDate Nei Dato for når formidlingstjenesten ble mottatt av Altinn. Settes av Altinn, (yyyy-MM-ddThh:mm:ss)   FileList Nei Liste med filer i formidlingstjenesten. Kan angis av avsender. Avsender og mottaker(e) avtaler bruk, Altinn videreformidler kun informasjonen   File Nei Representerer en fil   FileName Ja Angir navn på fil   CheckSum Nei Angir checksum for filen   PropertyList Nei Liste med egenskaper i tilknytning til formidlingstjenesten. Kan angis av avsender. Avsender og mottaker(e) avtaler bruk, Altinn videreformidler kun informasjonen   Property Nei Representerer en egenskap   PropertyKey Ja Egenskapens nøkkel   PropertyValue Ja Egenskapens verdi    Recipients.xml Denne må lastes opp som del av ZIP-filen og validere mot XSD som spesifisert under. Benyttes av avsender til å angi hvem som skal være mottakere av formidlingstjenesten. Recipients filen vil av Altinn fjernes fra ZIP-pakken som mottaker kan laste ned.\n   Element Påkrevd Beskrivelse     BrokerServiceRecipientList Ja Rotnode   Recipient Ja Node for hver enkelt mottaker   PartyNumber Ja Angir organisasjonsnummer eller fødselsnummer for mottaker av formidlingstjenesten    LookUpExternal – Innsynstjenester (WS)\nExecuteLookUp Operasjonen benyttes for å utføre oppslag mot en innsynstjeneste i Altinn.\n   Input Beskrivelse     LookUpRequest Objekt av typen LookUpRequestExternalBE som spesifiserer tjeneste, reportee og spørring/input til innsynstjenesten   Returverdi Beskrivelse   ExecuteLookUpResult (string) Svar fra innsynstjenesten som en tekststreng    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten\n   Property Beskrivelse     LookUpRequest    QueryData Input/spørring til innsynstjenesten som en tekststreng   Reportee Organisasjonsnummer eller fødselsnummer som angir avgiver for innsynstjenesten. Feltet er påkrevd   ServiceCode Angir tjenestekoden til innsynstjenesten som skal benyttes. Feltet er påkrevd   ServiceEditionCide Angir tjenesteutgavekoden til innsynstjenesten som skal opprettes. Feltet er påkrevd    Tabellen under angir mulige feilkoder for operasjonen:\n   Feilkode Beskrivelse     40028 Kombinasjonen av ServiceCode og ServiceEditionCode er ikke en gyldig innsynstjeneste   450067 Innsynstjenesten er ikke konfigurert med en Mapper og støtter derfor ikke direkte kall gjennom LookUpExternal eller REST API   450068 Returneres dersom LookUp Mapper returnerer «Bad Request» feil kode   450069 Returneres dersom LookUp Mapper returnerer «Forbidden» feil kode    AuthorizationExternal – TokenExternal (WS)\nGetAccessToken Operasjonen benyttes av for å veksle inn autorisasjonskoder, fra samtykke delegering av rettigheter, i en referanse token eller en JWT token.\n   Input Beskrivelse     AuthorizationCode (Guid) Authorisasjonskode (Guid) som skal veksles inn i en authorisasjons token   SelfContained (boolean) Boolsk verdi for om man ønsker en Self-Contained JWT token eller, en referanse token som retur verdi   Returverdi Beskrivelse   AuthorizationAccessTokenResponse Objekt av typen AuthorizationAccessTokenResponseExternalBE som inneholder enten en Referanse Token eller en Self-Contained JWT Token    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     AuthorizationAccessTokenResponse    ReferenceToken Referanse token som en Guid verdi, som kan benyttes opp mot AuthorizationDecisionPointExternal.AuthorizeAccessExternalV2 for å benytte regler knytt til ett spesifikt samtykke   SelfContainedToken Enkodet Self-Contained JWT token som en tekststreng, som kan benyttes som autorisasjon direkte mot tjenesteeiers systemer    Tabellen under angir mulige feilkoder for operasjonen:\n   Feilkode Beskrivelse     50028 Brukes dersom authorisasjonskoden er ugyldig, eller koden ikke tilhører sluttbruker    Sammenheng mellom nye og gamle Altinn web services Nedenfor vises en oversikt som mapper web service grensesnitt tilgjengelige i AltinnI med de som tilbys i AltinnII versjon 1:\n   AltinnI operasjon AltinnII ver. 1 operasjon Kommentar AltinnII     DataExchange.ActiveForms ServiceMetadata.GetAvailableServices AltinnII er tjenesteorientert, ikke skjemaorientert.   DataExchange.AltInnStatus IntermediaryInbound.GetAltinnSubmissionStatus    DataExchange.BatchReceiptPw ReporteeArchiveExternal.GetArchivedFormTask AltinnII operasjonen henter kun skjemasett, ikke vedlegg   DataExchange.BatchReceiptPw ReporteeArchiveExternal.GetAttachmentData AltinnII operasjonen henter kun vedlegg, ikke skjemasett   DataExchange.GetSchemaDefinition ServiceMetadata.GetFormTaskSchemaDefinitions    DataExchange.RequestAuthenticationChallengePw SystemAuthentication. GetAuthenticationChallenge    DataExchange.RequestInfoText Workflow.GetSigningText    DataExchange.RequestPrefillData Prefill.GetPrefillData AltinnII versjon 2   DataExchange.SubmitBatchPw IntermediaryInbound.SubmitFormTask    MessageReceiptExchange.GetAltUtMessage Correspondence.GetCorrespondenceForEndUserSystemV2    N/A Correspondence.DeleteCorrespondence Ny web service operasjon i AltinnII   N/A Correspondence.SaveCorrespondenceConfirmation Ny web service operasjon i AltinnII   MessageReceiptExchange.GetAltUtMessageListForArchiveRef ReporteeElementList.GetCorrespondenceListForArchiveRef    MessageReceiptExchange.GetAltUtMessageListForParticipant ReporteeElementList.GetCorrespondenceListForReportee    N/A ReporteeElementList.DeleteReporteeElement Ny web service operasjon i AltinnII   N/A ReporteeElementList.GetFormSetElementsV2 Ny web service operasjon i AltinnII   N/A ReporteeElementList.GetReporteeElementListV2 Ny web service operasjon i AltinnII   MessageReceiptExchange.GetReceipt Receipt.GetReceipt    MessageReceiptExchange.GetReceiptList Receipt.GetReceiptList    N/A Receipt.UpdateReceipt Ny web service operasjon i AltinnII   N/A Workflow.DoSendingInAction Ny web service operasjon i AltinnII   N/A Workflow.DoSigning Ny web service operasjon i AltinnII   N/A Workflow.GetAvailableActionsV2 Ny web service operasjon i AltinnII   N/A Workflow.GetNextWorkflowStateTypeInProcessFlowV2 Ny web service operasjon i AltinnII   N/A Workflow.GetProcessDetailsV2 Ny web service operasjon i AltinnII   N/A Workflow.SetBackToFormFilling Ny web service operasjon i AltinnII    "
},
{
	"uri": "https://altinn.github.io/docs/guides/mapperutvikling/utviklingshandbok/installasjon/",
	"title": "Installasjon",
	"tags": [],
	"description": "Beskrivelse av hvordan man lager installasjonspakker og får dem installert i test/produksjon",
	"content": " Installasjon av mappere For å lage et installasjonsprosjekt til mapperen lager vi et Visual Studio Installer prosjekt av typen Web Setup. Vi kaller det SetupInternal.\nSetupInternal prosjektet.\nFilesystem settes opp slik at:\nTemp katalogen legges CustomActions.dll og env_variables.csv\nI web Application Folder legges Mapper.svc og web.config,\nI tillegg er det viktig at VirtualDirectory er satt rett i properties\nI bin legger Altinn.Mapper.Common.dll og Primary output from Services.\nI customActions editor\nMå CustomActionData settes til : /Targets=[TARGETDIR]\\web.config /Environment=[ENVIRONMENT] /VariablesCSV=[TEMP]\\env_variables.csv\nUser interface editor\n"
},
{
	"uri": "https://altinn.github.io/docs/guides/tjenesteeier/integrasjonspunkter/",
	"title": "Integrasjonspunkter",
	"tags": [],
	"description": "Tilgjengelige integrasjonspunkter på Altinn plattformene",
	"content": "  Tilgjengelige integrasjonspunkter på Altinn plattformene Her følger en oversikt over hvilke integrasjonspunkter som er tilgengelige på Altinn plattformene.\nInnsendingstjenester    Integrasjon AltinnI AltinnII Kommentar     Sende inn preutfyllingsdata – web service X X Nytt web service format i AltinnII   Sende inn preutfyllingsdata - filbasert X X Nytt filformat i AltinnII   Sende inn abonnementsdata – web service X X Nytt web service format i AltinnII   Sende inn abonnementsdata – filbasert X X Nytt filformat i AltinnII   Hente innsendte data fra tjenesteeiers arkiv – web service  X     Meldingstjenester/AltUt    Integrasjon AltinnI AltinnII Kommentar     Sende inn meldingstjenester – web service  X Nye tjenesteformat i Altinn II men støtte for Altinn I tjenester med tilpasset innhold   Sende inn meldingstjenester – filbasert  X Nytt filformat i Altinn II men støtter tilpasset Altinn I format   Motta bekreftelser for åpnet / lest for meldinger – filbasert  X Nytt format Altinn II men støtte for Altinn I format   Hente melding i tjenesteeiers arkiv – web service  X Nytt web service format i AltinnII    Formidlingstjenester    Integrasjon AltinnI AltinnII Kommentar     Teknisk formidling av data mellom eksterne aktører  X Nye tjeneste i Altinn II, Ikke tilgjengelig i Altinn I    Kvitteringer    Integrasjon AltinnI AltinnII Kommentar     Hente kvitteringer for innsendte data  X Ny funksjonalitet i Altinn II   Kvittere for mottak av data X X Ny funksjonalitet i Altinn II. Finnes også i Altinn I men ikke benyttet i særlig grad   Hente lister med kvitteringer  X Ny funksjonalitet i Altinn II    Meldingstjenester på ny plattform Det er definert nye grensesnitt for meldingstjenester i AltinnII. Allikevel vil den nye Altinn plattformen støtter AltinnI formatet for meldingstjenester, dvs. fortsatt bruk av Altut formatet. Dette fordi meldingstjenester i sin helhet flyttes til ny plattform, og vil ikke være tilgjengelig for eksisterende tjenesteeiere i AltinnI i overgangsfasen hvor begge plattformene kjører i parallell.\nDet er imidlertid anbefalt å benytte det nye formatet også for eksisterende tjenesteeiere i stedet for Altut formatet.\nVed bruk av Altut formatet på ny plattform gjelder følgende regler: -Alle meldinger som sendes på det gamle formatet (\u0026ldquo;Altut.xsd\u0026rdquo;) må knyttes til en meldingstjeneste som er definert i TUL, og migrert til SBL. -For å knytte meldinger til en meldingstjeneste benyttes tjenestekode (ServiceCode) og tjenesteutgavekode (ServiceEditionCode). -Tjenesteeier må benytte feltet \u0026ldquo;shortName\u0026rdquo; (GovOrgan\\AltUt\\Message\\shortName) i Altut formatet benyttes for å angi tjenestekode og tjenesteutgavekode på formen \u0026ldquo;xxxxxx yyyyyy\u0026rdquo; hvor xxxxxx er tjenestekode og yyyyyy er tjenesteutgavekode. -Parametrene som angis i TUL vil overstyre innhold i meldinger sendt på gammelt format. Dersom disse er obligatoriske i Altut-formatet fra AltinnI må de imidlertid fortsatt oppgis. -Ikke alle felter i Altut formatet benyttes på ny plattform. -Ikke mulig å referere til AltinnI-tjenester i fra AltinnII (GovOrgan\\AltUt\\Message\\ReplyMessages\\ReplyMessage\\Form elementet i Altut.xsd). I stedet for å angi AltinnI \u0026ldquo;formNumber og AltinnI \u0026ldquo;version\u0026rdquo; benyttes AltinnII \u0026ldquo;ServiceCode\u0026rdquo; og AltinnII \u0026ldquo;ServiceEditionCode\u0026rdquo;.\n"
},
{
	"uri": "https://altinn.github.io/docs/guides/samtykke/begrepsliste/",
	"title": "Begrepsliste",
	"tags": [],
	"description": "Begrepsliste samtykke",
	"content": "   Begrep Forklaring     Altinn autorisering Verifisere at man har lov til å be om samtykke på en gitt tjeneste Opprette og vedlikeholde nødvendige autorisasjonstilganger Videresende sluttbruker til datakonsument Svare på autorisasjonsforespørsler    APIkey Application programming interface key en unik identifikator som det er knyttet tilgangsrettigheter til knyttes til datakonsument sitt organisasjonsnummer benyttes av datakonsument i tokenforespørsler mot Altinn    Authorization code/ Autorisasjonskode Kode som brukes av datakonsumenten til å få tak i Oauth token. Identifiserer et spesifikt samtykke   CoveredBy Mottaker av samtykket – Dersom dette er en person kreves også etternavn på person. (CoveredByName)   Datakilde Enhet som teknisk har data for bruker eller organisasjon Verifisere mot autorisasjon om datakonsument har nødvendige tilganger    Datakonsument Part som ønsker tilgang til data Ansvaret for å sende sluttbruker til Altinn for delegering av rettigheter til tjenestene Ansvarlig for å be om data fra datakilde    DelegationContext Beskrivelse fra datakonsument på hva som er formålet med samtykket.   LanguageCode Angir hvilket språk sluttbruker skal få opp samtykkesiden på. Kan velge mellom engelsk (en), bokmål (nb-NO) og nynorsk (nn-NO)   Metadata For å gi ekstra metadata til samtykketeksten kan det defineres en eller flere samtykkeparameter som generelt er valgfri men kan påtvinges av utformingen av samtykketeksten som er definert av datakilde (eks. 4629_2_inntektsaar=2016)   Oauth token OAuth er en åpen standard for autorisasjon, ofte brukt som en måte for Internett-brukere å logge på tredjeparts nettsteder ved hjelp av sine Microsoft, Google , Facebook eller Twitter-kontoer uten å oppgi passordet sitt.   OfferedBy Hvem som gir samtykket   RedirectUrl Hvor bruker blir sendt når delegering er gjennomført   Resources Tjenestekode og tjenesteutgavekode på tjenesten som datakilde har definert som samtykketjeneste. Kan også være flere tjenester dersom det skal samtykkes til å dele data fra flere datasett hos en eller flere datakilder.   ResponseType Vil alltid være code. Angir at man skal ha en autorisasjonskode i retur som skal benyttes for å hente token   ServiceCodes Representerer tjenestekodene for tjenesten(e) som er opprettet av datakilde   Sluttbruker Den som gir samtykke til utlevering av sine data eller en organisasjon sine data   Tjenesteierstyrt rettighetsregister Tjenesteeier/datakilde kan kreve at tjenesten skal benytte Tjenestestyrt register: Benyttes for å kontrollere Hvem som kan spør om tilgang til data gjennom deres samtykketjenester Hvilket domene sluttbruker skal bli sendt videre til etter å ha gitt/ikke gitt samtykke    ValidToDate Gyldighetsperiode for samtykket    "
},
{
	"uri": "https://altinn.github.io/docs/guides/mapperutvikling/utviklingshandbok/diverse/",
	"title": "Diverse",
	"tags": [],
	"description": "Bruk av mappere med Altinn-kontekst, REST/WCF",
	"content": " Avanserte konsepter Context I tjenestene i Altinn har man tilgang til en del informasjon om den konteksten tjenesten kjører i på portalserverene. Dette inkluderer hvilken bruker som har åpnet tjenesten, språkinnstillinger og lignende. I mange tilfeller er dette nyttig informasjon å overføre til bakenforliggende systemer slik at informasjon kan filtreres basert på pålogget bruker eller virksomhet. En måte å overføre denne informasjonen på er å hente den ut fra skjema og sende med felter som datakontrakten. Ulempen med denne fremgangsmåten er at mapperen ikke kan garantere at verdiene er korrekte da tjenesteutviklere selv kan manipulere disse verdiene. For å hente ut verifiserbare verdier må AltinnContext\u0026#39;en benyttes. Dette er en base64-encoded tekststreng som kan verifiseres i mapperen slik at ulike context-verdier kan hentes ut sikkert. Et eksempel er vist i Figur 33.\nFor å benytte AltinnContexten i mapperen må forespørseldatakontrakten inneholde et tekstfelt for AltinnMapperContexten som vist i Figur 31 .\nFigur 30: AltinnMapperContext i datakontrakt for forespørsel\nNår forespørselen mottas må AltinnMapperContext lastes inn og verifiseres. Dette gjøres ved kall til klassen Verificator som legges i Utility.cs. Klassen er vist i Figur 31.\nFigur 31: Verificator-klassen\nDeretter kan mapperen aksessere innholdet på følgende måte. Det er kun et utvalg av verdiene som er hentet ut i eksempelet i Figur 32. Skal noen felter sjekkes som en del av verifikasjonen av tjenestekallet skal dette gjøres i Verificator-klassen som vist i Figur 33.\nFigur 32: Uttrekk av informasjon fra AltinnMapperContext\nFigur 33: Eksempel på AltinnMapperContext\nSikkerhet Sertifikat Kommunikasjonen mellom en mapper i Altinn og tjenesteeier må gå kryptert via SSL eller TSL (via https). Dette krever et gyldig sertifikat. Dersom ikke serveren har et sertifikat utstedt av en godkjent sertifikatutsteder vil WCF avbryte operasjonen på grunn av manglende verifikasjon av sertifikatet.\nTo-veis sertifikat autentisering For å sikre overføringen av informasjon mellom mapperen og etatsystemene kan to-veis-sertifikater benyttes. Dette skrus på ved å legge til en endpointbehavior i config-filen som skrur på clientsertifikater i mapperen. Dette er vist i eksempelet i Figur 34.\nFigur 34: Endringer i config fil for å benytte to-veis sertifikater\nDersom to-veis sertifikater skal benyttes vil mapperen kun være testbar i TUL og ikke på lokalt utviklermiljø. Dette skyldes at Altinn sine sertifikater ikke vil bli distribuert til brukerene.\nOverstyre sertifikat under utvikling Dersom ikke serveren har et sertifikat utstedt av en godkjent sertifikatutsteder vil WCF avbryte operasjonen på grunn av manglende verifikasjon av sertifikatet. Dette kan unngås ved å legge inn en overstyring av denne funksjonaliteten. Det gjøres ved å legge inn en callback på ServerCertificateValidation-verifikasjonen på ServicePointManageren. Merk at man bør ha gyldige sertifikater også testservere også dette bare må gjøres unntaksvis og kun under utvikling. Overstyring av sertifikatsjekken må ikke være med i produksjonsklar kode.\nFigur 35: Overstyre validering av sertifikater\nFor å unngå å måtte fjerne og legge til kode kan det være et parameter i config som skrur av eller på denne mekanismen avhengig av hvilket miljø koden kjører i.\n"
},
{
	"uri": "https://altinn.github.io/docs/guides/sluttbrukersystem/endepunkter-oversikt/",
	"title": "Endepunkter",
	"tags": [],
	"description": "Beskrivelse av hvilken funksjonalitet som finnes med referanser til hvilke web services som benyttes",
	"content": "  URI til alle Altinn tjenester / aliasoversikt for endepunkter Web servicene beskrevet i dokumentet er angitt uten informasjon om endepunkt. En web service operasjon kan kalles med forskjellige endepunkter ut fra hvilken autentiseringsmetode tjenesteeier ønsker å benytte.\nDet tilbys opp til tre forskjellige endepunkter for hver web service operasjon:\n Basic Http (SOAP 1.1) - Tradisjonell interoperabel web service WS Http (SOAP 1.2 med WS-Security username token) - Støtte for nye web service standarder WS* WS Http (SOAP 1.2 med WS-Security X.509 token) (markert som EC) - Støtte for ny web standarder WS*, dvs. bl.a. at sertifikat ligger i SOAP headeren mens brukernavn og passord ligger i meldingen.  For eksempel:\nWeb service operasjonen GetReceipt kan aksesseres ved å kalle endepunktet.\nHvis man ønsker å bruke/autentisere vha. WS* standarden, eller kalle endepunktet ”GetReceiptBasic” hvis man ønsker tradisjonell web service aksessering.\nNedenfor følger en oversikt over alle Altinn tjenester, og en aliasoversikt som viser kobling mellom endepunkter, endepunkt operasjon og basis operasjon (operasjon som kalles av endepunktoperasjon, og som er beskrevet i dette dokumentet). Den vil også angi nyeste versjon for operasjonen for endepunktet:\n   ReporteeArchiveExternal       Basis operasjon URI/Endepunkt Endepunkt operasjon   GetArchivedFormTaskV2 WS Http https://www.altinn.no/ArchiveExternal/ReporteeArchiveExternal.svc GetArchivedFormTaskExternalV2    Basic Http https://www.altinn.no/ArchiveExternal/ReporteeArchiveExternalBasic.svc GetArchivedFormTaskBasicV2    EC https://www.altinn.no/ArchiveExternal/ReporteeArchiveExternalEC.svc GetArchivedFormTaskEC   GetAttachmentDataV2 WS Http https://www.altinn.no/ArchiveExternal/ReporteeArchiveExternal.svc GetAttachmentDataExternalV2    Basic Http https://www.altinn.no/ArchiveExternal/ReporteeArchiveExternalBasic.svc GetAttachmentDataBasicV2    EC https://www.altinn.no/ArchiveExternal/ReporteeArchiveExternalEC.svc GetAttachmentDataEC   GetAttachmentDataStreamed WS Http https://www.altinn.no/ArchiveExternal/ReporteeArchiveExternalStreamed.svc GetAttachmentDataExternalStreamed    Basic Http https://www.altinn.no/ArchiveExternal/ReporteeArchiveExternalStreamedBasic.svc GetAttachmentDataStreamedBasic    EC https://www.altinn.no/ArchiveExternal/ReporteeArchiveExternalStreamedEC.svc GetAttachmentDataStreamedEC   GetArchivedLookup WS Http https://www.altinn.no/ArchiveExternal/ReporteeArchiveExternal.svc GetArchivedLookupExternal    Basic Http https://www.altinn.no/ArchiveExternal/ReporteeArchiveExternalBasic.svc GetArchivedLookupBasic    EC https://www.altinn.no/ArchiveExternal/ReporteeArchiveExternalEC.svc GetArchivedLookupEC   IntermediaryInbound     Basis operasjon URI/Endepunkt Endepunkt operasjon   SubmitFormTask WS Http https://www.altinn.no/IntermediaryExternal/IntermediaryInbound.svc SubmitFormTask    Basic Http https://www.altinn.no/IntermediaryExternal/IntermediaryInboundBasic.svc SubmitFormTaskBasic    EC https://www.altinn.no/IntermediaryExternal/IntermediaryInboundExternalEC.svc SubmitFormTaskEC   GetAltinnSubmissionStatus WS Http https://www.altinn.no/IntermediaryExternal/IntermediaryInbound.svc GetAltinnSubmissionStatus    Basic Http https://www.altinn.no/IntermediaryExternal/IntermediaryInboundBasic.svc GetAltinnSubmissionStatusBasic    EC https://www.altinn.no/IntermediaryExternal/IntermediaryInboundExternalEC.svc GetAltinnSubmissionStatusEC   CompleteAndSignShipment WS Http https://www.altinn.no/IntermediaryExternal/IntermediaryInbound.svc CompleteAndSignShipment    Basic Http https://www.altinn.no/IntermediaryExternal/IntermediaryInboundBasic.svc CompleteAndSignShipmentBasic    EC https://www.altinn.no/IntermediaryExternal/IntermediaryInboundExternalEC.svc CompleteAndSignShipmentEC   IntermediaryInboundStreamed     Basis operasjon URI/Endepunkt Endepunkt operasjon   SubmitAttachmentStreamed Basic Http https://www.altinn.no/IntermediaryExternal/IntermediaryInboundStreamed.svc SubmitAttachmentStreamed    Basic Http https://www.altinn.no/IntermediaryExternal/IntermediaryInboundBasicStreamed.svc SubmitAttachmentStreamedBasic    EC https://www.altinn.no/IntermediaryExternal/IntermediaryInboundExternalECStreamed.svc SubmitAttachmentStreamedEC   Receipt     Basis operasjon URI/Endepunkt Endepunkt operasjon   GetReceiptV2 WS Http https://www.altinn.no/IntermediaryExternal/ReceiptExternal.svc GetReceiptV2    Basic Http https://www.altinn.no/IntermediaryExternal/ReceiptExternalBasic.svc GetReceiptBasicV2    EC https://www.altinn.no/IntermediaryExternal/ReceiptExternalEC.svc GetReceiptECV2   GetReceiptListV2 WS Http https://www.altinn.no/IntermediaryExternal/ReceiptExternal.svc GetReceiptListV2    Basic Http https://www.altinn.no/IntermediaryExternal/ReceiptExternalBasic.svc GetReceiptListBasicV2    EC https://www.altinn.no/IntermediaryExternal/ReceiptExternalEC.svc GetReceiptListECV2   UpdateReceipt WS Http https://www.altinn.no/IntermediaryExternal/ReceiptExternal.svc UpdateReceipt    Basic Http https://www.altinn.no/IntermediaryExternal/ReceiptExternalBasic.svc UpdateReceiptBasic    EC https://www.altinn.no/IntermediaryExternal/ReceiptExternalEC.svc UpdateReceiptEC   Correspondence     Basis operasjon URI/Endepunkt Endepunkt operasjon   GetCorrespondenceForEndUserSystemV2 WS Http https://www.altinn.no/ServiceEngineExternal/CorrespondenceExternal.svc GetCorrespondenceForEndUserSystemsExternalV2    Basic Http https://www.altinn.no/ServiceEngineExternal/CorrespondenceExternalBasic.svc GetCorrespondenceForEndUserSystemBasicV2    EC https://www.altinn.no/ServiceEngineExternal/CorrespondenceExternalEC.svc GetCorrespondenceForEndUserSystemsEC   DeleteCorrespondence[1] WS Http https://www.altinn.no/ServiceEngineExternal/CorrespondenceExternal.svc DeleteCorrespondenceExternal    Basic Http https://www.altinn.no/ServiceEngineExternal/CorrespondenceExternalBasic.svc DeleteCorrespondenceBasic   SaveCorrespondenceConfirmation WS Http https://www.altinn.no/ServiceEngineExternal/CorrespondenceExternal.svc SaveCorrespondenceConfirmationExternal    Basic Http https://www.altinn.no/ServiceEngineExternal/CorrespondenceExternalBasic.svc SaveCorrespondenceConfirmationBasic    EC https://www.altinn.no/ServiceEngineExternal/CorrespondenceExternalEC.svc SaveCorrespondenceConfirmationEC   ReporteeElementList     Basis operasjon URI/Endepunkt Endepunkt operasjon   DeleteReporteeElement WS Http https://www.altinn.no/ServiceEngineExternal/ReporteeElementListExternal.svc DeleteReporteeElementExternal    Basic Http https://www.altinn.no/ServiceEngineExternal/ReporteeElementListExternalBasic.svc DeleteReporteeElementBasic    EC https://www.altinn.no/ServiceEngineExternal/ReporteeElementListEC.svc DeleteReporteeElementEC   GetFormSetElementsV2 WS Http https://www.altinn.no/ServiceEngineExternal/ReporteeElementListExternal.svc GetFormSetElementsExternalV2    Basic Http https://www.altinn.no/ServiceEngineExternal/ReporteeElementListExternalBasic.svc GetFormSetElementsBasicV2    EC https://www.altinn.no/ServiceEngineExternal/ReporteeElementListEC.svc GetFormSetElementsEC   GetReporteeElementListV2 WS Http https://www.altinn.no/ServiceEngineExternal/ReporteeElementListExternal.svc GetReporteeElementListExternalV2    Basic Http https://www.altinn.no/ServiceEngineExternal/ReporteeElementListExternalBasic.svc GetReporteeElementListBasicV2    EC https://www.altinn.no/ServiceEngineExternal/ReporteeElementListEC.svc GetReporteeElementListEC   GetCorrespondenceListForArchiveRef WS Http https://www.altinn.no/ServiceEngineExternal/ReporteeElementListExternal.svc GetCorrespondenceListForArchiveRef    Basic Http https://www.altinn.no/ServiceEngineExternal/ReporteeElementListExternalBasic.svc GetCorrespondenceListForArchiveRefBasic    EC https://www.altinn.no/ServiceEngineExternal/ReporteeElementListEC.svc GetCorrespondenceListForArchiveRefEC   GetCorrespondenceListForReportee WS Http https://www.altinn.no/ServiceEngineExternal/ReporteeElementListExternal.svc GetCorrespondenceListForReportee    Basic Http https://www.altinn.no/ServiceEngineExternal/ReporteeElementListExternalBasic.svc GetCorrespondenceListForReporteeBasic    EC https://www.altinn.no/ServiceEngineExternal/ReporteeElementListEC.svc GetCorrespondenceListForReporteeEC   ServiceMetadata     Basis operasjon URI/Endepunkt Endepunkt operasjon   GetAvailableServicesV2 WS http https://www.altinn.no/ServiceEngineExternal/ServiceMetaDataExternal.svc GetAvailableServicesV2    Basic Http https://www.altinn.no/ServiceEngineExternal/ServiceMetaDataExternalBasic.svc GetAvailableServicesBasicV2   GetFormTaskSchemaDefinitions WS http https://www.altinn.no/ServiceEngineExternal/ServiceMetaDataExternal.svc GetSchemaDefinitionsForFormTask    Basic Http https://www.altinn.no/ServiceEngineExternal/ServiceMetaDataExternalBasic.svc GetFormTaskSchemaDefinitionsBasic   Workflow     Basis operasjon URI/Endepunkt Endepunkt operasjon   DoSendingInAction WS http https://www.altinn.no/ServiceEngineExternal/WorkflowServiceExternal.svc DoSendingInAction    Basic http https://www.altinn.no/ServiceEngineExternal/WorkflowServiceExternalBasic.svc DoSendingInActionBasic   DoSigning WS http https://www.altinn.no/ServiceEngineExternal/WorkflowServiceExternal.svc DoSigning    Basic http https://www.altinn.no/ServiceEngineExternal/WorkflowServiceExternalBasic.svc DoSigningBasic   GetAvailableActionsV2 WS http https://www.altinn.no/ServiceEngineExternal/WorkflowServiceExternal.svc GetAvailableActionsV2    Basic http https://www.altinn.no/ServiceEngineExternal/WorkflowServiceExternalBasic.svc GetAvailableActionsBasicV2   GetNextWorkflowStateTypeInProcessFlowV2 WS http https://www.altinn.no/ServiceEngineExternal/WorkflowServiceExternal.svc GetNextWorkflowStateTypeInProcessFlowV2    Basic http https://www.altinn.no/ServiceEngineExternal/WorkflowServiceExternalBasic.svc GetNextWorkflowStateTypeInProcessFlowBasicV2   GetProcessDetailsV2 WS httphttps://www.altinn.no/ServiceEngineExternal/WorkflowServiceExternal.svc GetProcessDetailsV2    Basic http https://www.altinn.no/ServiceEngineExternal/WorkflowServiceExternal.svc GetProcessDetailsBasicV2   GetProcessDetailsV3 WS http https://www.altinn.no/ServiceEngineExternal/WorkflowServiceExternal.svc GetProcessDetailsV3    Basic http https://www.altinn.no/ServiceEngineExternal/WorkflowServiceExternalBasic.svc    GetSigningText Basic http https://www.altinn.no/ServiceEngineExternal/WorkflowServiceExternalBasic.svc GetSigningTextExternal    WS http https://www.altinn.no/ServiceEngineExternal/WorkflowServiceExternal.svc GetSigningText   SetBackToFormFilling WS http https://www.altinn.no/ServiceEngineExternal/WorkflowServiceExternal.svc SetBackToFormFilling    Basic http https://www.altinn.no/ServiceEngineExternal/WorkflowServiceExternalBasic.svc SetBackToFormFillingBasic   PrepareUserControlledSigning WS http https://www.altinn.no/ServiceEngineExternal/WorkflowServiceExternal.svc PrepareUserControlledSigning    Basic http https://www.altinn.no/ServiceEngineExternal/WorkflowServiceExternalBasic.svc PrepareUserControlledSigningBasic   GetProcessStepIDForParallelSigning WS http https://www.altinn.no/ServiceEngineExternal/WorkflowServiceExternal.svc GetProcessStepIDForParallelSigning    Basic http https://www.altinn.no/ServiceEngineExternal/WorkflowServiceExternalBasic.svc GetProcessStepIDForParallelSigningBasic   PrefillEUSExternal     Basis operasjon URI/Endepunkt Endepunkt operasjon   GetPrefillData WS http https://www.altinn.no/ServiceEngineExternal/PreFillEUSExternal.svc GetPrefillData    Basic http https://www.altinn.no/ServiceEngineExternal/PreFillEUSExternalBasic.svc GetPrefillDataBasicV2    EC https://www.altinn.no/ServiceEngineExternal/PreFillEUSExternalEC.svc GetPrefillDataEC   Case     Basis operasjon URI/Endepunkt Endepunkt operasjon   GetCaseList WS http https://www.altinn.no/ServiceEngineExternal/CaseExternal.svc GetCaseListExternal    Basic http https://www.altinn.no/ServiceEngineExternal/CaseExternalBasic.svc GetCaseListExternalBasic    EC https://www.altinn.no/ServiceEngineExternal/CaseEC.svc GetCaseListEC   InstantiateCollaboration WS http https://www.altinn.no/ServiceEngineExternal/CaseExternal.svc InstantiateCollaborationExternal    Basic http https://www.altinn.no/ServiceEngineExternal/CaseExternalBasic.svc InstantiateCollaborationExternalBasic    EC https://www.altinn.no/ServiceEngineExternal/CaseEC.svc InstantiateCollaborationEC   ArchiveCase WS http https://www.altinn.no/ServiceEngineExternal/CaseExternal.svc ArchiveCaseExternal    Basic http https://www.altinn.no/ServiceEngineExternal/CaseExternalBasic.svc ArchiveCaseExternalBasic    EC https://www.altinn.no/ServiceEngineExternal/CaseEC.svc ArchiveCaseEC   KeyManagement     Basis operasjon URI/Endepunkt Endepunkt operasjon   GetCertificates WS http https://www.altinn.no/ArchiveExternal/KeyManagementExternal.svc GetCertificatesBasic    Basic http https://www.altinn.no/ArchiveExternal/KeyManagementExternalBasic.svc GetCertificatesExternal    EC https://www.altinn.no/ArchiveExternal/KeyManagementEC.svc GetCertificatesEC   SystemAuthentication     Basis operasjon URI/Endepunkt Endepunkt operasjon   GetAuthenticationChallenge Basic http https://www.altinn.no/AuthenticationExternal/SystemAuthentication.svc GetAuthenticationChallenge   BrokerService     Basis operasjon URI/Endepunkt Endepunkt operasjon   GetAvailableFiles WS http https://www.altinn.no/ServiceEngineExternal/BrokerServiceExternal.svc GetAvailableFiles    Basic http https://www.altinn.no/ServiceEngineExternal/BrokerServiceExternalBasic.svc GetAvailableFilesBasic    EC https://www.altinn.no/ServiceEngineExternal/BrokerServiceExternalEC.svc GetAvailableFilesEC   InitiateBrokerService WS http https://www.altinn.no/ServiceEngineExternal/BrokerServiceExternal.svc InitiateBrokerService    Basic http https://www.altinn.no/ServiceEngineExternal/BrokerServiceExternalBasic.svc InitiateBrokerServiceBasic    EC https://www.altinn.no/ServiceEngineExternal/BrokerServiceExternalEC.svc InitiateBrokerServiceEC   UploadFileStreamed WS http https://www.altinn.no/ServiceEngineExternal/BrokerServiceExternalBasicStreamed.svc UploadFileStreamed    Basic http https://www.altinn.no/ServiceEngineExternal/BrokerServiceExternalBasicStreamed.svc UploadFileStreamedBasic    EC https://www.altinn.no/ServiceEngineExternal/BrokerServiceExternalECStreamed.svc UploadFileStreamedEC   DownloadFileStreamed WS http https://www.altinn.no/ServiceEngineExternal/BrokerServiceExternalBasicStreamed.svc DownloadFileStreamed    Basic http https://www.altinn.no/ServiceEngineExternal/BrokerServiceExternalBasicStreamed.svc DownloadFileStreamedBasic    EC https://www.altinn.no/ServiceEngineExternal/BrokerServiceExternalECStreamed.svc DownloadFileStreamedEC    Alle URI er angitt med produksjonsadresse. Frem til produksjonssetting må https://www.altinn.no erstattes med peker til testmiljø\n"
},
{
	"uri": "https://altinn.github.io/docs/guides/sluttbrukersystem/funksjonelle-scenario/",
	"title": "Funksjonelle scenario",
	"tags": [],
	"description": "Beskrivelse av hvilken funksjonalitet som finnes med referanser til hvilke web services som benyttes",
	"content": "  Altinn tilbyr flere tjenester innenfor flere funksjonelle områder for sluttbrukersystemer og dets brukere. Dette kapittelet beskriver hvilken funksjonalitet som finnes med referanser til hvilke web services som benyttes. Oversikt over den web service, operasjon og parametere til disse er beskrevet i en egen seksjon , samt at ytterligere detaljer kan finnes i Tjenestekatalogen og WSDL’en for tjenesten.\nDe funksjonelle områder som finnes er:\n Autentisering og autorisasjon av sluttbrukersystem og brukere Benytte innsendingstjeneste Benytte meldingstjeneste Benytte formidlingstjeneste Benytte innsynstjeneste Benytte samhandlingstjeneste  Autentisering og autorisasjon av sluttbrukersystem og bruker Alle tjenesteoperasjoner som kan benyttes av et sluttbrukersystem vil alltid bruke et sluttbrukersystem id eller brukernavn og tilhørende passord for å autentisere system og autorisere rettigheter til at systemet har rettigheter til å utføre handlinger på vegne av en juridisk enhet.\nFor å utføre tjenesteoperasjoner på vegne av bruker er det også mulig å autentisere seg ved bruk av brukerens brukerprofil brukernavn og tilhørende passord, på samme måte som man ville brukt sluttbrukersystem id og passord. For å kunne bruke denne autentiseringsmetoden må man aktivere dette på sin brukerprofil side. Tjenesteoperasjoner som autentiseres med brukernavn kan kun gi rettighet til å utføre handlinger på vegne av denne brukeren.\nI de tilfeller i grensesnitt-beskrivelsene hvor det refereres til systemUserName vil man også kunne bruke brukerens brukernavn og passord for å autentisere seg, i stedet for en sluttbrukersystem ID.\nUtover dette vil det for noe funksjonalitet også være et behov for å autentisere den unike brukeren som benytter sluttbrukersystemet og autorisere at vedkommende har rettigheter til å levere eller hente spesifikke data eller utføre operasjoner på vegne av en juridisk enhet. Denne sjekken utføres ved at sluttbrukersystem først kaller en web service som autentiserer en bruker og ber om en spesifikk engangskode som skal sendes inn sammen med kallet til den web servicen som krever autentisering og autorisasjon av en bruker. Denne engangskoden kan være basert på følgende typer:\n Engangskode fra brev bestilt på Altinn Engangskode fra selvangivelse Engangskode tilsendt per SMS (for registrert Altinn bruker)  Altinn vil svare på denne henvendelsen med å referere til hvilken engangskode som skal benyttes eller ved å sende en SMS til registrert mobiltelefonnummer på bruker.\nSluttbrukersystemet må håndtere skjermdialogen med brukeren og sørge for at informasjonen Altinn returnerer på forespørsel om hvilken engangskode som må sendes med web service kallet vises frem, og at engangskoden innhentes fra bruker og sendes med i neste kall til den tjenesteoperasjonen som krever autentisering / autorisasjon.\nEn slik autentisering / autorisasjonshandling er gyldig i 30 minutter fra første forespørsel blir gjort, og vil deretter fornyes med 30 minutters gyldighet hver gang en web service operasjon som benytter denne informasjonen blir kalt. Denne fornyingen vil gjøres inntil en maksimal grense på 8 timer.\nHvis det går for langt tid mellom hvert kall slik at gyldighetsperioden utløper må brukeren pånytt måtte autentiseres / autoriseres med ny engangskode.\nDet er en fordel om sluttbrukersystemet implementerer en klokkenedtelling etter at engangskoden blir mottatt slik at brukeren til enhver tid vet hvor lenge den nåværende engangskoden kan brukes. Dette vil redusere antall SMS utsendinger og medføre at engangskodebrev vil ha lenger holdbarhet. I tilfeller der engangskoden er/blir ugyldig, er det en fordel om sluttbrukersystem enkelt gir brukeren tilgang til å hente engangskoden på nytt og deretter sende inn den signerte forsendelsen på nytt.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     SystemAuthentication GetAuthenticationChallenge Basic    Uthenting av tilgjengelige tjenester Sluttbrukersystemer kan alltid hente informasjon om hvilke innsendingstjenester, meldingstjenester, innsynstjenester og samhandlingstjenester (baser på parameter ServiceType i operasjonen GetAvailableServices) som til enhver tid er tilgjengelige og aktive i Altinn, samt hente de XML skjema som inngår i et skjemasett for en innsendingstjeneste. GetAvailableServicesV3 inkluderer mulighet for å filtrere resultatene fra de tilgjengelige tjenestene slik at man kan finne akkurat de tjenestene man leter etter.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Type Operasjon     ServiceMetadata GetAvailableServicesV2 Basic/WS   ServiceMetadata GetAvailableServicesV3 Basic/WS   ServiceMetadata GetFormTaskSchemaDefinitions Basic/WS    Benytt innsendingstjeneste Å benytte en innsendingstjeneste betyr å sende skjemadata fra et sluttbrukersystem med eventuelle vedlegg og eventuelt signere disse før en innsending. Men i dette scenarioet inngår også det å behandle en innsending gjennom livssyklus fra opprettelse, gjennom arbeidsflyt til oversendelse eller sletting.\nInnsendingstjenester er tilknyttet en arbeidsflyt som består av følgende steg:\n Utfylling – Alle påkrevde skjemafelter fylles med data Validering – data valideres funksjonelt og iht. regler som er angitt i et skjema Signering – En spesifikk autentisert bruker juridisk godkjenner de data som sendes inn Bekreft og Send inn – Data arkiveres og oversendes til tjenesteeier.  I forkant av disse fire arbeidsflytstegene kan bruker av sluttbrukersystemet også velge å hente ut preutfyllingsdata fra Altinn. Preutfyllingsdataene kan benyttes for å forenkle utfylling av innsendingstjenesten.\nFor noen tjenester vil man også kunne ha en såkalt brukerstyrt parallell signering. Med dette menes det at innsender selv kan velge et antall brukere som skal signere et steg i arbeidsflyten. For tjenester som har dette steget kan dette angis som del av innsendingen, eller gjøres som et separat tjenestekall.\nFra et sluttbrukersystem kan ett eller flere av disse stegene gjøres direkte gjennom ett eller flere tjenestekall. De ulike stegene er nærmere beskrevet i påfølgende kapitler.\nHent preutfyllingsdata Preutfyllingsdata er data for et gitt skjemasett og en gitt avgiver som sendes fra tjenesteeier til Altinn, og lagres i Altinn. Preutfyllingsdata brukes for å forenkle utfylling av innsendingstjenester, ved at sluttbrukersystemer henter ut preutfyllingsdata i forkant av innsending, for så å benytte dataene ved innsending av skjemasettet.\nFor å hente ut prefill data benyttes parametrene ReporteeNumber (fødselsnummer eller organisasjonsnummer), ExternalServiceCode (tjenestekode), og ExternalServiceEditionCode (tjenesteutgavekode).\nGetPrefillData Operasjonen returnerer en status og en liste med PreFillFormTask. Statusen indikerer om input er valid, eller hvorvidt det eksisterer prefill data for tjenesten det etterspørres for. PreFillFormTask er en liste fordi det kan eksistere flere preutfyllingsdata for samme skjemasett og avgiver. Settene med preutfyllingsdata er i så fall skilt ved hjelp av identifiserende felter satt av tjenesteeier i PreFillIdentityFieldBE. FieldValue. Det bør verifiseres at preutfylt data som benyttes er gyldig ved å sjekke PrefillFormTaskBE.ValidFromDate og PrefillFormTaskBE.ValidToDate\nPreutfylt skjemadata ligger i elementet PrefillFormBE.FormDataXML. Dette elementet følger tjenestens dataformat (XSD) og inneholder de preutfylte dataene. Den kan da benyttes som utgangspunkt for sluttbrukersystemet i stedet for å opprette en blank XML basert på dataformatet.\nGetPrefillDataV2 Ifm versjon 13.1 Altinn, tilgjengelig i TT2 (PROD 25. februar 2013) kan SBS nå benytte en ny operasjon for å hente ned preutfylte skjema.\nDefault vil denne operasjonen kun returnere preutfylt hovedskjema hvis det finnes preutfylte data. Informasjon om hva slags type prefilldata returneres med et sett av true/false parametere. Man kan velge eksplisitt å få returnert prefill for spesifikke skjema innenfor et skjemasett. Det er ikke lagt inn mulighet for å skille eksakt hvilke data som kommer fra hvilken kilde, bare hvilke kilder som er benyttet. Merk også at det er kun relevante felter med prefilldata som returneres, altså må SBS selv generere det endelige SOAP-kallet og skjema-XML ihht. XSD som tidligere. I tidligere versjon (GetPrefillData) var det kun én type prefillkilde som kunne hentes ned til SBS (ferdigutfylt skjema fra Tjenesteeier). Nå vil alle typer prefillkilder samt alle prefillmetoder en tjenesteeier kan benytte gi SBS tilgang til de samme data som i portal.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     SystemAuthentication GetAuthenticationChallenge Basic   Prefill GetPrefillData Basic/WS/EC   Prefill GetPrefillDataV2 Basic/WS/EC    Send inn skjemasett Dette steget innebærer å oversende data i henhold til XML-spesifikasjoner som utgjør tjenesten. Sluttbrukersystem kan selv velge om skjemasettet skal sendes komplett og/eller signert:\n Komplett / Ikke komplett Komplett betyr at alle påkrevde data leveres fra sluttbrukersystem Ikke komplett betyr at ikke alle felter kunne fylles ut i sluttbrukersystem og at utfylling må ferdigstilles på Altinn portal. Signert / usignert Hvis en innsending sendes komplett er det også mulig å signere (ett signeringssteg) disse fra sluttbrukersystemet gjennom samme innsending.  Inneholder skjemaet som skal sendes inn et brukerstyrt signeringssteg, kan informasjon for delegering for dette steget sendes sammen med skjemadata. For det første må parameter UserDefinedNumberOfSignaturesRequired angi det totale antallet av signaturer som skal til for å gå videre til neste steg etter det brukerstyrte signeringssteget. Hvilke brukere som så skal delegeres rettighet til å signere angis så i listen over DelegatedUserBE der brukerens fødselsnummer (SSN) og etternavn (Name) må angis. Hvis tjenesten tillater, kan en bruker signere mer enn en gang, i så tilfelle settes NumberOfSignaturesAllowed til antallet signaturer som er ønsket fra denne brukeren. Om bruker kun skal signere en gang må parameteren settes til 1.\nSendes innsendingstjenesten fra en juridisk enhet som regnes som en Trusted partner, det vil si at den har rettigheter til å opprette instanser av innsendingstjenester for andre brukere, kan denne velge å fylle ut informasjon om brukerstyrt signering og låse steget slik at dette ikke kan editeres av bruker selv. For å gjøre dette settes parameter IsUserDelegationLocked til true.\nHvis deler av skjemasettet inneholder sensitive felter må disse krypteres. Se 4.3.10 for utdypende beskrivelse av hvordan dette skal gjøres.\nSkjemaet som sendes inn kan knyttes til en samhandlingstjeneste. For å gjøre dette settes parameter CaseID til samhandlingstjenestens unike identifikator (se 4.7.1 for hvordan denne identifikatoren kan hentes).\nDersom skjemasettet skal signeres må sluttbrukersystem i forkant av innsending hente ut signeringsteksten for tjenesten, slik at denne kan presenteres for bruker som skal utføre signeringen.\nHvis alle krav til en komplett innsendingstjeneste er ivaretatt i forhold til validering av data og nødvendig signering så vil innsendingen blir arkivert og oversendt tjenesteeier.\nEnkelte tjenester i Altinn har definert regler for vedleggene som kan legges ved skjemasettet. Nærmere informasjon om disse reglene kan hentes ut med GetAvailableServicesV3. For å angi hvilken type vedlegg man sender med, benytter man AttachmentTypeName-feltet i vedleggsentiteten. Man kan sende inn vedlegg til skjemasett på tjenester med vedleggsregler både med SubmitFormTask IntermediaryInbound.SubmitFormTask, SubmitAttachmentStreamed og IntermediaryInboundStreamed.SubmitAttachmentStreamed.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     SystemAuthentication GetAuthenticationChallenge Basic   ReporteeElementList GetReporteeElementListV2 Basic/WS/EC   Workflow GetSigningText Basic/WS   IntermediaryInbound SubmitFormTask Basic/WS/ EC    Sjekk transportkvittering for innsending Når en innsending mottas fra sluttbrukersystem vil en transportkvittering returneres umiddelbart etter mottak. Transportkvitteringen vil inneholde informasjon om hvert enkelt element i innsendingen, med detaljer på hva kvitteringen gjelder og valideringsstatus på innsendingen. Mottak og prosessering av innsendte data skjer i flere trinn, vil kvitteringen endre status etter hvert som innsendingen behandles. En innsending kan ikke regnes å være mottatt og godtatt før transportkvitteringen viser at validering og videre prosesseringen for innsendingen er fullført i Altinn.\nDet vil derfor fra et sluttbrukersystem ofte være nødvendig å etterspørre kvittering flere ganger inntil en godkjent status blir returnert fra Altinn.\nVed innsending fra SBS utfører Altinn en prosess med formålet å stoppe innsendinger med feil, for eksempel i kalkyler. Denne prosessen er nærmere beskrevet i kapittel 10, Vedlegg B - Regler for sammenlikning av skjemasett, og viser blant annet hvilke kriterier som gjelder for å generere advarsler og feil i kvitteringene.\nDe statuser en transportkvittering typisk vil kunne vise under mottak og prosessering og videresending til etat er:\n Mottatt – Innsendingen er teknisk mottatt i Altinn og avsender er autentisert og autorisert Godtatt – Innsendingen er teknisk validert og videresendt til prosessering Prosessert – Innsendingen er prosessert og godtatt i Altinn. Sendt tjenesteeier – Innsendingen er sendt til tjenesteeier Mottatt tjenesteeier – Meldingen er mottatt av tjenesteeier.  Det er ikke alle tjenesteeiere som har mulighet til å bekrefte et mottak på en spesifikk innsending så Sendt tjenesteeier vil i mange tilfellervære endelig status.\nEventuelt kan status være:\n Avvist – Innsendingen er avvist  Hvis innsending feiler i et av stegene vil også dette beskrives i transportkvitteringen. Slike feil vil oftest være pga. feil i format, valideringsfeil på funksjonelle data, duplikat innsending eller ikke tilstrekkelige rettigheter i forhold til avgiver for et sluttbrukersystem eller en signerer.\nDet er ingen begrensning på hvor mange ganger en kvittering kan etterspørres, og disse vil være tilgjengelig i en lengre periode etter innsending.\nDet henstilles allikevel sluttbrukersystemene om ikke å overdrive hvor ofte en transportkvittering etterspørres da dette potensielt kan medføre ekstra treghet i systemet og prosessering av data vil forsinkes.\nEn tommelfingerregel på å vente minimum 5 sekunder mellom innsending og hver enkelt kvitteringsforespørsel kan legges til grunn, eller la brukeren av sluttbrukersystemet selv be om oppdatert transportkvittering.\nEn kvittering kan etterspørres med alle kjente referanser for innsendingen:\n Sluttbrukersystem referanse på innsending eller enkeltskjema Altinn transportkvittering returnert som respons på innsending Altinn innsendingsreferanse Tjenesteeier referanse  Det vil også finnes kvitteringshistorikk som viser de forskjellige kvitteringstekster / statuser en innsending historisk har hatt og tidspunkt for når disse ble satt.\nMerk at ReferenceTypeName av typen WorkFlowReference representerer ReporteeElementID, altså den unike identifikatoren for det detaktive elementet.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     SystemAuthentication GetAuthenticationChallenge Basic   Receipt GetReceiptList Basic/WS   Receipt GetReceipt Basic/WS    Legge til vedlegg til innsendt skjemasett Dersom man skal laste opp store vedlegg til et skjemasett, kan man bruke SubmitAttachmentStreamed-metoden for å legge til et vedlegg til en innsending som ligger til utfylling i meldingsboksen.\nDette gjøres ved å benytte arbeidsflytreferansen (WorkflowReference) man får fra kvitteringskallet etter vellykket innsending og instansiering som ReporteeElementId-parameter i SubmitAttachmentStreamed-metoden. Når man har lagt til alle aktuelle vedlegg kan skjemasettet signeres og arkiveres ved å bruke samme arbeidsflytreferanse som inn-parameter i CompleteAndSign (alternativt tilsvarende metoder i Workflow).\nTjenester og tjenesteoperasjoner som inngår i beskrevetfunksjonalitet:\n   Tjeneste Operasjon Type     SystemAuthentication GetAuthenticationChallenge Basic   Receipt GetReceipt Basic/WS   IntermediaryInboundStreamed SubmitAttachmentStreamed Basic/WS   IntermediaryInbound CompleteAndSign Basic/WS    Styr arbeidsflyt for innsendingstjeneste Altinn tillater at enkeltstående arbeidsflytsteg utføres fra sluttbrukersystem uten innlogging i portalen. Den mest vanlige typen aksjon å ta fra sluttbrukersystem vil være å utføre et enkeltstående signeringssteg, men det vil være støtte for flere andre operasjoner som er tilgjengelig i portalen. Et annet eksempel er å flytte et skjema tilbake til utfylling, eller hente ut arbeidsflythistorikk for et skjema.\nEt praktisk eksempel på bruk kan være at en sluttbruker sender inn sitt skjema til Altinn, og legger ved signaturinformasjon. Skjemaet opprettes, valideres, og signeres i første steg. Dette er et skjema som krever revisorsignering, og derfor blir ikke skjema arkivert, men liggende å vente på at revisor skal signere. På dette tidspunkt kan revisor benytte ”signer skjema” funksjonaliteten fra sitt sluttbrukersystem, og signere og sende inn skjema. Dermed vil skjema kunne passere gjennom avanserte arbeidsflyter uten at man behøver å logge inn i portalen.\nOperasjonen GetAvailableActionsV2 vil kunne kalles for et gitt element for å sjekke hvilken handling som skal utføres. For en tjeneste som er opprettet ikke komplett og innehar et brukerstyrt signeringssteg vil denne operasjonen kunne returnere verdien DoSignDelegation. Sluttbrukersystemet kan i så tilfelle benytte operasjonen PrepareUserControlledSigning til å delegere signering til brukere. Denne operasjonen tar inn reporteeElementID for å angi elementet som skal behandles. Videre må en delegatedUserBEList fylles med innhold, der Name skal angi etternavn og SSN er fødselsnummer for brukeren som skal signere, samt at NumberOfSignaturesAllowed kan settes avhengig av hvor mange signaturer denne personen kan angi avhengig av om tjenesten tillater flere signaturer fra samme bruker. userDefinedNumberOfSignaturesRequired må settes for å angi det totale antallet signaturer som kreves for det parallelle steget. Videre må parallelSigningStepLocked settes. Denne parameteren er kun tilgjengelig for avgivere som er definert som Trusted partner, og brukes til å låse forberedingen til det parallelle signeringssteget – det vil si at bruker selv ikke kan endre hvem og hvor mange som skal signere.\nFunksjonaliteten i hver enkelt av de tilgjengelige funksjonene forklares i detalj under.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     SystemAuthentication GetAuthenticationChallenge Basic   ReporteeElementList GetReporteeElementListV2 Basic/WS/EC   Workflow GetAvailableActionsV2 Basic/WS   Workflow GetProcessDetailsV2 Basic/WS   Workflow GetNextWorkflowStateTypeInProcessFlowV2 Basic/WS   Workflow DoSendingInAction Basic/WS   Workflow DoSigning Basic/WS   Workflow SetBackToFormFilling Basic/WS   Workflow PrepareUserControlledSigning Basic/WS   Workflow GetProcessStepIDForParallelSigning Basic/WS    Slett innsendingstjeneste Et sluttbrukersystem kan velge å slette et aktivt eller arkivert element fra arbeidsliste eller fra arkivet i Altinn. Dette innebærer at elementet ikke lenger vil være synlig i portal eller tilgjengelig for sluttbrukersystem.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     SystemAuthentication GetAuthenticationChallenge Basic   ReporteeElementList DeleteReporteeElement Basic/WS/EC    Se arkivert innsendingstjeneste Når en innsendingstjeneste sendes inn, enten fra et sluttbrukersystem eller i portal, opprettes det en kvittering for den arkiverte innsendingstjenesten. Kvitteringen kan senere hentes opp både for portalbruker, sluttbrukersystem og fra tjenesteeiers system. I kvitteringen ligger det funksjonalitet for å sende kvitteringen på e-post, vise utskriftsversjon av det innsendte oppgavesettet samt eventuell visning av digital signatur.\nVed innsending fra sluttbrukersystem vil det genereres en kvittering som angir status for forsendelsen (nærmere beskrevet i kapittel 4.3.3, Sjekk transportkvittering for innsending).\nDette må ikke forveksles med transportkvittering som beskrives i avsnitt Sjekk transportkvittering for innsending.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     SystemAuthentication GetAuthenticationChallenge Basic   ReporteeArchiveExternal GetArchivedFormTask Basic/WS/EC    Finn aktive og arkiverte innsendingstjenester Et sluttbrukersystem kan hente ut detaljer på innsendingstjenester fra Altinn, både aktive som er opprettet i arbeidsflyt, og de som er sendt inn og arkivert. For å gjøre dette kalles typisk først en søkeoperasjon med filtrering som returnerer en liste (GetReporteeElementListV2). Deretter kan et enkelt element hentes med alle detaljer.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     SystemAuthentication GetAuthenticationChallenge Basic   ReporteeElementList GetReporteeElementListV2 Basic/WS/EC   ReporteeElementList GetFormSetElementsV2 Basic/WS/EC   ReporteeArchiveExternal GetAttachmentData Basic/WS/EC    Hent prosesseringsstatus Sluttbrukersystem kan hente ut estimert tid (minutter) for hvor lang tid prosesseringen av en innsendingstjeneste vil ta.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     IntermediaryInbound GetAltinnSubmissionStatus Basic/WS/EC    Innsending av skjema med sensitive felt fra sluttbrukersystem Altinn versjon 2 støtter innsending av tjenester med sensitive felt. Slike skjema kan også sendes inn via sluttbrukersystem. For å støtte dette må sluttbrukersystem kryptere data før den sendes inn via web tjenester.\nPrinsippet som brukes er at hvert enkelt sensitivt felt krypteres med en symmetrisk nøkkel. Nøkkelen som genereres må være 128 bit lang. Algoritmen for å kryptere hvert enkelt felt skal være AES.\nSensitive felt i skjema som skal sendes inn til Altinn vil alltid være strengverdier i XSD. Dette fordi en kryptert verdi alltid vil overføres som en streng, og det vil ikke være mulig å validere den krypterte verdien.\nNår skjema er kryptert må den symmetriske nøkkelen krypteres ved hjelp av det offentlige sertifikatet til tjenesteeier. Algoritmen som benyttes for denne krypteringen er RSA. Sertifikatet til tjenesteeier hentes ut ved hjelp av operasjonen GetCertificatesExternal på tjenesten KeyManagementExternal. Basert på tjeneste og tjenesteutgave returneres en liste med gyldige sertifikater og ID for hver enkelt tjenesteeier som skal motta skjemadata. I de fleste tilfeller vil dette bare være et sertifikat da de fleste innsendingstjenester bare har en mottaker av skjemadata.\nHvis sluttbruker ønsker muligheten til å dekryptere data ved et senere tidspunkt må også den symmetriske nøkkelen sendes inn kryptert med et egendefinert passord. Dette passordet må minimum være på 8 tegn. Ved uthenting fra arkiv ved hjelp av sluttbrukersystem kan man da benytte passordet for å dekryptere den symmetriske nøkkelen for deretter å dekryptere feltene som har krypterte data.\nTjenesten som benyttes for å sende inn sensitive skjema er samme som vanlige skjema, SubmitFormTask), se også kapittel 4.3.2. Parameteren FormData settes da som vanlig, men nodene er kryptert som beskrevet over. I tillegg må data om brukt nøkkel fylles ut:\n\u0026amp;lt;ns:EncryptedKey\u0026amp;gt; \u0026amp;lt;!--Optional:--\u0026amp;gt; \u0026amp;lt;ns:ReporteeSymmetricKey\u0026amp;gt; \u0026amp;lt;!--Dette den symmetriske nøkkelen kryptert med selvvalgt passord--\u0026amp;gt; \u0026amp;lt;ns:Key\u0026amp;gt;\u0026amp;lt;/ns:Key\u0026amp;gt; \u0026amp;lt;/ns:ReporteeSymmetricKey\u0026amp;gt; \u0026amp;lt;ns:ServiceOwnerSymmetricKeys\u0026amp;gt; \u0026amp;lt;!--Zero or more repetitions:--\u0026amp;gt; \u0026amp;lt;ns:ServiceOwnerSymmetricKeyBE\u0026amp;gt; \u0026amp;lt;!--Dette er ID til sertifikat brukt til å kryptere nøkkel for tjenesteier. Id ble mottatt i kallet GetCertificatesExternal sammen med sertifikat--\u0026amp;gt; \u0026amp;lt;ns:CertificateId\u0026amp;gt;\u0026amp;lt;/ns:CertificateId\u0026amp;gt; \u0026amp;lt;!--Dette er den symmetriske nøkkelen kryptert med tjenesteeiers sertifikat angitt av id over--\u0026amp;gt; \u0026amp;lt;ns:Key\u0026amp;gt;\u0026amp;lt;/ns:Key\u0026amp;gt; \u0026amp;lt;/ns:ServiceOwnerSymmetricKeyBE\u0026amp;gt; \u0026amp;lt;/ns:ServiceOwnerSymmetricKeys\u0026amp;gt; \u0026amp;lt;/ns:EncryptedKey\u0026amp;gt;  For å hente etaten (eller etatenes) offentlige sertifikat benyttes tjenesten KeyManagement og operasjonen GetCertificates. Denne tar som input de to påkrevde parameterne externalServiceCode og externalServiceEditionCode, og returnerer basert på disse hvilket hvilke) sertifikat (returparameter Certificate) som skal benyttes til å kryptere data. Når data sendes inn til Altinn må den unike identifikatoren for sertifikatet også sendes med (returparameter CertificateId). En tom liste returneres om ikke kombinasjonen av externalServiceCode og externalServiceEditionCode er definert for sensitive personopplysninger i TUL, eller ikke eksisterer.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     KeyManagement GetCertificates Basic/WS/EC    Signering ved hjelp av XMLDsig Det er i Altinn mulig for tjenesteeier å kreve digital signering ifølge XMLDSig standarden i tillegg til Altinns vanlig sikkerhets funksjonalitet. For tjenester som krever dette må hvert skjema signeres med et Signature element. Signature element må tilpasse XMLDSig standard og er beskrevet i mer detalj i kapittel 5.3.\nBenytt meldingstjeneste Meldingstjenester benyttes av tjenesteeiere for å sende informasjon eller tilbakemelding på innsendte data til sluttbrukere/avgivere i Altinn. Sluttbrukersystemer har mulighet for å hente ut meldinger for avgivere, samt utføre visse handlinger på tjenestene, deriblant å arkivere en melding.\nHent melding Det er mulig å hente ut meldinger for avgivere i Altinn, både aktive og arkiverte meldinger. Meldingene hentes først gjennom å hente en liste basert på søkeparametere, deretter kan en spesifikk melding hentes med identifikator for en ønsket melding. Denne identifikatoren vil være retur parameter for liste objektet.\nNår en melding hentes vil det også sendes en lesevarsling til tjenesteeier dersom de har bedt om dette. Både når man henter listen og den spesifikke meldingen vil man basert på parameteren CaseID kunne se om den aktuelle meldingstjenesten er knyttet til en samhandlingstjeneste.\n**Tjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet: **\n   Tjeneste Operasjon Type     SystemAuthentication GetAuthenticationChallenge Basic   ReporteeElementList GetReporteeElementListV2 Basic/WS/EC   Correspondence GetCorrespondenceForEndUserSystemV2 Basic/WS/EC    Bekreft melding For noen meldingstjenester krever tjenesteeier at bruker bekrefter at meldingen er lest. Denne bekreftelsen kan også gjøres fra sluttbrukersystem i tillegg til portal. Meldingen i Altinn oppdateres da med lesebekreftelsen, samt hvem som har bekreftet meldingen og tidspunkt for når dette ble gjort.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     SystemAuthentication GetAuthenticationChallenge Basic   Correspondence SaveCorrespondenceConfirmation Basic/WS/EC    Slett melding Et sluttbrukersystem kan velge å slette en melding som er mottatt. Når en meldingstjeneste er slettet vil den ikke være tilgjengelig for verken sluttbruker eller sluttbrukersystem.\nNår en melding slettes vil det også sendes en lesevarsling til tjenesteeier dersom de har bedt om dette.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     SystemAuthentication GetAuthenticationChallenge Basic   Correspondence DeleteCorrespondence Basic/WS    Arkiver melding Et sluttbrukersystem kan velge å arkivere en melding. Arkiveringen kan kun gjennomføres dersom meldingen er ferdig behandlet, dvs. meldingen må være lest og bekreftet (dersom bekreftelse kreves).\nFor å arkivere meldingen benyttes parameteren CorrespondenceID for å angi den unike identifikatoren for meldingstjenesten som skal arkiveres (denne identifikatoren tilsvarer ReporteeElementID). Operasjonen returnerer kvittering til sluttbrukersystemet.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     SystemAuthentication GetAuthenticationChallenge Basic   Correspondence ArchiveCorrespondenceFromEndUserSystem Basic/WS/EC    Benytt formidlingstjeneste Formidlingstjenester handler om å transportere data fra en eller flere avgivere til en eller flere mottakere, hvor Altinn fungerer som mellommann som sørger for transport og infrastruktur. Altinn er sådan en passiv part i prosessen, og både avsender og mottaker må benytte grensesnitt tilgjengeliggjort av Altinn.\nInnholdet i en formidlingstjeneste er data som er bestemt mellom aktørene som inngår i en formidlingstjeneste, og er ikke kjent av Altinn.\nData som skal overføres må pakkes i en ZIP-fil. For SFTP kanalen må den inneholde to forhåndsdefinerte Altinn XML filer for å definere metadata (manifest.xml) og mottakere (recipients.xml). Ved bruk av web service sendes først metadata og mottaker liste, før ZIP-arkivet overføres i en egen operasjon.\nDet er viktig at ZIP-arkivet sin interne liste med filnavn blir enkodet med UTF-8. Dette vil gi best støtte for filnavn med tegn utenfor ASCII tabellen. Det kan for eksempel bli feil med bokstavene æ, ø og å hvis man ikke angir UTF-8. Utover dette kan ZIP-filen i prinsippet inneholde hva som helst av data. Utover viruskontroll gjør ikke Altinn noen form for validering eller prosessering av dataene, men sørger for at oppgitt metadata og mottakerinformasjon er korrekt og validerer, samt holder orden på kvitteringer og sporingsinformasjon om forsendelsen.\nI tillegg til innhold i ZIP-fil kan avsender og mottaker også avtale bruk av FileList og PropertyList som er en del av manifestet. FileList kan benyttes til å oversende informasjon om innhold i formidlingstjenesten samt checksum for verifikasjon. PropertyList er en liste med nøkkel og verdi par som kan settes fritt for å overføre ytterligere informasjon i formidlingstjenesten.\nFormidlingstjenester er tenkt brukt primært for formidlinger:\n B2B (Business-to-Business), B2G (Business-to-Government), G2B (Government-to-Business), eller G2G(Government-To-Government)  Når en avsender laster opp en formidlingstjeneste vil Altinn verifisere metadata og mottakere. Når dette er gjort vil forsendelsen gjøres tilgjengelig for mottakere for nedlasting. Samtidig vil Altinn opprette et kvitteringshierarki med en hovedkvittering tilhørende avsender, samt en underkvittering per mottaker. Hver underkvittering vil inneholde status på nedlastingen for denne mottakeren. Alle kvitteringer vil være knyttet til referanse satt av avsender. Avsender og mottaker kan også utveksle ytterligere statustekst på disse kvitteringene gjennom web service. På denne måten kan avsender følge opp status for hver enkelt mottaker.\nTiden en formidlingstjeneste vil være tilgjengelig for nedlasting i Altinn vil kunne variere fra tjeneste til tjeneste og styres av tjenesteeier. Dette betyr at filene etter en viss tidsperiode vil bli slettet selv om filene ikke er lastet ned av en eller flere av mottakerne.\nFormidlingstjenesten kan av tjenesteeier også settes opp til å benytte seg av et tjenesteeier styrt rettighetsregister. Dette registeret kan begrense hvem som har tilgang til spesifikke tjenester på avgiver nivå, og styres av tjenesteeier.\nFormidlingstjenesten beskrives nedenfor i fire scenarioer ift. avsender og opplasting av filer vs. mottaker og nedlasting av filer, samt hvilken kanal opp- og nedlaster kan benytte. Se også Vedlegg C: Flytdiagram for formidlingstjeneste for overordnet flyt.\nLaste opp filer til mottaker(e) (WS) Når avsender ønsker å benytte web service for å laste opp og gjøre en formidlingstjeneste tilgjengelig for mottakere gjøres dette ved først å sende nødvendig metadatainformasjon til Altinn. Dette gjøres gjennom kallet InitiateBrokerService. Her må avsender gi informasjon tilsvarende innholdet i manifest.xsd og receipients.xsd (som definert i kapittel 6.15), men som del av tjenestekallet. Dette er blant annet nøkkelinformasjon om tjenesten som skal benyttes, avsenders referanse, og hvem som skal være mottaker av formidlingstjenesten. Se kapittel 6.14.2 for mer informasjon om operasjonen InitiateBrokerService.\nSom respons på denne tjenesten vil avsender motta en referanse, denne referansen benyttes så som nøkkel til å laste opp faktisk ZIP-fil gjennom operasjonen UploadFileStreamed. Etter at payload er lastet opp til Altinn, vil den gjøres tilgjengelig for angitte mottakere, og avsender får en kvittering på forsendelsen. Denne kvitteringen inneholder en kvitterings ID som avsender kan benytte for å hente et kvitteringshierarki som inneholder en hovedkvittering med en eller flere underkvitteringer. Hver enkelt underkvittering vil her representere forsendelsen til en mottaker, med tilhørende status på hvorvidt formidlingstjenesten er lastet ned eller ikke. Se kapittel 6.15.3 for mer informasjon om operasjonen UploadFileStreamed, og kapittel 6.4.1 for informasjon om GetReceiptV2.\nBatch grensesnitt eller tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste / Fil Operasjon / Format Type     BrokerService InitiateBrokerService Basic/WS/EC   BrokerServiceStreamed UploadFileStreamed Basic/WS/EC   Receipt GetReceiptV2 Basic/WS    Laste opp filer til mottaker(e) (SFTP) For formidlingstjenester tilbyr Altinn også en SFTP kanal for opp- og nedlasting. Denne kan blant annet benyttes dersom informasjonen som skal deles med mottakere er av en viss størrelse (ca. 200MB eller mer), da disse ikke vil være mulig å laste opp og ned gjennom web service kanalen.\nAvsender kobler seg da opp mot Altinns SFTP kanal ved hjelp av bruker opprettet i portal. Denne brukeren vil autentiseres mot SFTP serveren ved hjelp av brukernavn, passord og sertifikat. Se kapittel 8.2 Registrere SFTP-bruker for mer informasjon om hvordan slike brukere opprettes. Ved pålogging opprettes det en virtuell filstruktur basert på tilgjengelige formidlingstjenester. Se kapittel 4.5.3 for mer informasjon om formatet på denne filstrukturen.\nAvhengig av hvordan SFTP-klient benyttes, vil man laste opp nye formidlingstjenester til en egne opplastningsmappe. Filene som lastes opp her må være på et ZIP-format, og inneholde en manifest.xml og recipients.xml i henhold til kapittel 6.15.1 og 6.15.2. Altinn vil etter at fil er ferdig opplastet starte prosessering av filen. Dette innebærer blant annet validering av informasjon oppgitt i manifest-filen samt validering av mottakere oppgitt i Recipients. Ved en vellykket validering av opplastet data opprettes det en kvitteringshierarki med en hovedkvittering samt underkvitteringer for hver mottaker. For å hente denne kvitteringsdataen vil avsender benytte seg av operasjonen GetReceiptV2. For å kunne søke opp korrekt kvittering bør SendersReference som ble oppgitt i manifestfilen benyttes som søkeparameter. Se mer om GetReceiptV2 i kapittel 6.4.1.\nSe også Figur 2: Opp- og nedlasting over SFTP i kapittel 11.\nBatch grensesnitt eller tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste / Fil Operasjon / Format Type     BrokerService SFTP-server Opplasting av ZIP-fil inneholdende payload, manifest.xml og recipients.xml iht. spesifikasjon angitt i avsnitt 6.15 SFTP   Receipt GetReceiptV2 Basic/WS    Laste ned filer fra avsender (WS) En mottaker av formidlingstjenester kan benytte seg av web servicer for å sjekke og eventuelt laste ned tilgjengelige filer. Ved å benytte operasjonen GetAvilableFiles kan mottaker enkelt få en oversikt over hvilke filer som er tilgjengelig i Altinn. Denne operasjonen gir informasjon om formidlingstjenesten, samt status – hvorvidt den allerede er lastet ned av mottaker. Se kapittel 6.14.1 for mer informasjon om GetAvailableFiles.\nBasert på referansen som hentes i GetAvailableFiles kan mottaker så benytte seg av operasjonen DownloadFileStreamed til å laste nedformidlingstjenesten. Denne tjenesten er basert på strømming av data. Tilslutt må mottaker bekrefte at de har mottatt filen ved å utføre et kall til ConfirmDownloaded. Dette gjør at avsender kan se at mottaker har hentet ned filen. Se kapittel 6.14.4 for mer informasjon.\nSom mottaker har man tilgang til underkvittering som gjelder for akkurat denne mottakeren. Mottaker kan da benytte GetReceiptV2 til å hente kvittering med tilhørende status, samt UpdateReceipt til å legge på en kvitteringstekst som også avsender vil ha tilgang til. Se henholdsvis kapittel 6.4.1 og 6.4.3 for mer informasjon om disse operasjonen.\nBatch grensesnitt eller tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste / Fil Operasjon / Format Type     BrokerService GetAvailableFiles Basic/WS/EC   BrokerServiceStreamed DownloadFileStreamed Basic/WS/EC   Receipt GetReceiptV2 Basic/WS   Receipt UpdateReceipt Basic/WS    Laste ned filer fra avsender (SFTP) Som ved opplasting, støtter Altinn også nedlasting over SFTP. På samme måte må en egen SFTP-bruker opprettes i portalen, se kapittel 8.2.\nNår bruker logger på Altinns SFTP server vil det opprettes en egen virtuell filstruktur. Denne bygges blant annet opp basert på informasjon om formidlingstjenester tilgjengelig for nedlasting som mottaker. Filstrukturen som presenteres vil være bygd opp med følgendemappestruktur:\n Upload – benyttes til å droppe filer som skal lastes opp til Altinn. Download – mappe som samler alle formidlingstjenester tilgjengelig for bruker. \u0026lt;Avgiver\u0026gt; - egen mappe for hver enkelt avgiver bruker kan representere. \u0026lt;Tjenestekode\u0026gt; - egen mappe for hver enkelt tjenestekode det finnes formidlingstjenester for. \u0026lt;Tjenesteutgavekode\u0026gt; - egen mappe for hver enkelt tjenesteutgave. \u0026lt;Filer for formidlingstjenesten\u0026gt; - en eller flere ZIP-filer som er tilgjengelig for nedlasting.  SFTP-klient kan navigere denne filstrukturen og laste ned ønskede filer. En implementasjon av SFTP-klient kan således også direkte basert på denne oppbyggingen sammen med informasjon hentet fra web service GetAvailableFiles hente ut filer basert på status. Se kapittel 6.14.1 for mer informasjon om operasjonen GetAvailableFiles.\nNår en fil er lastet ned fra Altinns SFTP-server vil Altinn markere denne filen som nedlastet og oppdatere metadata og kvittering. Mottaker av formidlingstjenesten kan verifisere dette ved å hente underkvittering som tilhører den konkrete overføringen. Til dette benyttes operasjonen GetReceiptV2 ved å angi kvitteringsidentifikator mottatt gjennom GetAvilableServices, eller ved å søke på referansen SendersReference som oppgitt i mottatt manifest fil. Se kapittel 6.4.1 for mer informasjon om GetReceiptV2.\nDersom avsender og mottaker ønsker, kan ytterligere informasjon om status utveksles ved å oppdatere kvittering relatert til mottakers fil. Mottaker kan da benytte operasjon UpdateReceipt til å legge på fritekst. Avsender kan på sin side hente denne basert på GetReceiptV2 operasjonen. Se kapittel 6.4.3 for mer informasjon om UpdateReceipt.\nNår man benytter nedlasting med SFTP er det ikke nødvendig å bekrefte nedlastingen med noe kall til ConfirmDownloaded. Det blir gjort automatisk.\nBatch grensesnitt eller tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste / Fil Operasjon / Format Type     BrokerService SFTP-server Nedlasting av ZIP-fil inneholdende payload og manifest.xml iht. spesifikasjon angitt i avsnitt 6.15 SFTP   BrokerService GetAvailableFiles Basic/WS/EC   Receipt GetReceiptV2 Basic/WS   Receipt UpdateReceipt Basic/WS    Benytt innsynstjeneste Innsynstjenester er en tjenestetype i Altinn som benyttes for å presentere data fra tjenester som tilbys av tjenesteeiere, og kan sees på som et oppslag mot tjenesteeiers system. Grensesnitt for å aksessere tjenestene eksponeres til sluttbrukersystemer gjennom Altinn, og Altinn formidler responsen fra tjenestene til sluttbrukersystemet.\nSluttbrukersystemer kan velge å lagre en signert kopi av en innsynstjeneste som benyttes. Den signerte innsynstjenesten lagres da i brukers arkiv i Altinn. En innsynstjeneste som ikke er signert og arkivert vil ikke være tilgjengelig i Altinn etter at den er benyttet.\nOperasjonene tilgjengelig vil variere fra innsynstjeneste til innsynstjeneste. Hver tjenesteeier vil eksponere sitt eget sett av operasjoner relatert til sine innsynstjenester, og funksjonaliteten for disse kan variere. Generelt vil operasjonene returnere data for innsynstjenesten, og enkelte vil også muliggjøre arkivering av dataen.\nFinn arkiverte innsynstjenester Et sluttbrukersystem kan hente ut detaljer på arkiverte innsynstjenester. For å gjøre dette kalles typisk først en søkeoperasjon med filtrering som returnerer en liste (GetReporteeElementListV2). Merk at operasjonen vil returnere parameter ReporteeElementType med type LookUp for innsynstjenester.\nDeretter kan et enkelt element hentes med alle detaljer ved å benytte operasjonen GetArchivedLookup. Parameter reporteeElementID benyttes her som input for å identifisere den unike innsynstjenesten som skal hentes. Operasjonen returnerer dataen fra den arkiverte innsynstjenesten i form av binærdata som en PDF i parameteren LookupPDF.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     SystemAuthentication GetAuthenticationChallenge Basic   ReporteeElementList GetReporteeElementListV2 Basic/WS/EC   ReporteeArchiveExternal GetArchivedLookup Basic/WS/EC    Gjøre oppslag på innsynstjenester En sluttbruker eller sluttbrukersystem kan gjøre oppslag på innsynstjenester som er konfigurert med mulighet for direkte kall i Altinn. Dette gjøres ved kall til ExecuteLookUp operasjonen med input om hvilken innsynstjeneste man skal benytte (ServiceCode og ServiceEditionCode), hvem avgiver at oppslaget er (Reportee) og selve spørringen til tjenesten (QueryData). QueryData oppgis som en tekststreng og vil variere etter hvilke operasjoner innsynstjenesten tilbyr.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     SystemAuthentication GetAuthenticationChallenge Basic   LookUpExternal ExecuteLookUp Basic/WS/EC    Benytt samhandlingstjeneste En samhandlingstjeneste er en tjeneste som knytter sammen andre tjenester. Samhandlingstjenester kan være definert av sluttbrukere (samleside) eller av tjenesteeiere (e-dialog). Gjennom samhandlingstjenester kan sluttbrukere og sluttbrukersystemer benytte et sett med tjenester som for bruker og/eller tjenesteeier hører naturlig sammen.\nNedenfor beskrives funksjonaliteten som kan benyttes fra sluttbrukersystemer for samhandlingstjenester. En tjeneste som er del av en samhandlingstjeneste instans kan også behandles individuelt, det vil si at all funksjonalitet som er tilgjengelig for sluttbrukersystemer for f.eks. innsendingstjenester kan også benyttes for innsendingstjenester som er del av en samhandlingstjeneste. En instans av en samhandlingstjeneste er definert som en sak, ”case”, og der hvor det skal refereres til en spesifikk instans av en samhandlingstjeneste benyttes derfor parameteren CaseID.\nFinn aktive og arkiverte samhandlingstjenester En liste over samhandlingstjenester kan hentes ut ved å kalle GetReporteeElementListV2 med søkeparametre som begrenser søket til samhandlingstjenester. For å søke etter kun samhandlingstjenester kan man benytte parameteren CollectionPages eller EDialogue, for å henholdsvis begrense søk til samlesider eller e-dialoger. Eventuelt kan også parameteren CaseID angis med den unike identifikatoren for en spesifikk samhandlingstjeneste, operasjonen vil i så fall kun returnere informasjon om denne. Merk at operasjonen vil returnere parameter ReporteeElementType med type Collaboration for samhandlingstjenester.\nInformasjon som vil bli returnert vil variere etter hva slags tjeneste informasjonen gjelder. For samhandlingstjenester vil blant annet følgende parametre returneres:\n CaseID - unik identifikator for samhandlingstjenesten IsCaseArchved - angir om samhandlingstjenesten er arkivert Notice – eventuell merknad på samhandlingstjenesten  For tjenester som er tilknyttet en samhandlingstjeneste vil parameteren ParentCaseName angi den unike referansen til samhandlingstjenesten den tilhører.\nSluttbrukersystemer kan også hente en liste med detaljer for aktive samhandlingstjenester, det vil si samhandlingstjenester som ikke har blitt arkivert, ved hjelp av operasjonen GetCaseList. Denne operasjonen vil kunne hente ut detaljer over alle samhandlingstjenester\n av en bestemt tjeneste og utgave ved å benyttes parametrene externalServiceCode og externalServiceEditionCode eller for én bestemt samhandlingstjeneste ved å bruke parameteren caseID  Sammen med disse parametrene kan også languageID og reporteeNumber sendes inn for å begrense resultatet.\nDenne operasjonen returnerer:\n CaseID – informasjon om samhandlingstjenestens unike identifikator CaseName – navnet på tjenesten Comments – eventuelle kommentarer satt av bruker på samhandlingstjenesten CurrentStateFriendlyName – visningsvennlig navn basert på språkparameter CurrentStateID – unik identifikator for tilstanden CurrentStateName – tilstandens navn Notice – eventuelle merknader fra etat satt på samhandlingstjenesten  Tjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     SystemAuthentication GetAuthenticationChallenge Basic   ReporteeElementList GetReporteeElementListV2 Basic/WS/EC   Case GetCaseList Basic/WS/EC    Opprett ny samhandlingstjeneste Sluttbrukersystemer kan opprette en ny instans av en samhandlingstjeneste, og dermed starte arbeidsflyten for tjenesten. Det er kun tjenesteeierdefinerte samhandlingstjenester som kan opprettes fra sluttbrukersystemer.\nParametrene externalServiceCode og externalServiceEditionCode i operasjonen InstantiateCollaboration angir type instans av samhandlingstjeneste som skal opprettes, og reporteeNumber angir fødselsnummer eller organisasjonsnummer den opprettes for. Disse er obligatoriske parametre. I tillegg til disse kan externalSystemReference, visibleDateTime og dueDate sendes inn. visibleDateTime angir når tjenesten skal være synlig i portalen, om denne ikke angis vil den umiddelbart bli synlig.\nOperasjonen returnerer den unike identifikatoren, CaseID, som kan benyttes videre til for eksempel å opprette instanser av innsendingstjenester knyttet til samhandlingstjenesten.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     SystemAuthentication GetAuthenticationChallenge Basic   Case InstantiateCollaboration Basic/WS/EC    Avslutt samhandlingstjeneste Sluttbrukersystem kan velge å avslutte en aktiv samhandlingstjeneste. Innsendings- og meldingstjenester som inngår i samhandlingstjenesten må være arkivert før samhandlingstjenesten kan arkiveres som helhet.\nAlternativt kan sluttbrukersystemet benytte parameteren forceArchive. Settes denne til true vil samhandlingstjenesten bli arkivert med mindre det er aktive meldingstjenester knyttet til samhandlingstjenesten. Eventuelle aktive innsendingstjenester vil bli atskilt fra den arkiverte samhandlingstjenesten. Om forceArchive settes til false vil samhandlingstjenesten ikke bli arkivert om det fremdeles er aktive elementer tilknyttet den.\nParameter caseID angir samhandlingstjenesten som skal arkiveres, og operasjonen vil ved vellykket arkivering returnere en arkiv identifikator for samhandlingstjenesten\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     SystemAuthentication GetAuthenticationChallenge Basic   Case ArchiveCase Basic/WS/EC    "
},
{
	"uri": "https://altinn.github.io/docs/guides/tjenesteeier/kodeeksempler-spi/",
	"title": "Kodeeksempler SPI",
	"tags": [],
	"description": "Feilkoder i Altinn",
	"content": "  Kodeeksempler SPI Dekryptering av kryptert symmetrisk nøkkel Dette eksemplet henter ut privat nøkkel fra keystore basert på keyname og dekrypterer den symmetriske nøkkelen ved hjelp av RSA algoritmen. Kodeeksemplet er basert på C#.\n/// \u0026lt;summary\u0026gt; /// Method to retrieve certificate from KeyStore /// \u0026lt;/summary\u0026gt; /// \u0026lt;param name=\u0026quot;thumbprint\u0026quot;\u0026gt;\u0026lt;/param\u0026gt; /// \u0026lt;param name=\u0026quot;storeName\u0026quot;\u0026gt;\u0026lt;/param\u0026gt; /// \u0026lt;param name=\u0026quot;storeLocation\u0026quot;\u0026gt;\u0026lt;/param\u0026gt; /// \u0026lt;returns\u0026gt;\u0026lt;/returns\u0026gt; public static X509Certificate2 GetCert(string thumbprint, StoreName storeName, StoreLocation storeLocation) { // The following code gets the cert from the keystore X509Store store = new X509Store(storeName, storeLocation); store.Open(OpenFlags.ReadOnly); X509Certificate2Collection certCollection = store.Certificates.Find(X509FindType.FindByThumbprint, thumbprint, false); X509Certificate2Enumerator enumerator = certCollection.GetEnumerator(); X509Certificate2 cert = null; while (enumerator.MoveNext()) { cert = enumerator.Current; } return cert; } /// \u0026lt;summary\u0026gt; /// Decrypt the symmetric key encrypted with certificate. This method will /// retrive the private key based on the thumprint given for certificate /// \u0026lt;/summary\u0026gt; /// \u0026lt;param name=\u0026quot;sender\u0026quot;\u0026gt;\u0026lt;/param\u0026gt; /// \u0026lt;param name=\u0026quot;e\u0026quot;\u0026gt;\u0026lt;/param\u0026gt; private void button1_Click(object sender, EventArgs e) { string thumbprint = soCertificateThumbPrint_TB.Text; X509Certificate2 cert = GetCert(thumbprint, StoreName.My, StoreLocation.LocalMachine); byte[] symmetricKey = Convert.FromBase64String(soEncryptedSymmetricKeyWithCertTB.Text); ////Encrypt the symmetric key with certificate RSACryptoServiceProvider rsa = (RSACryptoServiceProvider)cert.PrivateKey; byte[] decryptedKey = rsa.Decrypt(symmetricKey, false); soDecryptedSymmetricKeyTB.Text = Convert.ToBase64String(decryptedKey) }  Dekryptering av data Dette eksemplet viser dekryptering av data kryptert med den AES algoritmen.\n` /// \u0026lt;summary\u0026gt; /// Method to Setup the AESCipher /// \u0026lt;/summary\u0026gt; private void SetupAesCipher(byte[] symmetricKey, bool isXmlEncryption) { if (_aesCipher == null) { _aesCipher = new AesManaged(); _aesCipher.KeySize = this._keyLengthInBits; /// BlockSize: 128-bit == 16 bytes, which is what you get with the AES from IBM's JCE provider. // 128-bit is the default for RijndaelManaged _aesCipher.BlockSize = 128; // can also specify 256 _aesCipher.Mode = CipherMode.CBC; //If the data is Xml, padding mode is ISO10126 aesCipher.Padding = isXmlEncryption ? PaddingMode.ISO10126 : PaddingMode.PKCS7; } byte[] key = new byte[16]; byte[] iv = new byte[16]; System.Buffer.BlockCopy(symmetricKey, 0, key, 0, 16); System.Buffer.BlockCopy(symmetricKey, 16, iv, 0, 16); _aesCipher.IV = iv; _aesCipher.Key = key; } /// \u0026lt;summary\u0026gt; /// Decrypt and message and return it as string /// \u0026lt;/summary\u0026gt; /// \u0026lt;param name=\u0026quot;cipherText\u0026quot;\u0026gt;\u0026lt;/param\u0026gt; /// \u0026lt;param name=\u0026quot; isXmlEncryption\u0026quot;\u0026gt;true if data is Xml\u0026lt;/param\u0026gt; /// \u0026lt;returns\u0026gt;\u0026lt;/returns\u0026gt; public string DecryptMessageToString(byte[] cipherText, bool isXmlEncryption) { try { byte[] plainText = DecryptMessage(cipherText, isXmlEncryption); return System.Text.Encoding.ASCII.GetString(plainText); } catch { return \u0026quot;(garbled)\u0026quot;; } } /// \u0026lt;summary\u0026gt; /// Decrypt message /// \u0026lt;/summary\u0026gt; /// \u0026lt;param name=\u0026quot;cipherText\u0026quot;\u0026gt;\u0026lt;/param\u0026gt; /// \u0026lt;param name=\u0026quot; isXmlDecryption \u0026quot;\u0026gt;true if data is Xml\u0026lt;/param\u0026gt; /// \u0026lt;returns\u0026gt;\u0026lt;/returns\u0026gt; public byte[] DecryptMessage(byte[] cipherText, bool isXmlDecryption) { byte[] plainText; ICryptoTransform transform = _aesCipher.CreateDecryptor(); if (isXmlDecryption) { //create another array to copy the data to be decrypted leaving the IV (which is first 16 bytes) byte[] cipherBytes = new byte[cipherText.Length - _aesCipher.IV.Length]; // copy the data to be decrypted which is from 16 System.Buffer.BlockCopy(cipherText, _aesCipher.IV.Length, cipherBytes, 0, cipherBytes.Length); //decrypt the data plainText = transform.TransformFinalBlock(cipherBytes, 0, cipherBytes.Length); } else { plainText = transform.TransformFinalBlock(cipherText, 0, cipherText.Length); } return plainText; } /// Method that decrypts the data for Agency System based on the symmetric key that /// has been encrypted with RSA Algorithm /// \u0026lt;/summary\u0026gt; /// \u0026lt;param name=\u0026quot;sender\u0026quot;\u0026gt;\u0026lt;/param\u0026gt; /// \u0026lt;param name=\u0026quot;e\u0026quot;\u0026gt;\u0026lt;/param\u0026gt; private void soDecryptData_Click(object sender, EventArgs e) { Byte[] symmetricKey = Convert.FromBase64String(soDecryptedSymmetricKeyTB.Text); SetupAesCipher(symmetricKey); soDecryptedSensitiveData_TB.Text = DecryptMessageToString(Convert.FromBase64String(soEncryptedSPIData_TB.Text)); }  "
},
{
	"uri": "https://altinn.github.io/docs/guides/tjenesteeier/feilhandtering/",
	"title": "Feilhåndtering",
	"tags": [],
	"description": "Webservice operasjoner med beskrivelse",
	"content": "  Altinn returnerer feilkoder hvis noe går galt. For å formidle feilsituasjonen benyttes en SOAP Fault med en egen kontrakt som inneholder felter som identifiserer feilen og gir en tekstelig feilmelding.\nSOAP Fault Altinn benytter en SOAP fault til å returnere feilmeldinger for en web service. Denne fault meldingen er i henholdt til AltinnFault kontrakten definert i WSDL for alle tjenestene. Kontrakten vil angi en feilkode og en feilmelding, henholdsvis ErrorID og AltinnErrorMessage, for å definere feilsituasjoner.\nEksempel på en feilmelding fra Altinn:\n\u0026lt;s:Envelope xmlns:s=\u0026quot;http://schemas.xmlsoap.org/soap/envelope/\u0026quot;\u0026gt; \u0026lt;AltinnExtendedErrorMessage\u0026gt;No information available\u0026lt;/AltinnExtendedErrorMessage\u0026gt; \u0026lt;AltinnLocalizedErrorMessage\u0026gt;Incorrect username/password/pin given for user\u0026lt;/AltinnLocalizedErrorMessage\u0026gt; \u0026lt;ErrorGuid\u0026gt;ed4c23c0-7de6-4343-a442-89bd3a6f38d8\u0026lt;/ErrorGuid\u0026gt; \u0026lt;ErrorID\u0026gt;989\u0026lt;/ErrorID\u0026gt; \u0026lt;UserGuid\u0026gt;-no value-\u0026lt;/UserGuid\u0026gt; \u0026lt;UserId/\u0026gt; \u0026lt;/AltinnFault\u0026gt; \u0026lt;/detail\u0026gt; \u0026lt;/s:Fault\u0026gt; \u0026lt;/s:Body\u0026gt; \u0026lt;/s:Envelope\u0026gt;  Feilkoder Listen under angir de generelle feilkodene som benyttes. Disse er først og fremst benyttet i sammenheng med autentisering og autorisering og benyttes derfor av flere av tjenestene i Altinn. Feilkoder mer spesifikke for operasjonene er listet opp under de respektive operasjonene i kapittel 9 Grensesnitt – web services.\n   Feilkode Beskrivelse     0 Denne feilen oppstår i følgende tilfeller, se tekst i AltinnErrorMessage for mer informasjon: En nødvendig parameter for autentisering/autorisering mangler i forespørsel, Systemet er ikke autorisert for denne operasjonen på vegne av angitt avgiver, Operasjonen krever høyere autentiseringsnivå enn mulig og må derfor utføres i portalen   5 Denne feilen oppstår i følgende tilfeller, se tekst i AltinnErrorMessage for mer informasjon: Ikke mulig å autorisere forespørsel basert på sendte parametere – verifiser gyldigheten/format, Autentisering av systemet vha sertifikat feilet pga feil brukernavn/passord, Systemet autentisert ved sertifikat er midlertidig låst ute, Systemet er ikke autorisert til å kalle tjenesten fra innkommende IP adresse, Systemet er ikke autorisert til å kalle forespurt ressurs (feil tjenesteeier), Angitt system ID er ikke gyldig – skal være et nummer   989 Denne feilen oppstår i følgende tilfeller, se tekst i AltinnErrorMessage for mer informasjon: Forespørsel mangler system ID eller system passord, Autentisering av systemet (uten sertifikat) feilet pga feil brukernavn/passord, Systemet (ikke sertifikat) er midlertidig låst ute    Hvis det ikke kommer en forståelig feilmelding, send en henvendelse til support@altinn.no. Legg med tidspunkt for innsending og systemUserName, den unike koden (ErrorGuid) samt beskrivelse av hva som har skjedd.\n"
},
{
	"uri": "https://altinn.github.io/docs/guides/sluttbrukersystem/",
	"title": "Sluttbrukersystemer",
	"tags": [],
	"description": "Dokumentasjon for hvordan sluttbrukersystemer kan ta i bruk Altinn.",
	"content": "Implementasjonsguidene for integrasjon mot Altinn kan benyttes av eksterne systemer som veiledning for hvordan deres systemer kan integreres mot Altinn. Denne dokumentasjonen beskriver den overordnede arkitekturen for integrasjon mot Altinn og sikkerhetsmekanismer sombenyttes for kommunikasjon mellom Altinn og eksterne systemer\n  \rGrensesnitt\r\rWebservice operasjoner med beskrivelse\n\rEndepunkter\r\rBeskrivelse av hvilken funksjonalitet som finnes med referanser til hvilke web services som benyttes\n\rFunksjonelle scenario\r\rBeskrivelse av hvilken funksjonalitet som finnes med referanser til hvilke web services som benyttes\n\rHvordan komme i gang\r\rHvordan registrere sluttbrukersystem / SFTP-bruker og etablere system id\n\rRoller og rettigheter\r\rBeskrivelse av hvilken funksjonalitet som finnes med referanser til hvilke web services som benyttes\n\rSkjemasett sammenligning\r\rAltinns behandling av skjemasett som mottas\n\rTeknisk implementasjon\r\rSikkerhet og feilkoder med eksempler\n\r"
},
{
	"uri": "https://altinn.github.io/docs/guides/tjenesteeier/feilkoder/",
	"title": "Feilkoder",
	"tags": [],
	"description": "Feilkoder i Altinn",
	"content": "  Feilkoder i Altinn    Feilkode  Beskrivelse (eng)     Common Error Codes 1 – 1000     GeneralError 0 Denotes a general error   NullObjectReference 1 Denotes an error caused by a null reference   MissingRight 14 Authorization error - Subject does not have required right   HookActivationFailed 90 Error given when hook activation fails   IncorrectLevel 17 User is not authenticated on the correct level   RequiresLevel1 18 Requires level 1   RequiresLevel2 19 Requires level 2   RequiresLevel3 20 Requires level 3   RequiresLevel4 21 Requires level 4   ExternalSystemAuthentication 989 External system authentication failed   Common Error Codes 10000 - 20000     AccessDenied 10000 Database error - Access denied   Hook Error Codes 20001 - 21000     ServiceCannotBeStarted 20001 Hook error - Service cannot be started   ServiceCannotBeStartedForCurrentReporte 20002 Hook error - Service cannot be started for the current reportee   NoValidSubscriptionData 20003    NoValidReporteeAgeAndStatus 20004    TUL Error Codes 21001 - 23000     ServiceEditionCodeAlreadyExists 21001 TUL Error - Service edition code exists already   FileNotFound 21002 TUL Error - File not found   DataAreaTypeNotFound 21003 TUL Error - Data area type not found   RootNodeNotFound 21004 TUL Error - Root node not found   DoesNotExists 21005 TUL Error - (something) does not exist   NotImpersonatedOrAuthorised 21006 TUL Error - User is not impersonated or authorized   EntrySiteDoesNotExists 21007 TUL Error - Entry site does not exist   IDZeroORNegative 21008 TUL Error - ID is zero or negative   ServiceEditionInProduction 21009 TUL Error - Service edition is already in production   RequiredFieldNotSupplied 210010 TUL Error - Required field is not supplied   CannotBeNull 210011 TUL Error - (something) cannot be null   UserNotAuthorized 210012 TUL Error - User is not authorized   IncorrectClientConfiguration 210013 TUL Error - Incorrect client configuration   IncorrecctArguement 210014 TUL Error - Incorrect argument   GetDeploymentPackagesFailed 210015 TUL Error - GetDeploymentPackages failed   GetDeploymentPackageFailed 210016 TUL Error - GetDeploymentPackage failed   ServiceEditionValidationFailed 210017 TUL Error - Service edition validation failed   DeploymentPackageCreationFailed 210018 TUL Error - Deployment package creation failed   ServiceEditionMigrationFailed 210019 TUL Error - Service edition migration failed   UnableToReachSBLService 210020 TUL Error - Unable to reach SBL service   CallToSBLWCFOperationFailed 210021 TUL Error - Call to SBL WCF operation failed   UnexpectedErrorDuringMigration 210022 TUL Error - Unexpected error during migration   ValueNotDefinedInEnum 210023 TUL Error - Value is not defined in enum   BEObjectCannotBeNull 210024 TUL Error - Business Entity object cannot be null   XsdNotFoundOrXsnNotUploaded 22985 TUL Error - XSD not found or XSN not uploaded   ServiceDoesNotExist 22986 TUL Error - Service does not exist   ServiceHasAlreadyBeenDeleted 22987 TUL Error - Service has already been deleted   ServiceEditionHasAlreadyBeenDeleted 22988 TUL Error - Service edition has already been deleted   ServiceEditionHasBeenDeleted 22989 TUL Error - Service edition has been deleted   ServiceHasBeenDeleted 22990 TUL Error - Service has been deleted   ServiceOwnerUrlAlreadyExists 22991 TUL Error - Service owner URL already exists   UserDoesNotHaveRightsToCreateSites 22992 TUL Error - User does not have rights to create sites   UnexpectedErrorInRetrievingGuid 22993 TUL Error - Unexpected error in retrieving GUID   DataRetrievalFailed 22994 TUL Error - Data retrieval failed   UnexpectedErrorInSettingStatus 22995 TUL Error - Unexpected error in setting status   SiteCreationFailed 22996 TUL Error - Site creation failed   SuppliedGuidIsNullOrEmpty 22997 TUL Error - Supplied GUID is null or empty   DuplicateXsdInFormSet 22998 TUL Error - Duplicate XSD in formset   ServiceShortNameExists 22999 TUL Error - Service short name already exists   ServiceEditionShortNameAlreadyExists 210025 TUL Error - Service edition short name already exists   ServiceCodeAlreadyExists 210026 TUL Error - Service code already exists   SpecificationDataMissing 210027 TUL Error - Specification data missing   NoAuthorizationRulesDefined 210028 TUL Error - No authorization rules have been defined for this service edition.   RoleNameAreadyExists 210029 TUL Error - No authorization rules have been defined for this service edition.   SBLOperationTimedOut 210030 TUL Error - Migration timed out   Integration Error Codes 30001 - 31000     NotAuthorizedForReportee 30001 Integration error - Not authorized for reportee   NotAuthorizedForSignature 30002 Integration error - Not authorized for signature   NotAValidService 30003 Integration error - Not a valid service   ArgumentNullException 30004 Integration error - Argument is null   NotAValidServiceOwnerCode 30005 Integration error - Not a valid service owner code   InValidServiceEditionVersion 30006 Integration error - Invalid service edition version   FileNotExist 30007 Integration error - File does not exist   SBL External Error Codes 40001 - 41000     LanguageCodeCannotBeNull 40001 SBL External error - Language code cannot be null   MessageBodyCannotBeNull 40002 SBL External error - Message body cannot be null   MessageTitleCannotBeNull 40003 SBL External error - Message title cannot be null   MessageSummaryCannotBeNull 40004 SBL External error - Message summary cannot be null   ExternalReferenceCannotBeNull 40005 SBL External error - External reference cannot be null   ExternalServiceCodeCannotBeNull 40006 SBL External error - External service code cannot be null   ReporteeCannotBeNull 40007 SBL External error - Reportee cannot be null   SystemUserCodeCannotBeNull 40008 SBL External error - System user code cannot be null   CorrespondenceCanNotBeDeleted 40009 SBL External error - Correspondence cannot be deleted   ElementCanNotBeDeleted 40010 SBL External error - Element cannot be deleted   PersonHasStrictlyConfidentialAddress 40011 SBL External error - Person has strictly confidential address   FormDataIsNotValid 40012 SBL External error - Form data is not valid   ServiceIsNotValid 40013 SBL External error - Service is not valid   InValidNumberOfReceipents 40014 SBL External error - Invalid number of receipients   InvalidFormatSmsAndEmail 40015 SBL External error - Invalid SMS   InvalidSSN 40016 SBL External error - Invalid SSN   ReceiverAddressNull 40017 No receiver address   ControlWorkflowSentComplete 40018 Control Workflow Sent Complete   InvalidServiceType 40019 Invalid Service Type   InvalidEmailAddressForFromAddress 40020 The From Address must be skipped or contain a valid email address.   Authorization Error Codes 50001 - 51000     DelegateRolesBEInputInvalid 50001 This error code is used when the party a user wants to delegate a role or right to, does not exist.   GeoLocationIsMandatory 50002 This is used when geo location has not been supplied   InvalidGeoLocation 50003 This is used when geo location format is not correct   CoveredByUserIDRequired 50004 This is used when delegation type is SSN,UserName and CoveredByUserID has not been supplied   CoveredByPartyIDRequired 50005 This is used when delegation type is Organization and CoveredByPartyID has not been supplied   CannotDelegateToEnterpriseCertifiedUser 50006 This is used when roles or rights of an enterprise/user not represented by an enterprise certified user is being delegated to an enterprise certified user.   CannotDelegateANonDelegatableRole 50007 This is used when someone is trying to delegate a non-delegatable role   InvalidOrgNumber 50008 When the OrgNo is not proper or does not exist   InvalidUserDetails 50009 When the SSN or Last Name or UserName are not valid or a user with the combination does not exist   UserDoesNotHaveProfessionalConsent 50010 When user does not have professional consent   InvalidGeoLocationFormat 50011 Geo location is in incorrect format   CannotDelegateDenyOnOtherResources 50012 Cannot delegate Deny type right on resources other than reporteeElement.   RoleTypeNameNotUnique 50013 RoleTypeName is not unique   RoleTypeBeenDelegated 50014 RoleType has been Delegated   RoleTypeLanguagesNotValid 50015 RoleTypeLanguagesNotValid   DeleteRolesAndRightsFailure 50016 DeleteRolesAndRightsFailure   SelfDelegationIsNotAllowed 50017 Delegation to self is not allowed   RoleTypeCodeNotMigrated 50018 RoleTypeCodeNotMigrated   ResourceHasNoRule 50019 RuleHasNoRight   Collaboration Service Error Codes 60001 - 70001     InvalidCaseID 60001 Invalid Case ID   InvalidCaseIdentifier 60002 Invalid Service Code and Service Edition Code Combination and Invalid CaseID   InvalidLanguage 60003 Invalid Language ID   ExceededCharacterLimit 60004 Character Limit Exceeded.   InvalidReporteeElement 60005 Invalid Reportee Element   UnarchivedCorrespondenceException 60006 For correspondences services which have not been archived   UnarchivedReportingServicesException 60007 For Form Task services which have not been archived   ReporteeElementInAnotherCase 60008 For Reportee element is already associated to another case   InvalidServiceInCollaborationServiceSet 60009 For A Service, not available in Collaboration Service Set   InvalidReporteeID 60010 Invalid Reportee ID   InvalidNoticeTemplateID 60011 Invalid NoticeTemplateID   InvalidReporteeNumber 60012 Mandatory ReporteeNumber   ArchivedOrDeletedCaseID 60013 Case is already archived or deleted   ArchivedCaseID 60014 Case is archived.So no processing allowed.   DeletedCaseID 60015 Case is Deleted. So no processing allowed.   InvalidElement 60016 The element is unavailable.   UnassociatedElement 60017 The element is not associated with any Case.   DeletedElement 60018 The element is deleted.   ArchivedElement 60019 The element is archived.   InvalidNoticeTokenID 60020 Invalid notice Token   InvalidNoticeTokenValue 60021 Invalid notice Token Value   InvalidEventIdentifier 60022 Invalid Event Identifiers   InvalidEventName 60023 Invalid Event Name   UnauthorizedServiceOwner 60024 Service Owner is unauthorized   MissingNoticeTokens 60025 Missing Notice Tokens   WorkFlowValidationException 60026 Received WorkFlow Exception   WorkFlowInitiationException 60027 Workflow Initiation Exception   MissingWorkflowInstance 60028 Missing Workflow Instance   WorkFlowGenericException 60029 WorkFlow Generic Exception   EventDeliveryFailed 60030 Event Delivery Failed   MissingEventName 60031 Missing Event Name   UnavailableStateMachineEvents 60032 Unavailable State Machine Events   SMDI Error Codes - 70001 - 80001     IncorrectService 70001 Incorrect service details   IncorrectWorkFlow 70002 Incorrect process work flow details   IncorrectServiceEditionVersion 70003 Incorrect Service Edition Version details   IncorrectEventHook 70004 Incorrect Event Hook details   IncorrectReportingService 70005 Incorrect Reporting Service details   IncorrectCorrespondenceService 70006 Incorrect Correspondence Service details   IncorrectLookupService 70007 Incorrect Lookup Service details   IncorrectCollaborationReUse 70008 Incorrect Collaboration Service - ReUseData details   IncorrectFormset 70009 Incorrect Form Set details   IncorrectLogicalForm 70010 Incorrect Form Set details   IncorrectSplitData 70011 Incorrect Split of data details   IncorrectTranslation 70012 Incorrect Translation details   IncorrectDeployForm 70013 Incorrect FormTemplate uploaded   IncorrectSecurity 70014 Incorrect Roles \u0026amp; Rights details   IncorrectCollaborationServices 70015 Incorrect Collaboration Service - ServicesInCollaboration details   IncorrectCollaborationStateMachine 70016 Incorrect Collaboration Service - StateMachine details   IncorrectStyleSheet 70017 Incorrect StyleSheet details   IncorrectPIImages 70018 Incorrect StyleSheet - Images details   IncorrectPI 70019 Incorrect PI details    "
},
{
	"uri": "https://altinn.github.io/docs/guides/sluttbrukersystem/hvordan-komme-i-gang/",
	"title": "Hvordan komme i gang",
	"tags": [],
	"description": "Hvordan registrere sluttbrukersystem / SFTP-bruker og etablere system id",
	"content": "  Registrere sluttbrukersystem / etablere system id Eieren av et sluttbrukersystem må registrere dette i Altinn slik at Altinn har mulighet til å autentisere og autorisere systemet på vegne av en avgiver. Ved registrering i portalen opprettes en unik sluttbrukersystemidentifikator, og denne identifikatoren sendes med i alle web service kall som gjøres mot Altinn. Sluttbrukersystemet har da rett til å levere data for alle avgivere eieren av sluttbrukersystemet har rett til å levere for. Eierens rettigheter hentes i utgangspunktet fra enhetsregisteret, men det er også mulig for en avgiver å legge på disse rettighetene eksplisitt i portalen. For å unngå ekstra administrasjon er det derfor meget viktig at avgivere sørger for at enhetsregisteret til enhver tid er oppdatert med korrekte opplysninger.\nFor at et sluttbrukersystem skal kunne gi data til skjema i Altinn, må den ansvarlige for selskapet, for eksempel daglig leder eller styreformann registrere systemet i Altinn portal. Dette gjøres fra siden Brukeradministrasjon på følgende måte:\nAlternativt kan en bruker også benytte sitt registrerte brukernavn til å bruke tjenestene beskrevet.\nDet er da brukerens profil-brukernavn og passord som benyttes i stedet for sluttbrukersystem. Dette gjøres ved å gå inn på «Min Profil» og huke av under «Tillat innsending fra applikasjon eller system med dette brukernavn og passord» i Innloggingsinformasjon. Denne brukeren har kun rettighet til å levere data på vegne av seg selv.\nFor videre informasjon om registrering og rettighetsadministrasjon, benytt hjelpesystemet til Altinn på http://www.Altinn.no.\nRegistrere SFTP-bruker For å kunne benytte seg av formidlingstjenester over SFTP-kanalen må det opprettes en virksomhetsbruker med et eget sertifikat. En slik bruker benytter seg av, i tillegg til brukernavn og passord, et sertifikat for å autentisere seg mot Altinns SFTP-server. Når bruker opprettes i Altinns profilsider lastes offentlig nøkkel opp og knyttes til virksomhetsbrukeren, og når denne brukeren så skal autentisere seg mot SFTP-serveren oppgis den private nøkkelen. Sertifikatet, eller nøkkelparet, kan genereres av bruker selv, for eksempel ved bruk av tilgjengelig verktøy slik som PuttyGen[^2]. Formatet som skal benytteser enten OpenSSH eller SSH2.\nMerk at virksomhetsbrukere også kan ha et signert sertifikat, for eksempel BuyPass eller Commfides, knyttet til seg. Disse typene sertifikater gir brukeren tilgang til web service og portal, men ikke SFTP.\nFor at en SFTP-bruker skal kunne benytte en formidlingstjeneste må nødvendige rettigheter være delegert til virksomhetsbrukeren. Dette gjøres på normal måte.\nKovertering fra x.509 sertifikater til SSH2 For å konvertere et x.509 sertifikat til SSH2 format, som er mulig å bruke for formidlingstjenestens SFTP må man generere en public key i SSH2 format. Dette kan gjøres i verktøyet PuttyGen ved å følge punktene under.\n Eksporter private key fra x.509 sertifikatet. Pass på at PuttyGen her satt i SSH2 format, og ikke SSH1 Importer private key inn i puttygen, dette genererer automatisk en public key basert på private key. Lagre public key fra PuttyGen, denne er nå i SSH2 format, og kan brukes i Altinn. Hvis ønskelig kan private key nå også lagres fra PuttyGen, og denne vil da også være i SSH2 format.  Etter at man har generert opp nøkkel i SSH2 format, og koblet denne på en bruker i Altinn, så kan man enten bruke det originale x.509 sertifikatet for oppkobling fra SFTP klient, eller benytte seg av eventuelt ny lagret private key i SSH2 format\n"
},
{
	"uri": "https://altinn.github.io/docs/guides/sluttbrukersystem/roller-og-rettigheter/",
	"title": "Roller og rettigheter",
	"tags": [],
	"description": "Beskrivelse av hvilken funksjonalitet som finnes med referanser til hvilke web services som benyttes",
	"content": "  Hvem kan sluttbrukersystemet rapportere for Sluttbrukersystemet baserer seg på en ”reportee” og en systemUser. Sluttbrukersystemet kan rapportere for en participant A (bruker eller organisasjon) eller en participant B, som participant A har rettighet til å rapportere for.\nNår en sluttbrukersystemtype er lagt inn i Altinn, står innrapportører fritt til å disponere sitt eget oppsett av systemer som skal rapportere inn til Altinn. En sluttbrukersystembruker bestemmer selv om han ønsker å opprette kun ett system (enterprisesystemid) som skal rapportere for flere avgivere, eller om han ønsker å opprette flere systemer som skal rapportere for hver enkelt avgiver. Poenget er at systemet må ha rettighet til å rapportere for avgiveren. Det er en forskjell hvordan rettighetene blir håndtert på ny og gammel plattform. På gammel plattform (tjenester som slutter på .asmx) baserer autorisasjonssjekk seg på en enkeltrolle som heter ”systeminnsendingsrettighet gamle tjenester”. Når en avgiver gir denne rollen til eier av systemet vil systemet kunne rapportere for denne avgiveren.\nEksempel 1: System med enterprisesystemid=1 er registrert på regnskapsbyrå A. Klient B delegerer systeminnsendingsrettighet til regnskapsbyrå A. Klient C delegerer også systeminnsendingsrettighet til regnskapsbyrå A. System med enterprisesystem=1 kan rapportere for både B og C.\nEksempel 2: Klient B oppretter et eget system med enterprisesystemid=2 i stedet for å delegere systeminnsendingsrettighet til regnskapsbyrå A. Klient C delegerer systeminnsendingsrettighet til regnskapsbyrå A. I dette tilfellet vil enterprisesystem=2 kunne rapportere for B, mens centerprisesystem=1 vil kunne rapportere for C.\nEksempel 3: Klient B oppretter et eget system med enterprisesystemid=2, og klient C oppretter et eget system med enterprisesystemid=3. I dette tilfellet kan enterprisesystemid=2 rapportere for B, mens enterprisesystemid=3 kan rapportere for C. Enteprisesystemid=1 kan ikke rapportere for verken B eller C.\nFor tjenester på ny plattform settes det strengere krav til hvilken rettighet systemet har. Her må det delegeres den rollen/rettigheten for den aktuelle tjenesten hvor det skal utføres innsending/uthenting eller modifisering av data.\nEksempel 4 Klient B ønsker at regnskapsbyrå A skal fylle ut RF-1070 som er en tjeneste på ny plattform. Tjenesten krever rollen utfyller/innsender. Klient B må da delegere rollen utfyller/innsender til regnskapsbyrå A for at enterprisesystemID=1 skal kunne rapportere for Klient B på denne tjenesten.\nHvordan delegere systeminnsendingsrett Det er mulig å delegere sluttbrukersysteminnsendingsrett til en revisororganisasjon. Et sluttbrukersystem som er registrert på denne organisasjonen vil dermed kunne sende inn for avgiveren som delegerte rettigheten.\nDu kan kun delegere de rettighetene du har selv. For å kunne delegere må du ha en\nadministrasjonsrettighet i Altinn. Velg Deleger roller enkeltvis i Administrasjonsmenyen, og registrer fødselsnummer og navn til den personen du vil at skal utføre rapportering på vegne av deg. Deretter krysser du av de rettighetene denne personen skal få\n"
},
{
	"uri": "https://altinn.github.io/docs/guides/sluttbrukersystem/skjemasett-sammenlikning/",
	"title": "Skjemasett sammenligning",
	"tags": [],
	"description": "Altinns behandling av skjemasett som mottas",
	"content": "  Regler for sammenlikning av skjemasett Prinsipper Ved innsending fra sluttbrukersystem skal i utgangspunktet følgende tre prinsipper gjelde etter innføring av 18550:\n Altinn skal ikke endre på skjemasettet som blir sendt inn av SBS. Altinn kan imidlertid tilføye kalkulerte felter som SBS unnlater å sende inn (eller sender inn uten verdi, se punkt XML og syntaks-konvensjoner. Skjemasett med feil skal i utgangspunktet stoppes av Altinn og innsending skal feile.  Det andre prinsippet åpner for at SBS kan benytte seg av kalkyler og registerprefill som er bygget inn i skjemasettet ved å unnlate å sende inn de aktuelle feltene. Altinn vil da tilføye feltene med beregnet eller forhåndsutfylt verdi. Kvitteringen til SBS vil indikere alle felter som ikke ble sendt inn fra SBS, men ble tilføyd av Altinn og sendt videre til tjenesteeier. Feltverdien (fra kalkyle eller prefill) er også angitt i kvitteringen.\nMerk imidlertid at SBS kan hente prefilldata selv dersom disse skal benyttes. Denne metoden er mer robust ettersom den ikke krever kunnskap om hvilke felter som har prefilldata. Man vil da verken få advarsel eller feil på registerprefill-felter.\nTjenesteeier har mulighet til å fravike det tredje prinsippet ved å definere overstyrbare felter. Overstyrbare felt vil kun gi advarsel ved ulik verdi (ikke feilmelding). Tjenesteeier kan også fravike fra det tredje prinsippet ved å bruke opsjonen \u0026ldquo;Kun XSD-validering\u0026rdquo;. Dersom et skjema har kun XSD-validering vil verken sammenlikningsreglene beskrevet i dette vedlegget eller eventuelle valideringer og kalkyler i skjemaet kjøres for skjemaet ved innsending fra SBS.\nSammenlikning av skjemasett Når SBS sender inn et skjemasett tar Altinn en kopi av innsendingen. Kopien gjennomgår så samme behandling som innsendinger i SBL, hvilket medfører at denne kopien modifiseres; felter kan bli lagt til eller skrevet over. Det kan også resultere i advarsler eller feil fra skjemamotoren (valideringsfeil i skjemaet, for eksempel at et påkrevd felt mangler eller at organisasjonsnummer ikke er oppgitt på et gyldig format).\nAltinn sammenlikner deretter den modifiserte kopien av skjemasettet med den innsendte originalen. I hovedsak består dette i å sammenlikne felt for felt de to versjonene. Når feltverdier er ulike fører det til en feil (slik at innsending feiler) eller advarsel (når feltet er flagget som overstyrbart). Hva dette betyr er mer presist definert i det påfølgende.\nFunksjonaliteten Endringen har blitt implementert som en modul som kjøres under komplett innsending fra SBS. Denne vil kjøre i tillegg til de vanlige modulene (XSD-validering, instansiering av skjema med kjøring av valideringer, kalkuleringer og dynamikk, prefill-validering). Tidspunktet 18550-modulen kjøres er etter instansiering av skjema.\n Opprinnelig XML for skjema sendes inn fra sluttbrukersystem (SBS). XSD validering av opprinnelig XML utføres. Dersom XSD validering feiler så gis det en god, tydelig og informativ valideringsfeil til SBS og innsending feiler. XSD-valideringen er nå en fullstendig XSD-validering i motsetning til tidligere hvor tomme element alltid ble godtatt uansett type (Integer, decimal, string, osv). b. Dersom XSD validering er ok så fortsetter prosessen til neste validering steg. Altinn kjører nå kalkyler basert på innsendte data fra SBS. Deretter sammenlignes verdiene fra SBS med de kalkulerte verdiene (registerprefill, verdioverføringer, kalkyler) fra Altinn. Resultatet av sammenligningen resulterer i en liste med feil og advarsler som vises i kvitteringen. Merk at advarsler ikke resulterer i at innsending stoppes, men er kun ment som informasjon at noe er ulikt det som forventes. Sluttbrukersystem trenger ikke å agere på dette ved mindre de oppdager at innsendte data faktisk er feil. Det er opp til tjenesteeier å bestemme hvilke felter som skal gi advarsel eller feilmelding ved ulik verdi. Overstyrbare felter vil resultere i advarsel.  XML og syntaks-konvensjoner Reglene er formulert med begrepene felt og feltverdi. Det er derfor nyttig å først relatere disse begrepene til XML-representasjonen. Noen ganger finnes det mer enn én måte å representere det samme på.\nTabellen under oppsummerer syntaks-konvensjonene.\n Like og ulike feltverdier Nedenstående tabell oppsummerer hvordan Altinn bedømmer feltverdier som like eller ulike.\n Dette er for det meste som man ville forvente, men med et par unntak det er verdt å merke seg:\n Dersom SBS sender inn tom streng men \u0026ldquo;InfoPath-verdi\u0026rdquo; er nil betraktes dette som likt - men det omvendte er ikke tilfellet. (Årsaken til dette er at InfoPath endrer alle felter med tom streng til NIL.) Preutfylte felter sammenliknes alltid som strenger (case insensitivt). Andre felter sammenliknes med en betinget tallsammenlikning når det er mulig (oppsummert i tabell under). Betinget tallsammenlikning betyr at \u0026ldquo;4.0\u0026rdquo;, \u0026ldquo;4\u0026rdquo; og \u0026ldquo;0004.00\u0026rdquo; alle betraktes som like. Merk imidlertid at XSD som regel begrenser hva slags tallrepresentasjoner som er tillatte!  Betinget tallsammenlikning kan oppsummeres som følger:\n Tabellen nedenfor oppsummerer når det gis feil eller advarsel, samt hva som sendes til tjenesteeier.\n   XML er i henhold til XSD Kun XSD-validering Ulik feltverdi Overstyrbart felt Resultat Hva sendes til tjenesteeier     Nei N/A N/A N/A Feil ingenting (innsending feiler)   Ja Ja N/A N/A OK Innsendt verdi fra SBS.   Ja Nei Nei N/A OK Innsendt verdi fra SBS.   Ja Nei Ja Ja Advarsel Innsendt verdi fra SBS hvis denne eksisterer (feltverdi \u0026lt;\u0026gt; nil), ellers Altinn-beregnet verdi.*)   Ja Nei Ja Nei Feil/Advarsel*) ingenting (innsending feiler) Altinn-beregnet Verdi hvis SBS ikke angir påstand ved å utelate XML-element/nil *)    N/A = har ingen betydning.\n Merk at Altinn kan legge til data i kalkyler og preutfylte felt utover det SBS har sendt inn hvis følgende scenario er tilstedet:\\ SBS har ikke sendt inn en påstand (XML element ikke tilstedet/NIL uavhengig om feltet er satt til overstyrbart eller ikke av Tjenesteeier. Det vil da bli gitt en Advarsel til SBS i kvittering. Merk at dette er i tillegg til feil og advarsler som kommer fra valideringsregler i skjemasettet (myke valideringer gir advarsel, harde valideringer gir feil).  I praksis I praksis vil 18550-endringen by på mindre til ingen endringer for sluttbrukersystemene. Det sluttbrukersystemleverandørene må ta høyde for nå er at det kan komme advarsler i kvitteringer på innsendinger som har blitt instansiert korrekt. Advarslene vil komme på samme måte som myke skjemavalideringer og må eventuelt presenteres for brukeren av systemet. Feilmeldinger som blir produsert av denne 18550-endringen vil komme på samme måte som vanlige skjemavalideringsfeil og innsendingen vil stoppes.\nSluttbrukersystem brukerne vil nok ikke merke store forskjellen fra tidligere. De vil oppleve å få tilbake mer informasjon i kvitteringen enn tidligere.\nKjente feil/mangler for SBS  Det blir gitt en advarsel hvis grupper i XML er utelatt. Ikke språkstøtte på advarsel og feilmelding i kvittering  "
},
{
	"uri": "https://altinn.github.io/docs/guides/sluttbrukersystem/teknisk-implementasjon/",
	"title": "Teknisk implementasjon",
	"tags": [],
	"description": "Sikkerhet og feilkoder med eksempler",
	"content": "  Sikkerhet på web services For å tilby funksjonalitet for sikkerhet gjennom autentisering og autorisasjon benyttes 2 varianter tjenesteparametere for sluttbrukersystemer. En tredje variant for støtte av sertifikat for autentisering er også lagt til:\n Basic operasjoner med autentiseringsinformasjon (brukernavn/passord) i meldingen. I en web service operasjon vil dette typisk bety at de første elementene i en melding er forbeholdt autentiseringsinformasjon.  Eksempel på en SOAP melding med basic:\n  WS som benytter WS-Security hvor autentiseringsinformasjon (brukernavn/passord) følger SOAP meldingen på en standardisert måte gjennom definerte SOAP header elementer.\n I en web service operasjon vil dette bety at autentiseringsinformasjonen ligger i SOAP header basert på innhold definert i WS-Security standarder.\n  Eksempel på en SOAP melding med bruk av WS-Security:\n  EC operasjoner hvor autentiseringsinformasjon i form av sertifikat blir formidlet via SOAP header, mens tilhørende brukernavn og passord blir sent som del av meldingen.  Eksempel på en SOAP melding med bruk av EC:\n Feilhåndtering Altinn returnerer feilkoder hvis noe går galt. For å formidle feilsituasjonen benyttes en SOAP Fault med en egen kontrakt som inneholder felter som identifiserer feilen og gir en tekstlig feilmelding.\nSOAP Fault Altinn benytter en SOAP fault til å returnere feilmeldinger for en web service. Denne fault meldingen er i henholdt til AltinnFault kontrakten definert i WSDL for alle tjenestene. Kontrakten vil angi en feilkode og en feilmelding, henholdsvis ErrorID og AltinnErrorMessage, for å definere feilsituasjoner.\nEksempel på en feilmelding fra Altinn:\n Feilkoder Listen under angir de generelle feilkodene som benyttes. Disse er først og fremst benyttet i sammenheng med autentisering og autorisering og benyttes derfor av flere av tjenestene i Altinn. Feilkoder mer spesifikke for operasjonene er listet opp under de respektive operasjonene i kapittel 6 Grensesnitt.\n   Feilkode Beskrivelse     0 Denne feilen oppstår i følgende tilfeller (se tekst i AltinnErrorMessage for mer informasjon): Autentisering av sluttbruker feilet pga feil brukernavn/passord/pin. Maks bruk av pinkode oppnådd, benytt ny pinkode. Sesjon for pinkode har gått ut, benytt ny pinkode. Bruker er midlertidig låst   5 Denne feilen oppstår i følgende tilfeller (se tekst i AltinnErrorMessage for mer informasjon):Ikke mulig å autorisere forespørsel basert på sendte parametere – verifiser gyldigheten/format. Autentisering av systemet feilet pga feil brukernavn/passord. Systemet eller virksomhetsbrukeren er midlertidig låst ute. Systemet er ikke autorisert for denne operasjonen på vegne av angitt avgiver. Angitt system ID er ikke gyldig – skal være et nummer   989 Denne feilen oppstår i følgende tilfeller (se tekst i AltinnErrorMessage for mer informasjon): Autentisering av sluttbruker feilet pga feil brukernavn/passord/pin. Maks bruk av pinkode oppnådd, benytt ny pinkode. Sesjon for pinkode har gått ut, benytt ny pinkode. Bruker er midlertidig låst    Hvis det ikke kommer en forståelig feilmelding, send en henvendelse til support@altinn.no. Legg med tidspunkt for innsending, avgiver (reportee) og sluttbrukersystem id, den unike koden (ErrorGuid) samt beskrivelse av hva som har skjedd.\nBenytt XMLDSig - digital signatur Noen tjenesteeiere krever XMLDSig-signering i tillegg til Altinns vanlige sikkerhetsfunksjoner. Altinn støtter skjema signert med enveloped»-metoden. Følgende XML viser hvordan signaturen skal dannes for å bli betraktet som gyldig av Altinn. Kanonisering (prosessen hvorved XML-dokumentet representeres på kanonisk form), signering og transformasjon må være samme som nedenfor; i tillegg må sertifikatet brukt for å signere dokumentet være inkludert i signaturen.\n Nøyaktig ett «Signature»-element er tillatt i «XMLDSig»-elementet. Signaturen må være definert ifølge XMLDSig-navneromspesifikasjonen. Sertifikatet brukt for å signere dokumentet må være gyldig på det tidspunkt skjema leveres til Altinn. Skjemaene signerte med XMLDSig må sendes inn “komplett” og signaturen valideres av Altinn før skjemasendes videre til tjenesteeier. Tjenesteeier kan validere signaturen etter mottak fra Altinn. Merk at innhold i «XMLDSig»-elementet er definert i tjeneste-XSD-en som et «any»-element med processContents=lax og namespace lik XMLDSig-navnerommet. Lax prosessering betyr i praksis at ingen valideringsfeil resulterer hvis validatoren ikke er gitt et XSD-skjema som inkluderer XMLDSig-navnerommet, i.e. XMLDSig-XSD\n"
},
{
	"uri": "https://altinn.github.io/docs/_header/",
	"title": "",
	"tags": [],
	"description": "",
	"content": "docs\n"
},
{
	"uri": "https://altinn.github.io/docs/releases/2016/16-1/",
	"title": "16.1",
	"tags": [],
	"description": "Samtykkebasert datadeling, betalingsløsning, nytt design for roller og rettigheter, videresending av post til innbygger, +++",
	"content": " Release 16.1, produksjonssatt uke 7, 2016.\nDenne versjonen inneholder flere store endringer, blant annet nytt design for roller og rettigheter, innføring av samtykkebasert datadeling og betalingsløsning.\nSom vanlig inneholder februar-versjonene av Altinn endringer for selvangivelsen. I år er det i tillegg en rekke endringer på andre områder.\nTilgangsstyring Nye sider for roller og rettigheter (17593) Vi gjør store endringer i design og oppbygging av hvordan brukerne delegerer tilganger i Altinn. Styring av roller og rettigheter vil bli en utvidelse av dagens profil-side, og ha samme design som denne. Det nye designet er laget for å gjøre det mer intuitivt hvordan man gir andre tilgang til en tjeneste, og å gjøre det tydeligere hvem som har tilgang til hvilke tjenester på vegne av en person eller virksomhet. Det gjøres ingen endringer i hvilke Altinn-roller som fins eller knytningen mot tjenester.\nhttps://altinn.no/no/Portalhjelp/Administrere-rettigheter-og-prosessteg/\nSamtykkebasert deling av data (18736) Altinn har utviklet en løsning som gjør det mulig at sluttbruker skal kunne samtykke i at data om dem kan deles mellom en datakilde (tjenesteeier) og en datakonsument (den som trenger data). Bruker vil kunne gi samtykke til at andre (for eksempel en bank) kan se data om seg i en tidsbegrenset periode. Bruker vil kunne se hva de samtykker til å dele, hvem de deler data med, hvor lenge, og innenfor hvilken kontekst dataene skal brukes.\nI praksis innføres det mulighet for tidsbegrensning på rettigheter, en samtykke-side for å gi samtykke, en oversikt over aktive samtykker, en aktivitetslogg og ny funksjonalitet for kontrollert overføring av opplysninger.\n  Ytelsesforbedring klientroller enkeltvis (19309) Tilgangsstyringsmetoden \u0026ldquo;Klientroller enkeltvis\u0026rdquo; har blitt optimalisert ytelsesmessig. Denne har ved en del anledninger hatt dårlig ytelse.\nTjenester/meldingsboks Betalingsløsning i Altinn (16940) Betalingsløsning er innført som kan brukes som del av prosessflyt i Altinn. Flere prosessflyt-maler er utarbeidt. Eksempelvis fyll ut skjema, gjør betaling og send inn basert på data i skjema. Betalingsleverandører er mulig: Nets, Payex og DIBS. Funksjonalitet støttes også via Rest-API\nRevisorsignatur (18634) Signering forenkles ved at brukergrensesnittet er tilpasset for mer effektiv og enklere signering av flere skjemaer.\nIntegrasjon av ELSA i selvangivelsen for næringsdrivende (18827) Tilpassinger av Altinn for å støtte at SKDs ELSA-løsning skal kunne integreres i selvangivelsen for næringsdrivende.\nFeilretting: Visning av \u0026amp; for innsendingstjeneste (19309) Tegnet \u0026amp; har blitt byttet ut med \u0026amp;amp i tittel i meldingsboksen på innsendingstjeneste i en del tilfeller. Dette er nå rettet.\nFeilretting: Ikke mulig å fullstendig slette en Correspondence melding - fortsatt tilgjengelig i full URL (18829) Vi gjør en feilretting i Altinn Meldingsboks slik at meldinger som er slettet ikke lengre kan nås med direktelenken til den aktuelle meldingen, når meldingen er slettet. Dette vil ikke merkes av sluttbrukere eller tjenesteeiere. Grunnen til at endringen utføres er at dette er en funksjonell feil.\nPlassering av skattyters navn i vedleggsskjemaer for PSA/PSAN (18970) Visuell forbedring av hvor skattyters navn plasseres i vedleggsskjemaer.\nFeilretting: Skjema hvor det er både infopath- og regelmotor-kalkuleringer (18969) Det gjøres en merge av de kalkulerte verdiene fra infopath, og de som ble kalkulert av regelmotor. Når dette skjer blir verdiene som ble kalkulert av regelmotor overskrevet av verdiene i skjema som kommer fra infopath. Dette rettes.\nEksterne grensesnitt Videresending av Post til Innbyggers valgte postkasse via Altinn (18395) Altinn vil kunne videresende Post som skal til innbyggers valgte postkasse. Altinns tjenesteeier kan da sende både virksomhetspost og innbyggerpost via Altinn, så sørger Altinn for videre forsendelse der dette er relevant. Det gjøres noen mindre endringer i integrasjonsgrensesnittet mellom tjenesteeier og Altinn, slik at tjenesteeier kan angi om post skal videresendes eller ikke. Altinn har innebygget støtte for å kontrollere mot Kontakt- og reservasjonsregisteret, slik at innbyggere som har valgt postkasse og som ikke har reservert seg mot offentlig post vil få denne i Digipost eller e-Boks. Altinn vil også i denne løsningen legge til rette for at innbyggere som ennå ikke har valgt postkasse skal kunne motta denne i Altinns meldingsboks, i henhold til Digitaliseringsrundskrivet som beskriver dette.\nTjenesteeier kan angi i sin forsendelse av innbyggerpost til Altinn om:\n post kun skal videresendes til Digital postkasse til innbygger post skal videresendes til Digital postkasse til innbygger, men hvis innbygger ikke har valgt postkasse så legges den i Altinn post skal videresendes til Digital postkasse til innbygger, og det skal legges en kopi i Altinn  Altinn gir tilbakemelding og status for alle forsendelser. Hvis innbygger ikke har valgt postkasse eller har reservert seg, vil dette gis som respons på postforsendelsene. For tjenesteeierne vil da Altinn sørge for håndtere logikk for både virksomhetspost og innbyggerpost, og Tjenesteeiere slipper å utvikle egen integrasjon mot Kontakt-og reservasjonsregisteret og mot innbyggerpostløsningen.\nOppslagstjeneste til Kontaktinformasjon for næringslivet (17415) Det innføres en ny oppslagstjeneste for «Kontaktinformasjon for virksomheter» i Altinn. Tjenesten vil bli tilgjengelig gjort i et nytt REST API for tjenesteeiere. Oppslagstjenesten vil gi tilgang til registrert kontaktinformasjon for alle aktive virksomheter i Altinn. Både offisiell felles kontaktinformasjon for virksomheten og kontakt informasjon registrert på personer med roller og rettigheter for virksomhetene vil være tilgjengelig, og det vil være mulig å søke på spesifikke telefonnummer og epostadresser, for å se hvor disse er registrert. Informasjon om når kontaktinformasjonen sist er oppdatert og bekreftet vil også være tilgjengelig. Årsaken til at denne tjenesten innføres er tjenesteeieres behov for å varsle virksomheter, og få informasjon om og hvilke adresser virksomheten har registert.\nFor å ta i bruk tjenesten må tjenesteeieren bestille API-nøkkel. Autentisering gjøres med bruk av virksomhetssertifikatet til tjenesteeieren og krever ingen bestilling mot ASF, annet enn at tjenesteeieren er registrert i Altinn. Tekniske detaljer for bruk av den nye tjenesten vil bli tilgjengelig her: https://tt02.altinn.no/api/serviceowner/help\nREST-støtte for innsending og signering på tjenester med flere signeringssteg (18149) Tjenesteeiere kan nå tilby også tjenester som har flere signeringssteg via app/eksterne portalløsninger. Endringen utføres blant annet for å legge til rette for ELSA.\nIntegrasjonsplattform og grensesnitt Splitt av dataoverføringer til tjenesteeiere med mulighet for krypterte vedlegg (18260) En innlevering i portal eller fra sluttbrukersystem vil normalt sett rutes av Altinn til eieren av tjenesten sitt mottakssystem. Ved at tjenesteier setter opp tjenesten med splitt av data vil man samtidig kunne sende disse dataene til en annen interessent/tjenesteier, noe som er med å understøtte at data kun trenger å rapporteres en gang.\nTidligere har vi manglet muligheten for at denne splitten kunne inneholde krypterte vedlegg. Dette er nå kommet på plass. Endringen er hovedsakelig tiltenkt å gi forskjellige tjenesteiere mulighet til å foreta datauthenting fra allerede etablerte Altinn tjenester. For sluttbrukere vil bruk av splitt av data føre til at de får enklere/færre innrapporteringer å forholde seg til.\nAutomatisk rapportering på avvik ved batchinnlesing og instansiering (18487) I 15.2 og 15.3 (endring 17621) innførte vi mulighet for automatisk å sile ut elementer med feil som kom med batch-filer fra tjenesteeiere på en langt bedre/enklere måte enn tidligere. Dette har betydelig forbedret driftbarheten, med tanke på feilhåndtering, av innkommende batcher for vår driftsleverandør. Denne endringen tar dette et steg videre.\nTidligere har uthenting av elementer som har feilet krevd betydelig involvering av driftsleverandør og manuell overføring/tilbakeføring til tjenesteeiere. Nå skal tjenesteiere selv/alene kunne anvende et sett med web service-operasjoner for å hente ut status om inngående batch-forsendelser/elementer til Altinn som feilet under oppsatt kjøring.\nFeilretting: Krav om refusjon (18914) Feilretting som kun påvirker overføring av SPKs skjema \u0026ldquo;Krav om refusjon\u0026rdquo;.\nDriftsrutiner og registerintegrasjon Standardisert prosedyre for deaktivering og sanering av grensesnitt (17690) Det blir mulig for driftsleverandør på bestilling fra tjenesteeier på en forutsigbar og effektiv måte å kunne deaktivere et grensesnitt midlertidig eller sanere det permanent.\nFeilretting – Enhetsregisterinnlesing for enheter med lange navn I enkelte tilfeller blir mellomrom fjernet i enhetsnavn som er lengre enn 35 tegn – rettes slik at de leses inn korrekt.\nAutentisering/signering Standardisering av egenregistrerte brukere (16121) Endringen går ut på å rute egenregistrerte brukere til den delen av løsningen som de andre brukerne benytter. Dette medfører ingen funksjonelle endringer. Endringen utføres for å konsolidere løsningen og det forventes forenklet vedlikehold og driftbarhet forbundet til disse brukerne\nSignering nivå 4 med BankID uten java (18633) Dagens signering krever java for å signere på nivå 4 med BankID. For å unngå at sluttbrukere fortsatt skal ha utfordringer med bruk av java, så vil vi støtte javafri signering på nivå 4 med BankID. Signering med Buypass vil videreføres uten endring (det vil si at signering med og uten java for Buypass støttes).\nAnnet Støtte for æ/ø/å i e-postadresser (17297) Vi endrer i Altinn slik at æ, ø og å er gyldige tegn sluttbrukere kan registrere i sine e-postadresser.\nStøtte for ikke-numeriske tegn i dataFormatId (18985)** Det blir mulig å benytte ikke-numeriske tegn i dataFormatId-attributt i meldingsformat (XSD) ifbm. tjenesteutvikling.\nEntLib-forbedringer (18370) Fjerning av biblioteker som ikke lengre benyttes. Dette er en teknisk endring uten funksjonell påvirkning som gjensto fra forrige release.\n"
},
{
	"uri": "https://altinn.github.io/docs/categories/",
	"title": "Categories",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "https://altinn.github.io/docs/guides/definisjoner/",
	"title": "Definisjoner",
	"tags": [],
	"description": "Beskrivelse av ulike begreper som benyttes i Altinn.",
	"content": "Beskrivelse av ulike begreper som benyttes i Altinn.\n   Betegnelse Beskrivelse     Abonnement Regelmessig aktivisering av innsendingstjeneste i avgivers arbeidsliste. Et abonnement kan forekomme 1 til X ganger.   Autentisering En betegnelse på det å verifisere en bruker eller et systems identitet. Dette vil typisk skje ved en sjekk av brukernavn og passord og/eller pin kode stemmer overens med registrert informasjon.   Autorisasjon En betegnelse på å verifisere at en gitt identifisert bruker eller system identitet har rettigheter til å utføre en handling eller har rettigheter til spesifikke data.   Base64 Standard for å representere binære data som tekst, slik at binære data kan være en del av f.eks. en XML struktur.   Batch En større mengde data av samme type gruppert sammen. Overføres i samme forsendelse, ofte rutinemessig.   E-dialog En tjenesteeierdefinert samhandlingstjeneste.   EnterpriseCertificate (EC) Sertifikat for en virksomhet, virksomhetssertifikat, som kan benyttes til autentisering og autorisering ifm implementasjon mot Altinn.   Formidlingstjeneste Formidling av data mellom eksterne aktører som er tilknyttet Altinn. Altinn forholder seg ikke til innhold, kun deler av formatet hvor metadata for tjenesten angis.   Innsendingstjeneste En innsendingstjeneste er en eller flere skjema definert av en tjenesteeier som fylles ut i portal eller sluttbrukersystem, evt. signeres, og sendes inn. Påbegynte og innsendte innsendingstjenester kan oppbevares i sluttbrukers meldingsboks i Altinn. Svardata sendes tjenesteeier   Innsynstjenester Tjenesteeiere kan gjøre informasjon i egne registre (for eksempel saksbehandlingsløsninger eller elektroniske saksarkiv/saksmapper) tilgjengelig for den enkelte brukeren eller dennes representant.   Lenketjeneste Formålet med en lenketjeneste er å overføre en bruker i Altinn til en annen nettside. En lenketjeneste er alltid assosiert med en URL.   Kvittering Ved innsending av data til Altinn, eller mottak av data fra Altinn opprettes kvitteringer som partene senere kan benytte for å få oversikt over datautveksling med Altinn.   Meldingsboks Samlingen av en sluttbrukers instansierte tjenester i Altinn (tjenestemotor og arkiv).   Meldingstjeneste Offentlige virksomheter sender informasjon/melding til sluttbrukers meldingsboks i Altinn. Meldingene støtter HTML og vedlegg. Brukeren kan varsles med e-post eller SMS om at informasjon er gjort tilgjengelig for innsyn eller behandling. Tjenesteeieren får informasjon om hvilke utsendte meldinger som er åpnet og kan eventuelt kreve at brukeren bekrefter mottaket innen en fastsatt frist. Meldingene kan oppbevares i sluttbrukerens meldingsboks i Altinn i en fastsatt periode, eventuelt slettes av brukeren.   MTOM Message Transmission Optimization Mechanism – Metodikk for effektiv forsendelse av binære vedlegg til og fra en web service.   Preutfylling Forhåndsutfylling av skjema/skjemasett i Altinn for bruker/organisasjon vha. data mottatt fra tjenesteeiere eller nasjonale registre (f.eks. Folkeregisteret, Enhetsregisteret)   Sak En instansiert samhandlingstjeneste, enten en samleside eller en e-dialog.   SBL Sluttbrukerløsningen. Applikasjon som privatpersoner eller næringslivet benytter for å kommunisere med tjenesteeiere.   Samhandlingstjeneste En tjeneste som knytter sammen andre tjenester som for sluttbruker og/eller tjenesteeier hører naturlig sammen.   Samleside En brukerdefinert samhandlingstjeneste.   Signering Tjenesteeier kan definere at spesifikke innsendingstjenester må signeres en eller flere ganger av bruker(e) før den aktuelle innsendingstjenesten kan ferdigstiller og sendes inn til Altinn.   Skjema Formular/dokument definert av en tjenesteeier som inneholder rubrikker som skal besvares av den som bruker formularet. Kan være trykket på papir eller elektronisk – sluttbrukerløsningen benytter elektroniske skjema.   Skjemasett En samling skjema som hører sammen. Gyldige kombinasjoner defineres av tjenesteeiere i TUL.   SOAP Uavhengig protokoll spesifikasjon for utveksling av strukturert informasjon gjennom web services.   TUL Tjenesteutviklingsløsningen. Applikasjon hvor tjenesteeiere bl.a. kan opprette tjenester for bruk i Altinn, for eksempel innsendingstjenester.   Web service Tjeneste på Internet aksessert vha. HTTP/HTTPS som utfører en bestemt oppgave, eller en bestemt type oppgaver.   WSDL Språk (xml) som beskriver en web service, dvs. informasjon om tjenester, protokoller og formater. Hensikten er å ha en velkjent måte for å etablere dialog mellom brukere og tilbydere av elektroniske tjenester.   XACML EXtended Markup Language - XML er en språkdefinisjon for strukturering og beskrivelse av data.   Web service Tjeneste på Internet aksessert vha. HTTP/HTTPS som utfører en bestemt oppgave, eller en bestemt type oppgaver.   WSDL Språk (xml) som beskriver en web service, dvs. informasjon om tjenester, protokoller og formater. Hensikten er å ha en velkjent måte for å etablere dialog mellom brukere og tilbydere av elektroniske tjenester.   XML EXtended Markup Language - XML er en språkdefinisjon for strukturering og beskrivelse av data.   XSD XML Schema Definition. Metabeskrivelse for XML data. Beskrivelse av hvordan XML dataene skal være strukturert og beskrivelse av alle dataelementene. Blir også brukt til å validere XML data.    "
},
{
	"uri": "https://altinn.github.io/docs/guides/integrasjon/",
	"title": "Integrasjon",
	"tags": [],
	"description": "Implementasjonsguide for integrasjon mot Altinn.",
	"content": " Innledning Implementasjonsguidene for integrasjon mot Altinn kan benyttes av eksterne systemer som veiledning for hvordan deres systemer kan integreres mot Altinn. Dette dokumentet beskriver den overordnede arkitekturen for integrasjon mot Altinn og sikkerhetsmekanismer som benyttes for kommunikasjon mellom Altinn og eksterne systemer. I tillegg finnes følgende dokumenter (se Refererte dokumenter og linker for videre henvisning):\n Implementasjonsguide – Tjenesteiere.doc\n Implementasjonsguide – Sluttbrukersystemer.doc\n  Målgruppe for dette dokumentet  De som skal utvikle integrasjon mot Altinn og trenger mer kunnskap om formater og teknologier som benyttes i Altinn integrasjon\n Arkitekter med behov for å vite mer hvordan Altinn kan passe inn i en informasjonsarkitektur\n De som har behov for å vite mer om Altinn og integrasjonsmuligheter for eksterne systemer\n  Overordnet prinsipp for dokumentasjon i implementasjonsguider Innhold og versjonering av implementasjonsguider skal reflektere siste versjon i produksjon. Kun siste versjon av tjenester er dokumentert og beskrevet. Dette støtter opp under prinsippet om at nye tjenesteeiere og nye sluttbrukersystemer bør bruke siste versjon av en tjeneste.\nDefinisjoner    Betegnelse Beskrivelse     Arkiv Komponent som håndterer langtidslagring av data i Altinn   Arbeidsflyt Komponent for styring av arbeidsflyt i Altinn tjenester   Avgiver En juridisk eier av data som sendes inn, f.eks. en bedrift eller person   Base64 Standard for å representere binære data som tekst, slik at binære data kan være en del av f.eks. en XML struktur   EAI Enterprise Application Integration - Mellomvare for å etablere Integrasjon mellom systemer og applikasjoner innad i en organisasjon   ETL Felles betegnelse på produkter som brukes til uthenting og innlesing av store mengder data mot databaser eller filer   FTP File Transfer Protocol – Protokoll for å overføre filer   HTTP Hypertext Transfer Protocol - Protokoll for overføring av data over nettverk og spesielt internett   HTTPS Hypertext Transfer Protocol Secure - Kryptert protokoll for overføring av sensitive data over nettverk og spesielt internett   Innsendingstjeneste En innsendingstjeneste er en eller flere skjema definert av en tjenesteeier som fylles ut i portal eller sluttbrukersystem, evt. signeres, og sendes inn. Påbegynte og innsendte innsendingstjenester kan oppbevares på brukernes hovedside i Altinn. Svardata sendes tjenesteeier   Innsynstjenester Tjenesteeiere kan gjøre informasjon i egne registre (for eksempel saksbehandlingsløsninger eller elektroniske saksarkiv/saksmapper) tilgjengelig for den enkelte brukeren eller dennes representant   MTOM Message Transmission Optimization Mechanism – Metodikk for effektiv forsendelse av binære vedlegg til og fra en web service   Samhandlingstjenster En tjeneste som knytter sammen andre tjenester som for sluttbruker og/eller tjenesteeier hører naturlig sammen   Signering Tjenesteeier kan definere at spesifikke tjenester (for eksempel innsendingstjeneste) må signeres en eller flere ganger av bruker(e) før den aktuelle tjenesten kan ferdigstiller og sendes inn til Altinn   Skjema Formular/dokument definert av en tjenesteeier som inneholder rubrikker som skal besvares av den som bruker formularet. Kan være trykket på papir eller elektronisk – sluttbrukerløsningen benytter elektroniske skjema   Skjemasett En samling skjema som hører sammen. Gyldige kombinasjoner defineres av tjenesteeiere   SFTP Secure File Transfer Protocol - Kryptert filoverføringsforbindelse for sikrere overføring av sensitive data    Sluttbrukersystem   SMTP Simple Mail Transfer Protocol - Standard for sending / transport av E-post på internett   SOA Konseptet tjenesteorientert arkitektur går ut på at applikasjoner og automatiske prosesser aksesserer informasjonsressurser gjennom standard tjenestegrensesnitt   SOA P Uavhengig protokoll spesifikasjon for utveksling av strukturert informasjon gjennom web services   URI Uniform Resource Identifier - En streng som identifiserer en unik ressurs på internett. F.eks. en web side eller et web service endepunkt   Web service Tjeneste på Internet aksessert vha. HTTP/HTTPS som utfører en bestemt oppgave, eller en bestemt type oppgaver   WSDL Web Services Description Language - Teknisk tjenestekontrakt som beskriver hvilke operasjoner som finnes, samt regler for bruk (policies)   WS-* En felles betegnelse for web service standarder som finnes   WS-Security Standard for å tilby sikkerhet for kommunikasjon på en web service   XML EXtended Markup Language - XML er en språkdefinisjon for strukturering og beskrivelse av data   XAML Standardisert format for å kommunisere autorisasjonsregler og forespørsler   XSD XML Schema. Meta beskrivelse for XML data. Beskrivelse av hvordan XML dataene skal være strukturert og beskrivelse av alle data elementene. Blir også brukt til å validere XML data    Overordnet løsning  Overordnet integrasjonsskisse   All kommunikasjon mellom et sluttbrukersystem og et tjenesteeiersystem er ivaretatt ved hjelp av tjeneste og integrasjonsplattformen i Altinn. Dette gjelder uansett om dataflytbehovet er igangsatt fra sluttbruker eller tjenesteeiers side. Altinn plattformen benytter også data fra offentlige register som for eksempel Folkeregisteret eller Enhetsregisteret til å komplettere de data som flyter mellom aktørene som benytter Altinn. For sluttbrukersystemer vil det i all hovedsak være web services som tilbys som integrasjonsgrensesnitt inn mot de tjenester Altinn tilbyr.\nAltinn er en plattform for tjenester og integrasjon Altinn er i tillegg til å være en portal for kommunikasjon mellom det offentlige og bedrifter i Norge også en plattform for å sørge for elektronisk flyt av data og integrasjon. Plattformen er basert på åpne standarder og støtter nyere og eldre teknologier for integrasjon både ved hjelp av web services og filbasert integrasjon. Plattformen skal støtte opp under prinsipper som skal ivareta aktører og dataflyt i forhold til:\n Tilgjengelighet – Plattformen har høy tilgjengelighet og er i praksis ”alltid åpen” for data kommunikasjon. Det er også lagt vekt på å benytte asynkrone mekanismer for leveranse av data der dette er hensiktsmessig, for å kunne tillate at flere systemer leverer i parallell i perioder med høye volumer.\n Sikkerhet – Plattformen tilbyr mekanismer for å sikre både datainnhold og at de som bruker løsningen er identifisert og har rettigheter til å utføre det de forsøker.\n Kryptering og dekryptering av meldinger og transport\n Signering og sjekk av signering\n Autentisering av system og bruker\n Autorisasjon av system og bruker\n  Interoperabilitet – Plattformen baserer seg på åpne standarder innenfor integrasjon med fokus på bruk av XML og Web Services som er bredt støttet i de fleste teknologier og løsninger. Altinn har en teknisk oppdatert plattform og er i stand til å kommunisere på oppdaterte standarder (f.eks. innenfor WS* standardene for web services)\n Sporbarhet – Det finnes kvitteringsmekanismer og sporingsmekanismer som ivaretar behov for tilbakemelding på og sporing av data som er utvekslet gjennom plattformen.\n  Sikkerhet Alle integrasjoner i Altinn har som mål å ivareta sikkerheten for de systemene som inngår i integrasjonen. Dette går på sikring og kryptering av data gjennom transport, og sjekking at de som benytter integrasjon for å hente eller levere data har de nødvendige rettigheter (dvs. er autorisert) som må til for å kunne aksessere data og tjenester.\nDet henvises til mer detaljer i implementasjonsguider, for henholdsvis sluttbrukersystemer og tjenesteeiere.\nGrensesnitt Altinn tilbyr to forskjellige grensesnitt for de fleste funksjonelle integrasjonpunkter\n Integrasjon via Web service\n Tjenestekontrakter (WSDL) beskriver format for data som benyttes.  Integrasjon via XML-filer (batch)\n Altinn har definerte standardformater for alle XML-integrasjoner   Formater Formater for integrasjon i Altinn er nesten utelukkende basert på bruk av XML, enten gjennom filbasert integrasjon eller web services. XML-spesifikasjonene som benyttes er enten definert som standardformater av Altinn for å integrere mot spesifikk funksjonalitet i løsningen, XML-spesifikasjoner er tilgjengeliggjort fra offentlige metadatakilder som oppgaveregisteret og SERES, eller tjenesteeiers egne spesifikasjoner.\nEksterne systemer vil bruke disse formatene til å levere eller hente data til og fra Altinn.\nVersjonering Altinn standardformater som er definert enten for filbasert integrasjon eller web services benytter versjonering av kontrakter. Versjoneringen er bygget opp rundt en standard som er mye benyttet av alle større premissleverandører for spesifikasjoner. Prinsippet går ut på at navnet på en komponent og entitet i denne er førende for navngiving og deretter benyttes årstall og måned kontrakten ble generert:\nhttp://www.altinn.no/services/\u0026lt;MainComp\u0026gt;[/\u0026lt;SubComp\u0026gt;]/\u0026lt;Year\u0026gt;/\u0026lt;Month\u0026gt;\nEt eksempel på dette er:\nhttp://www.altinn.no/services/ServiceEngine/ReporteeElementList/2009/01ReporteeElementList/2009/10\nNamespace benyttet i Altinns tjenestekontrakter og XML-spesifikasjoner (XSD) benytter denne notasjonen for versjonering.\nBinære vedlegg I Altinn-integrasjoner er muligheten for overføring av binære vedlegg til/fra løsningen mye benyttet. Siden XML og XML i web services er basis for standard integrasjon må det benyttes mekanismer som kan bruke XML som transport for disse data. Altinn tilbyr to muligheter for dette:\n Base64 koding – Her konverteres det binære vedlegget til en tekstbasert streng som lar seg transportere via XML. Base64 benyttes i all filbasert integrasjon til/fra Altinn, men er også en av valgmulighetene for webtjenester.  Web services Web service grensesnittene benyttes fortrinnsvis der det er behov for raske enkeltvise datautvekslinger med Altinn.\nAltinn tilbyr opptil 4 forskjellige internett-adresserbare endepunkter for hver tjeneste (URI). Disse endepunktene støtter opp under forskjellige spesifikasjoner innen web services slik at plattformen er moderne, interoperabel og derfor kan benyttes av alle eksterne systemer som støtter web services\n Basic Http (SOAP 1.1) (Tjenestekontrakter navngitt med ExternalBasic)\n Basis bruk av web services uten særlig støtte for nyere og moderne WS-* standarder. Dette er fortsatt regnet som den standarden flest tekniske plattformer har mulighet til å integrere mot, men mangler en del mekanismer som supporterer web servicen blant annet innen sikkerhet.\n Binære vedlegg benytter Base64 enkoding\n  WS Http (SOAP 1.2) (Tjenestekontrakter navngitt med External)\n Støtter mer avanserte mekanismer og nyere standarder innen web services. Altinn tilbyr dette for å støtte de plattformene som benytter WS-Security.  Støtte for nye web service standarder WS-* og gjør det mulig for Altinn å følge denne utviklingen i takt med systemer som ønsker å bruke Altinn web services.\n Binære vedlegg benytter Base64 enkoding\n  Sertifikater Altinn benytter for web services ikke spesifikke sertifikater for signering eller kryptering av data før de avsendes fra klient side. Krypteringssikkerhet for web services baserer seg på bruk av HTTPS.\nVirksomhetssertifikater kan benyttes for autentisering av virksomhetsbrukere. Virksomhetsbrukere vil benytte seg av brukernavn, passord og virksomhetssertifikat for autentisering.\nFor formidlingstjenester vil bruk av sertifikater for signering og/eller kryptering kunne benyttes. Dette må i så fall settes opp spesifikt for en tjeneste og være avtalt mellom aktørene som inngår i formidlingstjenesten.\nAndre web service standarder Altinn tilbyr per i dag SOAP i forskjellige formater som standarder for web services. Andre standarder for tjenester som for eksempel REST eller XML/HTTP benyttes ikke.\nKontrakter / formater Formater på data som kan sendes til Altinn baserer seg på spesifikasjoner forvaltet av eksterne metadatakilder som Oppgaveregisteret eller SERES.\nKoding av meldinger Altinn baserer seg på bruk av UTF-8 for innsending og uthenting av data gjennom web services.\nWeb service meldingseksempler Her følger noen eksempler på hvordan en SOAP melding som kan benyttes mot Altinn ser ut for de forskjellige standarder Altinn støtter. Eksemplene viser èn variant, og i forhold til innhold og parametere henvises det til kapittel som beskriver grensesnitt for hver web service og operasjoner på disse.\nBasic  Basic med Base64 vedlegg Vedlagte eksempel viser hele http meldingen som er sendt i dette tilfellet (12 Kb)\nWS  WS med Base64 vedlegg Vedlagte eksempel viser hele http meldingen som er sendt i dette tilfellet.\nFilbasert integrasjon Grensesnitt med filbasert integrasjon benyttes fortrinnsvis for større datamengder, og/eller hvor det ikke er behov for umiddelbar tilbakemelding på datautvekslingen. Det er ingen absoluttgrense i Altinn for hvor store ”større datamengder” er, eller hvor store datamengder som kan sendes via web service, men følgende tommelfingerregel kan benyttes:\nweb service \u0026gt; 30 MB/100 elementer \u0026gt; batch\nVed filbasert integrasjon med Altinn benyttes FTP protokollen, fortrinnsvis SFTP (FTP over SSH), og det finnes to fremgangsmåter:\n Altinn kan hente data fra den eksterne parts system\n Den eksterne parten kan levere data på et definert Altinn område, dvs. SFTP server må etableres av ekstern part.\n  Detaljer og tilpasning av den filbaserte overføringen avklares ved etablering.\nInnpakking av data med CDATA mekanisme Flere av Altinn sine tjenester baserer seg på at strukturert XML skal transporteres i en konvoluttmelding som inneholder metadata om det som transporteres. Et eksempel på dette er innsendingstjenester som leverer et eller flere skjema som hver for seg er i henhold til en XML spesifikasjon levert av en eller flere metadata leverandør som for eksempel oppgaveregisteret.\nFor å gjøre dette må den strukturerte XML-delen pakkes inn i et CDATA-element slik at ikke tjenesten betrakter dette som en pakke med data og ikke som en tjenesteparameter i forhold til kontrakten for operasjonen.\nCDATA er en mekanisme for å overføre data hvor innholdet ikke skal valideres sammen med de data som omslutter den, men håndteres som en streng med data.\nEt CDATA-element defineres inne i et vanlig XML element på følgende måte:\n\u0026lt;Data\u0026gt; \u0026lt;![CDATA[innenfor klammeparenteser angis en streng med data]]\u0026gt;\u0026lt;/Data\u0026gt;\nKvitteringer I Altinn finnes kvitteringer slik at eksterne systemer skal kunne ha innsyn i prosessen med innsending i forhold til mottak, kontroll og prosessering av data som sendes inn. Denne kvitteringsmekanismen er ment å være en teknisk kvitteringsmekanisme som går på logistikk rundt forsendelser og prosessering av data.\nDet vil også være mulig for en integrasjonsaktør å kvittere på kvitteringene som holdes i Altinn slik at en annen avsender kan se at f.eks. en tjenesteeier har mottatt og validert data på sin side.\nKvitteringer brukes og oppdateres for integrasjoner hvor:\n• Meldinger / data mottas av Altinn for prosessering.\n• Når meldinger / data er validert og levert videre til prosessering.\nForøvrig henvises det til spesifikk informasjon om hvordan kvitteringer benyttes i de enkelte integrasjonene i underliggende implementasjonsguider.\n"
},
{
	"uri": "https://altinn.github.io/docs/credits/",
	"title": "Kred",
	"tags": [],
	"description": "Hyllest",
	"content": "Vi i Altinn benytter Hugo for å generere opp hele dokumentasjonen med søk som en statisk web site.\nDet hele tar typisk 400 millisekunder. Hugo er åpen kildekode i tillegg til å være lynrask. Anbefales.\nFor søk benyttes lunr.js.\nSom tema benytter vi docDock. Stor takk til Valere JEANTET.\nReveal.js er et fantastisk rammeverk for presentasjoner på web. Takk til Hakim El Hattab.\n"
},
{
	"uri": "https://altinn.github.io/docs/guides/lenketjenester/",
	"title": "Lenketjenester",
	"tags": [],
	"description": "Implementasjonsguiden for lenketjenester gir en teknisk beskrivelse av hvordan lenketjenester i Altinn skal implementeres.",
	"content": " 1 Innledning Implementasjonsguiden for lenketjenester gir en teknisk beskrivelse av hvordan lenketjenester i Altinn skal implementeres. Dokumentet er ment for utviklingsressurser hos tjenesteeiere som skal utvikle lenketjenester. Implementasjon av lenketjenesten i Altinn krever at tjenesteeiere også oppretter føderering av brukere fra IDPorten mot sin tjeneste. Dette dokumentet inneholder ikke detaljert informasjon om oppsett av føderering mot IDPorten, men beskriver hvordan løsningen for lenketjenester forholder seg til IDPorten, og hva dette innebærer for tjenesteeieren.\n2 Definisjoner\n3 Refererte dokumenter og linker    Dokument Beskrivelse     Implementasjonsguide for integrasjon mot Altinn.doc Dette dokumentet beskriver den overordnede arkitekturen for integrasjon mot Altinn, samt sikkerhetsmekanismer som benyttes for kommunikasjon mellom Altinn og eksterne systemer.   Altinns selvbetjeningsportal https://selvbetjening.brreg.no/src/secure/main.jsp#services/home    4 Overordnet flyt for lenketjenesten Lenketjenester i Altinn kan benyttes av tjenesteeiere som ønsker å tilgjengeliggjøre sine tjenester via Altinn, og ta i bruk Altinns autorisasjonsmodell, men ønsker å beholde egen tjenestemotor. Lenketjenester defineres i TUL og migreres til SBL på linje med andre tjeneste¬typer, slik at avgiver- og rettighetskrav kan konfigureres i TUL og lenketjenester kan knyttes inn i samhandlingstjenester.\nTil forskjell fra lenketjenesten på Altinn I plattformen er det ikke lenger Altinn som leverer autentiseringsinformasjon til tjenesteeieren, derimot må tjenesteiere integrere seg med IDPorten for føderering av brukere (Single Sign On).\nLenketjenesten har dermed tre aktører:\n IDPorten, som er Identity Provider og foretar autentisering av sluttbruker Altinn, som har lenketjenensten og foretar autorisasjonskontroll, tjenestekontroller og viderefører sluttbruker til tjeneste i ekstern portal. Tjenesteeier for ekstern tjeneste som tilbyr tjenesten til sluttbruker.  Normalflyten for en lenketjeneste og hvordan de tre aktørene spiller sammen vil nå beskrives nærmere.\n Figur 1 – Flyt for lenketjeneste - autentisering   Figur 1 viser IDPorten, Altinn, tjenesten og tjenesteeier i et standard «SAML-univers». Altinn er ikke Identity Provider og IDPorten utfører dermed all autentisering av sluttbrukere som deretter fødereres mot Altinn som er Service Provider. Altinn deltar i IDPortens Circle of trust sammen med tjenesteeiere for lenketjenester som også er Service Provider.\n Punkt 1a og 1b. Sluttbruker når lenketjenesten på to måter; via tjenestekatalogen i Altinn eller via dyplenke hos tjenenesteeier. Punkt 2. Når sluttbruker prøver å nå lenketjenesten i Altinn blir det sjekket om sluttbruker er pålogget Altinn. Dersom sluttbruker ikke er pålogget Altinn, blir brukeren ført til IDPorten for autentisering. Sluttbruker blir autentisert i IDPorten og IDPorten fødererer sluttbrukerens identitet til Altinn.   Figur 2 – Flyt for lenketjenesten – Valg av avgiver og tjenestekontroll   Altinn har verifisert sluttbrukerens identitet og sluttbrukeren er innenfor Circle of Trust med IDPorten og Altinn. Circle of Trust er et begrept innenfor SAML som beskriver systemer med gjensidig tillitt.\n Punkt 3. og Punkt 4. Sluttbrukeren blir ført til valg av avgiver siden i Altinn. Avgiverkontroll og eventuelle tjenestekontroller som er satt på lenketjenesten i TUL blir utført.\n Punkt 5. Dersom sluttbruker og valgt avgiver tilfredstiller kontrollene satt på tjenesten, blir brukeren videreført til den eksterne tjenesten med en temporær nøkkel lagt til URL.   Figur 3 - Flyt for lenketjenesten - Autorisasjonskontroll   Tjenesteeier har verifisert at sluttbrukeren er autentisert og sluttbruker er innenfor Circle of Trust med IDPorten, Altinn og Tjenesteeier.\n Punkt 6. Når sluttbruker kommer til den beskyttede tjenesten hos tjenesteeier, må tjenesteeier sjekke om sluttbrukeren er pålogget i tjenesteeiers løsning. Dersom sluttbrukeren ikke er pålogget i tjenesteeiers løsning, verifiseres det at brukeren er pålogget i IDPorten og IDPorten fødererer sluttbrukerens identitet til tjenesteeier. Punkt 7. Tjenesteeier bruker den temporære nøkkelen lagt på URL (tempkey) i webservicekall mot Altinn og henter avgiver valgt av sluttbruker i Altinn. Punkt 8. Tjenesteeier sender XACML request i webservicekall til Altinn for å få bekreftet at sluttbruker har rettigheter til å utføre spesifisert operasjon på lenketjenesten til tjenesteeieren for valgt avgiver. Punkt 9. Brukeren kan nå lenketjenesten.  5 Implementasjon av lenketjenesten. De påfølgende kapitlene vil gi en teknisk detaljert beskriveles av hvordan tjenesteiere bør implementere lenketjenesten i tjenesteeieres applikasjon.\n5.1 Utvikling av tjenesteiers eksterne tjeneste Hvordan tjenesten skal fungere i ekstern portal har Altinn ikke et forhold til, og tjenesteier har selv ansvaret for utviklingen av applikasjonen som driver den eksterne tjenesten. Men, i forhold til lenketjenesten i Altinn er det tre hovedfunksjoner tjenesteier må implementere i sin løsning.\n1. Føderering av identitet fra IDPorten Ressursene som inngår i tjenesten, og dermed er tilgjengelige for sluttbrukere, må beskyttes ved bruk av SAML for føderering av brukerindentiet fra IDPorten. Hvordan dette løses kan tjenesteier selv avgjøre innen for de kravene som stilles av IDPorten. Det som er viktig for lenketjenesten er at sluttbrukers identitet blir verifisert og mottatt i applikasjonen.\n2. Hente avgiver med tempkey fra Altinn. Når sluttbrukeren overføres fra Altinn til den eksterne tjenesten i en http GET request blir en temporær nøkkel (tempkey) lagt til URL. Denne temporære nøkkelen skal benyttes i webservicekall til Altinn for å hente avgiveren brukeren har valgt i portalen. Det er altså viktig at den temporære nøkkelen kan videreføres igjennom fødereringen mot IDPorten, og dermed kan det være hensiktsmessig at applikasjonen mellomlagrer den temporære nøkkelen før sluttbrukeren blir «redirected» til IDPorten i forbindelse med føderering.\n3. Sjekke sluttbrukers autorisasjon ved bruk av webservice Når identiteten til sluttbrukeren er fastslått etter fødereringen fra IDporten, og avgiver er mottatt i responsen fra Altinns webservice, må applikasjonen benytte Altinns autorisasjonswebservice for å få bekreftet at sluttbruker har rettigheter til å utføre spesifisert operasjon på lenketjenesten til tjenesteeieren for valgt avgiver.\n5.2 Integrasjon mot IDPorten ID-Porten er Identity Provider for lenketjenester, og tjenesteeiere i Altinn som har lenketjenester må etablere en egen, standard, samarbeidsavtale med ID-porten. Dette fordi en slik tjenesteeier vil måtte ha en direkte integrasjon mot ID-porten. DIFI har utarbeidet en tilslutningsguide som beskriver den jobben som må gjøres for å sette opp SAML-integrasjon mot IDPorten. Tilslutningsguiden finnes under ID-Porten \u0026gt; Dokumentasjon i Samarbeidsportalen til Difi.\n5.3 Utvikle Lenketjenesten i TUL Lenketjenestene utvikles i TUL på samme måte som andre tjenestetyper, ved at man først oppretter en tjeneste med tjenestetype Lenketjeneste, og deretter har utgaver av tjenesten på nivået under. Det er utgavene som migreres til SBL og er tilgjengelig for sluttbruker. Når tjenesten opprettes blir det generert en ekstern tjenestekode, som er unik for hver enkelt tjeneste. Sammen med ekstern utgavekode, som man setter på Utgaveparametre, danner ekstern tjenestekode en unik identifikator til hver utgave. Ekstern tjenestekode og ekstern utgavekode brukes både i direktelenke til tjenesten i Altinn, samt i autorisasjonsforespørselen mot Altinn.\nDet som skiller lenketjenestene fra andre tjenestetyper er at det på lenketjenestene legges inn en URL til tjenesten på tjenesteeiers side i utgavespesifikasjonen, og siden test-URL og prod-URL er forskjellig, må man derfor alltid opprette en test-utgave og en prod-utgave.\nPå utgaveparametre definerer man lenken som skal peke mot skjema: - Utgavenavn – dette er navnet som sluttbruker ser i SBL - Kortnavn – vises bare i TUL - Ekstern utgavekode – numerisk kode som må være unik innen hver tjeneste. Sammen med tjenestekoden utgjør tjenesteutgavekoden en unik identifikator av tjenesesteutgaven, og dyplenken til skjema vil bestå av disse to verdiene - Hovedspråk – angi hvilket hovedspråk tjenesten skal finnes på - Gyldighetsdatoer – angi gyldig fra-dato og gyldig til-dato - Instansierings-/serivcekontroller - Altinn verifiserer at valgt avgiver er over 18 år før brukeren gis tilgang til lenketjenesten. Er kun gyldig dersom avgiver er person. - Altinn verifiserer at innlogget bruker har registerert personlig epostadresse i profilen før brukeren gis tilgang til lenketjenesten. - Lenketjeneste detaljer – her legges url til tjenesten på tjenesteeiers skjemamotor inn - Logging og sporing – angi om loggings og sporingsinfo skal lagres i tredjeparts arkiv, og evt hvor lenge. Minimum 10 år hvis logging/sporing skal benyttes. - Avgiverkrav – angi hvike aktører/avgivere som skal kunne bruke tjenesten. Tilgjengelige valg er; - Privatperson - Juridisk enhet - Bedrift - Konkursbo - Bedrift eller juridisk enhet - Person eller juridisk enhet - Bedrift, juridisk enhet eller konkursbo - Alle aktører - Sikkerhetsnivå – lenketjenester i Altinn 2 må settes opp med sikkerhetsnivå 3 eller 4, fordi IDPorten benyttes til autentisering og de tilbyr nivå 3 og 4. - Virksomhetsbrukere – angi om sluttbrukere skal kunne bruke virksomhetssertifikat til å logge inn. Med virksomhetssertifikat er det ingen knytning til fødselsnummeret til vedkommende som bruker tjenesten. - Samhandlingstjeneste – lenketjenester kan defineres til å kunne inngå i en samhandlingstjeneste. Da settes det et kryss på utgaven her, og utgaven vil være valgbar som tilgjengelig tjeneste for samhandlingstjenester.\nAltinn rolle På samme måte som andre tjenestetyper, må lenketjenestene knyttes til en eller flere Altinn-roller slik at tjenestene blir tilgjengelig for sluttbrukerne. Altinn-rollene er knyttet til et sett med eksterne roller fra Enhetsregisteret (ER), og når tjenesteeier skal velge hvilke(n) Altinn-rolle\u0026reg; som skal gi tilgang til tjenesten, er det viktig å tenke over en del ting; - Hvem skal bruke tjenesten – det må velges en eller flere roller som sikrer at alle aktuelle avgivere har tilgang til tjenesten. Ulike organisasjonstyper registrerer ulike typer eksterne roller i ER, og tjenesteeier må velge en Altinn-rolle som dekker ulike organisasjonstyper. F.eks vil et enkeltpersonsforetak kanskje bare ha innehaver registrert, mens et AS har både daglig leder, styreleder og revisor. Hvis både ENK’et og AS’et skal kunne benytte tjenesten, må Altinn-rollen som knyttes til tjenesten være knyttet til både Innehaver og Daglig leder, Styreleder eller Revisor. Tilgjengelige roller finnes på \u0026ldquo;rolleadministrasjonssiden\u0026rdquo; i TUL og i portalhjelpen i SBL.\n Skal ulike roller har tilgang til å utføre ulike operasjoner på tjenesten? Dette kan man skille på i rolletilknytningen. Vær i midlertid oppmerksom på at Altinn kun sjekker at man har lese-tilgang til tjenesten ved instansiering. Hvis man ønsker en mer detaljert autorisasjonssjekk, må dette implementeres i tjenesteeiers tjeneste-applikasjon.  5.4 Bruk av Altinns autorisasjonswebservice Altinns webservice for autorisasjon kan benyttes av tjenesteiere til å foreta autorisasjonsbeslutninger basert på rolle og rettighetsregler og delegeringer som ligger i Altinns autorisasjonsdatabase. Dette gjør at eksterne tjenester som ikke benytter Altinns tjenestemotor likevel kan benytte Altinns autorisasjonsmodell på tjenesten. For lenketjenester, for eksempel en tjeneste hvor avgiver kan være en organisasjon, er dette sentralt.\nDisse tabellene viser endepunktene og operasjonene for Altinns to webservices for autorisasjon som er aktuelle for lenketjenesten.\nAuthorizationAdministration https://www.altinn.no/AuthorizationExternal/AdministrationExternal.svc?wsdl\n   Input Beskrivelse Endepukt operasjon     GetReporteeByTempKey https://www.altinn.no/AuthorizationExternal/AdministrationExternal.svc GetReporteeByTempKey   GetReportees https://www.altinn.no/AuthorizationExternal/AdministrationExternal.svc GetReportees    AuthorizationDecisionPointExternal https://www.altinn.no/AuthorizationExternal/AdministrationExternal.svc?wsdl\n   Basis operasjon URI/endepunkt Endepukt operasjon     ExternalReporteeBE https://www.altinn.no/AuthorizationExternal/AuthorizationDecisionPointExternal.svc AuthorizeAccessExternal       Input Beskrivelse     tempKey Nøkkel som angitt i lenketjenestens request URL, vil utgå etter at informasjon er hentet ut – pålagt parameter.   Returverdi Beskrivelse   ExternalReporteeBE ExternalReporteeBE-objekt.       Returverdi Beskrivelse     Name Avgivers navn   OrganizationNumber Organisasjonsnummer for denne avgiveren hvis dette er en organisasjon.   SSN Fødselsnummer for denne avgiveren hvis dette er en person.   Reportee Type Typebeskrivelse for hvilken type avgiver dette er: None, Person, Organization, eller SelfIdentified (ikke et praktisk mulig scenario i denne sammenhengen).    Eksempel Request \u0026lt;?xml version=\u0026quot;1.0\u0026quot;?\u0026gt; \u0026lt;soap:Envelope xmlns:soap=\u0026quot;http://www.w3.org/2003/05/soap-envelope\u0026quot; xmlns:ns=\u0026quot;http://www.altinn.no/services/Authorization/Administration/2010/10\u0026quot;\u0026gt; \u0026lt;soap:Header/\u0026gt; \u0026lt;soap:Body\u0026gt; \u0026lt;ns:GetReporteeByTempKey\u0026gt; \u0026lt;ns:tempKey\u0026gt;76d4afac-f228-4055-bde5-f4aae0c6af8f\u0026lt;/ns:tempKey\u0026gt; \u0026lt;/ns:GetReporteeByTempKey\u0026gt; \u0026lt;/soap:Body\u0026gt; \u0026lt;/soap:Envelope\u0026gt;  \r\rXML SOAP request\r\r\rgetReporteeByTempKeyReq.xml\r\r(0 ko)\r\r\rEksempel Response \u0026lt;s:Envelope xmlns:s=\u0026quot;http://www.w3.org/2003/05/soap-envelope\u0026quot; xmlns:a=\u0026quot;http://www.w3.org/2005/08/addressing\u0026quot; xmlns:u=\u0026quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\u0026quot;\u0026gt; \u0026lt;s:Header\u0026gt; \u0026lt;a:Action s:mustUnderstand=\u0026quot;1\u0026quot;\u0026gt;http://www.altinn.no/services/Authorization/Administration/2010/10/IAuthorizationAdministrationExternal/GetReporteeByTempKeyResponse\u0026lt;/a:Action\u0026gt; \u0026lt;o:Security s:mustUnderstand=\u0026quot;1\u0026quot; xmlns:o=\u0026quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\u0026quot;\u0026gt; \u0026lt;u:Timestamp u:Id=\u0026quot;_0\u0026quot;\u0026gt; \u0026lt;u:Created\u0026gt;2012-11-29T07:19:14.278Z\u0026lt;/u:Created\u0026gt; \u0026lt;u:Expires\u0026gt;2012-11-29T07:24:14.278Z\u0026lt;/u:Expires\u0026gt; \u0026lt;/u:Timestamp\u0026gt; \u0026lt;/o:Security\u0026gt; \u0026lt;/s:Header\u0026gt; \u0026lt;s:Body\u0026gt; \u0026lt;GetReporteeByTempKeyResponse xmlns=\u0026quot;http://www.altinn.no/services/Authorization/Administration/2010/10\u0026quot;\u0026gt; \u0026lt;GetReporteeByTempKeyResult xmlns:b=\u0026quot;http://schemas.altinn.no/services/Authorization/Administration/2012/11\u0026quot; xmlns:i=\u0026quot;http://www.w3.org/2001/XMLSchema-instance\u0026quot;\u0026gt; \u0026lt;b:Name\u0026gt;HÅKON TRANA\u0026lt;/b:Name\u0026gt; \u0026lt;b:OrganizationNumber i:nil=\u0026quot;true\u0026quot;/\u0026gt; \u0026lt;b:ReporteeType\u0026gt;Person\u0026lt;/b:ReporteeType\u0026gt; \u0026lt;b:SSN\u0026gt;05116602352\u0026lt;/b:SSN\u0026gt; \u0026lt;/GetReporteeByTempKeyResult\u0026gt; \u0026lt;/GetReporteeByTempKeyResponse\u0026gt; \u0026lt;/s:Body\u0026gt; \u0026lt;/s:Envelope\u0026gt;  Feilsituasjoner Dersom nøkkelen er ugyldig (for eksempel, på grunn av timeout, eller tidligere bruk) vil operasjonen returnere en Altinnfault. Den eksterne tjenesten bør da presentere en feilmelding for sluttbruker, og gi sluttbruker mulighet til å gå tilbake til Altinn (dyplenken til tjenesten) for å starte tjenesten på ny.\n5.4.2 AuthorizationDecisionPointExternal.AuthorizeAccessExternal Når applikasjonen som driver den eksterne tjenesten har verifisert identiten til brukeren med føderering fra IDPorten, og mottatt avgiver (valgt av sluttbruker) ved kall til GetReporteeByTempKey, må det verifiseres at sluttbruker har rettighet til å benytte tjenesten for valgt avgiver. Dette gjøres med kall til AuthorizationDecisionPointExternal.AuthorizeAccesExternal.\nAuthorizeAccessExternal operasjonen benytter XACML standarden og regler lagret i Altinn til å returnere en autorisasjonsbeslutning. Besluttningsgrunnlaget til autorisasjon for tjenester er de regler (rolleknytninger) som tjenesteeier har satt på lenketjenesten i TUL.\nDet kreves en XACMLRrquest som gir et XACML standardisert svar\nXACML-forespørselen skal inneholde en kombinasjon av følgende elementer:\n   Foreldre-node AttributeId Gyldige verdier i AttributeValue Eksempel     Subject urn:oasis:names:tc:xacml:2.0:subject: urn:altinn:ssn Utførende brukers fødselsnummer \u0026lt;Attribute AttributeId=\u0026quot;urn:oasis:names:tc:xacml: 2.0:subject:urn:altinn:ssn\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;AttributeValue\u0026gt;07037512345\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt;   Resource urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:reportee-ssn Avgivers fødselsnummer \u0026lt;AttributeAttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0: resource:urn:altinn:reportee-ssn\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;AttributeValue\u0026gt;010203401944\u0026lt;/AttributeValue\u0026gt;\u0026lt;/Attribute\u0026gt;   Resource urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:reportee-orgno Avgivers organisasjonsnnummer \u0026lt;Attribute AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0: resource:urn:altinn:reportee-orgno\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;AttributeValue\u0026gt;910453777\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt;   Resource urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:externalservicecode Eksterne tjenestekoder \u0026lt;Attribute AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:externalservicecode\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;AttributeValue\u0026gt;2298\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt;   Resource urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:externalserviceeditioncode Ekstern utgavekode (tilhørende overnevnte tjenestekode) \u0026lt;/Attribute\u0026gt; \u0026lt;Attribute AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:externalserviceeditioncode\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;AttributeValue\u0026gt;60804\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt;   Action urn:oasis:names:tc:xacml:2.0:action:urn:altinn:action-id Read Write Sign ArchiveRead ArchiveDelete ServiceOwnerArchiveRead Delegate Hvilke operasjoner som kan benyttes for den aktuelle lenketjenesten defineres i TUL. \u0026lt;Attribute AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:action:urn:altinn:action-id\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;AttributeValue\u0026gt;Sign\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt;   Environment urn:oasis:names:tc:xacml:2.0:action:urn:altinn:environment YT2 YT AT8 AT3 AT4 AT5 TT1 TT2 Prod \u0026lt;Attribute AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0: action:urn:altinn:environment\u0026quot;DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;AttributeValue\u0026gt;PR\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt;    XACML-forespørselen skal inneholde kun et Resource element med kombinasjon av enten avgivers fødselsnummer (urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:reportee-ssn) eller avgivers organisasjonsnummer (urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:reportee-orgno), samt ekstern tjenestekode og utgavekode (urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:externalservicecode og urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:externalserviceeditioncode). Det må angis hvilket miljø requesten gjelder i Environment elementet (urn:oasis:names:tc:xacml:2.0:action:urn:altinn:environment). Altinn spesifikke elementer XACML-respons:\n   Foreldre-node AttributeId Gyldige verdier i AttributeValue Eksempel     Obligation urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:authenticationlevel Autentiseringsnivå 0, 1, 2, 3, 4 Hvilke nivå som skal kreves for en resurs. \u0026lt;tns:Obligation FulfillOn=\u0026quot;Permit\u0026quot; ObligationId=\u0026quot;\u0026quot;\u0026gt; \u0026lt;tns:AttributeAssignment AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:obligation:urn:altinn:authenticationlevel\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;tns:AttributeValue DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#integer\u0026quot;\u0026gt;3\u0026lt;/tns:AttributeValue\u0026gt; \u0026lt;/tns:AttributeAssignment\u0026gt; \u0026lt;/tns:Obligation\u0026gt;    Nedenfor vises eksempler på gyldig forespørsler:\nAuthorizationRequest: \u0026lt;?xml version=\u0026quot;1.0\u0026quot; encoding=\u0026quot;UTF-8\u0026quot;?\u0026gt; \u0026lt;Request xmlns=\u0026quot;urn:oasis:names:tc:xacml:2.0:context:schema:os\u0026quot; xmlns:xsi=\u0026quot;http://www.w3.org/2001/XMLSchema-instance\u0026quot; xsi:schemaLocation=\u0026quot;urn:oasis:names:tc:xacml:2.0:context:schema:os http://docs.oasis-open.org/xacml/access_control-xacml-2.0-context schemaos.xsd\u0026quot;\u0026gt; \u0026lt;!-- Altinn Sample Request. --\u0026gt; \u0026lt;!-- This authorization request tries to verify if user --\u0026gt; \u0026lt;!-- 06069460079 is allowed to perform sign operation --\u0026gt; \u0026lt;!-- on behalf of reportee 910453777 --\u0026gt; \u0026lt;!-- on service 2298, edition 60804 --\u0026gt; \u0026lt;Subject\u0026gt; \u0026lt;Attribute AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:ssn\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;AttributeValue\u0026gt;06069460079\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt; \u0026lt;/Subject\u0026gt; \u0026lt;Resource\u0026gt; \u0026lt;Attribute AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:reporte-orgno\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;AttributeValue\u0026gt;910453777\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt; \u0026lt;Attribute AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:externalservicecode\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;AttributeValue\u0026gt;2298\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt; \u0026lt;Attribute AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:externalserviceeditioncode\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;AttributeValue\u0026gt;60804\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt; \u0026lt;/Resource\u0026gt; \u0026lt;Action\u0026gt; \u0026lt;Attribute AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:action:urn:altinn:action-id\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;AttributeValue\u0026gt;Sign\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt; \u0026lt;/Action\u0026gt; \u0026lt;/Request\u0026gt;  Operasjonen returnerer XML som også følger XACML standarden. Under vises et eksempel på en response.\nAuthorizationResponse: \u0026lt;xacml:Response xmlns:tns=\u0026quot;urn:oasis:names:tc:xacml:2.0:policy:schema:os\u0026quot; xmlns:xacml=\u0026quot;urn:oasis:names:tc:xacml:2.0:context:schema:os\u0026quot; xmlns:xsi=\u0026quot;http://www.w3.org/2001/XMLSchema-instance\u0026quot; xsi:schemaLocation=\u0026quot;urn:oasis:names:tc:xacml:2.0:context:schema:os http://docs.oasis-open.org/xacml/2.0/access_control-xacml-2.0-context-schema-os.xsd\u0026quot;\u0026gt; \u0026lt;xacml:Result ResourceId=\u0026quot;\u0026quot;\u0026gt; \u0026lt;xacml:Decision\u0026gt;Permit\u0026lt;/xacml:Decision\u0026gt; \u0026lt;xacml:Status\u0026gt; \u0026lt;xacml:StatusCode Value=\u0026quot;urn:oasis:names:tc:xacml:2.0:response:urn:altinn:ok\u0026quot; /\u0026gt; \u0026lt;xacml:StatusMessage\u0026gt;\u0026lt;/xacml:StatusMessage\u0026gt; \u0026lt;/xacml:Status\u0026gt; \u0026lt;tns:Obligations\u0026gt; \u0026lt;tns:Obligation FulfillOn=\u0026quot;Permit\u0026quot; ObligationId=\u0026quot;\u0026quot;\u0026gt; \u0026lt;tns:AttributeAssignment AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:obligation:urn:altinn:authenticationlevel\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;tns:AttributeValue DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#integer\u0026quot;\u0026gt;3\u0026lt;/tns:AttributeValue\u0026gt; \u0026lt;/tns:AttributeAssignment\u0026gt; \u0026lt;/tns:Obligation\u0026gt; \u0026lt;/tns:Obligations\u0026gt; \u0026lt;/xacml:Result\u0026gt; \u0026lt;/xacml:Response\u0026gt;  Det er opprettet en Altinn-tilpasset XACML context XSD som kan brukes til å validere XACML request fra tjenesteeier. Denne inneholder de gyldige attributtene for XACML requester som sendes til Altinn. Altinn XACML context XSD ligger på Altinnnett under systemdokumentasjon.\nAutorisasjonsbeslutning Dersom XACML responsen fra Altinn (xacml:DecisionPermit/xacml:Decision) indikerer at brukeren har rettighet til å utføre spesifisert operasjon for spesifisert avgiver på spesifisert tjenesteutgave, kan brukeren gis adgang til den eksterne tjenesten.\nMen, dersom XACML responsen fra Altinn (xacml:DecisionDeny/xacml:Decision) indikerer at brukeren IKKE har rettighet til å utføre operasjoen, må applikasjonen nekte sluttbruker adgang til den eksterne tjenesten. Da bør sluttbruker gis mulighet til å velge avgiver på ny, og dette kan gjøres på flere måter:\n Sluttbruker kan sendes tilbake til Altinn (via dyplenke til tjenesten) for å velge avgiver på ny. Applikasjonen for eksterne tjenesten kan hente liste over sluttbrukers mulige avgivere ved kall til AuthorizationAdministration.GetReportees (se kapittel ) og gi sluttbruker mulighet til å velge avgiver på nytt i den eksterne tjenesten.  Uavhengig av valgt metode for å velge avgiver på nytt, må det gjøre et påfølgende kall til AuthorizeAccessExternal metoden.\nFeilsituasjoner Dersom Altinn ikke klarte å gjøre en korrekt beslutning for parameterne spesifisert i requesten, vil XACML responsen fra Altinn indikerere dette (xacml:DecisionIndeterminate/xacml:Decision). Ved annen teknisk feil vil operasjonen returnere en Altinnfault. Den eksterne tjenesten bør da presentere en feilmelding for sluttbruker, og gi sluttbruker mulighet til å gå tilbake til Altinn (dyplenken til tjenesten) for å starte tjenesten på ny.\n5.4.3 AuthorizationAdministrationExternal.GetReportees Metoden GetReportees returnerer alle mulige avgivere for en person (identifisert med fødselsnummer) uavhengig av hvilke roller/rettigheter denne personen har for avgiveren. Dermed må det også ved bruk av denne tjenesten utføres en påfølgende autorisasjonssjekk med XACML webservice mot en lenketjeneste som rollekravene for den eksterne tjenesten kan knyttes til.\nDersom tjenesteier ønker å la sluttbrukeren velge avgiver i egen tjeneste som standard, kan applikasjonen som driver ekstern tjeneste oppnå dette ved å bruke denne metoden.\nDa må tjenesteeier gjøre følgende:\n Opprette lenketjeneste i Altinn og knytte den til en Altinn rolle. Dette gjør at roller/rettigheter for tjenesten kan delegeres i Altinns rolledelegeringside.\n Implementere valg av avgiver i egen portal og bruke GetReportees til å få liste over mulige avgivere fra Altinn.\n Implementere bruk av AuthorizeAccessExternal til å sjekke at brukeren har rettighet på tjenesten til til tjenesteier for valgt avgiver.\n  Da trenger ikke sluttbrukerne å gå innom Altinn for å bruke tjenesten. Men delegering av roller og rettigheter til tjenesten må fremdeles gjøres i Altinn.\nDersom tjenesteeier ikke ønsker å benytte valg av avgiver i Altinn kan de heller ikke benytte følgende servicekontroller på tjenesten:\n Kontroll av korrekt avgivertype (person, bedrift, juridisk enhet etc) Kontroll av at avgiver er 18. år Kontroll av at pålogget bruker har registrert epost i sin profil.  Tabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     userSSN Fødselsnummeret til brukeren det skal hentes avgivere for – pålagt parameter.   retrieveInActiveReportee Flagg for å sette om også inaktive avgivere skal returneres, standard False – valgfri parameter.   RetrieveSubEnitiy Flagg for å sette om også underenheter skal returneres, standard False – valgfri parameter.   maximumReporteeCount Verdi for maksimum antall avgivere som skal returneres, standard satt til alle – valgfri parameter.   Returverdi    ExternalReporteeBEList Liste med ExternalReporteeBE-objekter   Name Avgivers navn   OrganizationNumber Organisasjonsnummer for denne avgiveren hvis dette er en organisasjon   SSN Fødselsnummer for denne avgiveren hvis dette er en person   ReporteeType Typebeskrivelse for hvilken type avgiver dette er: None, Person, Organization, eller SelfIdentified (ikke et praktisk mulig scenario i denne sammenhengen)    Eksempel Request/Response GetReportees Request\n\u0026lt;soap:Envelope xmlns:soap=\u0026quot;http://www.w3.org/2003/05/soap-envelope\u0026quot; xmlns:ns=\u0026quot;http://www.altinn.no/services/Authorization/Administration/2010/10\u0026quot;\u0026gt; \u0026lt;soap:Header/\u0026gt; \u0026lt;soap:Body\u0026gt; \u0026lt;ns:GetReportees\u0026gt; \u0026lt;ns:userSSN\u0026gt;05116602352\u0026lt;/ns:userSSN\u0026gt; \u0026lt;!--Optional:--\u0026gt; \u0026lt;ns:retrieveInActiveReportee\u0026gt;false\u0026lt;/ns:retrieveInActiveReportee\u0026gt; \u0026lt;!--Optional:--\u0026gt; \u0026lt;ns:retrieveSubEnitiy\u0026gt;true\u0026lt;/ns:retrieveSubEnitiy\u0026gt; \u0026lt;!--Optional:--\u0026gt; \u0026lt;ns:maximumReporteeCount\u0026gt;10\u0026lt;/ns:maximumReporteeCount\u0026gt; \u0026lt;/ns:GetReportees\u0026gt; \u0026lt;/soap:Body\u0026gt; \u0026lt;/soap:Envelope\u0026gt;  GetReportees Response\n\u0026lt;s:Envelope xmlns:s=\u0026quot;http://www.w3.org/2003/05/soap-envelope\u0026quot; xmlns:a=\u0026quot;http://www.w3.org/2005/08/addressing\u0026quot; xmlns:u=\u0026quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\u0026quot;\u0026gt; \u0026lt;s:Header\u0026gt; \u0026lt;a:Action s:mustUnderstand=\u0026quot;1\u0026quot;\u0026gt;http://www.altinn.no/services/Authorization/Administration/2010/10/IAuthorizationAdministrationExternal/GetReporteesResponse\u0026lt;/a:Action\u0026gt; \u0026lt;o:Security s:mustUnderstand=\u0026quot;1\u0026quot; xmlns:o=\u0026quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\u0026quot;\u0026gt; \u0026lt;u:Timestamp u:Id=\u0026quot;_0\u0026quot;\u0026gt; \u0026lt;u:Created\u0026gt;2012-11-29T09:06:49.796Z\u0026lt;/u:Created\u0026gt; \u0026lt;u:Expires\u0026gt;2012-11-29T09:11:49.796Z\u0026lt;/u:Expires\u0026gt; \u0026lt;/u:Timestamp\u0026gt; \u0026lt;/o:Security\u0026gt; \u0026lt;/s:Header\u0026gt; \u0026lt;s:Body\u0026gt; \u0026lt;GetReporteesResponse xmlns=\u0026quot;http://www.altinn.no/services/Authorization/Administration/2010/10\u0026quot;\u0026gt; \u0026lt;GetReporteesResult xmlns:b=\u0026quot;http://schemas.altinn.no/services/Authorization/Administration/2012/11\u0026quot; xmlns:i=\u0026quot;http://www.w3.org/2001/XMLSchema-instance\u0026quot;\u0026gt; \u0026lt;b:ExternalReporteeBE\u0026gt; \u0026lt;b:Name\u0026gt;Otta Transport AS Konkursbo\u0026lt;/b:Name\u0026gt; \u0026lt;b:OrganizationNumber\u0026gt;910453092\u0026lt;/b:OrganizationNumber\u0026gt; \u0026lt;b:ReporteeType\u0026gt;Organization\u0026lt;/b:ReporteeType\u0026gt; \u0026lt;b:SSN i:nil=\u0026quot;true\u0026quot;/\u0026gt; \u0026lt;/b:ExternalReporteeBE\u0026gt; \u0026lt;b:ExternalReporteeBE\u0026gt; \u0026lt;b:Name\u0026gt;MJOSUNDET OG RYPEFJORD\u0026lt;/b:Name\u0026gt; \u0026lt;b:OrganizationNumber\u0026gt;910059106\u0026lt;/b:OrganizationNumber\u0026gt; \u0026lt;b:ReporteeType\u0026gt;Organization\u0026lt;/b:ReporteeType\u0026gt; \u0026lt;b:SSN i:nil=\u0026quot;true\u0026quot;/\u0026gt; \u0026lt;/b:ExternalReporteeBE\u0026gt; \u0026lt;b:ExternalReporteeBE\u0026gt; \u0026lt;b:Name\u0026gt;HÅKON TRANA\u0026lt;/b:Name\u0026gt; \u0026lt;b:OrganizationNumber i:nil=\u0026quot;true\u0026quot;/\u0026gt; \u0026lt;b:ReporteeType\u0026gt;Person\u0026lt;/b:ReporteeType\u0026gt; \u0026lt;b:SSN\u0026gt;05116602352\u0026lt;/b:SSN\u0026gt; \u0026lt;/b:ExternalReporteeBE\u0026gt; \u0026lt;/GetReporteesResult\u0026gt; \u0026lt;/GetReporteesResponse\u0026gt; \u0026lt;/s:Body\u0026gt; \u0026lt;/s:Envelope\u0026gt;  Feilsituasjoner Dersom sluttbrukeren (spesifisert med fødselsnummer) ikke har gitt samtykke til bruk av Altinn som privatperson eller for andre, vil GetReportees returnere en tom liste.\nDersom sluttbruker (spesifisert med fødselsnummer) ikke har gitt samtykke til å rapportere på vegne av organisasjoner eller andre personer, vil GetReportees kun returnere sluttbruker selv som mulig avgiver.\nDersom sluttbrukeren (spesifisert med fødselsnummer) ikke har gitt personlig samtykke i Altinn, vil GetReportees kun returnere organisasjoner eller andre personer som gyldige avgivere for sluttbrukeren.\nI disse tilfellene må sluttbruker informeres om dette, og gis mulighet til å logge inn i Altinn for å gi sitt samtykke.\nDersom det fødselsnummeret spesifisert er ugyldig vil Altinn returnere en Altinnfault\n6 Feilsituasjoner i produksjon Dersom det oppdages feil ved bruk av lenketjenesten, er det viktig at det indentifiseres hvor feilen ligger. Feil i forbindelse med føderering fra IDPorten skal meldes til IDPorten og ikke til Altinn.\nDersom lenken til den eksterne tjenesten i Altinn er korrekt, det ikke er feil i forbindelse med føderering fra IDPorten, og tjenesteeier er sikker på at feilen ikke ligger i egen applikasjon bør tjenesteeier kontakte ASF. Feilmelding kan da sendes til tjenesteeier@altinn.no\nFeilmeldingen må inneholde informasjon om tjenesten, tidspunkt for feilen og hvilke brukere og avgivere feilen dreier seg om. SOAP request og response for kall til Altinns autorisasjonswebservices må også vedlegges feilmeldingen.\n"
},
{
	"uri": "https://altinn.github.io/docs/guides/referanser/",
	"title": "Referanser",
	"tags": [],
	"description": "Diverse referanser og lenker.",
	"content": "Referanser til diverse filer og dokumenter:\n   Dokument Beskrivelse     Funksjonell spesifikasjon - Sluttbrukerløsningen Funksjonell beskrivelse av Sluttbrukerløsningen hvor bl.a. abonnement, preutfylling og meldinger blir beskrevet.   Implementasjonsguide for integrasjon mot Altinn.doc Dette dokumentet beskriver den overordnede arkitekturen for integrasjon mot Altinn, samt sikkerhetsmekanismer som benyttes for kommunikasjon mellom Altinn og eksterne systemer.   serviceinitiation.2010.10.xsd Meldingsbeskrivelse benyttet for innsending av preutfyllingsdata og abonnementsdata fra tjenesteeier på batchgrensesnitt.   correspondence.2010.10.xsd Meldingsbeskrivelse benyttet for innsending av meldinger fra tjenesteeier på batchgrensesnitt.   correspondence.confirmations.2010.10.xsd Meldingsbeskrivelse benyttet for innsending av meldinger fra tjenesteeier på batchgrensesnitt.   AltUt.xsd Meldingsbeskrivelse benyttet for innsending av meldinger fra tjenesteeier på gammelt format, for både batch– og tjenestegrensesnitt.   AltUtConfirmationBatch.xsd Meldingsbekreftelse benyttet for meldingsbekreftelser på gammelt format fra Altinn til tjenesteeier, batchgrensesnitt.   GovOrganReceipt.xsd Meldingsbekreftelse benyttet for meldingsbekreftelser på gammelt format fra Altinn til tjenesteeier, batchgrensesnitt.   genericbatch.2010.10.xsd Meldingsbeskrivelse benyttet for overføring av arkiverte innsendingstjenester fra Altinn til tjenesteeier   genericbatch.2013.06.xsd Oppdatert meldingsbeskrivelse benyttet for overføring av arkiverte innsendingstjenester fra Altinn til tjenesteeier. Med støtte for vedleggstypenavn (AttachmentTypeName) og sjekksum av vedlegget (Checksum)   OnlineBatchReceipt.xsd Kvittering ved online overføring av data fra Altinn til Tjenesteeier   Videreformidling av identitet_SAML 2 0.doc Beskriver hvordan tjenesteleverandører kan sette opp og konfigurere et grensesnitt mot Altinn sin løsning for videreformidling av elektronisk identitet basert på SAML 2.0 protokollen.    Lenker til diverse ressurser:\n   Beskrivelse Link     Bestillingsskjemaer https://altinn.brreg.no/sites/dokument2/Bestillingsskjema   Oppgaveregisteret - Oversikt over skjema spesifikasjoner http://w2.brreg.no/oppgaveregisteret/spesifikasjon_skjemaliste.jsp   Tjenestekatalogen https://altinn.brreg.no/sites/program/altinn%20II/Lists/Tjenestekatalog   Referanseklienter for Java og .NET https://altinn.brreg.no/sites/fagsystemer/Kokebker/Forms/AllItems.aspx?RootFolder=/sites/fagsystemer/Kokebker/Referanseklienter    "
},
{
	"uri": "https://altinn.github.io/docs/tags/",
	"title": "Tags",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "https://altinn.github.io/docs/tags/todo/",
	"title": "Todo",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "https://altinn.github.io/docs/",
	"title": "⌂",
	"tags": [],
	"description": "Åpen dokumentasjon av Altinn-plattformen.",
	"content": "  Ny dokumentasjon Vi i Altinn er i gang med å forbedre dokumentasjonen og gjøre den enklere å vedlikeholde. Vi er langt fra ferdige, men ønsker å dele så tidlig som mulig.\nDokumentasjonen består av enkel markdown på GitHub, som så blir til denne løsningen.\nØnsker du å bidra? Hver side inneholder en \u0026ldquo;\rEndre\u0026rdquo;-lenke til den tilsvarende markdown-filen i GitHub.\nAlle kan med andre ord gjøre endringer og forbedringer på egen hånd.\nDu kan også foreslå forbedringer eller påpeke bugs ved å opprette en issue.\n"
}]